<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>Dawn of Corruption</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.36.1): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url('data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=') format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0\00a0"}[data-icon-after]:after{content:"\00a0\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor:after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}@media (prefers-reduced-motion:reduce){#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay:not(.open){-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="Dawn of Corruption" startnode="2548" creator="Twine" creator-version="2.6.0" format="SugarCube" format-version="2.36.1" ifid="118862A8-E72B-4477-9D9C-1ADCDF707B6E" options="" tags="" zoom="1" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">/* twine-user-stylesheet #1: "notify.css" */
/*
    notify.min.css, by chapel; for use with notify.js
    version 1.0.0
 */
#notify {
    position : fixed;
    display : block;
    width : 26em;
    right : -30em; top : 2em;
    padding : 0.5em;
    -webkit-transition : right 0.3s;
    -moz-transition : right 0.3s;
    -o-transition : right 0.3s;
    transition : right 0.3s;
    text-align: center;
    z-index: 9999;
}
#notify.open { right : 0; }

#notify.Corrupt0
{
  border: 21px solid;
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_main_0.png) 33.33% round;
  background-color: #2E2820 !important;
}

#notify.Corrupt25
{
  border: 21px solid;
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_main_25.png) 33.33% round;
  background-color: #2C2822 !important;
}

#notify.Corrupt50
{
  border: 21px solid;
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_main_50.png) 33.33% round;
  background-color: #2A2724 !important;
}

#notify.Corrupt75
{
  border: 21px solid;
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_main_75.png) 33.33% round;
  background-color: #292725 !important;
}

#notify.Corrupt100
{
  border: 21px solid;
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_main_100.png) 33.33% round;
  background-color: #272727 !important;
}
/* twine-user-stylesheet #2: "popover.css" */
/* popover.css, by chapel; for use with popover.js; v1.0.0 */

#ui-dialog-body.popover {
    background: transparent;
    border: 0;
    padding: 0;
}

.popover #ui-dialog-titlebar {
    background: transparent;
}

.popover #ui-dialog-title {
    display: none;
}

.popover #ui-dialog-close {
    position: fixed;
    display: block;
    top: 0;
    right: 0;
    height: 3em;
}

.popover #ui-dialog-close:hover {
    background-color: transparent;
    border-color: transparent;
    color: #c22;
}

#ui-overlay.popover.opaque {
    opacity: 1;
}

#ui-overlay.popover.transparent {
    opacity: 0;
}

#ui-overlay.popover.invert {
    background-color: #f8f8f8;
}

#ui-dialog-body.popover.invert {
    color: #111;
}
/* twine-user-stylesheet #3: "speech.css" */
.say {
    border: 1px solid #eee;
    overflow: auto;
}

.say img {
    max-width: 20%;
    float: left;
    margin-right: 1em;
}

.say p:first-of-type {
    font-weight: bold;
    margin: 0.2em 0;
    border-bottom: 1px solid #eee;
}

.say p:last-of-type {
    padding: 0.5em;
    margin: 0;
}
/* twine-user-stylesheet #4: "Story Stylesheet" */
@import url(https://fonts.googleapis.com/css?family=Patua+One&display=swap);
@import url(https://fonts.googleapis.com/css?family=Georgia&display=swap);
@import url(https://fonts.googleapis.com/css?family=Helvetica&display=swap);
@import url('https://fonts.googleapis.com/css2?family=Almendra:wght@700&display=swap');
@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
@import url('https://fonts.googleapis.com/css2?family=Abel&display=swap');

@font-face {
  font-family: DarkAndBlack;
  src: url(https://sombreve.github.io/Dawn-of-Corruption-Site/Fonts/dark-and-black.otf);
}
@font-face {
  font-family: BreatheFire;
  src: url(https://sombreve.github.io/Dawn-of-Corruption-Site/Fonts/Breathe-Fire.otf);
}

@font-face {
  font-family: Dalelands;
  src: url(https://sombreve.github.io/Dawn-of-Corruption-Site/Fonts/DalelandsUncialCondensedBold-MEyv.ttf);
}

body, tw-story
{
  font-family: Georgia;
  font-size: 1.20em;
  --col-black: #111317;
  --col-gray: #282d31;
  --col-gray-lite: #727272;
  --col-positive: #33cccc;
  --col-negative: #cc3333;
  --col-button: #2e3192;
  --col-button-select: #c981fb;
  --col-gold: #514523;
  --col-gold-lite: #bf9d5d;
  --col-blue: #5e79c0;

  --font-clear: 'Abel', sans-serif;
  --font-fancy: 'Almendra', serif;

  --col-border: #101215;
  --col-soft: #c8bdb5;
  --border-gold: #ac946b #372a0b #201200 #372a0b;
  --border-corrupt: hsl(
      var(--hue)
      var(--saturation)
      calc(var(--lightness) - 0%)
      )
      hsl(
        var(--hue)
        calc(var(--saturation) - 10%)
        calc(var(--lightness) - 30%)
      )
      hsl(
        var(--hue)
        calc(var(--saturation) - 20%)
        calc(var(--lightness) - 50%)
      );

  --img-ability_menu: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ability_menu.svg);
  --fx-overshoot: cubic-bezier(.4,.02,.07,1.64);
  color: var(--col-soft);
}

progress[value]::-webkit-progress-bar
{
background: rgba(0, 0, 0, 0);
}

.steamOverlayCanvasFix {
  position: fixed;
  top: 0px;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  opacity: 0.01;
  pointer-events: none;
  z-index: -1;
}

.numberTest
{
  font-family: 'Dalelands';
}

#fightDraw
{
  height: 0px;
  float: right;
  visibility: hidden;
}

#fightLoss
{
  height: 0px;
  float: right;
  visibility: hidden;
}

#fightWin
{
  height: 0px;
  float: right;
  visibility: hidden;
}

#ui-dialog {
	max-width: none;
}

img {
  max-width: 100%;
  height: auto;
}

hr
{
    margin: 0;
}

a
{
  color: #89abff;
}

.interal-button
{
  display: inline-block;
  width: 40%;
  min-width: max-content;
  color:  #89abff;
  background: var(--col-button);
  /* border: 4px solid var(--col-gold);
  border-color: var(--border-gold);
  border-width: 4px 4px 4px 0; */
  padding: 0 .5em 0 3rem;
  margin: .2em 0;
  box-shadow: inset 0 5px 15px rgba(0,0,0,.3);
  clip-path: polygon(0 0, 100% 0%, 100% 100%, 1.5em 100%);
}
 /* Passage Links */
#passages a.link-internal[data-passage]:not(.FightSkillCard) {
  display: inline-block;
  width: 40%;
  min-width: max-content;
  color: var(--col-soft);
  background: var(--col-button);
  /* border: 4px solid var(--col-gold);
  border-color: var(--border-gold);
  border-width: 4px 4px 4px 0; */
  padding: 0 .5em 0 3rem;
  margin: .2em 0;
  box-shadow: inset 0 5px 15px rgba(0,0,0,.3);
  clip-path: polygon(0 0, 100% 0%, 100% 100%, 1.5em 100%);
  white-space: nowrap;
}

#passages a.link-internal[data-passage]:not(.FightSkillCard):hover {
  background: var(--col-button-select);
  color: var(--col-black);
  text-decoration: none;
}
#passages a.link-internal[data-passage]:not(.FightSkillCard):active {
  background: white;
}

#passages a.link-internal:is([data-passage="Name Setup"], [data-passage="CreditsMainMenu"]) {
  clip-path: unset !important;
  padding: 0 .5em !important;
}

#passages a.link-internal[data-passage]:inactive {
  pointer-events: none;
  cursor: default;
  opacity: .35;
}

.FightSkillCardHighlight
{
  width: 205px;
  height: 295px;
  padding-left: 7px;
  display: inline-block;
}

.FightSkillCardHighlight.selected
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_selected.png);
}

.FullCard {
  height: 280px;
  width: 196px;
  float: left;
}

.FightSkillCard
{
  display:inline-block;
  width: 175px;
  height: 260px;
  margin-top: 10px;
  margin-right: 5px;
  vertical-align: top;
  resize: vertical;
  text-shadow: -1px 0 9px black, 0 1px 4px black, 1px 0 6px black, 0 -1px 6px black;
  cursor: pointer;
  &.moveset
  {
    display: inline-block;
    width: 176px;
    height: 273px;
    margin-top: 10px;
    margin-right: 5px;
    vertical-align: top;
    resize: vertical;
    padding-left: 15px;
    padding-top: 10px;
    text-shadow: -1px 0 9px black, 0 1px 4px black, 1px 0 6px black, 0 -1px 6px black;
  }
}

.MovesetButton
{
  width: 100%;
}

.FightSkillCard a
{
  color: #DFDFDF
}

.FightSkillCard a:hover
{
  color: #8af;
  text-decoration: none;
}

.FightSkillCardStaminaCost
{
  position: absolute;
  width: 43px;
  height: 43px;
  margin-top: -10px;
  margin-left: -15px;
  text-align: center;
  padding-top: 1.5px;
}

.FightSkillCardStaminaCost.Corrupt0
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stamina_0.png);
}

.FightSkillCardStaminaCost.Corrupt25
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stamina_25.png);
}

.FightSkillCardStaminaCost.Corrupt50
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stamina_50.png);
}

.FightSkillCardStaminaCost.Corrupt75
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stamina_75.png);
}

.FightSkillCardStaminaCost.Corrupt100
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stamina_100.png);
}

.FightSkillCardCooldown
{
  width: 43px;
  height: 43px;
  float: left;
  text-align: center;
  margin-left: 21px;
}

.FightSkillCardCooldown.Corrupt0
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_cooldown_0.png);
}

.FightSkillCardCooldown.Corrupt25
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_cooldown_25.png);
}

.FightSkillCardCooldown.Corrupt50
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_cooldown_50.png);
}

.FightSkillCardCooldown.Corrupt75
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_cooldown_75.png);
}

.FightSkillCardCooldown.Corrupt100
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_cooldown_100.png);
}

.FightSkillCardAttackDamage
{
  width: 43px;
  height: 43px;
  float: left;
  text-align: center;
}

.FightSkillCardAttackDamage.Corrupt0
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_damage_0.png);
}

.FightSkillCardAttackDamage.Corrupt25
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_damage_25.png);
}

.FightSkillCardAttackDamage.Corrupt50
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_damage_50.png);
}

.FightSkillCardAttackDamage.Corrupt75
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_damage_75.png);
}

.FightSkillCardAttackDamage.Corrupt100
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_damage_100.png);
}

.FightSkillCardCritChance
{
  width: 43px;
  height: 43px;
  float: left;
  margin-right: 21px;
  text-align: center;
}

.FightSkillCardCritChance.Corrupt0
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_crit_0.png);
}

.FightSkillCardCritChance.Corrupt25
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_crit_25.png);
}

.FightSkillCardCritChance.Corrupt50
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_crit_50.png);
}

.FightSkillCardCritChance.Corrupt75
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_crit_75.png);
}

.FightSkillCardCritChance.Corrupt100
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_crit_100.png);
}

.FightSkillCardStackCount
{
  width: 43px;
  height: 43px;
  text-align: center;
  margin-left: 127px;
}

.FightSkillCardStackCount.Corrupt0
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stack_0.png);
}

.FightSkillCardStackCount.Corrupt25
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stack_25.png);
}

.FightSkillCardStackCount.Corrupt50
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stack_50.png);
}

.FightSkillCardStackCount.Corrupt75
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stack_75.png);
}

.FightSkillCardStackCount.Corrupt100
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_stat_stack_100.png);
}

 /* Passage Links */
 #choiceWindow
{
  display: flex;
  flex-wrap: wrap;
  gap: 3rem 0.5rem;
  width: calc(100% - 450px);
  position: fixed;
  left: 20em;
  top: calc(86vh - 3em);
  z-index: 10;
}

#choiceWindow::before {
  content: '';
  position: absolute;
  inset: 0;
  left: -1rem;
  right: -1rem;
  border-radius: 20px;
}

.choiceWindowElement{
  position: relative;
  display: inline-block;
  height: 2.5em;
}

.choiceWindowElement a.link-internal[data-passage] {
  min-width: max-content;
  color: var(--col-soft);
  background: var(--col-button);
  padding: 12px 1.5em 12px 2em;
  margin: 0.2em -0.25em;
  box-shadow: inset 0 5px 15px rgb(0 0 0 / 30%);
  clip-path: polygon(0 0, calc(100% - 1.5em) 0%, 100% 100%, 1.5em 100%);
  white-space: nowrap;
}

.choiceIndex {
  position: absolute;
  top: 0;
  left: 0;
  background: var(--col-black);
  color: var(--col-soft);
  border: 6px double;
  border-color: hsl( var(--hue) var(--saturation) calc(var(--lightness) - 20%) );
  border-radius: 20px;
  width: 1.25em;
  aspect-ratio: 1;
  text-align: center;
  translate: -40% -80%;
  z-index: 2;
}

.choiceWindowElement a.link-internal[data-passage]:hover {
  background: var(--col-button-select);
  color: var(--col-black);
  text-decoration: none;
}

.choiceWindowElement a.link-internal[data-passage]:active {
  background: white;
}

.backGlow {
  filter: drop-shadow(0px 0px 8px #893fa7);
}

button {
  background: var(--col-button);
  border: none;
}

.corruptText0 a
{
  color: #ffddae;
}

.corruptText25 a
{
  color: #c19788;
}

.corruptText50 a
{
  color: #c18aa9;
}

.corruptText75 a
{
  color: #b779c5;
}

.corruptText100 a
{
  color: #c76bc2;
}

.corruptText0
{
  color: #DCB580;
}

.corruptText25
{
  color: #dca896;
}

.corruptText50
{
  color: #d891b9;
}

.corruptText75
{
  color: #cb92d8;
}

.corruptText100
{
  color: #d86db3;
}

.corruptBackground0
{
  background: #ffb858 !important;
}

.corruptBackground25
{
  background: #cccccc !important;
}

.corruptBackground50
{
  background: #99C8E2 !important;
}

.corruptBackground75
{
  background: #9f70e6 !important;
}

.corruptBackground100
{
  background: #980094d9 !important;
}

.corruptBackground0 button
{
  background: #9f7f54 !important;
}

.corruptBackground25 button
{
  background: #939287 !important;
}

.corruptBackground50 button
{
  background: #304651 !important;
}

.corruptBackground75 button
{
  background: #2d1c47 !important;
}

.corruptBackground100 button
{
  background: #27000f !important;
}

/* .VersionNumber
{
  font-size: 0.7em;
  position: absolute;
  left: 226px;
  bottom: -18px;
} */

.ExitPopupButtons
{
  text-align: center;
}

.SidebarIcons
{
  flex: 1;
  background: var(--col-black);
  width: 100%;
  align-self: flex-end;
  box-shadow: inset 0 10px 25px hsl(0deg 0% 0% / 50%);
  padding: 1rem 0;
}

.sidebar-footer {
  display: flex;
  justify-content: space-around;
  font-size: .7em;
}

#splash-screen {
	position: fixed;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	z-index: 100;
	background-color: #111;
	color: #eee;
}
#splash-screen > img {
	display: block;
	position: absolute;
	left: 50%;
	top: 50%;
	transform: translateX(-50%) translateY(-50%);
}

.comboMoveName
{
  float: left;
  width: 100%;
  font-size: 15px;
  margin-left: -5px;
  margin-top: -3px;
  text-align: center;
  text-shadow: -1px 0 9px black, 0 1px 1px black, 1px 0 black, 0 -1px 1px black;

}

.comboValueElementInList
{
    background-color: #999;
    border-radius: 25px 0px 0px 25px;
    padding: 7px 15px 7px 15px;
    width: 12px;
    float: left;
    margin: 0px 1px 0px 0px;
    font-weight: bold;
    text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
}

.comboValueElementInList::before {
    content: "";
    position: absolute;
    background-color: #00000000;
    height: 47px;
    width: 25px;
    border-top-left-radius: 18px;
    border-bottom-left-radius: 18px;
    box-shadow: inset 20px 0px 0px 0px #999;
    margin-top: -7px;
    margin-left: 11px;
}

#ChangeFightSkillList
{
    padding: 1px 0px 0px 0px;
}

.comboValue
{
  float: right;
  width: 54px;
  height: 54px;
  margin-top: -15px;
  margin-right: -14px;
  text-align: center;
  padding-top: 7.5px;
  font-size: 18px;
}

.Corrupt0 {
  --hue: 40;
  --saturation: 40%;
  --lightness: 70%;
}
.Corrupt25 {
  --hue: 11;
  --saturation: 40%;
  --lightness: 70%;
}
.Corrupt50 {
  --hue: -19;
  --saturation: 40%;
  --lightness: 60%;
}
.Corrupt75 {
  --hue: 310;
  --saturation: 40%;
  --lightness: 60%;
}
.Corrupt100 {
  --hue: 295;
  --saturation: 40%;
  --lightness: 60%;
}

.comboValue.Corrupt0
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_icon_0.png);
}

.comboValue.Corrupt25
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_icon_25.png);
}

.comboValue.Corrupt50
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_icon_50.png);
}

.comboValue.Corrupt75
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_icon_75.png);
}

.comboValue.Corrupt100
{
    background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_icon_100.png);
}

.monolith
{
  font-family: BreatheFire;
  font-size: 24px;
}

#StatsWindow
{

}

.AbilityContainer
{

}

#AbilitiesWindow
{
  overflow-y: scroll;
  max-height: calc(55vh - 2em);
  min-height: 60px;
  position: relative;
  padding-right: 10px;
}

*::-webkit-scrollbar {
  background-color: var(--col-border);
  width: 8px;
  height: 8px;
  border-radius: 50px;
}

*::-webkit-scrollbar-track {
}

*::-webkit-scrollbar-thumb {
  background: rgb(255,237,208);
  background: linear-gradient(to bottom,
    rgba(255,237,208,1) 0%,
    rgba(255,255,255,1) 5px,
    rgba(193,120,81,1) 5px,
    rgba(70,34,15,1) 6%,
    rgba(137,72,36,1) 14%,
    rgb(141, 113, 66) 50%,
    rgba(108,46,22,1) 91%,
    rgba(219,170,137,1) calc(100% - 5px),
    rgba(58,39,25,1) calc(100% - 5px),
    rgba(137,72,36,1) 100%);

  border: 2px outset rgb(196,158,93);
  box-shadow: 0 .5rem 1rem black;
  /* background-color: #131412;
  border-radius: 50px; */
}

/* .Corrupt0::-webkit-scrollbar-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}

.Corrupt25::-webkit-scrollbar-thumb {
  background-color: #826536;
  border: 3px solid #59342E;
}
.Corrupt50::-webkit-scrollbar-thumb {
  background-color: #754b63;
  border: 3px solid #5A2A37;
}
.Corrupt75::-webkit-scrollbar-thumb {
  background-color: #6b3a77;
  border: 3px solid #5A2140;
}
.Corrupt100::-webkit-scrollbar-thumb {
  background-color: #6d427a;
  border: 3px solid #60298c;
} */

.chart-horizontal {
  margin: 0;
  padding: 0;
  list-style: none;
  overflow: hidden;
}

.chart-horizontal::after {
  clear: both;
  content: "";
  display: block;
}

.chart-horizontal .chart-bar {
  -webkit-animation: 1s animation-lightspeed-in ease forwards;
          animation: 1s animation-lightspeed-in ease forwards;
  height: 20px;
  opacity: 0;
  overflow: hidden;
}

.chart-horizontal .chart-bar:nth-of-type(10) {
  -webkit-animation-delay: 2s;
          animation-delay: 2s;
}

.chart-horizontal .chart-bar:nth-of-type(9) {
  -webkit-animation-delay: 1.8s;
          animation-delay: 1.8s;
}

.chart-horizontal .chart-bar:nth-of-type(8) {
  -webkit-animation-delay: 1.6s;
          animation-delay: 1.6s;
}

.chart-horizontal .chart-bar:nth-of-type(7) {
  -webkit-animation-delay: 1.4s;
          animation-delay: 1.4s;
}

.chart-horizontal .chart-bar:nth-of-type(6) {
  -webkit-animation-delay: 1.2s;
          animation-delay: 1.2s;
}

.chart-horizontal .chart-bar:nth-of-type(5) {
  -webkit-animation-delay: 1s;
          animation-delay: 1s;
}

.chart-horizontal .chart-bar:nth-of-type(4) {
  -webkit-animation-delay: 0.8s;
          animation-delay: 0.8s;
}

.chart-horizontal .chart-bar:nth-of-type(3) {
  -webkit-animation-delay: 0.6s;
          animation-delay: 0.6s;
}

.chart-horizontal .chart-bar:nth-of-type(2) {
  -webkit-animation-delay: 0.4s;
          animation-delay: 0.4s;
}

.chart-horizontal .chart-bar:nth-of-type(1) {
  -webkit-animation-delay: 0.2s;
          animation-delay: 0.2s;
}

.chart-horizontal .chart-bar[data-skill="0"] {width: 1%;}
.chart-horizontal .chart-bar[data-skill="2"] {width: 2%;}
.chart-horizontal .chart-bar[data-skill="4"] {width: 4%;}
.chart-horizontal .chart-bar[data-skill="6"] {width: 6%;}
.chart-horizontal .chart-bar[data-skill="8"] {width: 8%;}
.chart-horizontal .chart-bar[data-skill="10"] {width: 10%;}
.chart-horizontal .chart-bar[data-skill="12"] {width: 12%;}
.chart-horizontal .chart-bar[data-skill="14"] {width: 14%;}
.chart-horizontal .chart-bar[data-skill="16"] {width: 16%;}
.chart-horizontal .chart-bar[data-skill="18"] {width: 18%;}
.chart-horizontal .chart-bar[data-skill="20"] {width: 20%;}
.chart-horizontal .chart-bar[data-skill="22"] {width: 22%;}
.chart-horizontal .chart-bar[data-skill="24"] {width: 24%;}
.chart-horizontal .chart-bar[data-skill="26"] {width: 26%;}
.chart-horizontal .chart-bar[data-skill="28"] {width: 28%;}
.chart-horizontal .chart-bar[data-skill="30"] {width: 30%;}
.chart-horizontal .chart-bar[data-skill="32"] {width: 32%;}
.chart-horizontal .chart-bar[data-skill="34"] {width: 34%;}
.chart-horizontal .chart-bar[data-skill="36"] {width: 36%;}
.chart-horizontal .chart-bar[data-skill="38"] {width: 38%;}
.chart-horizontal .chart-bar[data-skill="40"] {width: 40%;}
.chart-horizontal .chart-bar[data-skill="42"] {width: 42%;}
.chart-horizontal .chart-bar[data-skill="44"] {width: 44%;}
.chart-horizontal .chart-bar[data-skill="46"] {width: 46%;}
.chart-horizontal .chart-bar[data-skill="48"] {width: 48%;}
.chart-horizontal .chart-bar[data-skill="50"] {width: 50%;}
.chart-horizontal .chart-bar[data-skill="52"] {width: 52%;}
.chart-horizontal .chart-bar[data-skill="54"] {width: 54%;}
.chart-horizontal .chart-bar[data-skill="56"] {width: 56%;}
.chart-horizontal .chart-bar[data-skill="58"] {width: 58%;}
.chart-horizontal .chart-bar[data-skill="60"] {width: 60%;}
.chart-horizontal .chart-bar[data-skill="62"] {width: 62%;}
.chart-horizontal .chart-bar[data-skill="64"] {width: 64%;}
.chart-horizontal .chart-bar[data-skill="66"] {width: 66%;}
.chart-horizontal .chart-bar[data-skill="68"] {width: 68%;}
.chart-horizontal .chart-bar[data-skill="70"] {width: 70%;}
.chart-horizontal .chart-bar[data-skill="72"] {width: 72%;}
.chart-horizontal .chart-bar[data-skill="74"] {width: 74%;}
.chart-horizontal .chart-bar[data-skill="76"] {width: 76%;}
.chart-horizontal .chart-bar[data-skill="78"] {width: 78%;}
.chart-horizontal .chart-bar[data-skill="80"] {width: 80%;}
.chart-horizontal .chart-bar[data-skill="82"] {width: 82%;}
.chart-horizontal .chart-bar[data-skill="84"] {width: 84%;}
.chart-horizontal .chart-bar[data-skill="86"] {width: 86%;}
.chart-horizontal .chart-bar[data-skill="88"] {width: 88%;}
.chart-horizontal .chart-bar[data-skill="90"] {width: 90%;}
.chart-horizontal .chart-bar[data-skill="92"] {width: 92%;}
.chart-horizontal .chart-bar[data-skill="94"] {width: 94%;}
.chart-horizontal .chart-bar[data-skill="96"] {width: 96%;}
.chart-horizontal .chart-bar[data-skill="98"] {width: 98%;}
.chart-horizontal .chart-bar[data-skill="100"] {width: 100%;}

.stat-perturn {
  text-align: center;
  font-weight: bold;
  margin-top: -8px;
  padding: 0;
  font-size: 0.7em;
}

body
{
  display: inline-block;
  background:
    url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/Background_fog.png),
    linear-gradient(to bottom, rgba(41, 43, 47, .5), rgba(41, 43, 47, .5));
  background-blend-mode: lighten;
}

body::after {
  content: "";
  background: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/Background_fog.png);
  position: fixed;
  top: 50%;
  right: 0;
  translate: -10% -50%;
  width: 70vw;
  height: 70vw;
  border: 1em solid var(--col-border);
  rotate: 45deg;
}

#story
{
  /* background-color: #292B2F; */
  min-width: -moz-available;
  min-width: -webkit-fill-available;
  min-width: fill-available;
  height: calc(85vh - 6em);
  top: .5rem;
  bottom: 0;
  position: fixed;
  overflow-y: scroll;
  overflow-x: hidden;
  display: flex;
}
#story::before {
  content: "";
  position: fixed;
  background: linear-gradient(to bottom,
    transparent 20%,
    var(--col-black),
    transparent 80%);
  top: 3em;
  left: 18.5em;
  right: 3.5em;
  bottom: 6em;
  z-index: -1;
}

#story-title
{
	display: none;
}

#story-author
{
	display: none;
}

#menu
{
  display:none;
}

.ImageBorder
{

}

.EnemyImage
{
  position: relative;
  text-align: center;
  width: fit-content;
  margin: auto;
}

.PlaceholderHeader
{
  position: relative;
  text-align: center;
  width: fit-content;
  margin: auto;
  font-size: 0.8em;
}

.BodyVisualEnemyImage
{
  pointer-events: none;
  position: relative;
  text-align: center;
  width: fit-content;
  margin: auto;
}

.EmotePortrait
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
}

.TorgarSmallBodyHead
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: -26%;
  left: 6%;
}

.TorgarInfectedBodyHead
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: -26%;
  left: 6%;
}

.TorgarLostBodyHead
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: -26%;
  left: 6%;
}

.TorgarAscendedBodyHead
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: -26%;
  left: 6%;
}

.TorgarSmallBody1Cock
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: 16%;
  left: 8%;
}

.TorgarSmallBody2Cock
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: 21.5%;
  left: 11%;
}

.TorgarInfected2Cock
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: 8%;
  left: 7.5%;
}

.TorgarInfected3Cock
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: 6%;
  left: 8.5%;
}

.TorgarLost4Cock
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: 11%;
  left: 3.5%;
}

.TorgarAscended5Cock
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
  top: 6%;
  left: 14%;
}

.DrenthHead
{
  position: absolute;
}

.DrenthChains
{
  position: absolute;
  z-index: 2;
}

.DrenthClothes
{
  position: absolute;
}

.DrenthGold
{
  position: absolute;
}

.DrenthCock
{
  position: absolute;
}

.MinotaurHead
{
  position: absolute;
}

.MinotaurBody
{
  position: absolute;
}

.MinotaurCock
{
  position: absolute;
}

.MinotaurInfestation
{
  position: absolute;
  z-index: 10;
}

.MinotaurStripes
{
  position: absolute;
}

.AbelHead
{
  position: absolute;
}

.AbelCorruptedHead
{
  position: absolute;
  left: 12%;
  bottom: 6%;
  transform: scale(1.15);
}

.AbelCorruptedCock
{
  position: absolute;
}

.AbelStaff
{
  position: absolute;
}

.AbelVeins
{
  position: absolute;
}

.AbelCorruptedCock
{
  position: absolute;
}

.ApothusHead
{
  position: absolute;
  z-index: 1;
}

.ApothusBody
{
  position: absolute;
}

.EthrexHead
{
  position: absolute;
  z-index: 1;
}

.EthrexBody
{
  position: absolute;
}

.LostNagaHead
{
  position: absolute;
}

.LostNagaBody
{
  position: absolute;
}

.FerroHead
{
  position: absolute;
}

.FerroTentacles
{
  position: absolute;
  z-index: -1;
}

.FerroExtraArms
{
  position: absolute;
  z-index: 9;
}

.FerroNyxSpawns
{
  position: absolute;
  z-index: 10;
}

.FerroAscendedHead
{
  position: absolute;
}

.BindHead
{
  position: absolute;
}

.BindDomHead
{
  position: absolute;
  top: 2.5%;
  left: 12%;
}

.BindSubHead
{
  position: absolute;
  top: 4%;
  left: 8%;
}

.FerroBody
{
  position: absolute;
}

.FerroAscendedBody
{
  position: absolute;
}

.BindBody
{
  position: absolute;
}

.BindDomBody
{
  position: absolute;
}

.BindSubBody
{
  position: absolute;
}

.LukkaHead
{
  position: absolute;
}

.LukkaCape
{
  position: absolute;
}

.ImpSmallBodyHead
{
  position: absolute;
}

.ImpSmallBody1Cock
{
  position: absolute;
}

.ImpSmallBody2Cock
{
  position: absolute;
}

.ImpMediumBodyHead
{
  position: absolute;
  top: -16%;
}

.ImpMediumBody2Cock
{
  position: absolute;
}

.ImpMediumBody3Cock
{
  position: absolute;
}

.ImpMediumBody4Cock
{
  position: absolute;
}

.ImpBigBodyHead
{
  position: absolute;
}

.ImpBigBody4Cock
{
  position: absolute;
}

.ImpBigBody5Cock
{
  position: absolute;
}

.ImpBigBody6Cock
{
  position: absolute;
}

.BodyCumClass
{
  position: absolute;
  width: calc(100%);
  height: calc(100%);
}

/*loading screen*/
#init-screen
{
  background-color: #000;
}

/*html[data-init=loading] #init-loading
{
  border:0;
  background: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/IconDiscord.png);
  animation: init-loading-spin 100s linear infinite;
  width: 512px;
  height: 512px;
}*/

#ui-sidebar-toggle
{
  pointer-events: none;
  cursor: default;
  opacity: .35;
  display: none;
}

#topBorder
{
  top: -148px;
  position: relative;
  width: 80px;
  height: 0px;
  left: 50%;
  transform: translateX(-50%);
}

#bottomBorder
{
  bottom: -68px;
  position: relative;
  width: 80px;
  height: 0px;
  left: 50%;
  transform: translateX(-50%);
  -webkit-transition: none !important;
  -moz-transition: none !important;
  -o-transition: none !important;
  transition: none !important;
}

.SidebarDivisionMid
{
  margin-left: -10px;
}

.LargeBorder
{
  outline: 4px solid var(--col-border);
  outline-offset: 1em;
}

.LargeBorder.Corrupt0
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_2_corrupt0.png) 28.625% round;
  border-image-outset: 15px
}
.LargeBorder.Corrupt25
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_2_corrupt25.png) 28.625% round;
  border-image-outset: 15px
}
.LargeBorder.Corrupt50
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_2_corrupt50.png) 28.625% round;
  border-image-outset: 15px
}
.LargeBorder.Corrupt75
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_2_corrupt75.png) 28.625% round;
  border-image-outset: 15px
}
.LargeBorder.Corrupt100
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_2_corrupt100.png) 28.625% round;
  border-image-outset: 15px
}

.ImageContainer
{

}

.FillWidth
{
  position: absolute;
  width: calc(100% - 64px);
  height: calc(100% - 64px);
  top: -5px;
  padding: 8px !important;
}

.MobileBorder
{
  border: 24px solid transparent;
  padding: 15px;
}

.MobileBorder.Corrupt0
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_0.png) 30% round;
  border-image-outset: 2px;
}
.MobileBorder.Corrupt25
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_25.png) 30% round;
  border-image-outset: 2px;
}
.MobileBorder.Corrupt50
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_50.png) 30% round;
  border-image-outset: 2px;
}
.MobileBorder.Corrupt75
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_75.png) 30% round;
  border-image-outset: 2px;
}
.MobileBorder.Corrupt100
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_100.png) 30% round;
  border-image-outset: 2px;
}

.ChoiceBorder
{
  border: 12px solid transparent;
  padding: 15px;
}

.ChoiceBorder.Corrupt0
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_0.png) 20% round;
  border-image-outset: 2px;
}
.ChoiceBorder.Corrupt25
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_25.png) 20% round;
  border-image-outset: 2px;
}
.ChoiceBorder.Corrupt50
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_50.png) 20% round;
  border-image-outset: 2px;
}
.ChoiceBorder.Corrupt75
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_75.png) 20% round;
  border-image-outset: 2px;
}
.ChoiceBorder.Corrupt100
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_100.png) 20% round;
  border-image-outset: 2px;
}

.outerComboContainer
{
    background: #151515;
}

.comboCounterContainer
{
  text-align: center;
}

.comboReadyButton
{
  display: inline-block;
  background-color: #694269;
  color: #fff;
  text-align: center;
  border-radius: 6px;
}

.captionButton
{
  cursor: pointer;
}

.picked {
  opacity: 0.65;
}

.inactive {
  pointer-events: none;
  cursor: default;
  opacity: .35;
}

.reallyInactive {
  pointer-events: none;
  cursor: default;
  opacity: .15;
}
.passage {
  padding-bottom: 5vh;
}
.passage button {
	background: #455A64;
  border-color: #BEC5D8;
}

.hidden {
  display:none;
}

.expandInfo {
  border: 2px solid #ededed;
  background-color: #464646;
  padding: 5px;
}

table.LevelUpStatTable {
  max-width: 600px;
  text-align: left;
  border-collapse: collapse;
}
table.LevelUpStatTable td, table.LevelUpStatTable th {
  border: 1px solid #AAAAAA;
  padding: 8px 4px;
  height: 50px;
}

.StatCaption
{
  margin-top: 5px;
  margin-right: 10px;
  margin-left: 0;
  resize: vertical;
  border: 32px solid transparent;
  padding: 0px;
  color: white;
}

.StatCaption.Corrupt0
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_0.png) 40% round;
  border-image-outset: 2px;
}
.StatCaption.Corrupt25
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_25.png) 40% round;
  border-image-outset: 2px;
}
.StatCaption.Corrupt50
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_50.png) 40% round;
  border-image-outset: 2px;
}
.StatCaption.Corrupt75
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_75.png) 40% round;
  border-image-outset: 2px;
}
.StatCaption.Corrupt100
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_border_small_100.png) 40% round;
  border-image-outset: 2px;
}

.ComboFightMovesContainer
{
  width: 100%;
  text-align:center;
  margin-top: 6px;
  display: flex;
  justify-content: center;
}

.SpecialFightMovesContainer
{
  width: 100%;
  text-align:center;
  margin-top: 6px;
  display: flex;
  justify-content: center;
}

.inspectWindow
{
  white-space: break-spaces;
  display: block;
  text-align: center;
}

.inspectButton
{
  display: block;
  height: 0px;
  &.teammate
  {
    height: 32px;
  }
}

.enemyInfoClass
{
  white-space: break-spaces;
  display: block;
  text-align: center;
}

.enemyInfoContainer
{
  grid-area: status;
  white-space: break-spaces;
  display: block;
  text-align: center;
}

.FightSkillsComboContainer {
  display: inline-flex;
}

.FightSkillsCombo {
  display: inline-block;
}

.FightSkillsComboAdd {
  display: inline-block;
  padding-top: 8px;
}

.ComboButtonsContainer{
  display: inline-block;
}

.BottomComboZone {
  display: inline;
}

.BottomComboContainer {
  height: 40px;
  width: 100%;
  text-align: center;
}

.MainMenu {
  text-align: center;
}

.ComboButtons button{
    background: #999999;
}

.AchievementWindowContentContainer
{
  margin-bottom: 10px;
  display: grid;
}

.AchievementWindowHeaderTitle
{
  margin: 0;
}

.AchievementWindowHeader
{
  width: 100%;
  float: left;
}

.AchievementCardsContainer
{
  width: 650px;
}

.AchievementCardsBottomText
{
  margin-top: auto;
}

.AchievementWindow
{
  text-align: center;
}

.VolumeMenuWindow
{
  text-align: center;
  padding-top: 20px;
}

.VolumeMenuTitle
{
  display: block;
  font-size: 1.7em;
  margin-inline-start: 0px;
  margin-inline-end: 0px;
  font-weight: bold;
}

.VolumeMenuSlider
{
  padding-bottom: 30px;
}

.VolumeMenu
{

}


.AbilityCategoryIconsContainerInternal
{
  display: flex;
  justify-content: space-around;
}

.AbilityCategoryIconButton
{
  position: relative;
}

/* .AbilityCategoryIconButton.Powers
{

}

.AbilityCategoryIconButton.Alteration
{
  left: 60px;
}

.AbilityCategoryIconButton.StatusEffects
{
  left: 120px;
}

.AbilityCategoryIconButton.Global
{
  left: 180px;
} */

.AchievementAbility {
  background: #000000;
  border-radius: 10px;
  margin-top: 5px;
  margin-bottom: 10px;
  text-align: center;
  width: 200px;
  margin-right: 10px;
  float: left;
}

.AchievementAbilityHeader
{
  text-transform: capitalize;
  font-size: 0.76em;
  padding-top: 5px;
}

.AchievementAbilityBody {
  background: #3a3a3a;
  border-radius: 5px;
  margin-top: 5px;
  margin-bottom: 0px;
  font-size: 15px;
  text-align: center;
  padding-left: 10px;
  padding-right: 10px;
  display: grid;
}

.AchievementAbilityBodyCompleteLock {
  align-self: center;
  background: #060606;
  border-radius: 10px;
  padding: 20px;
}

.AchievementAbilityBodyNewGameLock {
  align-self: center;
  background: #060606;
  border-radius: 10px;
  padding: 10px;
}

.AchievementAbilityBodyRow {
  align-self: center;
}

.AchievementAbilityBody.Idle {
  height: 150px;
}

.AchievementAbilityBody.Complete {
  height: 300px;
}

.AchievementAbilityBody.Activated {
  height: 300px;
}

.AchievementAbilityBodySpacer {
  margin-top: 5px;
  margin-bottom: 0px;
}

/* Tooltip container */
.PassiveAbility {
  background: rgba(20, 20, 20, .5);
  border-radius: 10px;
  font-size: 0.8em;
  cursor: pointer;
  text-align: left;
  filter: drop-shadow(2px 4px 6px #000000);
}

.PassiveAbilityHeader
{
  text-transform: capitalize;
  padding-left: 10px;
  background:
    radial-gradient(#302c2c, transparent),
    rgb(36 31 31);
  border: 2px solid rgba(50, 50, 50, .5);
  border-radius: 5px;
  margin: 2px;
  color: #bd9f89;
}

.PassiveAbilityHeader.Corrupt0
{
  color: #DCB580;
}

.PassiveAbilityHeader.Corrupt25
{
  color: #dca896;
}

.PassiveAbilityHeader.Corrupt50
{
  color: #d891b9;
}

.PassiveAbilityHeader.Corrupt75
{
  color: #cb92d8;
}

.PassiveAbilityHeader.Corrupt100
{
  color: #d86db3;
}

.levelUpCardCategory{
  text-align: center;
  border-radius: 5px;
  padding: 10px 10px 10px 10px;
}

.AbilityGradeVeryLow{
  border-color: #4646467a !important;
  background: #4646467a;
}

.AbilityGradeLow{
  border-color: #717171 !important;
  background: #717171;
}

.AbilityGradeMedium{
  border-color: #254024 !important;
  background: #254024;
}

.AbilityGradeHigh{
  border-color: #34124e !important;
  background: #34124e;
}

.AbilityGradeVeryHigh{
  border-color: #5f3d00 !important;
  background: #5f3d00;
}

.levelUpCards{
  font-size: 21px;
  text-align: left;
  border-radius: 5px;
  margin-top: 15px;
  padding: 10px 5px 5px 5px;
}

.levelUpCards p{
  text-align: left;
  background: #131412;
  padding: 10px 10px 10px 20px;
  font-size: 18px;
  border-radius: 3px;
  margin-block-start: 0em;
  margin-block-end: 0em;
  margin-inline-start: 0px;
  margin-inline-end: 0px;
}

.AbilityLevelUpCard
{
  border-radius: 20px;
  margin-top: 5px;
  margin-bottom: 10px;
  text-align: center;
  width: 300px;
  margin-right: 25px;
  float: left;
  border: 2px solid;
}

.AbilityLevelUpCardDescription
{
  border-radius: 5px;
  margin-top: 5px;
  margin-bottom: 0px;
  height: 150px;
  font-size: 15px;
  text-align: center;
  padding-left: 10px;
  padding-right: 10px;
  display: grid;
  background: #0e0e0e;
}

.AbilityLevelUpCardHeader
{
  text-transform: capitalize;
  font-size: 0.9em;
  padding-top: 5px;
  background: #0a0a0a;
  border-radius: 5px;
}

.AbilityLevelUpCardBody
{

}

/* Tooltip text */
.PassiveAbilityBody {
  background:
    linear-gradient(to bottom, transparent 90%, #6355684a 100%),
    linear-gradient(339deg, #312b34, #473b4c4a, transparent 30%),
    linear-gradient(18deg, #312b34, #473b4c4a, transparent 30%),
    #131412;
  border-radius: 5px;
  margin-top: 5px;
  margin-bottom: 0px;
  text-align: left;
  font-size: 15px;
  padding-left: 20px;
  padding-bottom: 5px;
  cursor: default;
}

#StatModifierPositive
{
  text-shadow: 1px 2px 5px var(--col-positive)
}

#StatModifierNegative
{
  text-shadow: 1px 2px 5px var(--col-negative)
}

.turnHeaderText
{
  width: 100%;
  text-align: center;
}

.AttackAttemptContainer
{
  float: left;
  width: 100%;
  margin-bottom: 50px;
  text-align: center;
}

.attackAttemptDesc
{
}

.FightSkillCardContainer
{
  float: left;
  width: 100%;
}


#passages
{
  max-width: 54em;
  padding: 1rem;
  margin: auto;
}

.FightSkillActionCosts
{
  width: 100%;
  height: 50px;
  display: flex;
}

.FightSkillActionCostsFirstLink
{
  width: 33px;
  height: 33px;
  margin-left: 2px;
  margin-right: -17px;
  float: left;
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_chain_left.png);
}

.FightSkillActionCostsNumberInCombo
{
  position: absolute;
  float: left;
  margin-left: 13px;
  margin-top: -20px;
}

.FightSkillActionCostsNumberInComboContainer
{
  position: relative;
  float: left;
}

.FightSkillActionCostsNumber
{
  float: left;
  margin-top: -2px;
}

.FightSkillActionCostsMiddleLink
{
  width: 33px;
  height: 33px;
  margin-right: -17px;
  float: left;
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_chain_middle.png);
}

.FightSkillActionCostsLastLink
{
  width: 33px;
  height: 33px;
  float: left;
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_chain_right.png);
}

.UIActionCostsFirstLink
{
  width: 54px;
  height: 54px;
  margin-right: -27px;
  float: left;
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_0_left.png);
}

.UIActionCostsFirstLink.Alt
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_1_left.png);
}

.UIActionCostsFirstLink.Grayed
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_slot_left.png);
}

.UIActionCostsLastLink
{
  width: 54px;
  height: 54px;
  float: left;
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_0_right.png);
}

.UIActionCostsLastLink.Alt
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_1_right.png);
}

.UIActionCostsLastLink.Grayed
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_slot_right.png);
}

.UIActionCostsMiddleLink
{
  width: 54px;
  height: 54px;
  margin-right: -27px;
  float: left;
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_0_middle.png);
}

.UIActionCostsMiddleLink.Alt
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_1_middle.png);
}

.UIActionCostsMiddleLink.Grayed
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/ui_chain_slot_middle.png);
}

.FightSkillHeaderStatIconRow
{
  position: absolute;
  margin-top: 61px;
}

#FightSkillHeader {
  height: 115px;
  font-size: 20px;
  background-position: center;
}

#FightSkillHeader.offensive
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_symbol_offensive.png);
}

#FightSkillHeader.demon
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_symbol_offensive_demon.png);
}

#FightSkillHeader.special
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_symbol_pacific.png);
}

#FightSkillHeader.symbiote
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_symbol_offensive_symbiote.png);
}

#FightSkillHeader.buff
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_symbol_buff.png);
}

#FightSkillHeader.sigil
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_symbol_sigil.png);
}

#FightSkillBody {
  margin-top: 5px;
  margin-bottom: 0px;
  font-size: 14px;
  line-height: 19px;
  text-align: left;
  padding-left: 2px;
  padding-top: 29px;
  margin-left: 5px;
  margin-right: 14px;
  height: 80px;
}

.tooltipContainer {
  position: absolute;
}

.tooltip {
  position: static;
  display: inline-block;
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: max-content;
  max-width: 50ch;
  white-space: break-spaces;
  background-color: var(--col-button);
  color: var(--col-soft);
  text-align: center;
  border-radius: 6px;
  padding: 1em;
  position: absolute;
  z-index: 9999;
  bottom: 125%;
  left: 0%;
  opacity: 0;
  transition: opacity 0.3s;
  font-size: 13px;
  font-weight: normal;
  letter-spacing: normal;
  font-family: Georgia;
  text-shadow: none;
  translate: calc(-50% - 1ch) 0;
  pointer-events: none;
}

.tooltip .tooltiptext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: var(--col-button) transparent transparent transparent;
  z-index: 9999;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}

.tooltipskill {
  position: relative;
  display: inline-block;
  border-bottom: 1px dotted black;
}

.tooltipskill .tooltipskilltext {
  visibility: hidden;
  width: 250px;
  background-color: #555;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px 0;
  position: absolute;
  z-index: 9999;
  bottom: 100%;
  left: 36%;
  margin-left: -90px;
  opacity: 0;
  transition: opacity 0.3s;
  font-size: 13px;
  pointer-events: none;
}

.tooltipskill .tooltipskilltext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #555 transparent transparent transparent;
}

.tooltipskill:hover .tooltipskilltext {
  visibility: visible;
  opacity: 1;
}

.glitch {
  position: relative;
  margin: 0 auto;
  background: #292B2F;
  white-space: nowrap;
  color: #87CEFA;
}

.glitch::before,
.glitch::after {
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
  -webkit-animation-timing-function: linear;
          animation-timing-function: linear;
  animation-direction: alternate-reverse;
  overflow: hidden;
  position: absolute;
  clip: rect(0, 9999px, 0, 0);
  content: attr(data-text);
}

.glitch::after {
  -webkit-animation-name: glitch-animation;
          animation-name: glitch-animation;
  -webkit-animation-duration: 4s;
          animation-duration: 4s;
  left: 2px;
  top: -8px;
  text-shadow: 2px 2px 4px #000000;
  background: #292B2F;
}

.glitch::before {
  -webkit-animation-name: glitch-animation-2;
          animation-name: glitch-animation-2;
  -webkit-animation-duration: 6s;
          animation-duration: 6s;
  left: -2px;
  top: -8px;
  text-shadow: 2px 2px 4px #000000;
  background: #292B2F;
}

.glitch.nyx {
  color: unset;
}

.glitch.nyx::after {
  color: #cb92d8;
}

.glitch.nyx::before {
  color: #af2fb7;
}

.glitch.nyx.fucked {
  color: unset;
}

.glitch.nyx.fucked::after {
  animation-duration: 5s;
  font-weight: bold;
  color: #cb92d8;
}

.glitch.nyx.fucked::before {
  animation-duration: 3s;
  font-weight: bold;
  color: #af2fb7;
}

/* Expanded Animations */
@-webkit-keyframes glitch-animation {
  0% {
    clip: rect(42px, 9999px, 44px, 0);
  }
  5% {
    clip: rect(12px, 9999px, 59px, 0);
  }
  10% {
    clip: rect(48px, 9999px, 29px, 0);
  }
  15.0% {
    clip: rect(42px, 9999px, 73px, 0);
  }
  20% {
    clip: rect(63px, 9999px, 27px, 0);
  }
  25% {
    clip: rect(34px, 9999px, 55px, 0);
  }
  30.0% {
    clip: rect(86px, 9999px, 73px, 0);
  }
  35% {
    clip: rect(20px, 9999px, 20px, 0);
  }
  40% {
    clip: rect(26px, 9999px, 60px, 0);
  }
  45% {
    clip: rect(25px, 9999px, 66px, 0);
  }
  50% {
    clip: rect(57px, 9999px, 98px, 0);
  }
  55.0% {
    clip: rect(5px, 9999px, 46px, 0);
  }
  60.0% {
    clip: rect(82px, 9999px, 31px, 0);
  }
  65% {
    clip: rect(54px, 9999px, 27px, 0);
  }
  70% {
    clip: rect(28px, 9999px, 99px, 0);
  }
  75% {
    clip: rect(45px, 9999px, 69px, 0);
  }
  80% {
    clip: rect(23px, 9999px, 85px, 0);
  }
  85.0% {
    clip: rect(54px, 9999px, 84px, 0);
  }
  90% {
    clip: rect(45px, 9999px, 47px, 0);
  }
  95% {
    clip: rect(37px, 9999px, 20px, 0);
  }
  100% {
    clip: rect(4px, 9999px, 91px, 0);
  }
}
@keyframes glitch-animation {
  0% {
    clip: rect(42px, 9999px, 44px, 0);
  }
  5% {
    clip: rect(12px, 9999px, 59px, 0);
  }
  10% {
    clip: rect(48px, 9999px, 29px, 0);
  }
  15.0% {
    clip: rect(42px, 9999px, 73px, 0);
  }
  20% {
    clip: rect(63px, 9999px, 27px, 0);
  }
  25% {
    clip: rect(34px, 9999px, 55px, 0);
  }
  30.0% {
    clip: rect(86px, 9999px, 73px, 0);
  }
  35% {
    clip: rect(20px, 9999px, 20px, 0);
  }
  40% {
    clip: rect(26px, 9999px, 60px, 0);
  }
  45% {
    clip: rect(25px, 9999px, 66px, 0);
  }
  50% {
    clip: rect(57px, 9999px, 98px, 0);
  }
  55.0% {
    clip: rect(5px, 9999px, 46px, 0);
  }
  60.0% {
    clip: rect(82px, 9999px, 31px, 0);
  }
  65% {
    clip: rect(54px, 9999px, 27px, 0);
  }
  70% {
    clip: rect(28px, 9999px, 99px, 0);
  }
  75% {
    clip: rect(45px, 9999px, 69px, 0);
  }
  80% {
    clip: rect(23px, 9999px, 85px, 0);
  }
  85.0% {
    clip: rect(54px, 9999px, 84px, 0);
  }
  90% {
    clip: rect(45px, 9999px, 47px, 0);
  }
  95% {
    clip: rect(37px, 9999px, 20px, 0);
  }
  100% {
    clip: rect(4px, 9999px, 91px, 0);
  }
}
@-webkit-keyframes glitch-animation-2 {
  0% {
    clip: rect(65px, 9999px, 100px, 0);
  }
  5% {
    clip: rect(52px, 9999px, 74px, 0);
  }
  10% {
    clip: rect(79px, 9999px, 85px, 0);
  }
  15.0% {
    clip: rect(75px, 9999px, 5px, 0);
  }
  20% {
    clip: rect(67px, 9999px, 61px, 0);
  }
  25% {
    clip: rect(14px, 9999px, 79px, 0);
  }
  30.0% {
    clip: rect(1px, 9999px, 66px, 0);
  }
  35% {
    clip: rect(86px, 9999px, 30px, 0);
  }
  40% {
    clip: rect(23px, 9999px, 98px, 0);
  }
  45% {
    clip: rect(85px, 9999px, 72px, 0);
  }
  50% {
    clip: rect(71px, 9999px, 75px, 0);
  }
  55.0% {
    clip: rect(2px, 9999px, 48px, 0);
  }
  60.0% {
    clip: rect(30px, 9999px, 16px, 0);
  }
  65% {
    clip: rect(59px, 9999px, 50px, 0);
  }
  70% {
    clip: rect(41px, 9999px, 62px, 0);
  }
  75% {
    clip: rect(2px, 9999px, 82px, 0);
  }
  80% {
    clip: rect(47px, 9999px, 73px, 0);
  }
  85.0% {
    clip: rect(3px, 9999px, 27px, 0);
  }
  90% {
    clip: rect(26px, 9999px, 55px, 0);
  }
  95% {
    clip: rect(42px, 9999px, 97px, 0);
  }
  100% {
    clip: rect(38px, 9999px, 49px, 0);
  }
}
@keyframes glitch-animation-2 {
  0% {
    clip: rect(65px, 9999px, 100px, 0);
  }
  5% {
    clip: rect(52px, 9999px, 74px, 0);
  }
  10% {
    clip: rect(79px, 9999px, 85px, 0);
  }
  15.0% {
    clip: rect(75px, 9999px, 5px, 0);
  }
  20% {
    clip: rect(67px, 9999px, 61px, 0);
  }
  25% {
    clip: rect(14px, 9999px, 79px, 0);
  }
  30.0% {
    clip: rect(1px, 9999px, 66px, 0);
  }
  35% {
    clip: rect(86px, 9999px, 30px, 0);
  }
  40% {
    clip: rect(23px, 9999px, 98px, 0);
  }
  45% {
    clip: rect(85px, 9999px, 72px, 0);
  }
  50% {
    clip: rect(71px, 9999px, 75px, 0);
  }
  55.0% {
    clip: rect(2px, 9999px, 48px, 0);
  }
  60.0% {
    clip: rect(30px, 9999px, 16px, 0);
  }
  65% {
    clip: rect(59px, 9999px, 50px, 0);
  }
  70% {
    clip: rect(41px, 9999px, 62px, 0);
  }
  75% {
    clip: rect(2px, 9999px, 82px, 0);
  }
  80% {
    clip: rect(47px, 9999px, 73px, 0);
  }
  85.0% {
    clip: rect(3px, 9999px, 27px, 0);
  }
  90% {
    clip: rect(26px, 9999px, 55px, 0);
  }
  95% {
    clip: rect(42px, 9999px, 97px, 0);
  }
  100% {
    clip: rect(38px, 9999px, 49px, 0);
  }
}

section {
  display: flex;
  flex-flow: row wrap;
  flex-direction: column;
}
section > div {
  flex: 1;
  padding: 0.5rem;
}

.AbilityLevelUpCardRadio{
  display: none;
  &:not(:disabled) ~ .AbilityLevelUpCardRadio {
    cursor: pointer;
  }
  &:disabled ~ .AbilityLevelUpCardRadio {
    color: hsla(150, 5%, 75%, 1);
    border-color: hsla(150, 5%, 75%, 1);
    box-shadow: none;
    cursor: not-allowed;
  }
}
.abilityLabel {
  height: 100%;
  display: block;
  padding: 1rem;
  border-radius: 16px;
  margin-left: -0.5px;
}
input[type="radio"]:checked + .abilityLabel {
  background: #60fbff;
  color: hsla(215, 0%, 100%, 1);
  box-shadow: 0px 0px 20px #2bfaff;
  &::after {
    color: hsla(215, 5%, 25%, 1);
    font-family: FontAwesome;
    border: 2px solid hsla(150, 75%, 45%, 1);
    content: "\f00c";
    font-size: 24px;
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    height: 50px;
    width: 50px;
    line-height: 50px;
    text-align: center;
    border-radius: 50%;
    background: white;
    box-shadow: 0px 2px 5px -2px hsla(0, 0%, 0%, 0.25);
  }
}

.link-internal[role=link]
{
  font-size: 1.05em;
}

.VolumeWarning
{
  font-size: 0.63em;
  position: absolute;
  top: 20px;
  left: 450px;
}

.bind1
{
  text-transform: uppercase;
  color: lightgreen;
}

.bind2
{
  font-size: 0.7em;
  padding-left: 15px;
  color: darkseagreen;
}

/* Set the style for the currently-selected link. */
a.gamepadSelected {
  border: 2px dotted blue;
  padding: 0px;
}

.ModifyMetabolismTable
{
  display: grid;
}

 .ModifyMetabolismElementStatName
{
  float: left;
}

.ModifyMetabolismElementStatValue
{
  padding-left: 15px !important;
  padding-right: 15px !important;
}

.ModifyMetabolismElementRight
{
  float: right;
}

.playerTimeline
{
  background-color: #0d00ff2b;
  border-radius: 10px;
}

.enemyTimeline
{
  background-color: #c100000f;
  border-radius: 10px;
}

.teammateTimeline
{
  background-color: #13a30021;
  border-radius: 10px;
}

.BaseTable
{
  display: table;
}

.BaseTable tr
{
  border-collapse: collpase;
  border-bottom: 2px solid rgb(60,60,60);
  border-top: 2px solid rgb(60,60,60);
}

.BaseTable td
{
  vertical-align: top;
}

.ModifyActiveStarTable
{
  display: grid;
}

.ModifyActiveStarElementStatName
{

}
.ModifyActiveStarElementStatType
{

}

.ModifyActiveStarElementStatValue
{

}

.ModifyActiveStarElementRight
{
  text-align: right
}
.ModifyActiveStarElementSymbolRight
{

}

.ModifyStarBonusTable
{
  display: grid;
}

.ModifyStarBonusElementStatName
{
  float: left;
}

.ModifyStarBonusElementStatValue
{
  float: left;
}

.ModifyStarBonusElementRight
{
  display: grid;
  margin: auto;
  width: 10%;
  float: center;
}

.TimelineContainer
{
  padding-bottom: 30px;
}

.CharacterSheet_Imp
{

}

.CharacterSheet_Abel
{

}

.CharacterSheet_Apothus
{

}

.CharacterSheet_Apothus_2nd_Form
{

}

.CharacterSheet_MQ002_DragonMonk
{

}

.CharacterSheet_MQ002_NyxParasite
{

}

.CharacterSheet_Torgar
{

}

.CharacterSheet_MQ002_Guard
{

}

.collapsible {
    width: 100%;
    border: none;
    background-color: var(--col-button);
    color: var(--col-soft);
    cursor: pointer;
}

.collapsible:after {
  content: '\2304'; /* Unicode character for down arrowhead (⌄) */
  font-size: 13px;
  color: white;
  float: right;
  margin-left: 5px;
}

.active:after {
  content: "\2303"; /* Unicode character for up arrowhead (⌃) */
}
/* twine-user-stylesheet #5: "1_character_float.css" */
#passages:has(div.BodyVisualEnemyImage) {
  width: 80%;
  max-width: unset;
}

.PortraitMode
{
  --temp-width: 100% !important;
  top: 0px !important;
}

.BodyVisualEnemyImage {
  float: right;
  max-width: 40vw;
  --temp-width: 30%;
  /* Default float shape */
  shape-outside: ellipse(var(--temp-width) 60%);
}
/* ☼°•.¸ Height Adjustments¸.•°☼ */
/* Kinda Short */
.BodyVisualEnemyImage.CharacterSheet_Torgar {
  position: relative;
  top: -80px;
}

/* ☼°•.¸ Width Adjustments¸.•°☼ */
/* Medium */
.BodyVisualEnemyImage.CharacterSheet_Torgar {
  --temp-width: 40%;
}
.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/sub/Bind_Sub_Base.png']){
  --temp-width: 52%;
}
.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Base.png']){
  --temp-width: 45%;
}
.BodyVisualEnemyImage.CharacterSheet_Apothus {
  --temp-width: 45%;
}
.BodyVisualEnemyImage.CharacterSheet_MQ002_NyxParasite {
  --temp-width: 50%;
}
.BodyVisualEnemyImage.CharacterSheet_Lukka {
  --temp-width: 47%;
}
.BodyVisualEnemyImage.CharacterSheet_Lost_Naga {
  --temp-width: 50%;
}
.BodyVisualEnemyImage.CharacterSheet_Lost_Prisoner {
  --temp-width: 50%;
}
.BodyVisualEnemyImage.CharacterSheet_Abel {
  --temp-width: 50%;
}
.BodyVisualEnemyImage.CharacterSheet_MQ002_Guard {
  --temp-width: 55%;
}
.BodyVisualEnemyImage.CharacterSheet_MQ002_DragonMonk {
  --temp-width: 55%;
}
/* Wide */
.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Body.png']){
  --temp-width: 70%;
}
.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Corrupted_Body.png']){
  --temp-width: 70%;
}
.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/dom/Bind_Dom_Base.png']){
  --temp-width: 70%;
}
.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Base.png']){
  --temp-width: 35%;
}

.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Medium.png']) {
  --temp-width: 40%;
}

.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Large_Imp_Body.png']) {
  shape-outside: unset;
}

.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/ErthexBase.png']) {
  --temp-width: 55%;
}

.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_M.png']) {
  --temp-width: 50%;
}

.BodyVisualEnemyImage:has(img[src='https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/large/ErthexLBase.png']) {
  --temp-width: 60%;
}
/* twine-user-stylesheet #6: "1_sidebar.css" */

#ui-bar-toggle
{
  display:none;
}

#ui-bar {
  box-sizing: border-box;
  background: 
    radial-gradient(transparent, hsla(0 0% 0% / 30%)),
    var(--col-gray);
  height: 95vh;
  top: 2rem;
  left: 2rem;
  width: 16em;
  padding: .5rem;
  border: 4px solid;
  border-color: hsl(
      var(--hue)
      var(--saturation)
      calc(var(--lightness) - 0%)
    )
    hsl(
      var(--hue)
      calc(var(--saturation) - 10%)
      calc(var(--lightness) - 30%)
    )
    hsl(
      var(--hue)
      calc(var(--saturation) - 20%)
      calc(var(--lightness) - 50%)
    );
  box-shadow: inset 0 15px 40px hsl(0deg 0% 0% / 50%);
}

#ui-bar::-webkit-scrollbar 
{ 
  width: 0 !important ;
  height: 0 !important ;
}

/* #ui-bar-body 
{ 
  overflow-x: hidden;
  -ms-overflow-style: none;
  margin: -13px -20px 0px -20px;
  padding: 0;
  height: auto;
  max-height: 99%;
} */

#ui-bar-body 
{ 
  overflow-x: hidden;
  -ms-overflow-style: none;
  padding: 0;
  height: 100%;
  margin: 0;
}

#ui-bar-body>:not(:first-child)
{
  margin-top: 0px;
}

#story-caption {
    display: flex;
    flex-direction: column;
    height: 100%;
    box-sizing: border-box;
  }

  
#ui-bar-body::-webkit-scrollbar {
  background-color: black;
  width: 8px;
  border-radius: 50px;
}

#ui-bar-body::-webkit-scrollbar-track {
}


#ui-bar-body.Corrupt0::-webkit-scrollbar-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}

#ui-bar-body.Corrupt25::-webkit-scrollbar-thumb {
  background-color: #826536;
  border: 3px solid #59342E;
}
#ui-bar-body.Corrupt50::-webkit-scrollbar-thumb {
  background-color: #754b63;
  border: 3px solid #5A2A37;
}
#ui-bar-body.Corrupt75::-webkit-scrollbar-thumb {
  background-color: #6b3a77;
  border: 3px solid #5A2140;
}
#ui-bar-body.Corrupt100::-webkit-scrollbar-thumb {
  background-color: #6d427a;
  border: 3px solid #60298c;
}
#StatsWindow {
    padding: 0.5em;
}
.stat-window-offset
{
  /*margin: auto;*/
  width: 87%;
  padding-left: 5px;
  padding-bottom: 8px;
}

.stat-container
{
  border: 1px solid;
  padding: 10px;
  border-image-width: 20px !important;
}

.stat-container.Corrupt0
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_0.png) 33.33% round;
}

.stat-container.Corrupt25
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_25.png) 33.33% round;
}

.stat-container.Corrupt50
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_50.png) 33.33% round;
}

.stat-container.Corrupt75
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_75.png) 33.33% round;
}

.stat-container.Corrupt100
{
  border-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_100.png) 33.33% round;
}

.statBarContainer
{
  margin-top: 5px;
  margin-bottom: 5px;
}

.info-column1 {
  font-weight: bold;
  text-align: left;
  float: left;
  padding-left: 10px;
  padding-top: 8px;
  font-size: 0.8em;
  font-weight: bold;
  letter-spacing: 1px;
  display: grid;
  justify-content: start;
}

.info-column2 {
  text-align: right;
  float: right;
  width: 40%;
  padding-top: 7px;
  padding-right: 16px;
  display: table-row-group;
  justify-content: end;
  font-size: 0.8em;
}

/* .volume-control-container
{
  font-size: 0.7em;
  position: absolute;
  left: -5px;
  bottom: -27px;
} */

.volumeLabel
{
  position: relative;
  top: -10px;
}

#volume-control
{
  border: 0px solid #444;
  padding-left: .6em;
}

#volume-control::-webkit-slider-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}
#volume-control::-moz-range-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}
#volume-control::-ms-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}

#volume-control.Corrupt0::-webkit-slider-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}
#volume-control.Corrupt0::-moz-range-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}
#volume-control.Corrupt0::-ms-thumb {
  background-color: #A88847;
  border: 3px solid #604427;
}

#volume-control.Corrupt25::-webkit-slider-thumb {
  background-color: #826536;
  border: 3px solid #59342E;
}
#volume-control.Corrupt25::-moz-range-thumb {
  background-color: #826536;
  border: 3px solid #59342E;
}
#volume-control.Corrupt25::-ms-thumb {
  background-color: #826536;
  border: 3px solid #59342E;
}

#volume-control.Corrupt50::-webkit-slider-thumb {
  background-color: #754b63;
  border: 3px solid #5A2A37;
}
#volume-control.Corrupt50::-moz-range-thumb {
  background-color: #754b63;
  border: 3px solid #5A2A37;
}
#volume-control.Corrupt50::-ms-thumb {
  background-color: #754b63;
  border: 3px solid #5A2A37;
}

#volume-control.Corrupt75::-webkit-slider-thumb {
  background-color: #6b3a77;
  border: 3px solid #5A2140;
}
#volume-control.Corrupt75::-moz-range-thumb {
  background-color: #6b3a77;
  border: 3px solid #5A2140;
}
#volume-control.Corrupt75::-ms-thumb {
  background-color: #6b3a77;
  border: 3px solid #5A2140;
}

#volume-control.Corrupt100::-webkit-slider-thumb {
  background-color: #6d427a;
  border: 3px solid #60298c;
}
#volume-control.Corrupt100::-moz-range-thumb {
  background-color: #6d427a;
  border: 3px solid #60298c;
}
#volume-control.Corrupt100::-ms-thumb {
  background-color: #6d427a;
  border: 3px solid #60298c;
}

#stat-container-row > img {
  position: absolute;
  top: -13px;
  left: 50%;
  transform: translateX(-50%);
}
#stat-container-row > div {
  position: relative;
  top: 5px;
}
#statButtonText {
  grid-area: stat;
}

#abilitiesButtonText {
  grid-area: abilities;
}

#stat-container-row
{
  --img-border: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_0.png);
  border: 1px solid transparent;
  border-image: var(--img-border) 33.33% round;
  border-image-width: 22px 22px 11px 22px;

  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-areas: "stat abilities";
  height: 30px;
}

#stat-container-row.Corrupt0
{
  --img-border: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_0.png);
}

#stat-container-row.Corrupt25
{
  --img-border: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_25.png);
}

#stat-container-row.Corrupt50
{
  --img-border: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_50.png);
}

#stat-container-row.Corrupt75
{
  --img-border: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_75.png);
}

#stat-container-row.Corrupt100
{
  --img-border: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_100.png);
}

.stat-container-column-active
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_selected_tab.png);
  background-position: center;
  background-repeat: no-repeat;
}

#stat-container-column1 {
  text-align: center;
  float: left;
  width: 50%;
  padding: 0px 0px 0px 0px;
  font-size: 0.8em;
}

#stat-container-column2 {
  text-align: center;
  float: right;
  padding: 0;
  width: 50%;
  font-size: 0.8em;
}

#stat-container-row:after {
  content: "";
  display: table;
  clear: both;
}

.stat-column1 {
  font-weight: bold;
  text-align: left;
  float: left;
  font-size: 0.8em;
  display: grid;
  justify-content: start;
}

.stat-column2 {
  text-align: right;
  float: right;
  padding: 0;
  font-size: 0.8em;
  width: 50%;
  display: table-row-group;
  justify-content: end;
  white-space: nowrap;
  overflow: hidden;
}

.stat-row:after {
  content: "";
  display: table;
  clear: both;
}

.ProgressBarColumn1 {
  text-align: left;
  float: left;
  width: 70%;
  font-size: 0.8em;
}

.ProgressBarColumn1 {
  text-align: left;
  float: left;
  width: 70%;
  font-size: 0.8em;
}

.ProgressBarColumn2 {
  text-align: right;
  float: left;
  width: 30%;
  font-size: 0.8em;
}

.ProgressBarRow:after {
  content: "";
  display: table;
  clear: both;
}

.cycle-column1 {
  text-align: left;
  float: left;
  width: 40%;
  padding: 10px;
  font-size: 0.8em;
}

.cycle-column2 {
  text-align: right;
  float: left;
  width: 40%;
  padding: 10px;
  font-size: 0.8em;
}

.cycle-title {
  color: #C0C0C0;
  font-weight: bold;
}

.cycle-row:after {
  content: "";
  display: table;
  clear: both;
}

@-webkit-keyframes animation-lightspeed-in {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-200%);
            transform: translateX(-200%);
  }
  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
}

@keyframes animation-lightspeed-in {
  0% {
    opacity: 0;
    -webkit-transform: translateX(-200%);
            transform: translateX(-200%);
  }
  100% {
    opacity: 1;
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
}

.PlayerDescriptor
{
  line-height: 25px;
}

.DateText
{
  font-weight: bold;
  letter-spacing: 1px;
  font-size: 0.8em;
}

.LevelText
{
  font-weight: bold;
  letter-spacing: 2px;
}

.PlayerName
{
  font-size: 1.4em;
  font-weight: bold;
  letter-spacing: 3px;
}

.PlayerRace
{
  font-weight: bold;
  letter-spacing: 2px;
}

.stat-title {
font-weight: bold;
}

.stat-value {
}

.stat-row {
  padding: 0px 0px 0px 40px;
}

.stat-row:after {
  content: "";
  display: table;
  clear: both;
}


#AbilitiesWindowContentList
{

}

.AbilityCategoryHighlight
{
  inset: 0;
  position: absolute;
  background-repeat: no-repeat;
}

.AbilityNotification
{
  display: grid;
  place-content: center;
  position: absolute;
  bottom: 1em;
  right: 0;
  pointer-events: none;

  border-radius: 100%;
  background: #000000;
  width: 1em;
  height: 1em;
  font-size: 0.8em;
  color: white;
  z-index: 9;
}

.AbilityNotificationBlip
{
  position: absolute;
  bottom: 20px;
  right: -3px;
  z-index: 10;

  border-radius: 10px;
  background: #ff0000;
  width: 5px;
  padding: 0px 1px 0px 1px;
  height: 7px;
}

.AbilityNotificationBlipContainer
{
  position: relative;
}

.AbilityHeaderNotificationBlip
{
  position: absolute;
  right: 0;
  z-index: 10;
  border-radius: 10px;
  background: #ff0000;
  width: 5px;
  padding: 0px 3px 0px 3px;
  height: 11px;
}

.AbilityCategoryHighlight.selected
{
  background-image: url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_selected.png);
  background-size: cover;
}


#LevelBarContainer {
    flex: 0 0 50px;
    width: 200px;
    position: relative;
    align-self: center;
    font-weight: bold;
    letter-spacing: 1px;
    margin: auto;
    height: 50px;
}

#LevelBarContent {
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: 6;
}

.ProgressBarContent,
#LevelBarBorder,
.ProgressBarBackground {
width: 100%;
height: 100%;
position: absolute;
}
#LevelBarBorder {
margin-top:-6px;
z-index: 10;
}

.ProgressBarContainer {
height: 54px;
width: 236px;
position: relative;
margin: 0 auto;
border: 1px;
}

.ProgressBarContent,
.ProgressBarBorder,
.ProgressBarBackground {
width: 100%;
height: 100%;
position: absolute;
z-index: 10;
}
.ProgressBarBorder {
z-index: 11;
}

.ProgressBarBackground {
z-index: 5;
}

.ProgressBarName {
position: absolute;
left: 45px;
font-size: 0.7em;
top: 4px;
}

.ProgressBarText {
position: absolute;
left: 45px;
top: 24px;
font-size: 0.65em;
font-weight: bold;
letter-spacing: 1px;
}

progress
{ 
  width: 100%;
  border: 0px solid white;
}

progress#LevelProgress {
background: rgba(0, 0, 0, 0);
vertical-align: baseline;
}

progress#LevelProgress::-webkit-progress-value {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_full.png) no-repeat border-box;
}
progress#LevelProgress::-moz-progress-bar {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_full.png) no-repeat border-box;
}

progress#HPProgress {
background: rgba(0, 0, 0, 0);
vertical-align: baseline;
height: inherit;
width: inherit;
}

progress#HPProgress::-webkit-progress-value {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_full_health.png) no-repeat border-box;
}
progress#HPProgress::-moz-progress-bar {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_full_health.png) no-repeat border-box;
}

progress#StaminaProgress {
background: rgba(0, 0, 0, 0);
vertical-align: baseline;
height: inherit;
width: inherit;
}

progress#StaminaProgress::-webkit-progress-value {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_full_stamina.png) no-repeat border-box;
}
progress#StaminaProgress::-moz-progress-bar {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_full_stamina.png) no-repeat border-box;
}

progress#ArousalProgress {
background: rgba(0, 0, 0, 0);
vertical-align: baseline;
height: inherit;
width: inherit;
}

progress#ArousalProgress::-webkit-progress-value {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_full_arousal.png) no-repeat border-box;
}

progress#ArousalProgress::-moz-progress-bar {
background: rgba(0, 0, 0, 0) url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_full_arousal.png) no-repeat border-box;
}

.info-row {
    display: flex;
    justify-content: space-between;
    line-height: normal;
}
dt {
    align-self: end;
    font-weight: bold;
    font-size: 0.8em;
}
dd {
    padding: 0;
    margin: 0 0.2em;
    color: var(--col-soft);
}
/* twine-user-stylesheet #7: "3_fight_timeline.css" */
/* Expand passage while in a fight */
#story:has(#passages .passage.fight) {
  height: calc(90vh - 6em);
  #passages {
    margin: unset;
    width: 100%;
    max-width: unset;
  }
}

.passage.fight {
  container-type: block;

  display: grid;
  gap: 1em;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  grid-template-columns: [summary] 2fr [timeline] auto [status] 1fr;
  grid-template-rows: [header] auto [report] 1fr;
  grid-template-areas: 
    ". . header"
    "report timeline status"
    "moves moves moves";
}

#playerReport, #enemyReport {
  overflow-y: scroll;
  scroll-snap-type: y proximity;
  & article {
    scroll-snap-align: start;
  }
}

#combinedReport {
  grid-area: report;
  display: flex;
  flex-direction: column;
  overflow-y: scroll;
  gap: 1em;
}

article {
  padding: 0.5em;
  /* animation: reveal-flip 0.8s ease-out; */
  border: 1px solid hsl(
    var(--hue)
    calc(var(--saturation) - 10%)
    calc(var(--lightness) - 30%)
    );
  border-width: 0 0 1px 0;
  &.recent {
    /* border-width: 0 0 1px 1px; */
  }
  &.old {
    /* mix the text color with the background color */
    color: color-mix(in lch, var(--col-soft), var(--col-black) 50%);
  }
}

@keyframes reveal-flip {
  0% {
    height: 0;
    transform: rotateX(90deg);
    opacity: 0;
  }
  100% {
    height: auto;
    transform: rotateX(0deg);
    opacity: 1;
  }
}

#timelineContainer {
  position: relative;
  grid-column: timeline;
  grid-row: report;

  display: grid;
  grid-template-columns: auto 1fr;
  /*grid-template-rows: 30cqh [timeline-start] 30cqh [timeline-end] 1fr;
   grid-template-areas: 
    "timeline label"
  ; */

  pointer-events: none; 

  #playerTimeline{
    margin-right: 10px;
  }
  #enemyTimeline{
    margin-left: 10px;
  }
  #playerTimeline .node::before {
    clip-path: polygon(50% 0%, 50% 100%, 0% 50%);
  }
  #enemyTimeline .node::before {
    clip-path: polygon(50% 0%, 50% 100%, 100% 50%);
  }

  [id$="Timeline"] {
    /* margin-top: 30vh; */
    /* margin: auto; */
    grid-row: 1;
  }

  &::before {
    position: absolute;
    margin: auto;

    background: linear-gradient(to bottom, var(--col-soft) 0%, var(--col-blue) 50%, var(--col-gold) 100%);
    outline: 1px solid var(--col-gold-lite);
    outline-offset: -5px;
    border-radius: 10px;
    height: 100%;
    width: 8px;
    left: 13.5%;
    transform: translateX(-50%);
    
    content: '';
  }
}

#movesContainer {
  position: fixed;
  display: flex;
  bottom: 0;
  transform: translate(0, 48%) scale(0.8);
  transition: all 0.2s var(--fx-overshoot);
  grid-area: moves;
  &:hover {
    transform: translate(0) scale(1);
  }
}

.ComboFightMovesContainer, .SpecialFightMovesContainer {
  display: contents;
}

#inspectEnemy {
  grid-area: header;
  position: relative; 
  height: 4em;
  background: var(--col-gray);
  border: 2px solid var(--col-gold);
  & a {
    position: absolute; 
    inset: 0;
    padding: 5px;
    font-family: var(--font-fancy);
    font-size: 1.5em;
    color: var(--col-gray-lite);
    text-transform: capitalize;
    line-height: 1;
    &:hover {
      text-decoration: unset;
    }
    & span {
      display: block;
      position: absolute;
      font-family: 'Georgia', serif;
      font-size: 1.5em;
      bottom: 0.25ch;
      right: 0.5ch;
      line-height: 1;
    }
  }
}

#inspectTeammate {
  position: relative; 
  height: 4em;
  background: var(--col-gray);
  border: 2px solid var(--col-gold);
  & a {
    position: absolute; 
    inset: 0;
    padding: 5px;
    font-family: var(--font-fancy);
    font-size: 1.5em;
    color: var(--col-gray-lite);
    text-transform: capitalize;
    line-height: 1;
    &:hover {
      text-decoration: unset;
    }
    & span {
      display: block;
      position: absolute;
      font-family: 'Georgia', serif;
      font-size: 1.5em;
      bottom: 0.25ch;
      right: 0.5ch;
      line-height: 1;
    }
  }
}

#enemyInfo {
  grid-area: status;
}

#playerTimeline .line
{
  left: 80%;
}

#enemyTimeline .line
{
  left: -90%;
}

.line {
  display: flex;
  flex-direction: column;
  justify-content: end;
  margin: auto;
  position: relative;
  height: 100%;
}

#node0 {
  /* padding-bottom: 20vh; */
}

.node {
  position: relative;
  left: 50%;
  
  width: 30px;
  
  cursor: pointer;
  pointer-events: all;
  transform: translateX(-50%);
  &:before {
    position: absolute;
    box-sizing: border-box;
    width: 30px;
    height: 20px;
    content: '';
    background: var(--col-soft);
    transform-origin: center;
  }
  &.recent::before {
    width: 35px;
    height: 25px;
    background: var(--col-gold-lite);
  }
  .popupSpan {
    width: auto;
    height: auto;
    padding: 10px;
    white-space: nowrap;
    display: inline-block;
    color: white;
    position: absolute;
    top: 20px;
    left: -50%;
    display: none;
    transition: all 0.1s ease-out;
    justify-content: normal;
    pointer-events: none;
  }
  &.nodeActive:before {
    display: block;
  }
  &.hover .popupSpan, &.nodeActive .popupSpan {
    display: block;
  }
  &.nodeActive .popupSpan {
    top: -40px;
  }
}

#chainsCount {
  width: 20%;
  min-width: 120px;
}

#mainCont {
  padding-top: 25px;
  position: relative;
  overflow-y: scroll;
  color: white;
  text-align: center;    
  white-space: break-spaces;
  transition: all 0.2s ease-out;  
}

#mainCont span {
  display: inline-block;
  width: 100%;
  height: 100%;
  top: 30%;
  transition: all 0.2s ease-out;
  &.right {
    display: none;
  }
  &.center {
    display: block;
  }
  &.left {
    display: none;
  }
}
/* twine-user-stylesheet #8: "4_dynamic_layout.css" */
body {
  --media: "desktop";
}

@media (max-width: 570px)
{
  body {
    --media: "mobile";
    background: 
      linear-gradient(to top, var(--col-black), transparent 25%),
      url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/Background_fog.png);
    background-blend-mode: multiply, normal;
    background-size: 100%, cover;
    font-size: clamp(2vw, 16px, 1.6vh);
    height: 100vh;
    width: 100vw;
  }
  body::after {
    content: none;
  }
  body::before {
    content: var(--media);
  }
  #ui-bar-body, #ui-bar {
    pointer-events: none;
    padding: 0;
  }
  #ui-bar-body {
    line-height: 1;
  }
  #ui-bar {
    top: 0;
    left: 0;
    right: 0;
    width: unset;
    height: 100%;
    background: unset;
  }
  #story-caption {
    display: grid;
    padding: 10px;
    min-height: 0;
    min-width: 0;
    grid-template-columns: 1fr auto;
    grid-template-rows: repeat(5, auto) 1fr auto auto;
    grid-template-areas: 
      "player_name date_text"
      "player_name level_bar"
      "info_row bar_container"
      "fight_stats fight_stats"
      ". ability_menu"
      "story story"
      "icon saves"
      "icon volume";
  }
  #story-caption > * {
    pointer-events: auto;
  }
  /* Filler element */
  #story-caption::before, #story-caption::after {
    content: "";
    position: absolute;
    z-index: -1;
  }
  #story-caption::before {
    height: 23vh;
    top: 0;
    left: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 6px solid var(--col-gold);
    border-color: hsl(
      var(--hue)
      var(--saturation)
      calc(var(--lightness) - 0%)
    )
    hsl(
      var(--hue)
      calc(var(--saturation) - 10%)
      calc(var(--lightness) - 30%)
    )
    hsl(
      var(--hue)
      calc(var(--saturation) - 20%)
      calc(var(--lightness) - 50%)
    );
    grid-column: 1 / -1;
    grid-row: 1 / 3;
    background: radial-gradient(transparent, hsla(0 0% 0% / 30%)), var(--col-gray);
  }
  #story-caption::after {
    height: 10vh;
    bottom: 0;
    left: 0;
    right: 0;

    grid-column: 1 / -1;
    grid-row: -3 / -1;
    background: var(--col-black);
    box-shadow: inset 0 10px 25px hsl(0deg 0% 0% / 50%);
  }
  
  #passage-fightlogic {
    height: 80%;
  }

  .fight-stat-window-offset {
    display: contents;
  }
  .info-row [class^="stat-column"] br {
    display: none;
  }

  /* Repositioning Elements */

  .DateText {
    grid-area: date_text;
    text-align: center;
  }
  #SidebarDivisionTop, .SidebarDivisionMid {
    display: none;
  }
  .PlayerDescriptor {
    grid-area: player_name;
    text-align: left;
  }
  #LevelBarContainer {
    position: relative;
    bottom: -0.5em;
    grid-area: level_bar;
  }
  .info-row {
    grid-area: info_row;
  }
  .fightStatContainer {
    grid-area: bar_container;
  }

  .stat-container {
    display: contents;
  }
  #StatsWindow {
    grid-area: fight_stats;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5em;
  }
  .stats-combat, .stats-body {
    display: flex;
  }
  .stats-combat dd {
    font-size: 2em;
    line-height: 1;
    width: max-content;
  }
  .stats-body .info-row {
    display: flex;
    flex-direction: column;
  }
  .stats-body {
    justify-content: space-between;
  }
  .stats-body dt {
    align-self: flex-start;
  }
  .stats-body dd {
    line-height: 1;
  }
  /* Saves */
  .SidebarIcons {
    position: relative;
    display: flex;
    justify-content: space-between;
    grid-area: saves;
    background: unset;
    box-shadow: unset;
    padding: 0;
  }
  .SidebarIcons > img {
    position: fixed; 
    width: 26vw;
    max-width: 12em;
    bottom: 4.5vh;
    left: 18vw;
  }
  .SidebarIcons a img {
    width: 4em;
  }
  /* Volume Control */
  .sidebar-footer {
    grid-area: volume;
    justify-content: space-between;
  }
  .sidebar-footer .VersionNumber {
    width: max-content;
  }
  .volume-control-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0;
  }
  .volume-control-container {
    position: relative;
    left: -2em;
  }
  .sidebar-footer .volumeLabel {
    top: 0;
  }
  .sidebar-footer input {
    padding: 0;
  }
  /* Story Passage */
  #story {
    margin: 0 auto;
    top: 23vh;
    right: 0.5em;
    bottom: 10vh;
    outline: none;
    height: auto;
    overflow-x: hidden;
  }
  #story::before {
    content: unset;
    /* left: 4em;
    right: 4em; */
  }
  .passage:has(#FightSkillsList) {
    padding: 0;
  }
  /* Story Choice Detector */
  #StoryContainer:has(#choiceWindow label) #story {
    bottom: 25vh;
  }
  #passages {
    margin: 0 auto;
    max-width: 80vw;
    width: 100% !important;
  }

  #choiceWindow {
    width: calc(100% - 4em);
    gap: 0 1.5em;
    top: 78vh;
    left: 2em;
  }
  #choiceWindow:has(label)::before {
    background: radial-gradient(transparent, hsla(0 0% 0% / 30%)), var(--col-gray);
    border: 2px solid var(--col-gold);
  }
  .choiceWindowElement {
    filter: drop-shadow(0 5px 5px hsl(0deg 0% 0% / 50%));
  }
  #choiceWindow a {
    padding: 5px 1.5em 5px 2em;
  }
  #choiceWindow label span {
    top: 1em;
  }

  #passages a.link-internal[data-passage]:not(.FightSkillCard) {
    margin-left: -1em;
    padding: 0 .5em 0 2em;
  }

  /* Progress Bar */
  .fightStatContainer {
    display: flex;
    justify-content: space-around;
  }
  :where(.ProgressBarContainer, :not(#LevelBarContainer) .ProgressBarContainer) * {
    all: unset;
  }
  :not(#LevelBarContent) > progress, :not(#LevelBarContainer) > .ProgressBarBackground {
    display: none;
  }
  /* Exception For Level Bar */
  :not(#LevelBarContainer) > [class^='ProgressBar'] img {
    display: none;
  }
  .ProgressBarContainer {
    height:auto;
    width:auto;
  }
  .ProgressBarContent, .ProgressBarBorder, .ProgressBarName, .ProgressBarText {
    position: static;
    width: auto;
    height: auto;
  }
  .statBarContainer .ProgressBarContainer {
    display: flex;
    flex-direction: column;
  }
  .ProgressBarText {
    font-size: 1em;
  }
  .statBarContainer {
    position: relative;
    width: 50%;
    background: radial-gradient(transparent, hsla(0 0% 0% / 30%)), var(--col-gray);
    
    padding: 0.2em 0.5em 0.4em 0.5em;
    margin: 0 5px;

    line-height: 0.8;
  }
  .stat-perturn {
    position: absolute;
    width: max-content;
    bottom: 0.4em;
    left: 50%;
    transform: translateX(-50%);
  }
  .info-container {
    padding: 0.2em 0.5em;
  }
  .info-container .info-column2 {
    padding: 0;
    padding-top: 2px;
  }
  /* Gold border */
  .statBarContainer, .info-container {
    box-sizing: border-box;
    border: 2px solid var(--col-gold);
    border-color: hsl(
      var(--hue)
      var(--saturation)
      calc(var(--lightness) - 0%)
      )
      hsl(
        var(--hue)
        calc(var(--saturation) - 10%)
        calc(var(--lightness) - 30%)
      )
      hsl(
        var(--hue)
        calc(var(--saturation) - 20%)
        calc(var(--lightness) - 50%)
      );
    border-radius: 5px;
  }
  

  dt[data-short] span {
    display: none;
  }
  dt[data-short]::after {
    content: attr(data-short);
    font-family: var(--font-clear);
  }
  /* Abilities WIndow */
  #stat-container-row-logo, #stat-container-row span  {
    display: none;
  }
  .stat-container-column-active {
    background: none;
  }
  #stat-container-row {
    all: unset;
  }
  #stat-container {
    position: fixed;
    bottom: 10vh;
  }
  #AbilitiesWindow {
    background: hsla(0, 0%, 0%, 0.5);
    display: block;
    position: fixed;
    bottom: 10vh;
    width: 85vw;
    padding: 0.5em;
    border-radius: 1em;
    backdrop-filter: blur(5px);
    transition: all 200ms ease-in-out;
    transform: translateY(0%);
    transform-origin: bottom;
  }
  #AbilitiesWindowContentList {
    display: grid;
  }
  .AbilityCategoryIconsContainer {
    grid-row: -1;
    
  }
  .stat-container-column-active {
    z-index: -1;
  }
  #AbilitiesWindow.hidden {
    pointer-events: none;
    opacity: 0;
    transform: translateY(0%) scaleY(0);
  }

  #statButtonText a::after, #abilitiesButtonText a::after {
    position: absolute;
    height: 50px;
    width: 50px;
    box-sizing: border-box;
    background: var(--col-black);
    border: 3px solid var(--col-gold);
    border-color: hsl(
      var(--hue)
      var(--saturation)
      calc(var(--lightness) - 0%)
      )
      hsl(
        var(--hue)
        calc(var(--saturation) - 10%)
        calc(var(--lightness) - 30%)
      )
      hsl(
        var(--hue)
        calc(var(--saturation) - 20%)
        calc(var(--lightness) - 50%)
      );
    content: var(--img-ability_menu);
    z-index: 10;
  }

  /* Fight Window */
  #passage-fightlogic {
    height: 55%;
    grid-template-areas:
      "report . header"
      "report timeline status"
      "moves moves moves";
    #enemyInfo {
      overflow: auto;
    }
  }
  .outerComboContainer {
    all: unset;
  }
  .FightSkillsComboContainer {
    display: flex;
    flex-direction: column;
  }
  #inspectEnemy {
    font-size: 0.8em;
  }
  #movesContainer {
    position: fixed; 
    bottom: 10vh;
    text-align:center;
    mask-image: linear-gradient(to right, transparent 1em, black 2em, black calc(100% - 2em), transparent calc(100% - 1em));
    -webkit-mask-image: linear-gradient(to right, transparent 1em, black 2em, black calc(100% - 2em), transparent calc(100% - 1em));
    box-sizing: border-box;
    padding: 0 3em;
    width: 85vw;
    overflow-x: scroll;
    overflow-y: hidden;
    transform: unset;
  }

  #timelineContainer {
    display: none;
  }

  /* Card Container */
  .FightSkillCardHighlight, span.tooltipskill:has(.FightSkillCardHighlight) {
    position: relative;
  }

  .FullCard {
    transform-origin: bottom;
    margin: 0 -5%;
  }

  span.tooltipskill .FightSkillCardHighlight {
    margin: 0;
  }

}
/* twine-user-stylesheet #9: "typedjs-integration-module.css" */
/* Typed.js text (and cursor) styling. */
.typed, .typed-cursor {
	font-family: monospace, monospace;
	color: lime;
}

/* Typed.js animated cursor styling. */
@-webkit-keyframes blink {
	0% { opacity: 1; }
	50% { opacity: 0; }
	100% { opacity: 1; }
}
@-moz-keyframes blink {
	0% { opacity: 1; }
	50% { opacity: 0; }
	100% { opacity: 1; }
}
@keyframes blink {
	0% { opacity: 1; }
	50% { opacity: 0; }
	100% { opacity: 1; }
}
.typed-cursor {
	opacity: 1;
	-webkit-animation: blink 0.7s infinite;
	-moz-animation: blink 0.7s infinite;
	animation: blink 0.7s infinite;
}
</style><script role="script" id="twine-user-script" type="text/twine-javascript">/* twine-user-script #1: "Abilities.js" */
class AbilityBase {
    id = "";

    _nameFunction = function () {
        return LNG.LocaleCap(`${this.id}_Name`);
    };

    get name()
    {
        return this._nameFunction();
    };

    rank = 0;
    maxRank = 999;

    unlockableFromLevelScreen = false;
    isGlobalAbility = false;
    isAchievement = false;

    startBehaviourInstructions = [];
    updateBehaviourInstructions = [];
    endBehaviourInstructions = [];
    removeBehaviourInstructions = [];

    category = setup.AbilityCategory.NONE;
    filter = setup.AbilityFilter.POWER;
    grade = setup.AbilityGrade.MEDIUM;

    // Exclusive upgrades--removes previous abilities
    // on acquire
    upgradeExclusive = true;
    upgradeDescription = "";
    nextAbilityID = undefined;
    upgradeConditionFunction = function()
    {
        return false;
    };

    // Visual sort key within a category.
    // Greater number is higher priority
    sortRank = 0;

    // Assign to player on game start (often so it can be activated later)
    // Global ability is assigned to ALL characters
    assignToPlayer = false;

    // Class function -- sort
    static sort = function(a,b)
    {
        // Sort priority
        if (a.sortRank != b.sortRank)
        {
            return b.sortRank - a.sortRank ;
        }
        else
        {
            // Resort to (current) alphabetical
            if (a.name < b.name)
            {
                return -1;
            }
            if (a.name > b.name)
            {
                return 1;
            }
        }
        return 0;
    }

    constructor(id, param)
    {
        // Cache self
        let self = this;
        self.id = id;

        // TODO: This is a temporary workaround until all abilities have been updated
        // Remove when those are gone
        // if (typeof param.name === 'string' || param.name instanceof String)
        // {
        //     LNG.en.l10nStrings[`${self.id}_Name`] = param.name;
        //     delete param.name;
        // }

        // TODO CONFLICT IN BASEID
        // When an Ability and an Achievement have the same suffix.
        // Why do we want BaseID?  What is its purpose?

        // let idRegex = /([^_]*)_(.*)/;
        // let match = id.match(idRegex);
        // if(match[2] != undefined)
        // {
        //     self.baseID = match[2];
        // }
        // else
        // {
        //     self.baseID = match[0];
        // }

        self.baseID = id;

        if(setup.AbilityIndexCache[self.id] == undefined)
        {
            console.log("adding cache " + self.id)
            setup.AbilityIndexCache[self.id] = setup.AbilityIDCache.length;
            setup.AbilityIDCache.push(self.id);
        }

        // Add in the unlockables
        if(param.unlockableFromLevelScreen)
        {
            setup.UnlockableAbilityList.push(this);
        }
        if (param.isGlobalAbility)
        {
            setup.GlobalAbilities.push(this);
        }

        // Add to the upgrade map
        if (param.nextAbilityID)
        {
            if(!setup.UpgradeAbilityMap[id]) {setup.UpgradeAbilityMap[id] = {};}
            if(!setup.UpgradeAbilityMap[param.nextAbilityIDd]) {setup.UpgradeAbilityMap[param.nextAbilityID] = {};}

            setup.UpgradeAbilityMap[id].next = param.nextAbilityID;
            setup.UpgradeAbilityMap[id].upgradeExclusive = (param.upgradeExclusive)? true : param.upgradeExclusive;
            setup.UpgradeAbilityMap[param.nextAbilityID].previous = id;
        }

        // TODO: remove this later once it's been detangled
        setup[id] = self;
    };

    description = function(character)
    {
        let args = setup.DESC.getLocaleArgs(character);
        return LNG.LocaleCap(`${this.id}_Desc`,args);
    };

    addBehaviour = function(phase, triggers, triggerFunction){
        var instruction = {};
        instruction["triggers"] = triggers;

        // Bind the provided function to the instance of the class
        // so you can use "this" safely (as much as you can in javascript)
        if (triggerFunction)
        {
            instruction["triggerFunction"]  = triggerFunction.bind(this);
        }
        switch(phase) {
            case "start":
                // Overwite the default
                if (this.startBehaviourInstructions.length == 1
                    && (this.startBehaviourInstructions[0].triggerFunction === AbilityDefaultStartBehaviour
                    || this.startBehaviourInstructions[0].triggerFunction === AchievementDefaultStartBehaviour))
                {
                    this.startBehaviourInstructions.pop();
                };
                this.startBehaviourInstructions.push(instruction);
                break;
            case "update":
                this.updateBehaviourInstructions.push(instruction);
                break;
            case "end":
                this.endBehaviourInstructions.push(instruction);
                break;
            case "remove":
                this.removeBehaviourInstructions.push(instruction);
                break;
        }
    };


    unlockCondition = function()
    {
        return false;
    };

};

class Ability extends AbilityBase {

    // Mods that rank with level. They are applied during update ON_ACQUIRE
    // {mod: setup.mod, value: 0.1, (optional) type: 'linear'}
    rankMods = undefined;
    rankModTrigger = setup.AbilityTrigger.ON_ACQUIRE;

    maxRank = 999;

    constructor(id, params)
    {
        super(id, params);
        let self = this;
        // We have to deep merge after the super, or else
        // the default values in this class override the values
        setup.deepMerge(self, params);


        /* Ensure that we always have this default start trigger */
        // NOTE: This is overwritten when you add in a new Start behaviour!
        self.addBehaviour(
            "start",
            setup.AbilityTrigger.ON_ACQUIRE,
            AbilityDefaultStartBehaviour);

        if (self.rankModTrigger > 0 && self.rankMods)
        {
            /* Add in the default "Rank mod" update, if defined */
            self.addBehaviour(
                "update",
                self.rankModTrigger,
                function(abilityRuntimeData, abilityParams)
                {
                    abilityRuntimeData.isActive = true;
                    for (const [key, def] of Object.entries(self.rankMods))
                    {
                        let growthType = (def.type) ? def.type : 'linear';
                        let offset = (def.offset) ? def.offset : 0;
                        abilityRuntimeData.modifier[key] = {
                            mod: def.mod,
                            value: offset + setup.getRankGrowth(abilityRuntimeData, growthType, def.value),
                        };
                    }
                },
            )
        };
    }
}
function AbilityDefaultStartBehaviour(abilityRuntimeData, abilityParams)
{
    abilityRuntimeData.isActive = true;
};


class AchievementAbility extends AbilityBase {

    maxRank =  1;
    isAchievement = true;
    assignToPlayer = true;

    // The starting state of this achievement
    achievementState = setup.AchievementState.IDLE;

    // Mods that are activated on NEW GAME PLUS
    // and require the achievementState to be ACTIVATED.
    achieveMods = undefined;

    constructor(id, params)
    {
        super(id, params);
        let self = this;
        // We have to deep merge after the super, or else
        // the default values in this class override the values
        setup.deepMerge(self, params);

        // Make sure the achievment defaults to OFF
        // NOTE: This is overwritten when you add in a new Start behaviour!
        self.addBehaviour(
            "start",
            setup.AbilityTrigger.ON_ACQUIRE,
            AchievementDefaultStartBehaviour);


        if (self.achieveMods)
        {
            self.addBehaviour(
                "update",
                setup.AbilityTrigger.ON_NEW_GAME_PLUS,
                function(abilityRuntimeData, abilityParams)
                {
                    if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
                    {
                        abilityRuntimeData.isActive = true;

                        for (const [key, mod] of Object.entries(self.achieveMods))
                        {
                            abilityRuntimeData.modifier[key] = mod;
                        }
                    }
                });
        }
    };

    _achievementInfoFunction = function()
    {
        return LNG.LocaleCap(`${this.id}_Info`);
    };

    get achievementInfo()
    {
        return this._achievementInfoFunction();
    };
};

function AchievementDefaultStartBehaviour(abilityRuntimeData, abilityParams)
{
    abilityRuntimeData.isActive = (abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED);
};
/* twine-user-script #2: "FightMoveEffects.js" */
/* Declare globals for Eslint */
/* global setup, State */
setup.addPersistentEffect = function(character, persistentEffect)
{
	character.fight.variables.persistentEffects.push(persistentEffect);
};

setup.removePersistentEffect = function(character, persistentEffect)
{
	character.fight.variables.persistentEffects = character.fight.variables.persistentEffects.filter(function(val) {
		if(val.id == persistentEffect.id)
		{
			return false;
		}
		return true;
	})
};

setup.triggerVictimPersistentEffects = function(attacker, victim, trigger, params)
{
	var displayString = "";
	var persistentEffects = victim.fight.variables.persistentEffects;
	for(let i = 0; i < persistentEffects.length; i++)
	{
		if(persistentEffects[i][trigger])
		{
			displayString += persistentEffects[i][trigger](attacker, victim, params) + "\n";
		}
	}

	return displayString;
};

setup.canStackPersistentEffect = function(attacker, victim, effectID, maxStack)
{
	var persistentEffects = victim.fight.variables.persistentEffects;
    var stackCount = 0;

	if(attacker.id == "CharacterSheet_Player")
	{
		if(State.variables.FightComboStackIndexes != undefined)
		{
			for(let i = 0; i < State.variables.FightComboStackIndexes.length; i++)
			{
				let fightMove = State.variables.FightSkills[State.variables.FightComboStackIndexes[i]];
				if(fightMove.persistentEffectOpponent != undefined)
				{
					if(fightMove.persistentEffectOpponent.id == effectID)
					{
						stackCount++;
					}
				}
			}
		}
	}

	for(let i = 0; i < persistentEffects.length; i++)
	{
		if(persistentEffects[i].id == effectID)
		{
			stackCount++;
		}
	}

	return stackCount < maxStack;
}

setup.displayCurrentPersistentEffects = function(character, target)
{
	var displayString = "";
	var persistentEffects = character.fight.variables.persistentEffects;
	for(let i = 0; i < persistentEffects.length; i++)
	{
		displayString += persistentEffects[i].constantDesc(character, target) +"\n";
	}

	return displayString;
};

setup.worship = function(attackerSheet, victimSheet)
{
	victimSheet.fight.variables.currentArousal += 20;

	victimSheet.fight.variables.currentArousal = Math.min(victimSheet.fight.variables.currentArousal, 100);

	return "";
};


setup.bindLossSubEffect = function()
{
	var displayString = "";
	var loss = setup.getRandomInt(12, 20);
	State.variables.Essence -= loss;

	displayString += "∇: You lose "+ loss + " Essence.\n"

	var cockGrowth = setup.getRandomInt(6, 12);
	var ballsGrowth = cockGrowth / 2;
	var muscleGrowth = setup.getRandomInt(6, 12);
	var sizeGrowth = setup.getRandomInt(15, 20);

	cockGrowth = setup.applyGrowth(State.variables.CharacterSheet_Shard_Ring, "cock", cockGrowth);
	ballsGrowth = setup.applyGrowth(State.variables.CharacterSheet_Shard_Ring, "balls", ballsGrowth);
	muscleGrowth = setup.applyGrowth(State.variables.CharacterSheet_Shard_Ring, "muscles", muscleGrowth);
	sizeGrowth = setup.applyGrowth(State.variables.CharacterSheet_Shard_Ring, "height", sizeGrowth);

	displayString += setup.growthFlavourDescriptors(State.variables.CharacterSheet_Shard_Ring, State.variables.CharacterSheet_Player, cockGrowth, ballsGrowth, muscleGrowth, sizeGrowth);

	return displayString;
};



setup.growthFlavourDescriptors = function(attackerSheet, victimSheet, cockGrowth, ballsGrowth, muscleGrowth, sizeGrowth, minimal)
{
	var His = setup.getPronoun(attackerSheet,"pronounDepPosCap");
	var his = setup.getPronoun(attackerSheet,"pronounDepPos");

	var displayString = "";

	if(attackerSheet.id == "CharacterSheet_Player")
	{
		if(muscleGrowth > 0)
		{
			displayString += setup.getMuscleGrowthSequenceText(attackerSheet, "Your", minimal);
			displayString += "\n"
		}

		if(cockGrowth > 0 && minimal != true)
		{
			displayString += setup.getFlavourBasedDescription(attackerSheet, "CockGrowthFlavourText", 1)
			displayString += "\n";
		}

        if(setup.hasLimb(attackerSheet, "cocks") && cockGrowth > 0)
        {
            displayString += "∇: Your cock has grown "+ setup.getLength(cockGrowth) + ".\n";
        }

        if(setup.hasLimb(attackerSheet, "balls") && ballsGrowth > 0)
        {
            displayString += "∇: Your balls grow by "+ setup.getLength(ballsGrowth) + ".\n";
        }

		if(sizeGrowth > 0)
		{
			displayString += "∇: Your body has become "+ setup.getLength(sizeGrowth) + " taller \n";
		}

		displayString += "You marvel at your " + setup.getLength(setup.getStatValue(attackerSheet, "height")) + " muscular frame. ";
		displayString += "Your "+ setup.getLength(setup.getStatValue(attackerSheet, "cock")) + " cock throbs with arousal."

	}
	else
	{
		if(muscleGrowth > 0)
		{
			displayString += setup.getMuscleGrowthSequenceText(attackerSheet, His)
			displayString += "\n"
		}

		if(cockGrowth > 0 && minimal != true)
		{
			displayString += setup.getFlavourBasedDescription(attackerSheet, "CockGrowthFlavourText", 1)
			displayString += "\n"
		}

        if(setup.hasLimb(attackerSheet, "cocks") && cockGrowth > 0)
        {
            displayString +=  "∇: "+his+" cock has grown by "+ setup.getLength(cockGrowth) + ".\n";
        }

        if(setup.hasLimb(attackerSheet, "balls") && ballsGrowth > 0)
        {
            displayString += "∇: "+his+" balls have grown by "+ setup.getLength(ballsGrowth) + ".\n";
        }

		if(sizeGrowth > 0)
		{
			displayString += "∇: "+his+" body becomes "+ setup.getLength(sizeGrowth) + " taller \n";
		}

		displayString += attackerSheet.info.name +" marvels at "+his+" " + setup.getLength(setup.getStatValue(attackerSheet, "height")) + " muscular frame. ";
		displayString += His+" "+ setup.getLength(setup.getStatValue(attackerSheet, "cock")) + " cock throbs with arousal."
	}
	return displayString;
};

setup.stunTarget = function(attackerSheet, victimSheet, stunDuration = 2)
{
	if(victimSheet.fight.immuneToStun)
	{
		return victimSheet.info.name+"'s body is too hardened to be stunned!";
	}
	else
	{
        setup.AbiHndlr.addAbility(victimSheet, setup.Ability.Stunned);
		return victimSheet.info.name+" struggles to move.";
	}
};
/* twine-user-script #3: "base.js" */
/* Declare globals for Eslint */
/* global setup */

/* console.error is not standard across browsers.
 * So console.log if it does not exist
 */
setup.logErr = function(e, stack)
{
	/* console.error is not standard */
	let msg = e;
	if (stack)
	{
		msg += ` | stack: ${stack}`;
	}
	(console.error || console.log).call(console, msg);
};


/* ------------Language Library------------ */

/* Adapted from https://twinery.org/questions/9/possible-to-language-switch-option-with-twine-and-sugarcube */
setup.i18n = {
    langs: {
        'en': 'English',
		'fr': 'Français',
        'es': 'Español',
    },

    labels : function () {
		return Object.keys(this.langs).map(function (label) {
			return this.langs[label];
		}, this);
	},

	codes : function () {
		return Object.keys(this.langs);
	},

    codeFromLabel : function (label) {
		var code = Object.keys(this.langs).find(function (code) {
			return this.langs[code] === label;
		}, this);

		if (!code) {
			throw new Error('unknown language code "' + label + '"');
		}

		return code;
	},

    initLanguage: function() {
        let labels = setup.i18n.labels();
        if(!labels.includes(settings.lang_label))
        {
            setup.logErr(`LANG ERROR: ${settings.lang_label} does not exist! Defaulting to English!`);
            settings.lang_label = setup.i18n.langs.en;
        }
        settings.lang = setup.i18n.codeFromLabel(settings.lang_label);
        Setting.save();

        setup.activateLng(settings.lang);
        $('html').attr('lang', settings.lang);
    },
    changeLanguage: function() {
        window.location.reload();
    }
}

Setting.addList('lang_label', {
    label    : 'Language.',
    list     : setup.i18n.labels(),
    default  : setup.i18n.langs.en,
    onInit   : setup.i18n.initLanguage,
    onChange : setup.i18n.changeLanguage
});


var LNG = {
    LIBS: ['DESC', 'PRONOUN'],
};

/* Setup the Static libraries for each code */
setup.i18n.codes().forEach( code =>
{
    LNG[code] = {
        l10nStrings:{},
    };
    LNG.LIBS.forEach( lib =>
    {
        LNG[code][lib] = {};
    });

});

/* Expose the "currently using" Library */
LNG.LIBS.forEach( lib =>
{
    setup[lib] = {};
});


/* NOTE: This function is a bit dangerous!
 * the templateString can be injected to execute code!
 * This is why this is not exposed and only uses
 * internal code!
 *
 * Use {variablename} for simple variables, and
 *  ${dict.var} for dictionaries and more .
 */
LNG.Locale = function(langKey, args={}) {

    // Flatten the dictionary values
    args = setup.flattenDict(args);
    // Get the translation
    return L10n.get(langKey, args);


    // Note: The following lets you place "${vars}"
    //      into the template string, but
    //      I actually don't see a use for it right now

    // let templateString = L10n.get(langKey, args);

    // // Turn into a template literal and execute
    // // This will fill in all dictionary vals
    // const handler = new Function('args', [
    //     'const tagged = ( ' + Object.keys(args).join(', ') + ' ) =>',
    //       '`' + templateString + '`',
    //     'return tagged(...Object.values(args))'
    //   ].join('\n'))

    // return handler(args);
}

LNG.LocaleCap = function(langKey, args={})
{
    return setup.autoCap(LNG.Locale(langKey, args));
}

setup.autoCap = function(str)
{
	var strArr = str.split(/([\.\?\!]['"]?\s)/);
	var retStr = "";
	strArr.forEach((sentence) => {
		// Capitalize the first letter of each sentence.
		var index = sentence.search(/[A-Za-z]/);
		if (index >= 0) {
			retStr += sentence.slice(0,index) + sentence.charAt(index).toUpperCase() + sentence.slice(index + 1);
		}
		else {
			retStr += sentence;
		}
	});
	return retStr;
}

/* The safer Locale function. uses {0} formatting
 */
setup.Locale = function (langKey, args) {
    return String.format(L10n.get(langKey), args);
};

/***********************************************************
    Set up a `onProcess` event listener that renders
    the appropriate language tag suffixed passage into each
    non-suffixed include passage
***********************************************************/
Config.passages.onProcess = function(passage) {
    const includeMatch = /<<include (\w+)>>/g;
    var langSuf = '_' + settings.lang;
    return passage.text.replaceAll(includeMatch, function(match, p1){
        var newPasage = p1 + langSuf;
        if (Story.has(newPasage)) {
            return "<<include " + newPasage + ">>";
        }
        else
        {
            return match;
        }
    });
}

/***********************************************************
    Set up a `:passagerender` event listener that renders
    the appropriate language tag suffixed passage into each
    non-suffixed passage.
***********************************************************/
$(document).on(':passagerender', function (ev) {
    var passage_lan = State.passage + '_' + settings.lang;
    if (Story.has(passage_lan))
    {
        $(ev.content).empty().wiki(Story.get(passage_lan).processText());
    }
});

setup.activateLng = function(code)
{
    console.log(`Enabling ${code}`);
	if(!setup.i18n.codes().includes(code))
	{
		setup.logErr(`LANG ERROR: ${code} does not exist! Defaulting to English!`);
		code = 'en';
	}

	LNG.LIBS.forEach( (lib) =>{
		if (!LNG[code][lib])
		{
			setup.logErr(`LANG ERROR: ${code} Library ${lib} does not exist! Defaulting to English!`);
			setup[lib] = LNG.en[lib];
		}
		else
		{
            console.log(`Enabling ${code} ${lib}`);
			setup[lib] = LNG[code][lib];
		}
	})

    // Set the L10Strings
    console.log(`Setting ${code} l10Strings`);
    // Default everything to english first
    setup.deepMerge(l10nStrings, LNG.en.l10nStrings);

    for( let [key, trans] of Object.entries(LNG[code].l10nStrings))
    {
        l10nStrings[key] = trans;
    }
};
/* twine-user-script #4: "baseUtils.js" */
/* Declare globals for Eslint */
/* global setup */
setup.isObject = function(item) {
    return (item && typeof item === 'object' && !Array.isArray(item));
}

setup.deepMerge = function(tgt, ...src)
{
    if (!src.length) return tgt;
    const source = src.shift();

    if (setup.isObject(tgt) && setup.isObject(source)) {
        for (const key in source) {
            if (setup.isObject(source[key])) {
                if (!tgt[key]) Object.assign(tgt, { [key]: {} });
                setup.deepMerge(tgt[key], source[key]);
            } else {
                Object.assign(tgt, { [key]: source[key] });
            }
        }
    }
    return setup.deepMerge(tgt, ...src);
}

setup.flattenDict = function(dict)
{
    function flatten(innerDict, parent)
    {
        let keys = [];
        let values = [];
        for (let key in innerDict)
        {
            if(typeof innerDict[key] === 'object')
            {
                let result = flatten(innerDict[key], parent ? parent + '_' + key : key);
                keys = keys.concat(result.keys);
                values = values.concat(result.values);
            }
            else
            {
                keys.push(parent ? parent + "_" + key : key);
                values.push(innerDict[key]);
            }
        }
        return {keys,values}
    }
    let result = flatten(dict);
    let flatDict = {};
    for(let i = 0, end = result.keys.length; i < end; i++) {
        flatDict[result.keys[i]] = result.values[i];
    }
    return flatDict;
}
/* twine-user-script #5: "dayBuffs.js" */

/* The Type enumeration designates which order they naturally cycle */
setup.Stars =
{
    Types:
    {
        NONE_STAR: -1,
        RED_STAR: 0,
        BLUE_STAR: 1,
        GOLDEN_STAR: 2,
        GREEN_STAR: 3,
    },
    BASE_BONUS: 0.2,
    MAX_RANK: 5,
    MIN_RANK: -4,
    NUM_STARS: 4,
    NUM_ACTIVE_DAYS: 5,
    MAX_OVERRIDE_DAYS: 5,
    STAR_COOLDOWN_MULT: 2,
    ESS_COST_PER_DAY: 100,
    ESS_MULT_BONUS: 0.10,
    EXP_MULT_BONUS: 0.10,
    variables:
    {
        rank_self: 1,
        rank_others: 1,
        override_star: -1,
        override_days_remaining: 0,
        star_cooldown: -1,
        cooldown_days_remaining: 0,
        can_override_star: true,
    },
    getExpMultCalc: function(rank_diff)
    {
        return +(((rank_diff)*setup.Stars.EXP_MULT_BONUS).toFixed(2));
    },
    getExpMult: function(character)
    {
        if (character == State.variables.CharacterSheet_Player || character == State.variables.CharacterSheet_Player.fight.teammate )
        {
            return setup.Stars.getExpMultCalc(setup.Stars.variables.rank_others - setup.Stars.variables.rank_self);
        }
        else
        {
            return setup.Stars.getExpMultCalc(setup.Stars.variables.rank_self - setup.Stars.variables.rank_others);
        }
    },
    getEssMultCalc: function(rank_diff)
    {
        return +(((rank_diff)*setup.Stars.ESS_MULT_BONUS).toFixed(2));
    },
    getEssMult: function(character)
    {
        if (character == State.variables.CharacterSheet_Player || character == State.variables.CharacterSheet_Player.fight.teammate )
        {
            return setup.Stars.getEssMultCalc(setup.Stars.variables.rank_others - setup.Stars.variables.rank_self);
        }
        else
        {
            return setup.Stars.getEssMultCalc(setup.Stars.variables.rank_self - setup.Stars.variables.rank_others);
        }
    },
    getTodaysStarHeader: function()
    {
        let star = setup.Stars.getTodaysStar();
        let displayString =  "The " + setup.Stars.getStarName(star);
        displayString += " stands proudly in dominion. ";
        displayString += "Its energies alter " + setup.Stars.getStarStatStr(star) + " across the land.";
        return displayString;
    },
    getNextStarHeader: function()
    {
        let star = setup.Stars.getNextStar();
        let displayString = "The " + setup.Stars.getStarName(star) + " will ascend in " + setup.Stars.getTodaysStarRemainingDays() + " Days. ";
        displayString += "It shall bestow " + setup.Stars.getStarStatStr(star) + " from its light.";
        return displayString;
    },
    getStarName: function(star)
    {
        switch(star)
        {
            case setup.Stars.Types.RED_STAR:
                return "Red Star";
            case setup.Stars.Types.BLUE_STAR:
                return "Blue Star";
            case setup.Stars.Types.GOLDEN_STAR:
                return "Golden Star";
            case setup.Stars.Types.GREEN_STAR:
                return "Green Star";
        }
    },
    getStarStat: function(star)
    {
        switch(star)
        {
            case setup.Stars.Types.RED_STAR:
                return "critChanceMods";
            case setup.Stars.Types.BLUE_STAR:
                return "growthMods";
            case setup.Stars.Types.GOLDEN_STAR:
                return "strengthMods";
            case setup.Stars.Types.GREEN_STAR:
                return "maxStaminaMods";
        }
    },
    getStarStatStr: function(star)
    {
        switch(star)
        {
            case setup.Stars.Types.RED_STAR:
                return "crit chance";
            case setup.Stars.Types.BLUE_STAR:
                return "growth";
            case setup.Stars.Types.GOLDEN_STAR:
                return "strength";
            case setup.Stars.Types.GREEN_STAR:
                return "prowess";
        }
    },
    getStarStatUpperStr: function(star)
    {
        switch(star)
        {
            case setup.Stars.Types.RED_STAR:
                return "Crit Chance";
            case setup.Stars.Types.BLUE_STAR:
                return "Growth";
            case setup.Stars.Types.GOLDEN_STAR:
                return "Strength";
            case setup.Stars.Types.GREEN_STAR:
                return "Prowess";
        }
    },
    getOverrideStarMaxTime: function(star)
    {
        let todaysStar = setup.Stars.getTodaysStar();
        let nextStar = setup.Stars.getNextStar();
        let days = setup.Stars.MAX_OVERRIDE_DAYS;
        if (star == todaysStar || star == setup.Stars.variables.star_cooldown)
        {
            days = 0;
        }
        else if (star == nextStar)
        {
            days = Math.min(days, setup.Stars.NUM_ACTIVE_DAYS - (State.variables.Expedition % setup.Stars.NUM_ACTIVE_DAYS));
        }

        /* Essence Check */
        days = Math.min(days, Math.floor(State.variables.Essence / setup.Stars.ESS_COST_PER_DAY));
        return days;
    },
    getOverrideStarCost: function(days)
    {
        return days * setup.Stars.ESS_COST_PER_DAY;
    },
    getNextStar: function ()
    {
        return Math.ceil( (1+State.variables.Expedition) / setup.Stars.NUM_ACTIVE_DAYS) % setup.Stars.NUM_STARS;
    },
    getTodaysStar: function()
    {
        if (setup.Stars.variables.override_star != setup.Stars.Types.NONE_STAR)
        {
            return setup.Stars.variables.override_star;
        }
        else
        {
            return Math.floor(State.variables.Expedition / setup.Stars.NUM_ACTIVE_DAYS) % setup.Stars.NUM_STARS;
        }
    },
    getTodaysStarName: function()
    {
        return setup.Stars.getStarName(setup.Stars.getTodaysStar());
    },
    getTodaysStarStat: function()
    {
        return setup.Stars.getStarStatStr(setup.Stars.getTodaysStar());
    },
    getTodaysStarRemainingDays: function()
    {
        if (setup.Stars.variables.override_star != setup.Stars.Types.NONE_STAR)
        {
            return setup.Stars.variables.override_days_remaining;
        }
        else
        {
            return setup.Stars.NUM_ACTIVE_DAYS - (State.variables.Expedition % setup.Stars.NUM_ACTIVE_DAYS);
        }
    },
    advanceStarsByDays: function(days)
    {
        setup.Stars.override_days_remaining = Math.min(0, setup.Stars.override_days_remaining - days);
        if (setup.Stars.override_days_remaining == 0)
        {
            setup.Stars.override_star = setup.Stars.Types.NONE_STAR;
        }
        setup.Stars.cooldown_days_remaining = Math.min(0, setup.Stars.cooldown_days_remaining - days);
        if (setup.Stars.cooldown_days_remaining == 0)
        {
            setup.Stars.star_cooldown = setup.Stars.Types.NONE_STAR;
        }
    },
    getStarTypeModByCharacter: function(character)
    {
        let mod_val;
        let mod_type;
        if (character == State.variables.CharacterSheet_Player || character == State.variables.CharacterSheet_Player.fight.teammate )
        {
            mod_val = setup.Stars.variables.rank_self;
        }
        else
        {
            mod_val = setup.Stars.variables.rank_others;
        }

        if (mod_val >= 0)
        {
            mod_type = setup.mod.MULTIPLYPOS;
        }
        else
        {
            mod_type = setup.mod.MULTIPLYNEG;
            mod_val = Math.abs(mod_val);
        }
        return {mod: mod_type, val: mod_val};
    },
    getStarModifierStringByCharacter: function(character, basemod)
    {
        let ret_val = setup.Stars.getStarTypeModByCharacter(character);
        let modString = "";
        if (ret_val[0] == setup.mod.MULTIPLYNEG)
        {
            modString = "decreased by" + ret_val[1]*basemod;
        }
        else
        {
            modString = "increased by" + ret_val[1]*basemod;
        }
        return modString;
    },
    getPickReason: function(star)
    {
        let displayString = "";
        if (star == setup.Stars.getTodaysStar())
        {
            displayString = "Already graces the land.";
        }
        else if (star == setup.Stars.variables.star_cooldown)
        {
            displayString = "Cannot be called for " + setup.Stars.variables.override_days_remaining + " days.";
        }
        else if (State.variables.Essence < setup.Stars.ESS_COST_PER_DAY)
        {
            displayString = "A day costs " + setup.Stars.ESS_COST_PER_DAY + " Essence.";
        }
        else
        {
            displayString = "May grace the land.";
        }
        return displayString;
    },
    setOverrideStar: function(star, days)
    {
        setup.Stars.variables.override_star = star;
        setup.Stars.variables.star_cooldown = star;

        setup.Stars.variables.override_days_remaining = days;
        setup.Stars.variables.cooldown_days_remaining = Math.floor(days * setup.Stars.STAR_COOLDOWN_MULT);
        /* Broadcast a "day change" to update the star's effects. This won't advance the day */
        var params =
        {
            trigger: setup.AbilityTrigger.ON_DAY_CHANGE,
            self: State.variables.CharacterSheet_Player,
        }
        setup.AbiHndlr.broadcastAbilityTrigger(State.variables.CharacterSheet_Player, params);

        State.variables.Essence = Math.max(0, State.variables.Essence - setup.Stars.getOverrideStarCost(days));
    },
    updateStarBehaviour: function(abilityRuntimeData, abilityParams, thisStar)
    {
        let star = setup.Stars.getTodaysStar()
        if (star == thisStar)
        {
            abilityRuntimeData.isActive = true;
            let ret_val = setup.Stars.getStarTypeModByCharacter(abilityParams.self);

            // Clean out any past modifiers
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });

            abilityRuntimeData.modifier[setup.Stars.getStarStat(star)] = {
                mod: ret_val.mod,
                value: setup.Stars.BASE_BONUS * ret_val.val
            }

            let expbonus = setup.Stars.getExpMult(abilityParams.self);
            let essbonus = setup.Stars.getEssMult(abilityParams.self);
            if (expbonus >= 0.0)
            {
                abilityRuntimeData.modifier.xpMultiplierMods = {mod: setup.mod.ADD, value: expbonus};
            }
            else
            {
                abilityRuntimeData.modifier.xpMultiplierMods = {mod: setup.mod.REMOVE, value: Math.abs(expbonus)};
            }

            if (essbonus >= 0.0)
            {
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.ADD, value: essbonus};
            }
            else
            {
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.REMOVE, value: Math.abs(essbonus)};
            }
        }
        else
        {
            abilityRuntimeData.isActive = false;
        }
    }
};
/* twine-user-script #6: "defs.js" */
/* Declare globals for Eslint */
/* global setup */

var DOMQueue = [];

setup.RedrawCosts = [10,15,20,30,40,50,60];
setup.LimitBreakEssenceCosts = [60,60,100,100,150,150,200,200,250,250,300,300,350,350,400,400,450,450,500,500];
setup.AddSlotCosts = [10,15,20,30,40,50,60];
setup.AbilityIDCache = [];
setup.AbilityIndexCache = {};
setup.UnlockableAbilityList = [];
setup.GlobalAbilities = [];
setup.UpgradeAbilityMap = {};
setup.CharacterList = [];

setup.RewardTier =
{
	VERY_LOW:  1,
    LOW:  2,
    MEDIUM: 3,
    HIGH: 4,
    VERY_HIGH: 5,
}

setup.AbilityFilter = {
	POWER:  		0,
    ALTERATION:  	1,
    STATUSEFFECT: 	2,
    GLOBAL: 		3,
}

setup.AttackTiming =
{
	BEFORE_PLAYER:  1,
    BETWEEN_PLAYER_AND_ENEMY:  2,
    AFTER_ENEMY:  3,
}

setup.AchievementState =
{
    // Achievement has not been implimented. Ignore it completely
    DISABLED: -1,
    // IDLE, but is invisible to the goal sheet
    HIDDEN: 0,
    // Achievement is not complete, but you can see it in the goal sheet
    IDLE: 1,
    // Achievmenet has been completed, but has not become activated. (waiting for NG+)
    COMPLETE: 2,
    // Achievement has both been completed and is currently active
    ACTIVATED: 3,

}

setup.FightHotkeys = ["1","2","3","4","5","6","7","8","9","0","Q","W","E","R","T","Y","U","I","O","P"];

setup.DeathTextEnum =
{
	NORMAL:  1,
    POST_APOTHUS:  2,
}

setup.TestVoices = ["Test_Voice1", "Test_Voice2"]

setup.RewardTier =
{
	VERY_LOW:  1,
    LOW:  2,
    MEDIUM: 3,
    HIGH: 4,
    VERY_HIGH: 5,
}

setup.Units =
{
    IMPERIAL:  1,
    METRIC: 2
}

setup.Oath =
{
    NONE:  1,
    ACTIVE: 2,
	BROKEN: 3,
}

setup.CorruptionComparators =
{
	UNTOUCHED: 0,
    PURE:  50,
	DECENT: 100,
	NEUTRAL: 200,
	TAINTED: 500,
	CORRUPT: 1000,
    FOOBAR: 2000,
}

setup.corruptionTiers =
	[setup.CorruptionComparators.UNTOUCHED,
	setup.CorruptionComparators.PURE,
	setup.CorruptionComparators.NEUTRAL,
	setup.CorruptionComparators.TAINTED,
	setup.CorruptionComparators.CORRUPT,
    setup.CorruptionComparators.FOOBAR]

setup.ColourPool =
{
	DEFAULT: undefined,
    RED: "red",
	ORANGE: "orange",
	YELLOW: "yellow",
	GREEN: "green",
	BLUE: "blue",
	INDIGO: "indigo",
	VIOLET: "violet",
	PURPLE: "purple",
	WHITE: "white",
	GREY: "grey",
	BLACK: "black",
	OBSIDIAN: "obsidian",
	AMBER: "amber",
	PINK: "pink",
	BROWN: "brown",
	TAN: "tan",
	BEIGE: "beige",
	EMERALD: "emerald",
	SAPPHIRE: "sapphire",
	CRIMSON: "crimson",
	GOLDEN: "golden"
}

setup.Colors = ["orange", "blue", "grey"]

setup.LevelUpTable =
[
    180,
    500,
    1300,
	2400,
	3700,
	5600,
	7000,
	8300,
	10000,
	15000,
]

setup.AbilityCategory =
{
    DISABLED: -1,
    NONE: 0,
    WARRIOR: 1,
	FORM: 2,
    GROWTH: 3,
    SOMBREVE: 4,
    PURITY: 5,
    LUST: 6,
}

/*always order from best to worst*/
setup.AbilityGrade =
{
    VERYHIGH: 4,
    HIGH: 3,
    MEDIUM: 2,
    LOW: 1,
    VERYLOW: 0,
}

setup.AbilityTrigger =
{
    ON_ACQUIRE: 1 << 0,
    ON_FIGHT_START: 1 << 1,
    ON_FIGHT_TURN_START: 1 << 2,
    ON_FIGHT_DAMAGING_HIT: 1 << 3,
    ON_FIGHT_PRE_RECEIVE_DAMAGE: 1 << 5,
    ON_FIGHT_POST_RECEIVE_DAMAGE: 1 << 4,
    ON_FIGHT_END: 1 << 6,
    ON_MAX_LUST: 1 << 7,
    ON_MIN_LUST: 1 << 8,
    ON_APPLY_GROWTH: 1 << 9,
    ON_ENTER_MID_HEALTH: 1 << 10,
    ON_EXIT_MID_HEALTH: 1 << 11,
    ON_ENTER_LOW_HEALTH: 1 << 12,
    ON_EXIT_LOW_HEALTH: 1 << 13,
    ON_LEVEL_UP: 1 << 14,
    ON_FIGHT_DO_DAMAGELESS_ATTACK: 1 << 15,
    ON_FIGHT_BATTLE_WON: 1 << 16,
    ON_FIGHT_BATTLE_LOST: 1 << 17,
    ON_GAIN_CORRUPTION: 1 << 18,
    ON_GAIN_ESSENCE: 1 << 19,
    ON_DAY_CHANGE: 1 << 20,
    ON_STAT_CHANGE: 1 << 21,
    ON_NEW_GAME_PLUS: 1 << 22,
    ON_COMPLETE_GAME: 1 << 23,
    ON_ANATOMY_CHANGE: 1 << 24,
};

setup.mod =
{
	ADD: 1,
	REMOVE: 2,
	REPLACE: 3,
	CUSTOM: 4,
	IGNORE: 5,
	MULTIPLYPOS: 6,
	MULTIPLYNEG: 7,
	EQUAL: 8,
	MAX: 9,
	MIN: 10,
};

/* ------------Base Classes---------------- */
setup.AbilityScripts = {};
setup.Size = {};
setup.Ability = {};
/* twine-user-script #7: "fightMoves.js" */
setup.FightMove = {};
setup.FightMoveScripts = {};

class FightMove {
    id = "";
    damageParam = {multiplier: 0.0, addon:0.0};
	staminaCost= 30;
	critMod= 20;
	cooldown= 2;
	comboCost= 3;
	unique= undefined;
	skillStatsToDescriptionSpacing= 2;
	skillType= "offensive";
	skillTheme= "offensive";
    unlearnable= true;
	additionalEffects= [];

    // Visual sort key
    // Greater number is higher priority
    sortRank = 0;

    constructor(id, args)
    {
        this.id = id;
        setup.deepMerge(this, args);
    };

    _nameFunction = function() {
        return LNG.LocaleCap(`${this.id}_Name`);
    };

    get name()
    {
        return this._nameFunction();
    };

    _itemNameFunction = function(){
        return LNG.LocaleCap(`${this.id}_ItemName`);
    };

    get itemName() {
        return this._itemNameFunction();
    };

    _skillDescriptionFunction = function() {
        return LNG.LocaleCap(`${this.id}_Desc`);
    };

    get skillDescription(){
        return this._skillDescriptionFunction();
    };

    preparation = function (character, target)
    {
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap(`${this.id}_Prep`,args);
    };

	activationCondition= function(character, target)
	{
		return true;
	};

	dmg= function(character, target)
	{
		return this.damageParam;
	};

    static sort = function(a,b)
    {
        // Sort priority
        if (a.sortRank != b.sortRank)
        {
            return b.sortRank - a.sortRank;
        }
        else
        {
            // Resort to (current) alphabetical
            if (a.name < b.name)
            {
                return -1;
            }
            if (a.name > b.name)
            {
                return 1;
            }
        }
        return 0;
    }
}



/* twine-user-script #8: "en.js" */
/* Declare globals for Eslint */
/* global LNG */

LNG.en.l10nStrings = {};

/* Sugarcube UI */
/* Default -- not needed to specify */

/* Specified */
LNG.es.l10nStrings.grow = "grow";
LNG.es.l10nStrings.grows = "grows";
/* twine-user-script #9: "es.js" */
/* Declare globals for Eslint */
/* global LNG */

LNG.es.l10nStrings = {};

/* Sugarcube UI */
LNG.es.l10nStrings.identity="juego";
LNG.es.l10nStrings.aborting="Abortar";
LNG.es.l10nStrings.cancel="Cancelar";
LNG.es.l10nStrings.close="Cerrar";
LNG.es.l10nStrings.ok="OK";
LNG.es.l10nStrings.errorTitle="Error";
LNG.es.l10nStrings.errorToggle="Cambiar la vista de error";
LNG.es.l10nStrings.errorNonexistentPassage='el pasaje "{passage}" no existe';
LNG.es.l10nStrings.errorSaveMissingData="La partida requiere datos no encontrados. O el archivo cargado no es una partida guardada o la partida guardada está corrupta";
LNG.es.l10nStrings.errorSaveIdMismatch="Partida errónea {identity}";
LNG.es.l10nStrings._warningIntroLacking="Tu navegador carece o ha desactivado";
LNG.es.l10nStrings._warningOutroDegraded=", este {identity} está funcionando en un modo degradado. Puedes continuar, sin embargo, algunas partes pueden no funcionar correctamente";
LNG.es.l10nStrings.warningNoWebStorage="{_warningIntroLacking} el Almacenamiento Web API{_warningOutroDegraded}";
LNG.es.l10nStrings.warningDegraded="{_warningIntroLacking} algunas de las capacidades requeridas por este {identity}{_warningOutroDegraded}";
LNG.es.l10nStrings.debugBarToggle="Alternar la barra de depuración";
LNG.es.l10nStrings.debugBarNoWatches="— no hay observadores estabecidos —";
LNG.es.l10nStrings.debugBarAddWatch="Añadir observador";
LNG.es.l10nStrings.debugBarDeleteWatch="Borrar observador";
LNG.es.l10nStrings.debugBarWatchAll="Ver todo";
LNG.es.l10nStrings.debugBarWatchNone="Borrar todo";
LNG.es.l10nStrings.debugBarLabelAdd="Añadir";
LNG.es.l10nStrings.debugBarLabelWatch="Ver";
LNG.es.l10nStrings.debugBarLabelTurn="Girar";
LNG.es.l10nStrings.debugBarLabelViews="Vistas";
LNG.es.l10nStrings.debugBarViewsToggle="Alternar las vistas debug";
LNG.es.l10nStrings.debugBarWatchToggle="Alternar el panel de observadores";
LNG.es.l10nStrings.uiBarToggle="Alternar la barra de UI";
LNG.es.l10nStrings.uiBarBackward="Volver atrás en la historia del {identity}";
LNG.es.l10nStrings.uiBarForward="Avanzar en la historia del {identity}";
LNG.es.l10nStrings.uiBarJumpto="Saltar a un punto específico de la {identity} historia";
LNG.es.l10nStrings.jumptoTitle="Saltar A";
LNG.es.l10nStrings.jumptoTurn="Girar";
LNG.es.l10nStrings.jumptoUnavailable="No hay puntos de salto disponibles actualmente…";
LNG.es.l10nStrings.savesTitle="Guardar";
LNG.es.l10nStrings.savesDisallowed="Guardar se ha deshabilitado en este pasaje.";
LNG.es.l10nStrings.savesEmptySlot="— Guardado vacío —";
LNG.es.l10nStrings.savesIncapable="{_warningIntroLacking} las capacidades requeridas para proporcionar guardados, entonces los guardados han sido deshabilitados para esta sesión.";
LNG.es.l10nStrings.savesLabelAuto="Autoguardado";
LNG.es.l10nStrings.savesLabelDelete="Borrar";
LNG.es.l10nStrings.savesLabelExport="Guardar en Disco…";
LNG.es.l10nStrings.savesLabelImport="Cargar desde Disco…";
LNG.es.l10nStrings.savesLabelLoad="Cargar";
LNG.es.l10nStrings.savesLabelClear="Borrar todo";
LNG.es.l10nStrings.savesLabelSave="Guardar";
LNG.es.l10nStrings.savesLabelSlot="Espacio";
LNG.es.l10nStrings.savesSavedOn="Guardado";
LNG.es.l10nStrings.savesUnavailable="No se encontraron espacios de guardado…";
LNG.es.l10nStrings.savesUnknownDate="desconocido";
LNG.es.l10nStrings.settingsTitle="Ajustes";
LNG.es.l10nStrings.settingsOff="Off";
LNG.es.l10nStrings.settingsOn="On";
LNG.es.l10nStrings.settingsReset="Usar predeterminados";
LNG.es.l10nStrings.restartTitle="Reiniciar";
LNG.es.l10nStrings.restartPrompt="¿Estás seguro de que quieres reiniciar? Todo progreso no guardado caerá en el olvido.";
LNG.es.l10nStrings.shareTitle="Compartir";
LNG.es.l10nStrings.alertTitle="Alerta";
LNG.es.l10nStrings.autoloadTitle="Autocargar";
LNG.es.l10nStrings.autoloadCancel="Ir al Comienzo";
LNG.es.l10nStrings.autoloadOk="Cargar autoguardado";
LNG.es.l10nStrings.autoloadPrompt="Un autoguardado existe ¿Cargarlo ahora o ir al comienzo?";
LNG.es.l10nStrings.macroBackText="Atrás";
LNG.es.l10nStrings.macroReturnText="Volver";
/* twine-user-script #10: "fr.js" */
/* Declare globals for Eslint */
/* global LNG */

LNG.fr.l10nStrings = {};

/* Sugarcube UI */
/*! fr.js – Français, by: Marc Cornette, Pierre Kessler. | Copyright © 2017–2020 Thomas Michael Edwards <thomasmedwards@gmail.com>. All rights reserved. | Licensed under a BSD 2-clause "Simplified" License. */
LNG.fr.l10nStrings.identity="aventure";
LNG.fr.l10nStrings.aborting="Abandon";
LNG.fr.l10nStrings.cancel="Annuler";
LNG.fr.l10nStrings.close="Fermer";
LNG.fr.l10nStrings.ok="OK";
LNG.fr.l10nStrings.errorTitle="Erreur";
LNG.fr.l10nStrings.errorToggle="Afficher l'erreur";
LNG.fr.l10nStrings.errorNonexistentPassage='le passage "{passage}" n\'existe pas';
LNG.fr.l10nStrings.errorSaveMissingData="des éléments manquent dans cette sauvegarde. Soit ce fichier n'en est pas une, soit il est corrompu";
LNG.fr.l10nStrings.errorSaveIdMismatch="la sauvegarde ne semble pas provenir de cette {identity}";
LNG.fr.l10nStrings._warningIntroLacking="Soit il manque à votre navigateur, soit il n'autorise pas";
LNG.fr.l10nStrings._warningOutroDegraded=", de ce fait l'{identity} sera en mode dégradé. Cela n'empechera le fonctionnement, mais vous risquez de rencontrer des erreurs.";
LNG.fr.l10nStrings.warningNoWebStorage="{_warningIntroLacking} l'API de stockage de données{_warningOutroDegraded}";
LNG.fr.l10nStrings.warningDegraded="{_warningIntroLacking} certaines des fonctionnalités requises par l'{identity}{_warningOutroDegraded}";
LNG.fr.l10nStrings.debugBarToggle="Afficher la barre de débogage";
LNG.fr.l10nStrings.debugBarNoWatches="— pas de surveillance active —";
LNG.fr.l10nStrings.debugBarAddWatch="Ajouter une surveillance";
LNG.fr.l10nStrings.debugBarDeleteWatch="Annuler une surveillance";
LNG.fr.l10nStrings.debugBarWatchAll="Surveiller tout";
LNG.fr.l10nStrings.debugBarWatchNone="Ne rien surveiller";
LNG.fr.l10nStrings.debugBarLabelAdd="Ajouter";
LNG.fr.l10nStrings.debugBarLabelWatch="Surveillance";
LNG.fr.l10nStrings.debugBarLabelTurn="Tournant";
LNG.fr.l10nStrings.debugBarLabelViews="Vues";
LNG.fr.l10nStrings.debugBarViewsToggle="Basculer en mode débogage";
LNG.fr.l10nStrings.debugBarWatchToggle="Afficher la barre de surveillance";
LNG.fr.l10nStrings.uiBarToggle="Afficher/cacher la barre d'interface";
LNG.fr.l10nStrings.uiBarBackward="Revenir en arrière dans l'histoire de l'{identity}";
LNG.fr.l10nStrings.uiBarForward="Avancer en arrière dans l'histoire de l'{identity}";
LNG.fr.l10nStrings.uiBarJumpto="Aller à un point précis de l'histoire de l'{identity}";
LNG.fr.l10nStrings.jumptoTitle="Aller à";
LNG.fr.l10nStrings.jumptoTurn="Tournant";
LNG.fr.l10nStrings.jumptoUnavailable="Aucun point d'arriver n'est disponible…";
LNG.fr.l10nStrings.savesTitle="Sauvegardes";
LNG.fr.l10nStrings.savesDisallowed="Les sauvegardes sont désactivées pour ce passage.";
LNG.fr.l10nStrings.savesIncapable="{_warningIntroLacking} soit il n'a pas la capacité pour prendre en charge les sauvegardes : elles seront désactivées pour cette session.";
LNG.fr.l10nStrings.savesLabelAuto="Sauvegarde Auto";
LNG.fr.l10nStrings.savesLabelDelete="Effacer";
LNG.fr.l10nStrings.savesLabelExport="Enregistrer sur le disque…";
LNG.fr.l10nStrings.savesLabelImport="Charger depuis le disque…";
LNG.fr.l10nStrings.savesLabelLoad="Charger";
LNG.fr.l10nStrings.savesLabelClear="Effacer tout";
LNG.fr.l10nStrings.savesLabelSave="Enregistrer";
LNG.fr.l10nStrings.savesLabelSlot="Emplacement";
LNG.fr.l10nStrings.savesUnavailable="Aucun emplacement de sauvegarde n'a été trouvé…";
LNG.fr.l10nStrings.savesUnknownDate="inconnu";
LNG.fr.l10nStrings.settingsTitle="Préférences";
LNG.fr.l10nStrings.settingsOff="Off";
LNG.fr.l10nStrings.settingsOn="On";
LNG.fr.l10nStrings.settingsReset="Réinitialiser";
LNG.fr.l10nStrings.restartTitle="Recommencer";
LNG.fr.l10nStrings.restartPrompt="Êtes vous sûr(e) de vouloir recommencer ? Tous progrès non sauvegardés seront perdus.";
LNG.fr.l10nStrings.shareTitle="Partager";
LNG.fr.l10nStrings.autoloadTitle="Chargement Auto";
LNG.fr.l10nStrings.autoloadCancel="Aller au début";
LNG.fr.l10nStrings.autoloadOk="Chargement d'une sauvegarde automatique";
LNG.fr.l10nStrings.autoloadPrompt="Une sauvegarde automatique est disponible. La charger ou recommencer ?";
LNG.fr.l10nStrings.macroBackText="En arrière";
LNG.fr.l10nStrings.macroReturnText="Retour";
/* twine-user-script #11: "Ability_ActiveParry.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ActiveParry_Name = "Active Parry";
LNG.en.l10nStrings.Ability_ActiveParry_Desc = "{Name} uses a parry stance.";
LNG.en.l10nStrings.Ability_ActiveParry_Parry = "{TName} gaze{Ts} at the incoming hit, letting it reach {Tp_OBJ}."
    + " The attack feels like it connects, but something different happens. It is like it hit a invisible wall of energy instead."
    + " The energy of the attack explodes into a thick white mist."
    + "{TName} grin{Ts} as the hit rushes into {Tp_POSS} chest, filling {Tp_OBJ} with the energy of the attack.";
LNG.en.l10nStrings.Ability_ActiveParry_ParryFail = "{TName} is ready to parry, but nothing comes.";

/* ------------------------Functions---------------------------*/
setup.Ability.ActiveParry = new Ability("Ability_ActiveParry",
{
    maxRank: 1,
    filter: setup.AbilityFilter.STATUSEFFECT,

    description:function(character, abilityRuntimeData)
    {
        return LNG.LocaleCap('Ability_ActiveParry_Desc', {Name:character.info.name});
    },
});

setup.Ability.ActiveParry.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard = {parryTurnCount: 0}
    },
);

setup.Ability_ActiveParry.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_PRE_RECEIVE_DAMAGE,
    function(abilityRuntimeData, abilityParams){

        let args = setup.DESC.getLocaleArgs(abilityParams.self, abilityParams.target);
        if(abilityParams.attackDamage != 0)
        {
            var blackboard =
            {
                attackDamage: abilityParams.attackDamage,
            };

            abilityParams.attackDamage = 0;
            abilityParams.ignoreAdditionalEffects = true;

            setup.AbiHndlr.addAbility(abilityParams.target, setup.Ability.ParryEnergy, {blackboard});


            return LNG.LocaleCap('Ability_ActiveParry_Parry', args);
        }
        else
        {
            return LNG.LocaleCap('Ability_ActiveParry_ParryFail', args);
        }
    }
);

setup.Ability_ActiveParry.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START,
    function(abilityRuntimeData, abilityParams){
        var displayString = "";

        abilityRuntimeData.blackboard.parryTurnCount++

        if(abilityRuntimeData.blackboard.parryTurnCount >= 2)
        {
            abilityRuntimeData.isScheduledForRemoval = true;
        }

        return displayString;
    }
);
/* twine-user-script #12: "Ability_ApexPredator.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ApexPredator_Name = "Apex Predator";
LNG.en.l10nStrings.Ability_ApexPredator_Desc = "{p_SUBJ} are at the top of the food chain. Every victory makes {p_SUBJ} bigger. Unlocks the '{fightMove}' Fight Move.";

/* ------------------------Functions---------------------------*/
setup.Ability.ApexPredator = new Ability("Ability_ApexPredator",
{
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        args.fightMove = setup.FightMove.UnnaturalGrowth.name;
        return LNG.LocaleCap('Ability_ApexPredator_Desc', args);
    },
});

setup.Ability.ApexPredator.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.UnnaturalGrowth.id]}
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
        }
    }
);

setup.Ability.ApexPredator.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_FIGHT_BATTLE_WON,
    function(abilityRuntimeData, abilityParams)
    {
        let currentHeight = 0;
        if(abilityRuntimeData.modifier.heightMods != undefined)
        {
            currentHeight = abilityRuntimeData.modifier.heightMods.value;
        }
        abilityRuntimeData.modifier.heightMods = {mod: setup.mod.ADD, value: currentHeight + setup.getRankGrowth(abilityRuntimeData, "linear", 12)}

        let currentMuscles = 0;
        if(abilityRuntimeData.modifier.musclesMods != undefined)
        {
            currentMuscles = abilityRuntimeData.modifier.musclesMods.value;
        }
        abilityRuntimeData.modifier.musclesMods = {mod: setup.mod.ADD, value: currentMuscles + setup.getRankGrowth(abilityRuntimeData, "linear", 5)}

        let currentCock = 0;
        if(abilityRuntimeData.modifier.cockMods != undefined)
        {
            currentCock = abilityRuntimeData.modifier.cockMods.value;
        }
        abilityRuntimeData.modifier.cockMods = {mod: setup.mod.ADD, value: currentCock + setup.getRankGrowth(abilityRuntimeData, "linear", 4)}

        let currentBalls = 0;
        if(abilityRuntimeData.modifier.ballsMods != undefined)
        {
            currentBalls = abilityRuntimeData.modifier.ballsMods.value;
        }
        abilityRuntimeData.modifier.ballsMods = {mod: setup.mod.ADD, value: currentBalls + setup.getRankGrowth(abilityRuntimeData, "linear", 1.5)}
    }
);
/* twine-user-script #13: "Ability_AppetiteForGrowth.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_AppetiteForGrowth_Name = "Appetite for Growth";
LNG.en.l10nStrings.Ability_AppetiteForGrowth_Desc = "You gain {pct}% extra stats to all limb growth.";

LNG.en.l10nStrings.Ability_AppetiteForGrowth_Upgrade = "You must be at least level 3: ({level})";

/* ------------------------Functions---------------------------*/

setup.Ability.AppetiteForGrowth = new Ability("Ability_AppetiteForGrowth",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.GROWTH,
    grade: setup.AbilityGrade.LOW,

    rankMods: {
        growthMods: {mod: setup.mod.ADD, offset: 0.25, value: 10, type: 'log'}
    },

    description:function(character, abilityRuntimeData)
    {
        let growthMods = setup.Ability.AppetiteForGrowth.rankMods.growthMods;
        let args = {
            pct: Math.ceil((growthMods.offset
                + setup.getRankGrowth(abilityRuntimeData, growthMods.type, growthMods.value))*100)
                .toFixed(2).replace(/\.00$/, ''),
        };
        return LNG.LocaleCap('Ability_AppetiteForGrowth_Desc', args);
    },

    nextAbilityID: "Ability_AppetiteForGrowth_2",
    
    unlockCondition: function(character){
        return State.variables.Level >= 3
    },

    upgradeConditionFunction: function(abilityRuntimeData, character){
        return (setup.canRank(abilityRuntimeData) == false)
    },
    upgradeDescription: function(character){
        let args = {
            level: State.variables.Level,
        }
        return LNG.LocaleCap('Ability_AppetiteForGrowth_Upgrade', args);
    },
});
/* twine-user-script #14: "Ability_AppetiteForGrowth_2.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_AppetiteForGrowth_2_Name = "Demonic Appetite";
LNG.en.l10nStrings.Ability_AppetiteForGrowth_2_Desc = "Gain {corrGain} Permanent Corruption. Gain {growthPct}% extra growth."

/* ------------------------Functions---------------------------*/
setup.Ability.AppetiteForGrowth_2 = new Ability("Ability_AppetiteForGrowth_2",
{
    maxRank: 5,
    category: setup.AbilityCategory.SOMBREVE,
    grade: setup.AbilityGrade.HIGH,

    mods: {
        growthMods: {mod: setup.mod.ADD, offset: 1.2, value: 5, type: 'pow'},
        corruptionMods: {mod: setup.mod.ADD, offset: 10, value: 5},
    },

    description:function(character, abilityRuntimeData)
    {
        let abi = setup.Ability.AppetiteForGrowth_2;
        let corrMod = abi.mods.corruptionMods;
        let args = {
            growthPct: Math.ceil(abi.getGrowthValue(abilityRuntimeData) * 100) ,
            corrGain: (corrMod.offset + setup.getRankGrowth(abilityRuntimeData, "linear", corrMod.value) ),
        };
        return LNG.LocaleCap('Ability_AppetiteForGrowth_2_Desc', args);
    },

    getGrowthValue: function(abilityRuntimeData)
    {
        console.log("AppetiteForGrowth_2 getGrowthValue")
        let growthMod = setup.Ability.AppetiteForGrowth_2.mods.growthMods;
        // Cubic power of percentage, rounded to the nearest 5%
        let value = growthMod.offset + setup.getRankGrowth(abilityRuntimeData, growthMod.type, growthMod.value)/100;
        
        console.log(growthMod)
        console.log(value)
        console.log(Math.round(value/.05)*0.05)
        // Round to the nearest .05
        return Math.round(value/.05)*0.05;
    }

});

setup.Ability.AppetiteForGrowth_2.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.AppetiteForGrowth_2;
        let corrMod = setup.Ability.AppetiteForGrowth_2.mods.corruptionMods;
        abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: abi.getGrowthValue(abilityRuntimeData)}
        abilityRuntimeData.modifier.corruptionMods = {mod: setup.mod.ADD, value: corrMod.offset + setup.getRankGrowth(abilityRuntimeData, "linear", corrMod.value)}
    }
)
/* twine-user-script #15: "Ability_Berserking.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Berserking_Name = "Berserking";
LNG.en.l10nStrings.Ability_Berserking_Desc = "You fight with reckless abandon. Your strength is increased by {strPct}%"
    + " and your max HP is decreased by {hpPct}%"

/* ------------------------Functions---------------------------*/
setup.Ability.Berserking = new Ability("Ability_Berserking",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.VERYLOW,

    rankMods: {
        strengthMods: {mod: setup.mod.MULTIPLYPOS, value: 0.15,},
        maxHPMods: {mod: setup.mod.MULTIPLYNEG, value: 0.05},
    },
    rankModTrigger: setup.AbilityTrigger.ON_ACQUIRE  + setup.AbilityTrigger.ON_STAT_CHANGE,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            strPct: setup.getRankGrowth(abilityRuntimeData, "linear", 15),
            hpPct: setup.getRankGrowth(abilityRuntimeData, "linear", 5),
        };
        return LNG.LocaleCap('Ability_Berserking_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 1)
    },
});
/* twine-user-script #16: "Ability_BrinkOfMadness.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_BrinkOfMadness_Name = "Brink of Madness";
LNG.en.l10nStrings.Ability_BrinkOfMadness_Desc = "Your mind cracks under the weight of corruption upon reaching low health.";
LNG.en.l10nStrings.Ability_BrinkOfMadness_Activate = "{TName} pant{Ts} in exhaustion. A terrible, oppressive thought enters {Tp_POSS} mind, that {Tp_SUBJ} might not win this battle.";
    + " {Tp_POSS} heart is racing, corruption seeping into {Tp_POSS} mind, feeding on {Tp_POSS} doubts."
    + " A dark purple aura builds around {Tp_POSS} frame, {Tp_SUBJ} revel{Ts} in the power of corruption to crush anything that stands in {Tp_POSS} way."
/* ------------------------Functions---------------------------*/
setup.Ability.BrinkOfMadness = new Ability("Ability_BrinkOfMadness",
{
    maxRank: 1,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.SOMBREVE,
    grade: setup.AbilityGrade.VERYHIGH,

    unlockCondition: function(character){
        return (State.variables.Level >= 20 && setup.getStatValue(character, "corruption") >= 100);
    },
});

setup.Ability.BrinkOfMadness.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ENTER_MID_HEALTH,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = true
        abilityParams.target.fight.variables.currentArousal = Math.min(100, abilityParams.target.fight.variables.currentArousal + setup.getRankGrowth(abilityRuntimeData, "linear", 40))
        abilityRuntimeData.modifier.critChanceMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 30)}
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 20)}
        abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 120)};
        abilityParams.target.fight.variables.currentStamina += 120;
        abilityParams.target.fight.variables.currentStamina = Math.min(abilityParams.target.fight.variables.currentStamina, setup.getMaxStamina(abilityParams.target));
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.Hypnotize.id]}

        let args = setup.DESC.getLocaleArgs(abilityParams.self, abilityParams.target);
        return LNG.LocaleCap('Ability_BrinkOfMadness_Activate', args);
    },
);

setup.Ability.BrinkOfMadness.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_EXIT_MID_HEALTH + setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
        return ""
    }
);
/* twine-user-script #17: "Ability_BuriedInCum.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_BuriedInCum_Name = "Buried In Cum";
LNG.en.l10nStrings.Ability_BuriedInCum_Desc = "You are buried in your opponent's cum.";
/* ------------------------Functions---------------------------*/
setup.Ability.BuriedInCum = new Ability("Ability_BuriedInCum",
{
    filter: setup.AbilityFilter.STATUSEFFECT,
});

setup.Ability.BuriedInCum.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams){
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.REMOVE, value: setup.getRankGrowth(abilityRuntimeData, "linear", 10)};
    }
);

setup.Ability.BuriedInCum.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #18: "Ability_ChannelTheAstralSoul.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ChannelTheAstralSoul_Name =  "Channel the Astral Soul";

LNG.en.l10nStrings.Ability_ChannelTheAstralSoul_Desc_0 = "Increases Essence gain. Its effect weakens the more corrupt you are.";
LNG.en.l10nStrings.Ability_ChannelTheAstralSoul_Desc_1 = "Your corruption weakens your connection to the astral soul preventing you from gaining much extra essence.";
LNG.en.l10nStrings.Ability_ChannelTheAstralSoul_Desc_2 = "Your corruption significantly weakens your connection to the astral soul almost preventing you from gaining extra essence.";
LNG.en.l10nStrings.Ability_ChannelTheAstralSoul_Desc_3 = "Your corruption almost completely disrupts your connection to the astral soul. You barely gain any extra essence.";
LNG.en.l10nStrings.Ability_ChannelTheAstralSoul_Desc_4 = "The corruption actively seeks to disrupt your connection to the astral soul, you gain almost nothing from the extraction.";
/* ------------------------Functions---------------------------*/
setup.Ability.ChannelTheAstralSoul = new Ability("Ability_ChannelTheAstralSoul",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.PURITY,
    grade: setup.AbilityGrade.LOW,

    description:function(character)
    {
        switch(setup.getCorruptionTier(character))
        {
            case 0:
                return LNG.LocaleCap('Ability_ChannelTheAstralSoul_Desc_0', {Name:character.info.name});
            case 1:
                return LNG.LocaleCap('Ability_ChannelTheAstralSoul_Desc_1', {Name:character.info.name});
            case 2:
                return LNG.LocaleCap('Ability_ChannelTheAstralSoul_Desc_2', {Name:character.info.name});
            case 3:
                return LNG.LocaleCap('Ability_ChannelTheAstralSoul_Desc_3', {Name:character.info.name});
            case 4:
            default:
                return LNG.LocaleCap('Ability_ChannelTheAstralSoul_Desc_4', {Name:character.info.name});
        }
    },

    unlockCondition: function(character){
        return State.variables.Level >= 3
    }

});


setup.Ability.ChannelTheAstralSoul.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_GAIN_CORRUPTION,
    function(abilityRuntimeData, abilityParams)
    {
        switch(setup.getCorruptionTier(abilityParams.self))
        {
            case 0:
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.20)};
                break;
            case 1:
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.15)};
                break;
            case 2:
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.10)};
                break;
            case 3:
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.05)};
                break;
            case 4:
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.01)};
                break;
            default:
                abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.01)};
                break;
        }
    }
);
/* twine-user-script #19: "Ability_CockRingOfTheBind.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_CockRingOfTheBind_Name = "Cock Ring of the Bind";
LNG.en.l10nStrings.Ability_CockRingOfTheBind_Desc = "You can feel The Bind's presence within your cock. Grows your strength, muscles, cock, and balls after every battle. Unlocks the '{fightName}' Fight Move.";

/* ------------------------Functions---------------------------*/
setup.Ability.CockRingOfTheBind = new Ability("Ability_CockRingOfTheBind",
{
    maxRank: 10,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            fightName: setup.FightMove.AbsorbEssence.name,
        };
        return LNG.LocaleCap('Ability_CockRingOfTheBind_Desc', args);
    },

});

setup.Ability.CockRingOfTheBind.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.AbsorbEssence.id]}
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
        }
    }
);

setup.Ability.CockRingOfTheBind.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        let currentStrength = 0;
        if(abilityRuntimeData.modifier.strengthMods != undefined)
        {
            currentStrength = abilityRuntimeData.modifier.strengthMods.value;
        }
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: currentStrength + setup.getRankGrowth(abilityRuntimeData, "linear", 1)}

        let currentMuscles = 0;
        if(abilityRuntimeData.modifier.musclesMods != undefined)
        {
            currentMuscles = abilityRuntimeData.modifier.musclesMods.value;
        }
        abilityRuntimeData.modifier.musclesMods = {mod: setup.mod.ADD, value: currentMuscles + setup.getRankGrowth(abilityRuntimeData, "linear", 2)}

        let currentCock = 0;
        if(abilityRuntimeData.modifier.cockMods != undefined)
        {
            currentCock = abilityRuntimeData.modifier.cockMods.value;
        }
        abilityRuntimeData.modifier.cockMods = {mod: setup.mod.ADD, value: currentCock + setup.getRankGrowth(abilityRuntimeData, "linear", 1)}

        let currentBalls = 0;
        if(abilityRuntimeData.modifier.ballsMods != undefined)
        {
            currentBalls = abilityRuntimeData.modifier.ballsMods.value;
        }
        abilityRuntimeData.modifier.ballsMods = {mod: setup.mod.ADD, value: currentBalls + setup.getRankGrowth(abilityRuntimeData, "linear", 0.3)}
    }
);
/* twine-user-script #20: "Ability_CodexPassion.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_CodexPassion_Name = "Codex's Passion";
LNG.en.l10nStrings.Ability_CodexPassion_Desc_Default = "Heals you for a portion of your health when using a Fight Skill that does no damage";
LNG.en.l10nStrings.Ability_CodexPassion_Desc = "Using a Fight Skill that does no damage heals you for {potency}% health, decreased by corruption level";

/* ------------------------Functions---------------------------*/
setup.Ability.CodexPassion = new Ability("Ability_CodexPassion",
{
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.PURITY,
    grade: setup.AbilityGrade.LOW,
    maxRank: 5,
    rankPotency: [
        0,
        2,
        5,
        10,
        12,
        15
    ],

    description:function(character, abilityRuntimeData)
    {
        if(abilityRuntimeData == undefined)
        {
            return LNG.LocaleCap('Ability_CodexPassion_Desc_Default');
        }
        else
        {
            let args = {
                potency: this.rankPotency[abilityRuntimeData.rank],
            }
            return LNG.LocaleCap('Ability_CodexPassion_Desc', args);
        }
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 4) && ((setup.getStatValue(character, "corruption") <= setup.CorruptionComparators.PURE))
    },

});

setup.Ability.CodexPassion.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_DO_DAMAGELESS_ATTACK,
    function(abilityRuntimeData, abilityParams)
    {
        let corruption = setup.getStatValue(abilityParams.self, "corruption");
        let percentLost = 0;

        if (corruption > setup.CorruptionComparators.NEUTRAL)
        {
            percentLost = 1.0;
            return "";
        }
        else if (corruption > setup.CorruptionComparators.PURE )
        {
            percentLost = (corruption - setup.CorruptionComparators.PURE)/(setup.CorruptionComparators.NEUTRAL - setup.CorruptionComparators.PURE);
        }

        let healPercent = setup.Ability.CodexPassion.rankPotency[abilityRuntimeData.rank]/100.0;
        let maxHP = setup.getStatValue(abilityParams.self, "hp");

        let healPoints = Math.round( (healPercent*(1.0-percentLost)) * maxHP);
        let heal = setup.getRankGrowth(abilityRuntimeData, "linear", 2);

        if(heal > 0)
        {
            abilityParams.self.fight.variables.currentHP = Math.min(abilityParams.self.fight.variables.currentHP + heal, maxHP);
            let displayString = "Your soul resonates within you, healing you for <span style='color:#46c546;'>"+ heal + "</span> health.";
            if (percentLost > 0)
            {
                displayString += " But your corruption consumed " + Math.round(percentLost*100.0) + "% of your healing potential...";
            }
            return displayString;
        }
    },
);

/* twine-user-script #21: "Ability_CollarOfTheBind.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_CollarOfTheBind_Name = "Collar of the Bind";
LNG.en.l10nStrings.Ability_CollarOfTheBind_Desc = "You can feel The Bind's presence within your soul. Unlocks the 'Essence Surge' Fight Move.";
/* ------------------------Functions---------------------------*/
setup.Ability.CollarOfTheBind = new Ability("Ability_CollarOfTheBind",
{
    maxRank: 10,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.03},
        essenceMultiplierMods: {mod: setup.mod.REMOVE, value: 0.01}
    },
});

setup.Ability.CollarOfTheBind.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.AbsorbEssence.id]}
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
        }
    }
);
/* twine-user-script #22: "Ability_CorruptedStrength.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_CorruptedStrength_Name = "Corrupted Strength";
LNG.en.l10nStrings.Ability_CorruptedStrength_Desc = "Corruption courses through you, adds 20% of your Corruption to your Strength. This effect last until the end of the encounter.";
/* ------------------------Functions---------------------------*/
setup.Ability.CorruptedStrength = new Ability("Ability_CorruptedStrength",
{
    filter: setup.AbilityFilter.STATUSEFFECT,
});

setup.Ability.CorruptedStrength.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams){

        var strength = Math.ceil(setup.getStatValue(abilityParams.self, "corruption", "Ability_CorruptedStrength") * 0.2);
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", strength)};
    }
);

setup.Ability.CorruptedStrength.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #23: "Ability_CorruptionInhibitor.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_CorruptionInhibitor_Name = "Corruption Inhibitor";
LNG.en.l10nStrings.Ability_CorruptionInhibitor_Desc = "You have drank the Herald's Corruption Inhibitor.";

/* ------------------------Functions---------------------------*/
setup.Ability.CorruptionInhibitor = new Ability("Ability_CorruptionInhibitor",
{
    filter: setup.AbilityFilter.ALTERATION,
});

setup.Ability.CorruptionInhibitor.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.corruptionMods = {mod: setup.mod.MULTIPLYNEG, value: 0.2};
    }
);
/* twine-user-script #24: "Ability_BlueStar.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_BlueStar_Name = "Adaptation of the Blue Star";
LNG.en.l10nStrings.Ability_BlueStar_Desc = "The distant Blue Star is forcing evolution across the land.";

/* ------------------------Functions---------------------------*/
setup.Ability.BlueStar = new Ability("Ability_BlueStar",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    sortRank: 4,
});

setup.Ability.BlueStar.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
    }
);

setup.Ability.BlueStar.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_STAT_CHANGE + setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
        {setup.Stars.updateStarBehaviour(abilityRuntimeData, abilityParams, setup.Stars.Types.BLUE_STAR);}
);
/* twine-user-script #25: "Ability_GoldenStar.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_GoldenStar_Name = "Power of the Golden Star";
LNG.en.l10nStrings.Ability_GoldenStar_Desc = "The distant Golden Star empowers physical might with its gaze.";

/* ------------------------Functions---------------------------*/
setup.Ability.GoldenStar = new Ability("Ability_GoldenStar",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    sortRank: 4,
});

setup.Ability.GoldenStar.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = true;
    }
);

setup.Ability.GoldenStar.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_STAT_CHANGE + setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
        {setup.Stars.updateStarBehaviour(abilityRuntimeData, abilityParams, setup.Stars.Types.GOLDEN_STAR);}
);
/* twine-user-script #26: "Ability_GreenStar.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_GreenStar_Name = "Tenacity of the Green Star";
LNG.en.l10nStrings.Ability_GreenStar_Desc = "The distant Green Star reinforces the tenacity of those it sees.";

/* ------------------------Functions---------------------------*/
setup.Ability.GreenStar = new Ability("Ability_GreenStar",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    sortRank: 4,
});

setup.Ability.GreenStar.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
    }
);

setup.Ability.GreenStar.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_STAT_CHANGE + setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
        {setup.Stars.updateStarBehaviour(abilityRuntimeData, abilityParams, setup.Stars.Types.GREEN_STAR);}
);
/* twine-user-script #27: "Ability_RedStar.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_RedStar_Name = "Ferocity of the Red Star";
LNG.en.l10nStrings.Ability_RedStar_Desc = "The distant Red Star spurs increased agression and ferocity with its agitating presence.";

/* ------------------------Functions---------------------------*/
setup.Ability.RedStar = new Ability("Ability_RedStar",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    sortRank: 4,
});

setup.Ability.RedStar.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
    }
);

setup.Ability.RedStar.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_STAT_CHANGE + setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
        {setup.Stars.updateStarBehaviour(abilityRuntimeData, abilityParams, setup.Stars.Types.RED_STAR);}
);
/* twine-user-script #28: "Ability_Stars_scripts.js" */
/* Declare globals for Eslint */
/* global setup, State*/

/* -------------------------------- */
/* STAR BONUS CHANGE */
/* -------------------------------- */

const STAR_BONUS_TBL = {
	PRE_: "STAR_BONUS_",
	_LBL: "_LABEL",
	_STAT: "_STAT",
	_MIN: "_MIN",
	_ADD: "_ADD",
	_BONUS: "_BONUS",
	PLAY: "PLAY",
	OTHER: "OTHER"
}

const STAR_BONUS_TGTS = [
	STAR_BONUS_TBL.PLAY,
	STAR_BONUS_TBL.OTHER,
]

setup.initModifyStarBonusParams = function()
{
	State.temporary.ModifyStarBonusParams = {
		tgt: {},
		rank: {
			max: setup.Stars.MAX_RANK,
			min: setup.Stars.MIN_RANK,
		}
	};
	State.temporary.ModifyStarBonusParams.tgt[STAR_BONUS_TBL.PLAY] = setup.Stars.variables.rank_self;
	State.temporary.ModifyStarBonusParams.tgt[STAR_BONUS_TBL.OTHER] = setup.Stars.variables.rank_others;
}

setup.saveModifyStarBonusParams = function(ModifyStarBonusParams)
{
	setup.Stars.variables.rank_self = ModifyStarBonusParams.tgt[STAR_BONUS_TBL.PLAY];
	setup.Stars.variables.rank_others = ModifyStarBonusParams.tgt[STAR_BONUS_TBL.OTHER];

	/* Broadcast a Stat Change to update the star's effects. */
	var params =
	{
		trigger: setup.AbilityTrigger.ON_STAT_CHANGE,
		self: State.variables.CharacterSheet_Player,
	}
    setup.AbiHndlr.broadcastAbilityTrigger(State.variables.CharacterSheet_Player, params);
}

function onClickStarBonusChange(mod, id)
{
	var paramNum;
	/* Get Number */
	paramNum = State.temporary.ModifyStarBonusParams.tgt[id];

	/* Check */
	if (mod == setup.mod.ADD)
	{
		if(paramNum < State.temporary.ModifyStarBonusParams.rank.max)
		{
			paramNum++;
		}
	}
	else if (mod == setup.mod.REMOVE)
	{
		if(paramNum > State.temporary.ModifyStarBonusParams.rank.min)
		{
			paramNum--;
		}
	}

	/* Assign Number */
	State.temporary.ModifyStarBonusParams.tgt[id] = paramNum;
	setup.refreshStarBonusTable();
}

setup.refreshStarBonusTable = function(fullRefresh=false)
{
	let params = State.temporary.ModifyStarBonusParams;
	var playerStatCell = document.getElementById(STAR_BONUS_TBL.PRE_ + STAR_BONUS_TBL.PLAY + STAR_BONUS_TBL._STAT);
	var otherStatCell = document.getElementById(STAR_BONUS_TBL.PRE_ + STAR_BONUS_TBL.OTHER + STAR_BONUS_TBL._STAT);

	playerStatCell.innerHTML = params.tgt[STAR_BONUS_TBL.PLAY] + "x";
	otherStatCell.innerHTML = params.tgt[STAR_BONUS_TBL.OTHER] + "x";

	let essDiv = document.getElementById(STAR_BONUS_TBL.PRE_ + "ESS");
	let expDiv = document.getElementById(STAR_BONUS_TBL.PRE_ + "EXP");

	let diff = (params.tgt[STAR_BONUS_TBL.OTHER] - params.tgt[STAR_BONUS_TBL.PLAY]);

	let prefix = (diff > 0) ? "+":"";

	essDiv.innerHTML = prefix + Math.round(setup.Stars.getEssMultCalc(diff)*100) + "% ESSENCE MULTIPLIER";

	expDiv.innerHTML = prefix + Math.round(setup.Stars.getExpMultCalc(diff)*100) + "% EXPERIENCE MULTIPLIER"

	let activeStar = setup.Stars.getTodaysStar();

	/* Update Button interactivity */
	STAR_BONUS_TGTS.forEach( tgtId =>{
		let addBtn = document.getElementById(STAR_BONUS_TBL.PRE_ + tgtId + STAR_BONUS_TBL._ADD);
		let minBtn = document.getElementById(STAR_BONUS_TBL.PRE_ + tgtId + STAR_BONUS_TBL._MIN);

		if ( params.tgt[tgtId] > params.rank.min)
			{minBtn.classList.remove("inactive");}
		else
			{minBtn.classList.add("inactive");}

		if ( params.tgt[tgtId] < params.rank.max)
			{addBtn.classList.remove("inactive");}
		else
			{addBtn.classList.add("inactive");}

		/* Update example */
		let exampleCell = document.getElementById(STAR_BONUS_TBL.PRE_ + tgtId + STAR_BONUS_TBL._BONUS);
		let displayString = (params.tgt[tgtId] > 0) ? "+": "";
		displayString += Math.round((params.tgt[tgtId]*0.2)*100) + "% " + setup.Stars.getStarStatUpperStr(activeStar);
		exampleCell.innerHTML = displayString;
	});


	/* Update the labels */
	let playerLabelCell = document.getElementById(STAR_BONUS_TBL.PRE_ + STAR_BONUS_TBL.PLAY + STAR_BONUS_TBL._LBL);
	let otherLabelCell = document.getElementById(STAR_BONUS_TBL.PRE_ + STAR_BONUS_TBL.OTHER + STAR_BONUS_TBL._LBL);

	if(params.tgt[STAR_BONUS_TBL.PLAY] >= 0)
		{playerLabelCell.innerHTML = "Blessing for You and Your Allies";}
	else
		{playerLabelCell.innerHTML = "Curse for You and Your Allies";}

	if(params.tgt[STAR_BONUS_TBL.OTHER] >= 0)
		{otherLabelCell.innerHTML = "Blessing for Your Enemies";}
	else
		{otherLabelCell.innerHTML = "Curse for Your Enemies";}
}

setup.getStarBonusTable = function(elementId)
{
	let div = document.getElementById(elementId);

	let tbl = document.createElement("TABLE");
	tbl.classList.add("ModifyStarBonusTable");
	div.appendChild(tbl);


	/* Header */
	let hdr = tbl.createTHead();
	hdr.insertRow(-1).insertCell(-1).innerHTML = "Star Bonus"

	let essDiv = hdr.insertRow(-1).insertCell(-1);
	essDiv.id = STAR_BONUS_TBL.PRE_ + "ESS";

	let expDiv = hdr.insertRow(-1).insertCell(-1);
	expDiv.id = STAR_BONUS_TBL.PRE_ + "EXP";

	/* Body */
	let bdy = tbl.createTBody();
	let nameRow = bdy.insertRow(-1);

	nameRow.insertCell(-1); /* Label */
	//nameRow.insertCell(-1); /* Addbtn */
	let statHdr = nameRow.insertCell(-1); /* Stats */
	//nameRow.insertCell(-1); /* minBtn */
	let exampleHdr = nameRow.insertCell(-1); /* Example/bonus */

	statHdr.innerHTML = "Blessing Multiplier";
	statHdr.colSpan = 3;
	exampleHdr.innerHTML = "Current Star Bonus";

	STAR_BONUS_TGTS.forEach( tgt =>
	{
		var row = bdy.insertRow(-1);
		row.classList.add("ModifyStarBonusRow");

		var lblCell = row.insertCell(-1)
		let addCell = row.insertCell(-1);
		var statCell = row.insertCell(-1);
		let minCell = row.insertCell(-1);
		let bonusCell = row.insertCell(-1);

		let addBtn = document.createElement("BUTTON");
		let minBtn = document.createElement("BUTTON");

		lblCell.id = STAR_BONUS_TBL.PRE_ + tgt + STAR_BONUS_TBL._LBL;
		lblCell.classList.add("ModifyStarBonusElementStatName");

		statCell.id = STAR_BONUS_TBL.PRE_ + tgt  + STAR_BONUS_TBL._STAT;
		statCell.classList.add("ModifyStarBonusElementRight");
		statCell.innerHTML = "1x";

		addBtn.id = STAR_BONUS_TBL.PRE_ + tgt  + STAR_BONUS_TBL._ADD;
		addBtn.onclick = function(){onClickStarBonusChange(setup.mod.ADD, tgt)};
		addBtn.innerHTML = "+";
		addBtn.style.textAlign = "right";

		addCell.classList.add("ModifyStarBonusElementRight");
		addCell.appendChild(addBtn);


		minBtn.id = STAR_BONUS_TBL.PRE_ + tgt  + STAR_BONUS_TBL._MIN;
		minBtn.onclick = function(){onClickStarBonusChange(setup.mod.REMOVE, tgt)};
		minBtn.innerHTML = "-";
		minBtn.style.textAlign = "left";

		minCell.classList.add("ModifyStarBonusElementRight");
		minCell.appendChild(minBtn);

		bonusCell.id = STAR_BONUS_TBL.PRE_ + tgt  + STAR_BONUS_TBL._BONUS;
	});

	setup.refreshStarBonusTable(true);
}

/* --------------------------------------------------*/
/* Active Star Change */
/* --------------------------------------------------*/

const STAR_CHANGE_TABLE = {
    PRE_: "STAR_CHANGE_",
	_TYPE: "_TYPE",
	_STAT: "_STAT",
	_VAL: "_VALUE",
	_ADD: "_ADD",
	_MIN: "_MINUS",
    _DAY: "_DAYS",
}

setup.initActiveStarParams = function()
{
	State.temporary.ModifyActiveStarParams =
	{
		star: setup.Stars.Types.NONE_STAR,
		max: [],
		days: [],
	}

	for (let i0 = 0; i0 < setup.Stars.NUM_STARS; i0++)
	{
		let max_time = setup.Stars.getOverrideStarMaxTime(i0);
		State.temporary.ModifyActiveStarParams.max.push(max_time);
		State.temporary.ModifyActiveStarParams.days.push(max_time);
	}
}

function onClickActiveStarDaysChange (mod, starCode)
{
    let params = State.temporary.ModifyActiveStarParams;
    let changeVal = 1;

    switch (mod)
    {
        default:
        case setup.mod.ADD:
            params.days[starCode] = Math.min(params.max[starCode], params.days[starCode] + changeVal);
            break;
        case setup.mod.REMOVE:
            params.days[starCode] = Math.max(0, params.days[starCode] - changeVal);
            break;
    }
    updateActiveStarTable();
}

function updateActiveStarTable (fullRefresh=false)
{
    let params = State.temporary.ModifyActiveStarParams;
    let tbl = document.getElementById(STAR_CHANGE_TABLE.PRE_ + "TABLE");

    for (let i0 = 0; i0 < tbl.rows.length; ++i0)
    {
        let row = tbl.rows[i0];
        let starCode = row.starCode;
        if (starCode == undefined)
            {continue;}

        let statEle = row.querySelector(`[id$=`+STAR_CHANGE_TABLE._STAT+`]`);
        let valEle = row.querySelector(`[id$=`+STAR_CHANGE_TABLE._VAL+`]`);
        let addBtn = row.querySelector(`[id$=`+STAR_CHANGE_TABLE._ADD+`]`);
        let minBtn = row.querySelector(`[id$=`+STAR_CHANGE_TABLE._MIN+`]`);
        let daysEle = row.querySelector(`[id$=`+STAR_CHANGE_TABLE._DAY+`]`);

        let maxTime = setup.Stars.getOverrideStarMaxTime(starCode);

        if (maxTime <= 0)
        {
            statEle.classList.add("inactive");
            valEle.innerHTML = setup.Stars.getPickReason(starCode);
            addBtn.classList.add("inactive");
            minBtn.classList.add("inactive");
        }
        else
        {
            statEle.classList.remove("inactive");
            valEle.innerHTML = setup.Stars.getOverrideStarCost(params.days[starCode]) + " Ess";

            if (params.days[starCode] > 0)
                {minBtn.classList.remove("inactive");}
            else
                {minBtn.classList.add("inactive");}

            if (params.days[starCode] < params.max[starCode])
                {addBtn.classList.remove("inactive");}
            else
                {addBtn.classList.add("inactive");}
        }

        daysEle.innerHTML = params.days[starCode] + " Days";

        if(fullRefresh)
        {
            let typeEle = row.querySelector(`[id$=`+STAR_CHANGE_TABLE._TYPE+`]`);

            let starNav = "[["+setup.Stars.getStarName(starCode)+"->Stars_changeStar_outro][setup.Stars.setOverrideStar("+starCode+",_ModifyActiveStarParams.days["+starCode+"])]]";
            $(statEle).wiki(starNav);

            typeEle.innerHTML = setup.Stars.getStarStatUpperStr(starCode);
        }
    }
}

setup.getActiveStarTable = function(elementId)
{
    let div = document.getElementById(elementId);

    let tbl = document.createElement("TABLE");
    tbl.id = STAR_CHANGE_TABLE.PRE_ + "TABLE";
	tbl.classList.add("ModifyActiveStarTable");
	div.appendChild(tbl);

    let tBody = tbl.createTBody();
    for (let i0 = 0; i0 < setup.Stars.NUM_STARS; i0++)
	{
        let row = tBody.insertRow(-1);
        row.classList.add("ModifyActiveStarRow");
        row.starCode = i0;

        let statEle = row.insertCell(-1);
        let typeEle = row.insertCell(-1);
        let valEle = row.insertCell(-1);
        let addEle = row.insertCell(-1);
        let daysEle = row.insertCell(-1);
        let minEle = row.insertCell(-1);

        statEle.id = STAR_CHANGE_TABLE.PRE_ + i0 + STAR_CHANGE_TABLE._STAT;
        statEle.classList.add("ModifyActiveStarElementStatName");

        typeEle.id = STAR_CHANGE_TABLE.PRE_ + i0 + STAR_CHANGE_TABLE._TYPE;
        typeEle.classList.add("ModifyActiveStarElementStatType");

        valEle.id = STAR_CHANGE_TABLE.PRE_ + i0 + STAR_CHANGE_TABLE._VAL;
        valEle.classList.add("ModifyActiveStarElementStatValue");

        let addBtn = document.createElement("BUTTON");
        addBtn.id = STAR_CHANGE_TABLE.PRE_ + i0 + STAR_CHANGE_TABLE._ADD;
        addBtn.onclick = function(){onClickActiveStarDaysChange(setup.mod.ADD, i0)};
        addBtn.innerHTML = "+";

        addEle.appendChild(addBtn);
        addEle.classList.add("ModifyActiveStarElementSymbolRight");

        let minBtn = document.createElement("BUTTON");
        minBtn.id = STAR_CHANGE_TABLE.PRE_ + i0 + STAR_CHANGE_TABLE._MIN;
        minBtn.onclick = function(){onClickActiveStarDaysChange(setup.mod.REMOVE, i0)};
        minBtn.innerHTML = "-";

        minEle.appendChild(minBtn);
        minEle.classList.add("ModifyActiveStarElementSymbolRight");

        daysEle.id = STAR_CHANGE_TABLE.PRE_ + i0 + STAR_CHANGE_TABLE._DAY;
        daysEle.classList.add("ModifyActiveStarElementRight");
    }

    updateActiveStarTable(true);
}
/* twine-user-script #29: "Ability_DeadlyAim.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_DeadlyAim_Name = "Deadly Aim";
LNG.en.l10nStrings.Ability_DeadlyAim_Desc = "When you strike, you make sure it counts. Your crit chance is increased by {pct}%"

/* ------------------------Functions---------------------------*/
setup.Ability.DeadlyAim = new Ability("Ability_DeadlyAim",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.VERYLOW,

    rankMods: {
        critChanceMods: {mod: setup.mod.ADD, value: 7},
    },
    rankModTrigger: setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_STAT_CHANGE,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            pct: setup.getRankGrowth(abilityRuntimeData, "linear", 7),
        };
        return LNG.LocaleCap('Ability_DeadlyAim_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 1)
    },

});
/* twine-user-script #30: "Ability_Defiler.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Defiler_Name = "Defiler";
LNG.en.l10nStrings.Ability_Defiler_Desc = "Gain {strPct}% Strength when fighting enemies with less than {corr} Corruption."

/* ------------------------Functions---------------------------*/
setup.Ability.Defiler = new Ability("Ability_Defiler",
{
    maxRank: 10,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            strPct: setup.getRankGrowth(abilityRuntimeData, "linear", 5),
            corr: setup.CorruptionComparators.TAINTED,
        };
        return LNG.LocaleCap('Ability_Defiler_Desc', args);
    },
});


setup.Ability.Defiler.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
    {
        if(setup.getStatValue(abilityParams.target, "corruption") < setup.CorruptionComparators.TAINTED)
        {
            abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.MULTIPLYPOS, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.05)};
        }
    }
);

setup.Ability.Defiler.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
    }
);
/* twine-user-script #31: "Ability_DemonicCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_DemonicCorruption_Name = "Minor Demon";
LNG.en.l10nStrings.Ability_DemonicCorruption_Desc = "Demonic powers flickers within you.";

/* ------------------------Functions---------------------------*/
setup.Ability.DemonicCorruption = new Ability("Ability_DemonicCorruption",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        musclesMods: {mod: setup.mod.ADD, value: 10},
        heightMods: {mod: setup.mod.ADD, value: 6},
        cockMods: {mod: setup.mod.ADD, value: 5},
        ballsMods: {mod: setup.mod.ADD, value: 2},
        arousalGainMods: {mod: setup.mod.ADD, value: 3},
        maxStaminaMods: {mod: setup.mod.ADD, value: 4},
        corruptionMods: {mod: setup.mod.ADD, value: 30},
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 1)
    },

    nextAbilityID: "Ability_DemonicCorruption_2",
    upgradeConditionFunction: function(abilityRuntimeData, character){
        return (setup.canRank(abilityRuntimeData) == false)
    },
});


/* twine-user-script #32: "Ability_DemonicCorruption_2.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_DemonicCorruption_2_Name = "Major Demon";
LNG.en.l10nStrings.Ability_DemonicCorruption_2_Desc = "Demonic powers flow through you. Can use {fightMove}";

/* ------------------------Functions---------------------------*/
setup.Ability.DemonicCorruption_2 = new Ability("Ability_DemonicCorruption_2",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 9},
        maxStaminaMods: {mod: setup.mod.ADD, value: 10},
        maxHPMods: {mod: setup.mod.ADD, value: 5},
        musclesMods: {mod: setup.mod.ADD, value: 15},
        heightMods: {mod: setup.mod.ADD, value: 16},
        cockMods: {mod: setup.mod.ADD, value: 12},
        ballsMods: {mod: setup.mod.ADD, value: 4},
        corruptionMods: {mod: setup.mod.ADD, value: 45},
    },

    description:function(character)
    {
        let args = {
            fightMove: setup.FightMove.IncubusCall.name,
        }
        return LNG.LocaleCap('Ability_DemonicCorruption_2_Desc', args);
    },

    nextAbilityID: "Ability_DemonicCorruption_3",
    upgradeConditionFunction: function(abilityRuntimeData, character){
        return (setup.canRank(abilityRuntimeData) == false)
    },
});

setup.Ability.DemonicCorruption_2.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.IncubusCall.id]}
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
        }
    }
);
/* twine-user-script #33: "Ability_DemonicCorruption_3.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_DemonicCorruption_3_Name = "Lord of Lust";
LNG.en.l10nStrings.Ability_DemonicCorruption_3_Desc = "You are one with your demonic powers."
    + "Can use {fightMove1} and {fightMove2}."
/* ------------------------Functions---------------------------*/
setup.Ability.DemonicCorruption_3 = new Ability("Ability_DemonicCorruption_3",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 15},
        maxStaminaMods: {mod: setup.mod.ADD, value: 15},
        maxHPMods: {mod: setup.mod.ADD, value: 10},
        musclesMods: {mod: setup.mod.ADD, value: 30},
        heightMods: {mod: setup.mod.ADD, value: 32},
        cockMods: {mod: setup.mod.ADD, value: 18},
        ballsMods: {mod: setup.mod.ADD, value: 6},
        corruptionMods: {mod: setup.mod.ADD, value: 60},
    },

    description:function(character)
    {
        let args = {
            fightMove1: setup.FightMove.IncubusCall.name,
            fightMove2: setup.FightMove.IncubusStrike.name,
        }
        return LNG.LocaleCap('Ability_DemonicCorruption_3_Desc', args);
    },

});

setup.Ability.DemonicCorruption_3.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.IncubusCall.id, setup.FightMove.IncubusStrike.id]}
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
        }
    }
);
/* twine-user-script #34: "Ability_DemonicEssenceShard.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_DemonicEssenceShard_Name = "Demonic Essence Shard";
LNG.en.l10nStrings.Ability_DemonicEssenceShard_Desc = "You carry a shard of demonic Essence. It is said to repel minimally concentrated Corruption.";

/* ------------------------Functions---------------------------*/
setup.Ability.DemonicEssenceShard = new Ability("Ability_DemonicEssenceShard",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        maxStaminaMods: {mod: setup.mod.ADD, value: 5},
    },
});
/* twine-user-script #35: "Ability_Disciplined.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Disciplined_Name = "Disciplined";
LNG.en.l10nStrings.Ability_Disciplined_Desc = "Gain {pct}% Strength when fighting enemies with more than {corr} Corruption."

/* ------------------------Functions---------------------------*/
setup.Ability.Disciplined = new Ability("Ability_Disciplined",
{
    filter: setup.AbilityFilter.ALTERATION,
    description:function(character, abilityRuntimeData)
    {
        let args = {
            pct: setup.getRankGrowth(abilityRuntimeData, "linear", 5),
            corr: setup.CorruptionComparators.TAINTED,
        };
        return LNG.LocaleCap('Ability_Disciplined_Desc', args);
    },
    maxRank: 10
});


setup.Ability.Disciplined.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
    {
        if(setup.getStatValue(abilityParams.target, "corruption") > setup.CorruptionComparators.TAINTED)
        {
            abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.MULTIPLYPOS, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.05)};
        }
    }
)

setup.Ability.Disciplined.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
    }
);
/* twine-user-script #36: "Ability_DracosOmnipotence.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_DracosOmnipotence_Name = "Draco's Omnipotence";
LNG.en.l10nStrings.Ability_DracosOmnipotence_Desc = "Whenever you reach max arousal, you gain size based on {gainAmount} of essence you have."
LNG.en.l10nStrings.Ability_DracosOmnipotence_Activate = "You pulse with the power of gods. The Essence within fills you with the power to rule over all.";
/* ------------------------Functions---------------------------*/
setup.Ability.DracosOmnipotence = new Ability("Ability_DracosOmnipotence",
{
    maxRank: 10,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.GROWTH,
    grade: setup.AbilityGrade.VERYHIGH,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            gainAmount: setup.getRankGrowth(abilityRuntimeData, "linear", 1)+"x the amount",
        }
        return LNG.LocaleCap('Ability_DracosOmnipotence_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 20);
    },
});


setup.Ability.DracosOmnipotence.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_MAX_LUST,
    function(abilityRuntimeData, abilityParams)
    {
        var self = abilityParams.self;

        var cockGrowth = setup.applyGrowth(self, "cock", Math.round(State.variables.Essence * setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 3));
        var ballsGrowth = setup.applyGrowth(self, "balls", Math.round(State.variables.Essence * setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 9));
        var muscleGrowth = setup.applyGrowth(self, "muscles", Math.round(State.variables.Essence * setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 4.5));
        var sizeGrowth = setup.applyGrowth(self, "height", Math.round(State.variables.Essence * setup.getRankGrowth(abilityRuntimeData, "linear", 1)));

        var displayString = LNG.LocaleCap('Ability_DracosOmnipotence_Activate');
        displayString += " " + setup.growthFlavourDescriptors(self, abilityParams.target, cockGrowth, ballsGrowth, muscleGrowth, sizeGrowth);

        return displayString;
    },
);
/* twine-user-script #37: "Ability_EchoForm.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_EchoForm_Name = "Symbiote Form";
LNG.en.l10nStrings.Ability_EchoForm_Desc = "{SymName}'s power flows through {p_POSS} body.";
LNG.en.l10nStrings.Ability_EchoForm_Activate = "Arousal overtakes {p_SUBJ}. A thick {symColour} goo emerges from {p_POSS} pores."
    + " {p_SUBJ} turn{s} into a massive muscular {symColour} {symRace}.";
LNG.en.l10nStrings.Ability_EchoForm_End = "{p_SUBJ} revert{s} back to {p_POSS} {Race} form";

/* ------------------------Functions---------------------------*/
setup.Ability.EchoForm = new Ability("Ability_EchoForm",
{
    maxRank: 2,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character){
        let args = setup.DESC.getLocaleArgs(character);
        args.SymName =  character.symbiote.info.name;
        return LNG.LocaleCap('Ability_EchoForm_Desc', args);
    },
});

setup.Ability.EchoForm.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
        abilityRuntimeData.blackboard = {
            formActive: false
        };
    },
);


setup.Ability.EchoForm.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_MAX_LUST,
    function(abilityRuntimeData, abilityParams)
    {
        if (!abilityRuntimeData.blackboard.formActive)
        {
            abilityRuntimeData.blackboard.formActive = true;

            let hpMod = 25;
            let stamMod = 5;
            abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.ADD, value: hpMod}
            abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: stamMod}
            abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: 10}
            abilityRuntimeData.modifier.critChanceMods = {mod: setup.mod.ADD, value: 10}
            abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.REPLACE, value: -17}
            abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.Goo_Stun.id]}

            if(abilityRuntimeData.rank > 1)
            {
                abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.MULTIPLYPOS, value: 0.4}
                abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.MULTIPLYPOS, value: 0.3}
                abilityRuntimeData.modifier.musclesMods = {mod: setup.mod.MULTIPLYPOS, value: 0.4}
                abilityRuntimeData.modifier.heightMods = {mod: setup.mod.MULTIPLYPOS, value: 0.4}
                abilityRuntimeData.modifier.cockMods = {mod: setup.mod.MULTIPLYPOS, value: 0.4}
                abilityRuntimeData.modifier.ballsMods = {mod: setup.mod.MULTIPLYPOS, value: 0.4}
                abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.TendrilsGrasp.id]}
            }

            abilityParams.self.fight.variables.currentHP = Math.min(abilityParams.self.fight.variables.currentHP + hpMod, setup.getMaxHP(abilityParams.self));
            abilityParams.self.fight.variables.currentStamina = Math.min(abilityParams.self.fight.variables.currentStamina + stamMod, setup.getMaxStamina(abilityParams.self));

            let args = setup.DESC.getLocaleArgs(abilityParams.self);
            args.symColour = abilityParams.self.symbiote.info.colour;
            args.symRace = setup.getRaceName(abilityParams.self.symbiote);

            return LNG.LocaleCap('Ability_EchoForm_Activate', args);
        }
    }
);

setup.Ability.EchoForm.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_MIN_LUST + setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
        if (abilityRuntimeData.blackboard.formActive)
        {
            abilityRuntimeData.blackboard.formActive = false;

            let args = setup.DESC.getLocaleArgs(abilityParams.self);
            return LNG.LocaleCap('Ability_EchoForm_End', args);
        }
    }
);
/* twine-user-script #38: "Ability_EmpoweringDrink.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_EmpoweringDrink_Name = "Empowering Drink";
LNG.en.l10nStrings.Ability_EmpoweringDrink_Desc = "Torgar's powerful concoction courses through {p_OBJ}. Lasts for 4 days.";

/* ------------------------Functions---------------------------*/
setup.Ability.EmpoweringDrink = new Ability("Ability_EmpoweringDrink",{
    filter: setup.AbilityFilter.ALTERATION,
});

setup.Ability.EmpoweringDrink.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard = {};
    },
);

setup.Ability.EmpoweringDrink.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard.dayConsumed = State.variables.Expedition;

        setup.applyCorruption(abilityParams.self, 7);
        setup.applyGrowth(abilityParams.self, "muscles", 5);

        abilityRuntimeData.isActive = true;
        abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 5)};
        abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 5)};
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 3)};
    }
);

setup.Ability.EmpoweringDrink.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(State.variables.Expedition - abilityRuntimeData.blackboard.dayConsumed >= 4)
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.rank = 0;
        }
    }
);
/* twine-user-script #39: "Ability_EssenceHoarder.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_EssenceHoarder_Name = "Essence Hoarder";
LNG.en.l10nStrings.Ability_EssenceHoarder_Desc = "Every {ess} Essence within {p_OBJ} grants {p_OBJ} {incStr} Strength. (up to {maxStr})";
/* ------------------------Functions---------------------------*/
setup.Ability.EssenceHoarder = new Ability("Ability_EssenceHoarder",
{
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.MEDIUM,

    maxRank: 5,
    essCost: 200,
    maxStr: 30,
    incStr: 1,

    description: function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        args.ess = setup.getRankGrowth(abilityRuntimeData, "linear", this.essCost);
        args.incStr = setup.getRankGrowth(abilityRuntimeData, "linear", this.incStr);
        args.maxStr = setup.getRankGrowth(abilityRuntimeData, "linear", this.maxStr);

        return LNG.LocaleCap('Ability_EssenceHoarder_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 5)
    },
});

setup.Ability.EssenceHoarder.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_ESSENCE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.EssenceHoarder;
        var mod = Math.min(Math.floor(State.variables.Essence / abi.essCost) * setup.getRankGrowth(abilityRuntimeData, "linear", abi.incStr), setup.getRankGrowth(abilityRuntimeData, "linear", abi.maxStr));
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: mod}
    },
);
/* twine-user-script #40: "Ability_EssenceSurge.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_EssenceSurge_Name = "Essence Surge";
LNG.en.l10nStrings.Ability_EssenceSurge_Desc = "Absorb the Essence in the air. Grows in power the longer the fight lasts.";

/* ------------------------Functions---------------------------*/
setup.Ability.EssenceSurge = new Ability("Ability_EssenceSurge",
{
    filter: setup.AbilityFilter.STATUSEFFECT,
});

setup.Ability.EssenceSurge.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let currentValue = 0;
        if(abilityRuntimeData.modifier.strengthMods != undefined)
        {
            currentValue = abilityRuntimeData.modifier.strengthMods.value;
        }

        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: currentValue + (State.variables.FightTurn * 5)}
    }
);

setup.Ability.EssenceSurge.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #41: "Ability_EyeOfTheVoid.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_EyeOfTheVoid_Name = "Eye of the Void";
LNG.en.l10nStrings.Ability_EyeOfTheVoid_Desc = "An old relic given to you by Abel.";
/* ------------------------Functions---------------------------*/
setup.Ability.EyeOfTheVoid = new Ability("Ability_EyeOfTheVoid",
{
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    }
});
/* twine-user-script #42: "Ability_FaithsReward.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_FaithsReward_Name = "Faith's Reward";
LNG.en.l10nStrings.Ability_FaithsReward_Desc = "{p_SUBJ} gain {hp} health and {prow} prowess whenever {p_SUBJ} win a battle."
    +" That bonus is reduced by {reduce} every time {p_SUBJ} gain corruption.";

LNG.en.l10nStrings.Ability_FaithsReward_Win = "You feel the presence of something far greater approve of your victory. Strength and vigour wells up within you.";
LNG.en.l10nStrings.Ability_FaithsReward_Corrupt_0 = "A shiver runs down your spine and saps away your strength. You feel as if your actions have been judged.";
LNG.en.l10nStrings.Ability_FaithsReward_Corrupt_1 = "You feel tired. Emaciated. Famished. You have no more strength to offer as punishment for breaking your faith in purity.";
/* ------------------------Functions---------------------------*/
setup.Ability.FaithsReward = new Ability("Ability_FaithsReward",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.PURITY,
    grade: setup.AbilityGrade.HIGH,

    health: 0.5,
    prowess: 0.5,
    reduce: 1,

    description:function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        args.hp = setup.getRankGrowth(abilityRuntimeData, "linear", this.health);
        args.prow = setup.getRankGrowth(abilityRuntimeData, "linear", this.prowess);
        args.reduce = setup.getRankGrowth(abilityRuntimeData, "linear", this.reduce);
        return LNG.LocaleCap('Ability_FaithsReward_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 7)
    }
});


setup.Ability.FaithsReward.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_BATTLE_WON,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.FaithsReward;
        if(abilityRuntimeData.modifier.maxHPMods == undefined || abilityRuntimeData.modifier.maxStaminaMods == undefined){
            abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", abi.health)}
            abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", abi.prowess)}
        }else{
            let previousHPModifier = abilityRuntimeData.modifier.maxHPMods.value;
            let previousStamModifier = abilityRuntimeData.modifier.maxStaminaMods.value;
            abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.ADD, value: previousHPModifier + setup.getRankGrowth(abilityRuntimeData, "linear", abi.health)}
            abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: previousStamModifier + setup.getRankGrowth(abilityRuntimeData, "linear", abi.prowess)}
        }

        return LNG.LocaleCap('Ability_FaithsReward_Win');
    },
);

setup.Ability.FaithsReward.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.FaithsReward;
        if(abilityParams.gainedCorruption <= 0)
        {
            return;
        }

        if(abilityRuntimeData.modifier.maxHPMods != undefined && abilityRuntimeData.modifier.maxStaminaMods != undefined){

            if(abilityRuntimeData.modifier.maxHPMods.value >= 0)
            {
                abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.ADD, value: Math.max(0, abilityRuntimeData.modifier.maxHPMods.value - abi.reduce)}
                abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: Math.max(0,abilityRuntimeData.modifier.maxStaminaMods.value - abi.reduce)}

                return LNG.LocaleCap('Ability_FaithsReward_Corrupt_0');
            }
            else
            {
                return LNG.LocaleCap('Ability_FaithsReward_Corrupt_1');
            }

        }

        return "";
    }
);

/* twine-user-script #43: "Ability_Focused.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Focused_Name = "Focused";
LNG.en.l10nStrings.Ability_Focused_Desc = "Active until the end of the encounter."

/* ------------------------Functions---------------------------*/
setup.Ability.Focused = new Ability("Ability_Focused",
{
    filter: setup.AbilityFilter.STATUSEFFECT,
});

setup.Ability.Focused.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams){
        abilityRuntimeData.modifier.actionSlotsMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 1)};
    }
);

setup.Ability.Focused.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined
);

setup.Ability.Focused.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #44: "Ability_Form.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Form_Name = "Form";
LNG.en.l10nStrings.Ability_Form_Desc = "Your limbs grant natural boons";

/* ------------------------Functions---------------------------*/
setup.Ability.Form = new Ability("Ability_Form",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
});

setup.Ability.Form.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_ANATOMY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = true;
        setup.AbilityScripts.Form.assignAbilityModifiers(abilityRuntimeData, abilityParams);
    }
);
/* twine-user-script #45: "Ability_Form_scripts.js" */
/* Declare globals for Eslint */
/* global setup */

setup.AbilityScripts.Form = {};
setup.AbilityScripts.RacialBonus = {};

const CustomRacePoints = 20;
/* Default Point cost for Racial bonus is 4 */
const CustomRaceDefaultPointCost = 4;
/* Since we're linking to Form bonuses, point cost is halved on display */

/* ----------------------Translations--------------------------*/

LNG.en.l10nStrings.AbilityForm_Tbl_RaceLabel = "Name of Race";
LNG.en.l10nStrings.AbilityForm_Tbl_RaceDesc = "Racial Description";
LNG.en.l10nStrings.AbilityForm_Tbl_RaceBonus = "Racial Bonuses";

LNG.en.l10nStrings.AbilityForm_Tbl_Limb = "Limb";
LNG.en.l10nStrings.AbilityForm_Tbl_Cost = "Cost";
LNG.en.l10nStrings.AbilityForm_Tbl_Texture = "Texture (Comma, Seperated)";
LNG.en.l10nStrings.AbilityForm_Tbl_Stats = "Stats";
LNG.en.l10nStrings.AbilityForm_Tbl_Anatomy = "Anatomy";

/* ------------------General Functions--------------------------*/



setup.AbilityScripts.Form.addModifierStat = function(modifier, stat, valueMult=1)
{
    // Check the cap for this limb
    let value = (valueMult)*stat.value;
    if (stat.max_value)
    {
        value = Math.min(stat.max_value, value);
    }
    // Round, if needed
    if (stat.round_type)
    {
        value = stat.round_type(value);
    }

    if (value == 0)
    {
        return;
    }
    if(modifier[stat.type])
    {
        var index = modifier[stat.type].map( m => m.mod).indexOf(stat.mod)
        if (index >= 0)
        {
            modifier[stat.type][index].value += value;
        }
        else
        {
            modifier[stat.type].push({mod: stat.mod, value: value});
        }
    }
    // Initialize with this stat
    else
    {
        modifier[stat.type] = [{mod: stat.mod, value: value}];
    }
};
// Doesn't produce a proper modifier, but can be deep merged into one.
setup.AbilityScripts.Form.appendLimbModifier = function(modifierPartial, limbKey, limbNumber,
    {valueMult=1.0,numIsRelative=false}={})
{
    let status = setup.Anatomy.LIMB_REF[limbKey].status;
    status.forEach( stat =>
    {
        // Check this limb against DEFAULT, to get the difference
        let diffNum = (numIsRelative) ? limbNumber : limbNumber - setup.RacePool.DEFAULT.anatomy[limbKey].defaultNumber;
        if (diffNum <= 0)
        {
            return;
        }
        // Add to the collection
        setup.AbilityScripts.Form.addModifierStat(modifierPartial, stat, diffNum*valueMult);
    });
};

setup.AbilityScripts.Form.assignAbilityModifiers = function(abilityRuntimeData, abilityParams)
{
    // Clean out any past modifiers
    abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
    let character_info = abilityParams.self.info;
    for (let [key, limb] of Object.entries(character_info.anatomy))
    {
        setup.AbilityScripts.Form.appendLimbModifier(abilityRuntimeData.modifier, key, limb.number);
    }
};

setup.AbilityScripts.RacialBonus.addRacialBonus = function(abiModifier, raceId, multiplier=1, excludeList= undefined)
{
    let bonus_list = setup.RacePool[raceId].racialBonus;
    bonus_list.forEach( bonus =>
    {
        if(excludeList)
        {
            let index = excludeList.indexOf(bonus.type);
            if (index >= 0)
            {
                return;
            }
        }
        setup.AbilityScripts.Form.addModifierStat(abiModifier, bonus, multiplier);
    });
};

setup.AbilityScripts.RacialBonus.assignRacialBonuses = function(abilityRuntimeData, abilityParams, multiplier=1)
{
    abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
    {
        abilityIndex: abilityRuntimeData.abilityDataIndex
    });
    let character_info = abilityParams.self.info;
    let excludeList = character_info.ignoreRacials;

    setup.AbilityScripts.RacialBonus.addRacialBonus(abilityRuntimeData.modifier, character_info.raceId, multiplier, excludeList);

    // Add in secondary race bonuses, if it exists
    if (character_info.secondaryRaceId)
    {
        setup.AbilityScripts.RacialBonus.addRacialBonus(abilityRuntimeData.modifier, character_info.secondaryRaceId, 0.5*multiplier, excludeList);
    }
};


/*----------------------------------------------------*/
/* Custom Race Table selection                        */
/*----------------------------------------------------*/




// Local defs to avoid repeating ourselves with element ids
const CUSTRACE_TBL = {
    DIV: "CUSTRACE_TABLE_DIV",
    NAME: "CustomRaceTable",
    PRE_: "CustRaceTbl_",
    // Suffixes
    _ADD: "_add",
    _CST: "_cost",
    _SUB: "_sub",
    _STS: "_stats",
    _TXT: "_txt",
    _DES: "_desc",
    _MOD: "_MOD",
    // Full references
    PTS: "CustRaceTbl_Points",
    RACENAME: "CustRaceTbl_RaceName",
    RACEDESC: "CustRaceTbl_RaceDesc"
}

// Helper function to handle on click events for +/- on Mutant Change Table
function onClickCustRaceTblCellEvent(mod, limbKey)
{
    let params= State.variables.ModifyCustomRaceParams;

    let limb = params.anatomy[limbKey];
    let pointCost = setup.Anatomy.LIMB_REF[limbKey].mutant.pointCost;
    let changeVal = 1;
    let oldVal = limb.change_num;
    let newVal = oldVal;

    switch (mod)
    {
        default:
        case setup.mod.ADD:
            newVal += changeVal;
            break;
        case setup.mod.REMOVE:
            newVal -= changeVal;
            break;
    }

    // Recalculate how much we actually changed
    changeVal = newVal - oldVal;
    // Apply the points
    params.points -= changeVal * pointCost;
    // Readjust if we've run out of points
    if (params.points < 0)
    {
        newVal -= Math.ceil(Math.abs(params.points) / pointCost);
        params.points = (newVal - oldVal)*pointCost;
    }
    // Apply to params
    limb.change_num = newVal;

    UpdateCustomRaceTableDisplay(false);
};

function onClickCustRaceTblCheck(listIndex)
{
    let params= State.variables.ModifyCustomRaceParams;
    var checkEle = document.getElementById(CUSTRACE_TBL.PRE_ +listIndex+ CUSTRACE_TBL._MOD);
    let pointCost = (params.racialAbilities[listIndex].pointCost) ? params.racialAbilities[listIndex].pointCost :CustomRaceDefaultPointCost;
    if (!params.racialAbilities[listIndex].active )
    {
        params.points -= pointCost;
        params.racialAbilities[listIndex].active = true;
        checkEle.value = true;
        if (params.points < 0)
        {
            /* Immediate unclick it to get back to positives
             * I would rather control this without another event,
             * but... javascript.
             * (The checkbox wasn't visually updating without an event) */
            checkEle.click();
        }
    }
    else
    {
        params.points += pointCost;
        params.racialAbilities[listIndex].active = false;
        checkEle.value = false;
    }

    let pointsEle = document.getElementById(CUSTRACE_TBL.PTS);
    pointsEle.innerHTML = setup.AbilityScripts.Mutant.getPointsString(params.points);
};

// Helper function to update the Mutant Change Table's display
function UpdateCustomRaceTableDisplay(fullRefresh=false)
{
    let params= State.variables.ModifyCustomRaceParams;
    let custTbl = document.getElementById(CUSTRACE_TBL.NAME);
    let pointsEle = document.getElementById(CUSTRACE_TBL.PTS);
    pointsEle.innerHTML = setup.AbilityScripts.Mutant.getPointsString(params.points)

    for (let row of custTbl.rows)
    {
        // Check that this is a data row.
        let limbKey = row.limbKey;
        if (!limbKey)
        {
            continue;
        }
        let paramLimb = params.anatomy[limbKey];
        let limbNum = paramLimb.change_num + paramLimb.base_count;
        const LIMB_DEF = setup.Anatomy.LIMB_REF[limbKey];

        // Add button active check
        let addEle = row.querySelector(`[id$=`+CUSTRACE_TBL._ADD+`]`);
        let increaseCost = LIMB_DEF.mutant.pointCost;

        if ( (params.points < increaseCost))
        {
            addEle.classList.add("inactive");
        }
        else
        {
            addEle.classList.remove("inactive");
        }

        // Sub Button active check
        let subEle = row.querySelector(`[id$=`+CUSTRACE_TBL._SUB+`]`);
        if (limbNum == 0)
        {
            subEle.classList.add("inactive");
        }
        else
        {
            subEle.classList.remove("inactive");
        }

        // Total Count update
        let totalEle = row.querySelector(`[id$=`+CUSTRACE_TBL._TTL+`]`);
        totalEle.innerHTML = limbNum;

        // Update the active stats
        let statsEle =  row.querySelector(`[id$=`+CUSTRACE_TBL._STS+`]`);
        var modPart ={};
        setup.AbilityScripts.Form.appendLimbModifier(modPart, limbKey, Math.max(0,paramLimb.change_num), {numIsRelative: true});
        statsEle.innerHTML = setup.displayModifiers(modPart);
        // Full Refresh on all elements in this row
        if (fullRefresh)
        {
            addEle.innerHTML = "+";
            subEle.innerHTML = "-";

            // Update Cost Description
            let costEle =  row.querySelector(`[id$=`+CUSTRACE_TBL._CST+`]`);
            costEle.innerHTML  = setup.AbilityScripts.Mutant.getPointsString(LIMB_DEF.mutant.pointCost) + " pts.";
        }
    }
};

setup.AbilityScripts.Form.getCustomRaceTable = function(div_name)
{
        // NOTE: Default state should be for simply viewing stats!
        let params= State.variables.ModifyCustomRaceParams;
        let character = State.variables.CharacterSheet_Player;

        var div = document.getElementById(div_name);


        // Race Name
        var raceNameLabel = document.createElement('LABEL');
        raceNameLabel.innerHTML = LNG.LocaleCap('AbilityForm_Tbl_RaceLabel');
        div.appendChild(document.createElement('BR'));
        div.appendChild(raceNameLabel);

        var raceNameEle = document.createElement('INPUT');
        raceNameEle.id = CUSTRACE_TBL.RACENAME;
        raceNameEle.setAttribute('type',"text");
        raceNameEle.value = "Kobold";
        raceNameEle.required = true;
        raceNameEle.style.width = "100%";

        div.appendChild(document.createElement('BR'));
        div.appendChild(raceNameEle);
        raceNameLabel.setAttribute('for', CUSTRACE_TBL.RACENAME);


        // Race Description
        var raceDescLabel = document.createElement('LABEL');
        raceDescLabel.innerHTML = LNG.LocaleCap('AbilityForm_Tbl_RaceDesc');
        div.appendChild(document.createElement('BR'));
        div.appendChild(raceDescLabel);

        var raceDescEle = document.createElement('INPUT');
        raceDescEle.id = CUSTRACE_TBL.RACEDESC;
        raceDescEle.setAttribute('type',"text");
        raceDescEle.value = "Tiny lizard-folk that have an obsession with dragons.";
        raceDescEle.style.width = "100%";

        div.appendChild(document.createElement('BR'));
        div.appendChild(raceDescEle);
        raceDescLabel.setAttribute('for', CUSTRACE_TBL.RACEDESC);

        div.appendChild(document.createElement('BR'));


        /*--------------*/
        /* Racial TABLE */
        /*--------------*/

        var tbl = document.createElement("TABLE");
        tbl.id = CUSTRACE_TBL.NAME;
        tbl.classList.add("BaseTable");

        div.appendChild(tbl);
        var header = tbl.createTHead();

        /* Points row */
        var points_row = header.insertRow(-1);
        /* Make the header top of the table on the screen */
        points_row.setAttribute('position', 'sticky');
        points_row.setAttribute('z-index', 999);
        var point_cell = points_row.insertCell(-1);
        point_cell.id = CUSTRACE_TBL.PTS;
        point_cell.style.textAlign = "right";
        point_cell.innerHTML = setup.AbilityScripts.Mutant.getPointsString(params.points);

        // Spacer cell
        points_row.insertCell(-1).innerHTML = " of ";

        var point_total_cell = points_row.insertCell(-1);
        point_total_cell.id = "custTbl_PointsTotal";
        point_total_cell.style.textAlign = "left";
        point_total_cell.innerHTML = setup.AbilityScripts.Mutant.getPointsString(params.pointsTotal) + " pts.";


        var rTable = document.createElement("TABLE");
        rTable.classList.add("BaseTable");

        /* Racial Selector section */
        var bonusLabelHeader = tbl.createTBody();
        bonusLabelHeader.insertRow(-1).insertCell(-1).innerHTML = LNG.LocaleCap('AbilityForm_Tbl_RaceBonus');

        var bonusBody = tbl.createTBody();

        for (let i0 = 0; i0 < params.racialAbilities.length; ++i0)
        {
            let modDict = params.racialAbilities[i0];
            let row = bonusBody.insertRow(-1);
            row.abiIdx = i0;

            let checkCell = row.insertCell(-1);
            let pointCell = row.insertCell(-1);
            let statsCell = row.insertCell(-1);

            let checkEle = document.createElement("INPUT");
            checkEle.setAttribute('type',"checkbox");
            checkEle.value = false;
            checkEle.id = CUSTRACE_TBL.PRE_ +i0+ CUSTRACE_TBL._MOD;
            checkEle.onclick = function(){onClickCustRaceTblCheck(i0);}
            checkCell.appendChild(checkEle);

            let pointCost = (modDict.pointCost) ? modDict.pointCost : CustomRaceDefaultPointCost;
            pointCell.innerHTML = setup.AbilityScripts.Mutant.getPointsString(pointCost) + " pts.";

            let modifier = {};
            modifier[modDict.type] = {mod: modDict.mod, value: modDict.value};
            statsCell.innerHTML = setup.displayModifiers(modifier);
        }

        var bonusNumCols = tbl.rows[tbl.rows.length - 1].cells.length;

        /*---------------*/
        /* ANATOMY TABLE */
        /*---------------*/
        var aTbl = document.createElement("TABLE");
        aTbl.id = CUSTRACE_TBL.NAME;
        aTbl.classList.add("BaseTable");

        div.appendChild(aTbl);

        /* Full-Length headers */
        var anatomyHeader = tbl.createTBody();
        anatomyHeader.insertRow(-1).insertCell(-1).innerHTML = LNG.LocaleCap('AbilityForm_Tbl_Anatomy');

        // Column name row
        var aBody = tbl.createTBody();
        var c_name_row = aBody.insertRow(-1);
        c_name_row.insertCell(-1).innerHTML = LNG.LocaleCap('AbilityForm_Tbl_Limb');
        c_name_row.insertCell(-1).innerHTML = LNG.LocaleCap('AbilityForm_Tbl_Cost');
        c_name_row.insertCell(-1); // +
        c_name_row.insertCell(-1).innerHTML = "#";
        c_name_row.insertCell(-1); // -
        c_name_row.insertCell(-1).innerHTML = LNG.LocaleCap('AbilityForm_Tbl_Texture');
        c_name_row.insertCell(-1).innerHTML = LNG.LocaleCap('AbilityForm_Tbl_Stats');


        /* Set some formatting minimum limits */
        c_name_row.cells[0].width = "120px";
        c_name_row.cells[1].width = "65px";
        c_name_row.cells[2].width = "35px";
        c_name_row.cells[3].width = "35px";
        c_name_row.cells[4].width = "35px";

        setup.Anatomy.LIMB_ORDERED_KV.forEach(  keyVal =>
        {
            let key = keyVal[0];
            let limb = keyVal[1];

            // Inactivate those we can't mutate
            var row = aBody.insertRow(-1);
            // Store the limbKey for this row
            row.limbKey = key;

            let nameCell = row.insertCell(-1);
            let costCell = row.insertCell(-1);
            let plusCell = row.insertCell(-1);
            let totalLimbCountCell = row.insertCell(-1);
            let minusCell = row.insertCell(-1);
            let textureCell = row.insertCell(-1);
            let statsCell = row.insertCell(-1);

            // Name
            nameCell.innerHTML =  setup.autoCap(limb.namePlural);
            var perLimb = setup.getLimbPerLimbString(character, key);
            if (perLimb != "")
            {
                nameCell.innerHTML += " " + perLimb;
            }

            // Cost
            costCell.id = CUSTRACE_TBL.PRE_ +key+ CUSTRACE_TBL._CST;

            // Plus Button
            let plusBtn = document.createElement("BUTTON");
            plusBtn.id = CUSTRACE_TBL.PRE_+key+CUSTRACE_TBL._ADD;
            plusBtn.onclick = function(){onClickCustRaceTblCellEvent(setup.mod.ADD, key)};
            plusCell.appendChild(plusBtn);

            // Minus Button
            let minusBtn = document.createElement("BUTTON");
            minusBtn.id = CUSTRACE_TBL.PRE_+key+CUSTRACE_TBL._SUB;
            minusBtn.onclick = function(){onClickCustRaceTblCellEvent(setup.mod.REMOVE, key)};

            minusCell.appendChild(minusBtn);

            // Total Column
            totalLimbCountCell.id = CUSTRACE_TBL.PRE_+key+CUSTRACE_TBL._TTL;
            totalLimbCountCell.style.align = "right";

            // Texture List
            let textureEle = document.createElement('INPUT');
            textureEle.setAttribute('type',"text");
            textureEle.id = CUSTRACE_TBL.PRE_+key+CUSTRACE_TBL._TXT;
            textureCell.appendChild(textureEle);

            // Stats Column
            statsCell.id = CUSTRACE_TBL.PRE_+key+CUSTRACE_TBL._STS;
        });

        var aNumCols = tbl.rows[tbl.rows.length - 1].cells.length;

        // Modifiy the column span of the tables
        anatomyHeader.rows[0].cells[0].colSpan = aNumCols;
        bonusLabelHeader.rows[0].cells[0].colSpan = aNumCols;

        for (let i0 = 0; i0 < bonusBody.rows.length; ++i0)
        {
            bonusBody.rows[i0].cells[bonusNumCols - 1].colSpan = aNumCols - bonusNumCols;
        }

        let numPointCells = points_row.cells.length;
        points_row.cells[numPointCells-1].colSpan = aNumCols - numPointCells;


        UpdateCustomRaceTableDisplay(true);

};

setup.AbilityScripts.Form.initializeCustomPointsParams = function()
{
    var character = State.variables.CharacterSheet_Player;

    State.variables.ModifyCustomRaceParams = {
        pointsTotal: CustomRacePoints,
        points: CustomRacePoints,
        racialAbilities: [
            {type: "maxHPMods", mod: setup.mod.ADD, value: 10},
            {type: "maxStaminaMods", mod: setup.mod.ADD, value: 5},
            {type: "strengthMods", mod: setup.mod.ADD, value: 10},
            {type: "critChanceMods", mod: setup.mod.ADD, value: 0.05},
            {type: "critDamageMods", mod: setup.mod.ADD, value: 0.05},
            {type: "arousalGainMods", mod: setup.mod.ADD, value: 5},
            {type: "corruptionMods", mod: setup.mod.ADD, value: 10},
            {type: "cockMods", mod: setup.mod.ADD, value: 2},
            {type: "ballsMods", mod: setup.mod.ADD, value: 2},
            {type: "heightMods", mod: setup.mod.ADD, value: 5},
            {type: "musclesMods", mod: setup.mod.ADD, value: 5},
            {type: "growthMods", mod: setup.mod.ADD, value: 0.1, pointCost: 8},
            {type: "xpMultiplierMods", mod: setup.mod.ADD, value: 0.1, pointCost: 8},
            {type: "essenceMultiplierMods", mod: setup.mod.ADD, value: 0.1, pointCost: 8},
            {type: "corruptionPerDayMods", mod: setup.mod.ADD, value: 1},
        ],
        anatomy: {},
    };
    var params = State.variables.ModifyCustomRaceParams;

    for (let [limbKey, LIMB_DEF] of Object.entries(setup.Anatomy.LIMB_REF))
    {
        let char_limb = character.info.anatomy[limbKey];
        params.anatomy[limbKey] ={};
        let param_limb = params.anatomy[limbKey];

        param_limb.change_num = 0;
        param_limb.base_count = char_limb.number;
    }
};

setup.AbilityScripts.Form.saveCustomPointsParams = function()
{
    var params = State.variables.ModifyCustomRaceParams;
    var customRace = setup.RacePool.CUSTOM;

    let nameEle = document.getElementById(CUSTRACE_TBL.RACENAME);
    customRace.name = nameEle.value;
    customRace.namePlural = nameEle.value;

    let descEle = document.getElementById(CUSTRACE_TBL.RACEDESC);
    customRace.description = descEle.value;

    for (let [limbKey, limbObj] of Object.entries(params.anatomy))
    {
        var customlimb = customRace.anatomy[limbKey];
        let textureEle = document.getElementById(CUSTRACE_TBL.PRE_+limbKey+CUSTRACE_TBL._TXT);

        customlimb.defaultNumber = limbObj.change_num + limbObj.base_count;
        let textures = textureEle.value;
        if (textures)
        {
            customlimb.raceTexture = textures.split(',');
        }
    }

    customRace.racialBonus = [];
    for (let i0 = 0; i0 < params.racialAbilities.length; ++i0)
    {
        let raceDict = params.racialAbilities[i0];
        if (raceDict.active)
        {
            customRace.racialBonus.push({
                type: raceDict.type,
                mod: raceDict.mod,
                value: raceDict.value,
            })
        }
    }
    State.variables.ModifyCustomRaceParams = {};
};
/* twine-user-script #46: "Ability_RacialBonus.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_RacialBonus_Name = "Racial Bonus";
LNG.en.l10nStrings.Ability_RacialBonus_Desc = "Boons granted from being a {Race}";
LNG.en.l10nStrings.Ability_RacialBonus_MimicBonus_Desc = "{mimicName}: Racial aptitudes increased by {mult}x.";

/* ------------------------Functions---------------------------*/
setup.Ability.RacialBonus = new Ability("Ability_RacialBonus",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    description: function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        let displayString = LNG.LocaleCap('Ability_RacialBonus_Desc', args);

        let rank = setup.AbiHndlr.getAbilityRank(character, "Ability_Mimic");
        if (rank > 0 && rank < setup.Ability.Mimic.racialMultiplier.length)
        {
            args.mimicName = setup.Ability.Mimic.name;
            args.mult = setup.Ability.Mimic.racialMultiplier[rank];
            displayString += "\n" + LNG.LocaleCap('Ability_RacialBonus_Desc', args);
        }

        return displayString;
    },
});


setup.Ability.RacialBonus.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_ANATOMY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(!abilityRuntimeData) {return;};
        abilityRuntimeData.isActive = true;
        let rank = setup.AbiHndlr.getAbilityRank(abilityParams.self, "Ability_Mimic");
        let multiplier = 1;
        if (rank > 0)
        {
            multiplier = setup.Ability.Mimic.racialMultiplier[rank];
        }
        setup.AbilityScripts.RacialBonus.assignRacialBonuses(abilityRuntimeData, abilityParams, multiplier);
    }
);
/* twine-user-script #47: "Ability_HerculeanBuild.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_HerculeanBuild_Name = "Herculean Build";
LNG.en.l10nStrings.Ability_HerculeanBuild_Desc = "Gain Strength equal to half your Muscles stat (up to {max}). Your Muscles grow by {gain} upon acquiring this Ability."
/* ------------------------Functions---------------------------*/
setup.Ability.HerculeanBuild = new Ability("Ability_HerculeanBuild",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.FORM,
    grade: setup.AbilityGrade.VERYLOW,

    maxStr: 15,
    strGain: 10,

    description:function(character, abilityRuntimeData){
        let args = {
            max: setup.getRankGrowth(abilityRuntimeData, "linear", this.maxStr),
            gain: this.strGain,
        }
        return LNG.LocaleCap('Ability_HerculeanBuild_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 1)
    }

});

setup.Ability.HerculeanBuild.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH,
    function(abilityRuntimeData, abilityParams){
        let abi = setup.Ability.HerculeanBuild;
        var boost = Math.min(Math.floor(setup.getStatValue(abilityParams.self, "muscles", "Ability_HerculeanBuild") / 2), setup.getRankGrowth(abilityRuntimeData, "linear", abi.maxStr));
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: boost}
    }
);

setup.Ability.HerculeanBuild.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams){
        let abi = setup.Ability.HerculeanBuild;
        setup.applyGrowth(abilityParams.self, "muscles", abi.strGain);
    }
);
/* twine-user-script #48: "Ability_HostOfEcho.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_HostOfEcho_Name = "Host of {symName}";
LNG.en.l10nStrings.Ability_HostOfEcho_Desc ="You are now the host of a mysterious being...\nUnlocks Arousal bar\nCan equip Pleasure Self fight move.\nReaching Maximum Arousal transforms you into something more...";

/* ------------------------Functions---------------------------*/
setup.Ability.HostOfEcho = new Ability("Ability_HostOfEcho",
{
    _nameFunction: function(){
        try
        {
            // TODO: figure how to get this working without a try/catch
            let args = {
                symName: State.variables.CharacterSheet_Symbiote.info.name,
            };
            return LNG.LocaleCap('Ability_HostOfEcho_Name', args);
        }
        catch
        {
            return "Host of Echo";
        }
    },
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character)
    {
        return LNG.LocaleCap('Ability_HostOfEcho_Desc');
    }
});

setup.Ability.HostOfEcho.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.HostOfEcho;
        // Gain "Echo Form" in its disabled state
        setup.AbiHndlr.addAbility(abilityParams.self ,setup.Ability.EchoForm );

        // Gain "Masturbate"
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
        }
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove_Masturbate.id]}
    }
);
/* twine-user-script #49: "Ability_Incorruptible.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Incorruptible_Name = "Incorruptible";
LNG.en.l10nStrings.Ability_Incorruptible_Desc = "While your Corruption is below {corr}, you gain {cc}% critical chance, {str} strength. Corruption above this level decreases this potency.";

/* ------------------------Functions---------------------------*/
setup.Ability.Incorruptible = new Ability("Ability_Incorruptible",
{
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.PURITY,
    grade: setup.AbilityGrade.HIGH,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            corr: setup.CorruptionComparators.PURE,
            cc: (abilityRuntimeData) ? this.rankPotency[abilityRuntimeData.rank].cc : 2,
            str: (abilityRuntimeData) ? this.rankPotency[abilityRuntimeData.rank].str : 10,
        };

        return LNG.LocaleCap('Ability_Incorruptible_Desc', args);
    },
    maxRank: 5,
    rankPotency: [
        {"cc": 0, "str": 0},
        {"cc": 5, "str": 10},
        {"cc": 10, "str": 20},
        {"cc": 15, "str": 40},
        {"cc": 20, "str": 60},
        {"cc": 25, "str": 80}
    ],
    unlockCondition: function(character){
        return (State.variables.Level >= 4 && (setup.getStatValue(character, "corruption") <= setup.CorruptionComparators.DECENT))
    },
});

setup.Ability.Incorruptible.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_GAIN_CORRUPTION,
    function(abilityRuntimeData, abilityParams)
    {
        let ccMod =  setup.Ability.Incorruptible.rankPotency[abilityRuntimeData.rank].cc;
        let strMod = setup.Ability.Incorruptible.rankPotency[abilityRuntimeData.rank].str;

        let corruption = setup.getStatValue(abilityParams.self, "corruption");
        if ( corruption > setup.CorruptionComparators.NEUTRAL)
        {
            ccMod = 0;
            strMod = 0;
        }
        else if (corruption > setup.CorruptionComparators.PURE)
        {
            let corruptionPercent = (corruption - setup.CorruptionComparators.PURE) / (setup.CorruptionComparators.NEUTRAL - setup.CorruptionComparators.PURE);
            ccMod *= (1.0 - corruptionPercent);
            strMod *= (1.0 - corruptionPercent);
        }

        abilityRuntimeData.modifier.critChanceMods = {mod: setup.mod.ADD, value: ccMod};
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: strMod};
    },
);
/* twine-user-script #50: "Ability_KalethsFervour.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_KalethsFervour_Name = "Kaleth's Fervour";
LNG.en.l10nStrings.Ability_KalethsFervour_Desc = "You gain {pctGrowth}% more growth for every point of corruption within you.";

/* ------------------------Functions---------------------------*/
setup.Ability.KalethsFervour = new Ability("Ability_KalethsFervour",
{
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.SOMBREVE,
    grade: setup.AbilityGrade.HIGH,
    maxRank: 10,

    pctGrowth: 3,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            pctGrowth: setup.getRankGrowth(abilityRuntimeData, "linear", this.pctGrowth),
        }
        return LNG.LocaleCap('Ability_KalethsFervour_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 7) && (setup.getStatValue(character, "corruption") >= setup.CorruptionComparators.PURE);
    }
});

setup.Ability.KalethsFervour.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 100 * setup.getStatValue(abilityParams.self, "corruption")};
    },
);
/* twine-user-script #51: "Ability_LastStand.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_LastStand_Name = "Last Stand";
LNG.en.l10nStrings.Ability_LastStand_Desc = "Whenever you fall below 25% health, you gain {arousal} arousal, {cc}% critical chance and {str} strength.";
LNG.en.l10nStrings.Ability_LastStand_Activate = "The adrenaline of battle pumps through your veins!";
LNG.en.l10nStrings.Ability_LastStand_Deactivate =  "You inhale deeply, regaining your composure.";

/* ------------------------Functions---------------------------*/
setup.Ability.LastStand = new Ability("Ability_LastStand",
{
    maxRank: 3,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.LOW,

    arousal: 20,
    cc: 30,
    str: 15,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            arousal: setup.getRankGrowth(abilityRuntimeData, "linear", this.arousal),
            cc: setup.getRankGrowth(abilityRuntimeData, "linear", this.cc),
            str: setup.getRankGrowth(abilityRuntimeData, "linear", this.str),
        }
        return LNG.LocaleCap('Ability_LastStand_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 3);
    },

});

setup.Ability.LastStand.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ENTER_LOW_HEALTH,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.LastStand;
        abilityRuntimeData.isActive = true
        abilityParams.self.fight.variables.currentArousal += Math.min(100, setup.getRankGrowth(abilityRuntimeData, "linear", abi.arousal))
        abilityRuntimeData.modifier.critChanceMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", abi.cc)}
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", abi.str)}
        return LNG.LocaleCap('Ability_LastStand_Activate');
    },
);

setup.Ability.LastStand.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_EXIT_LOW_HEALTH + setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
        return LNG.LocaleCap('Ability_LastStand_Deactivate');
    }
);
/* twine-user-script #52: "Ability_LukkasBox.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_LukkasBox_Name = "Essence Reservoir";
LNG.en.l10nStrings.Ability_LukkasBox_Desc = "You have drained {drainCount} burst{s} of demonic Essence. Lukka's Essence reservoir will store a small portion of the Essence you've acquired.";
LNG.en.l10nStrings.Ability_LukkasBox_Activate = "It absorbs a small portion of the Essence you gathered. It now contains {drainCount} dose{s} of demonic Essence.";
/* ------------------------Functions---------------------------*/
setup.Ability.LukkasBox = new Ability("Ability_LukkasBox",
{
    filter: setup.AbilityFilter.ALTERATION,
    maxRank: 1,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            drainCount: abilityRuntimeData.blackboard.drainCount,
            s: (abilityRuntimeData.blackboard.drainCount > 1) ? "s" : "",
        }
        return LNG.LocaleCap('Ability_LukkasBox_Desc', args);
    },
});

setup.Ability.LukkasBox.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard = {drainCount: 0}
        abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.REMOVE, value: 0.01};
    }
);

setup.Ability.LukkasBox.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_BATTLE_WON,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityParams.target.id == "CharacterSheet_Imp" || abilityParams.target.id == "CharacterSheet_Ethrex")
        {
            abilityRuntimeData.blackboard.drainCount += 1;
        }

        if(abilityRuntimeData.blackboard.drainCount >= 3)
        {
            State.variables.CharacterSheet_Player.quest.lukkaQuest.reservoirFilled = true;
        }

        let args = {
            drainCount: abilityRuntimeData.blackboard.drainCount,
            s: (abilityRuntimeData.blackboard.drainCount > 1) ? "s" : "",
        }

        return LNG.LocaleCap('Ability_LukkasBox_Activate', args);
    }
);
/* twine-user-script #53: "Ability_LustIncarnate.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_LustIncarnate_Name = "Lust Incarnate";
LNG.en.l10nStrings.Ability_LustIncarnate_Desc = "Gain strength equal to {pct}% of {p_POSS} arousal."

/* ------------------------Functions---------------------------*/
setup.Ability.LustIncarnate = new Ability("Ability_LustIncarnate",
{
    filter: setup.AbilityFilter.ALTERATION,
    maxRank: 10,

    strPct: 0.15,
    description: function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        args.pct = setup.getRankGrowth(abilityRuntimeData, "linear", Math.round(this.strPct*100));
        return LNG.LocaleCap('Ability_LustIncarnate_Desc', args);
    },

});

setup.Ability.LustIncarnate.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START + setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.LustIncarnate;
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", abi.strPct) * abilityParams.target.fight.variables.currentArousal}
    }
);

setup.Ability.LustIncarnate.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
    }
);
/* twine-user-script #54: "Ability_Masochism.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Masochism_Name = "Masochism";
LNG.en.l10nStrings.Ability_Masochism_Desc = "Whenever you receive damage, you gain that much Arousal. (up to {gain})";

LNG.en.l10nStrings.Ability_Masochism_Activate = "{TName} relish{Tes} the pain. {Tp_SUBJ} gain{Ts} <span style='color:#ac46c5;'>{arousalGain}</span> Arousal";

/* ------------------------Functions---------------------------*/
setup.Ability.Masochism = new Ability("Ability_Masochism",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.LUST,
    grade: setup.AbilityGrade.VERYLOW,

    gain: 3,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            gain: (abilityRuntimeData)? setup.getRankGrowth(abilityRuntimeData, "linear", this.gain) : this.gain + " per rank",
        }
        return LNG.LocaleCap('Ability_Masochism_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 1);
    }

});

setup.Ability.Masochism.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_POST_RECEIVE_DAMAGE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.Masochism;

        console.log("maso aro gain")
        console.log(abilityParams.attackDamage)
        console.log(setup.getRankGrowth(abilityRuntimeData, "linear", abi.gain))

        var arousalGain = Math.min(abilityParams.attackDamage, setup.getRankGrowth(abilityRuntimeData, "linear", abi.gain));
        abilityParams.target.fight.variables.currentArousal += arousalGain;

        let args = setup.DESC.getLocaleArgs(abilityParams.self, abilityParams.target);
        args.arousalGain = arousalGain;
        
        console.log(args)
        console.log(LNG.LocaleCap('Ability_Masochism_Activate', args))
        return LNG.LocaleCap('Ability_Masochism_Activate', args);
    },
);
/* twine-user-script #55: "Ability_Mimic.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Mimic_Name = "Mimic";
LNG.en.l10nStrings.Ability_Mimic_Desc = "Inherant racial aspects increased "
    + " and become able to mimic the race of other."
    + " Small chance to slowly transform into mimicked race.";

/* ------------------------Functions---------------------------*/
setup.Ability.Mimic = new Ability("Ability_Mimic",
{
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.FORM,
    grade: setup.AbilityGrade.MEDIUM,
    maxRank: 3,

    racialMultiplier: [
        1,
        2,
        3,
        4
    ],

    unlockCondition: function(character){
        return (State.variables.Level >= 5) && ( setup.getStatValue(character, "corruption") >= setup.CorruptionComparators.PURE);
    },
});

setup.Ability.Mimic.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.Mimic.id]}
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
        }
    }
);


/* twine-user-script #56: "Ability_Mimic_Combat.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_MimicCombatStatus_Name = "Mimic Status"
LNG.en.l10nStrings.Ability_MimicCombatStatus_Desc = "{Name}'s form has been enhanced through mirroring {p_POSS} enemy.";

/* ------------------------Functions---------------------------*/
setup.Ability.MimicCombatStatus= new Ability("Ability_MimicCombatStatus",
{
    filter: setup.AbilityFilter.STATUSEFFECT,

    description: function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        let displayString = LNG.LocaleCap('Ability_MimicCombatStatus_Desc', args);

        if(abilityRuntimeData.blackboard && abilityRuntimeData.blackboard.bonuses)
        {
            for (let [raceId, mult] of Object.entries(abilityRuntimeData.blackboard.bonuses))
            {
                displayString += `\n ${mult}x ${setup.autoCap(setup.RacePool[raceId].name)}`;
            }
        }
        return displayString;
    },

});

setup.Ability.MimicCombatStatus.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard = {
            incoming: [],
            bonuses: {},
        };
    },
);


setup.Ability.MimicCombatStatus.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);


setup.Ability.MimicCombatStatus.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = true;
        updateMimic(abilityRuntimeData);
    }
);

function updateMimic(abilityRuntimeData)
{
    if(abilityRuntimeData.blackboard)
    {
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
        /* Compress the incoming list */
        abilityRuntimeData.blackboard.incoming.forEach( (obj) => {
            if (abilityRuntimeData.blackboard.bonuses[obj.raceId])
            {
                abilityRuntimeData.blackboard.bonuses[obj.raceId] += obj.mult;
            }
            else
            {
                abilityRuntimeData.blackboard.bonuses[obj.raceId] = obj.mult;
            }
        });
        abilityRuntimeData.blackboard.incoming = [];

        /* Apply the bonuses */
        for (let [raceId, mult] of Object.entries(abilityRuntimeData.blackboard.bonuses))
        {
            setup.AbilityScripts.RacialBonus.addRacialBonus(abilityRuntimeData.modifier, raceId, mult);
        }
    }
};
/* twine-user-script #57: "Ability_Momentum.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Momentum_Name = "Momentum";
LNG.en.l10nStrings.Ability_Momentum_Desc = "Gain {pct}% more Crit Damage for every chain in your timeline."

/* ------------------------Functions---------------------------*/
setup.Ability.Momentum = new Ability("Ability_Momentum",
{
     unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.HIGH,
    maxRank: 5,

    ccpct: 0.5,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            pct: setup.getRankGrowth(abilityRuntimeData, "linear", this.ccpct)
        }
        return LNG.LocaleCap('Ability_Momentum_Desc', args);
    },

    unlockCondition: function(character){
        return State.variables.Level >= 7
    },
});

setup.Ability.Momentum.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_START + setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.critDamageMods = {mod: setup.mod.ADD, value: 0};
    },
);

setup.Ability.Momentum.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START,
    function(abilityRuntimeData, abilityParams)
    {
        var chains = setup[abilityParams.self.fight.variables.history].chains;
        console.log("abilityParams.self.fight.variables.history")
        console.log(abilityParams.self.fight.variables.history)
        abilityRuntimeData.modifier.critDamageMods = {mod: setup.mod.ADD, value: chains * setup.getRankGrowth(abilityRuntimeData, "linear", 0.03)};
    },
);


/* twine-user-script #58: "Ability_Abomination.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.Ability_Abomination_Name = "Abomination";
LNG.en.l10nStrings.Ability_Abomination_Desc = "You become an Abomination. You gain an immense amount of Mutation Points, and the "
    +" {fightMove} Move has multiple attempts to empower, gain, or even lose limbs."

setup.Ability.Abomination = new Ability("Ability_Abomination",
{
    maxRank: 1,
    category: setup.AbilityCategory.FORM,
    grade: setup.AbilityGrade.VERYHIGH,

    description:function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        args.fightMove = setup.FightMove.Mutate.name;
        return LNG.LocaleCap('Ability_Abomination_Desc', args);
    },
});

setup.Ability.Abomination.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.Mutate.id]};
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("mutationAvail");
        }
        setup.setOverrideRace(abilityParams.self, setup.RacePool.ABOMINATION,
            {keepExtras: true,
            KeepNonRaceLimbs: true,
            raceRemainsLocked: false,
            noSecondary: false,
            setRace: true});
    }
);
/* twine-user-script #59: "Ability_EmpoweredMutation.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_EmpoweredMutation_Name = "Empowered Mutation";
LNG.en.l10nStrings.Ability_EmpoweredMutation_Desc = "Your limbs become empowered by the strength of battle.";
LNG.en.l10nStrings.Ability_EmpoweredMutation_GainEffect = "{Name} gains the '{abiName}' ability until the end of combat.";
LNG.en.l10nStrings.Ability_EmpoweredMutation_EnhanceEffect = "{Name} enhances the '{abiName}' ability.";

LNG.en.l10nStrings.Ability_EmpoweredMutation_EmpowerLimb = "The corruption settles into {limbs} boosting {limbPOSS} effects.";

LNG.en.l10nStrings.Ability_EmpoweredMutation_LoseLimb = "{Name} reabsorbs {limbs}";
LNG.en.l10nStrings.Ability_EmpoweredMutation_GainLimb = "{Name} gains {limbs}";

/* ------------------------Functions---------------------------*/
// How many rolls we have to gain limbs.
const MutantRolls = [
    0,
    1,
    1,
    2,
    2,
    4,
    10
]

setup.Ability.EmpoweredMutation = new Ability("Ability_EmpoweredMutation",
{
    maxRank: 999,
    filter: setup.AbilityFilter.STATUSEFFECT,

    description: function(character, abilityRuntimeData)
    {
        let displayString = LNG.LocaleCap(`${this.id}_Desc`);
        if(abilityRuntimeData.blackboard)
        {
            for (let [key, limb] of Object.entries(abilityRuntimeData.blackboard.history))
            {
                displayString += "\n";
                let limbDef = setup.Anatomy.LIMB_REF[key];
                if (limbDef.naturalPair)
                {
                    displayString += setup.autoCap(limbDef.namePlural);
                }
                else
                {
                    displayString += setup.autoCap(limbDef.name);
                }
                displayString += ": x"+limb.callCount;
            }
        }
        return displayString;
    },
});


setup.Ability.EmpoweredMutation.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard = {
            limbs: [],
            limbKey: "",
            valMult: 1.0,
            history: {},
        }
    },
);

setup.Ability.EmpoweredMutation.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = true;
        if(abilityRuntimeData.blackboard)
        {
            abilityRuntimeData.blackboard.limbs.forEach( limbKey =>
            {
                let limbNum;
                if (setup.Anatomy.LIMB_REF[limbKey].naturalPair)
                {
                    limbNum = 2;
                }
                else
                {
                    limbNum = 1;
                }

                // Empower if a limb is called multiple times
                if (!abilityRuntimeData.blackboard.history)
                { abilityRuntimeData.blackboard.history = {};}

                if (abilityRuntimeData.blackboard.history[limbKey])
                {
                    limbNum = limbNum * (1+abilityRuntimeData.blackboard.history[limbKey].callCount);
                    abilityRuntimeData.blackboard.history[limbKey].callCount++;
                }
                else
                {
                    abilityRuntimeData.blackboard.history[limbKey] = {callCount: 1};
                }

                setup.AbilityScripts.Form.appendLimbModifier(abilityRuntimeData.modifier, limbKey, limbNum,
                    {valueMult: abilityRuntimeData.valMult, numIsRelative: true});
            });
        }
    }
);

setup.Ability.EmpoweredMutation.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);


setup.Ability.EmpoweredMutation.mutateMove = function(attackerSheet, victimSheet)
{
    // Chance Range to grow a new limb
    const growChanceMin = 0.10;
    const growChanceMax = 0.66;
    // Diminishing returns factor on each successful call
    const decrementAmount = 0.8;
    // Chance Range to get a stat increase.
    // (100% on first call)
    const statChanceMin = 0.30;
    const statChanceMax = 0.75;
    // Chance to lose a limb (Abomination only.)
    const lossOnFailChance = 0.25;
    // Fight-only boost multiplier to limb effect
    const mutateBaseMult = 5.0;

    var displayString = "";
    let corruption = setup.getStatValue(attackerSheet, "corruption");
    if (corruption < setup.CorruptionComparators.NEUTRAL) {corruption = setup.CorruptionComparators.NEUTRAL};
    const corruptionChance = (corruption - setup.CorruptionComparators.NEUTRAL) / (setup.CorruptionComparators.CORRUPT- setup.CorruptionComparators.NEUTRAL);
    let maxLoss = 3;
    let decrementChance = 1.0;


    let rank;
    if (setup.AbiHndlr.hasAbility(attackerSheet, "Ability_Abomination"))
    {
        rank = setup.Ability_Mutant.maxRank + setup.AbiHndlr.getAbilityRank(attackerSheet,"Ability_Abomination");
    }
    else if (setup.AbiHndlr.hasAbility(attackerSheet, "Ability_Mutant"))
    {
        rank = setup.AbiHndlr.getAbilityRank(attackerSheet,"Ability_Mutant");
    }
    else
    {
        return displayString;
    }

    // Set up needed values
    let valueBoost = mutateBaseMult + rank;
    let blackboard = {
        limbs: [
            //"heads",
        ],
        valMult: valueBoost,
    }
    let rollChances = MutantRolls[rank];
    let maxRolls = 15;

    let growChance = Math.max(growChanceMin, Math.min(growChanceMax,  corruptionChance));
    let statChance = Math.max(statChanceMin, Math.min(statChanceMax,  corruptionChance));

    let changeList = [];
    let enhancedList = [];

    for (let i0 = 0; i0 < maxRolls && maxLoss > 0 && rollChances > 0; i0--, rollChances--)
    {
        /* Potentially grow limb */
        let rolledChance = Math.random();

        /* Get a list of the limbs that you can willingly mutate */
        let mutLimbKey = setup.AbilityScripts.Mutant.getAvailMutLimbList(attackerSheet, rank).random();
        let limbDef = setup.Anatomy.LIMB_REF[mutLimbKey];
        let curCount = attackerSheet.info.anatomy[mutLimbKey].number;
        let changeAmount = (limbDef.naturalPair) ? 2 : 1;

        // On the first roll, we are guaranteed to at least get a stat
        if ( i0 == 0 || rolledChance <= statChance)
        {
            /* Enhance effect of limb during combat */
            blackboard.limbs.push(mutLimbKey);
            if (curCount > 0)
            {
                if(!enhancedList.includes(mutLimbKey))
                    {enhancedList.push(mutLimbKey);}
                if (rank <= 5)
                { /* Only a limit for Mutant, not abomination*/
                    if (curCount + changeAmount > limbDef.mutant.limits[rank][1])
                    {
                        growChance = 0.0;
                    }
                }
            }
            else
            {
                /* We don't have this limb. Grow it */
                growChance = 1.0;
            }
        }

        /* Potentially grow limb, decreasing chance each time. */
        if (rolledChance <= growChance*decrementChance)
        {
            /* Decrease the chance of growing again */
            decrementChance *= decrementAmount;

            // Add to list for later processing
            let index = changeList.findIndex( ({limbKey}) => limbKey == mutLimbKey);
            if (index >= 0)
            {
                changeList[index].number += changeAmount;
            }
            else
            {
                changeList.push({limbKey: mutLimbKey, mod: setup.mod.ADD, number: changeAmount});
            }
        }
        /* Potentially lose a limb. Not on first roll, and not too many.
         * Only happens with abomination, due to how many rolls you have
         *
         * You get another pair of rolls if you lose a limb */
        else if ( i0 != 0 && rank >= 6 && rolledChance >= (1.0-lossOnFailChance))
        {
            if ( attackerSheet.info.anatomy[mutLimbKey].mut_count <= 0)
            {
                continue;
            }
            let index = changeList.findIndex( ({limbKey}) => limbKey == mutLimbKey);
            if (index >= 0)
            {
                /* To make things easier on us, we're going to put negative ADD
                 * Then switch to REMOVE later.
                 * That lets us willy-nilly add/subtract with multiple rolls
                 */

                changeList[index].number -= changeAmount;
            }
            else
            {
                changeList.push({limbKey: mutLimbKey, mod: setup.mod.ADD, number: -1*changeAmount});
            }
            // Gain another roll
            rollChances += 2;
            // Make sure we don't lose too many
            maxLoss--;
        }
    }

    // Add the points from all limbs
    let mutantBonusPoints = attackerSheet.info["mutantBonusPoints"] ? attackerSheet.info["mutantBonusPoints"] : 0;
    changeList.forEach( obj =>{
        if (!attackerSheet.info.anatomy[obj.limbKey].mut_count) {attackerSheet.info.anatomy[obj.limbKey].mut_count =0;}

        mutantBonusPoints += obj.number * setup.Anatomy.LIMB_REF[obj.limbKey].mutant.pointCost;
        attackerSheet.info.anatomy[obj.limbKey].mut_count += obj.number;
    });
    attackerSheet.info["mutantBonusPoints"] = mutantBonusPoints;

    /* Correct the negative ADDS into positive REMOVES */
    changeList.forEach(obj => {
        if(obj.number < 0)
        {
            obj.number = Math.abs(obj.number);
            obj.mod = setup.mod.REMOVE;
        }
    })

    /* -------------------------------*/
    /* Display string section */
    let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);
    args.abiName = setup.Ability.EmpoweredMutation.name;

    /* Build the display string */
    if (setup.AbiHndlr.hasAbility(attackerSheet, "Ability_EmpoweredMutation"))
    {
        displayString += "\n∇: "+ LNG.LocaleCap('Ability_EmpoweredMutation_EnhanceEffect', args) +"\n";
    }
    else
    {
        displayString += "\n∇: "+LNG.LocaleCap('Ability_EmpoweredMutation_GainEffect', args) + "\n";
    }

    /* Empower List */
    if (enhancedList.length > 0)
    {
        let nameList = [];
        enhancedList.forEach( limbKey => {
            let limbDef = setup.Anatomy.LIMB_REF[limbKey];
            let curCount = attackerSheet.info.anatomy[limbKey].number;
            let limbName = (curCount > 1) ? limbDef.namePlural : limbDef.name;
            nameList.push(limbName);
        })

        switch (settings.lang)
        {
            default:
            case 'en':
                args.limbs = setup.DESC.joinList(nameList, "and");
                args.limbPOSS = (nameList.length > 1) ? "their" : "its";
                break;
        }

        displayString += " \n" + LNG.LocaleCap('Ability_EmpoweredMutation_EmpowerLimb', args);
    }
    /* Loss List */
    let lossList = changeList.filter( dict => (dict.mod == setup.mod.REMOVE && dict.number != 0));
    if (lossList.length > 0)
    {
        let lossStringList = [];
        lossList.forEach( dict => {
            lossStringList.push(setup.DESC.getLimbDesc(attackerSheet, dict.limbKey,
                {num: dict.number, adj_limit: 0,limb_syn:false, num_syn:false, article:true}));
        });

        args.limbs= setup.DESC.joinList(lossStringList, "and");
        displayString += " \n∇:" + LNG.LocaleCap('Ability_EmpoweredMutation_LoseLimb', args);
    }

    /* Gain List */
    let gainList = changeList.filter( dict => (dict.mod == setup.mod.ADD && dict.number != 0));
    if (gainList.length > 0)
    {
        let gainStringList = [];
        gainList.forEach( dict => {
            gainStringList.push(setup.DESC.getLimbDesc(attackerSheet, dict.limbKey,
                {num: dict.number, adj_limit: 0,limb_syn:false, num_syn:false, article:true}));
        });

        args.limbs= setup.DESC.joinList(gainStringList, "and");
        displayString += " \n∇:" + LNG.LocaleCap('Ability_EmpoweredMutation_GainLimb', args);
    }


    setup.AbiHndlr.addAbility(attackerSheet, setup.Ability_EmpoweredMutation, {blackboard});
    // Send the changes
    setup.changeLimbsNumber(attackerSheet, changeList);

    return displayString;
}
/* twine-user-script #60: "Ability_Mutant.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Mutant_Name = "Mutant";
LNG.en.l10nStrings.Ability_Mutant_Desc = "You twist the corruption within you, using it to enhance your form with new limbs and their boons."
    + " As well, you gain the '{fightName}'combat ability.";
LNG.en.l10nStrings.Ability_Mutant_Rank = "You must have at least {corruptLevel} corruption: ({currentCorruption}).";
LNG.en.l10nStrings.Ability_Mutant_Upgrade = "You must have at least {corruption} corruption: ({currentCorruption})\n"
    + "You must have Rank {requiredRank} of the Ability '{mimicName}'";

/* ------------------------Functions---------------------------*/
setup.Ability.Mutant = new Ability("Ability_Mutant",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.FORM,
    grade: setup.AbilityGrade.HIGH,

    description: function(character, abilityRuntimeData)
    {
        let args = {
            fightName: setup.FightMove.Mutate.name,
        };
        return LNG.LocaleCap('Ability_Mutant_Desc', args);
    },

    rankConditionFunction: function(abilityRuntimeData, character)
    {
        let corruptLevel;
        switch (abilityRuntimeData.rank)
        {
            case 5:
            case 4:
                corruptLevel = setup.CorruptionComparators.TAINTED;
                break;
            case 3:
            case 2:
                corruptLevel = setup.CorruptionComparators.NEUTRAL;
                break;
            default:
            case 1:
            case 0:
                corruptLevel = setup.CorruptionComparators.PURE;
                break;
        }
        return (setup.getStatValue(character, "corruption") >= corruptLevel);
    },

    rankDescription: function(abilityRuntimeData, character)
    {
        if(!character || !abilityRuntimeData) {return "";}
        let corruptLevel;
        switch (abilityRuntimeData.rank)
        {
            case 5:
            case 4:
                corruptLevel = setup.CorruptionComparators.TAINTED;
                break;
            case 3:
            case 2:
                corruptLevel = setup.CorruptionComparators.NEUTRAL;
                break;
            default:
            case 1:
            case 0:
                corruptLevel = setup.CorruptionComparators.PURE;
                break;
        }

        let args = {
            corruptLevel,
            currentCorruption: setup.displayStatValue(character, "corruption"),
        }
        return LNG.LocaleCap('Ability_Mutant_Rank', args);
    },

    upgradeConditionFunction: function(abilityRuntimeData, character)
    {
        if(!character || !abilityRuntimeData) {return "";}
        return (setup.getStatValue(character, "corruption") >= setup.CorruptionComparators.CORRUPT
                && setup.AbiHndlr.hasAbility(character, "Ability_Mimic") && setup.AbiHndlr.getAbilityRank(character,"Ability_Mimic") >= setup.Ability.Mimic.maxRank);
    },

    upgradeDescription: function(abilityRuntimeData, character)
    {
        if(!character || !abilityRuntimeData) {return "";}
        let args = {
            corruption: setup.CorruptionComparators.CORRUPT,
            currentCorruption: setup.displayStatValue(character, "corruption"),
            requiredRank: setup.Ability.Mimic.maxRank,
            mimicName: setup.Ability.Mimic.name,
        }
        return LNG.LocaleCap('Ability_Mutant_Upgrade', args);
    },

    nextAbilityID: "Ability_Abomination",

    unlockCondition: function(character){
        if(!character) {return "";}
        return (State.variables.Level >= 5) && ( setup.getStatValue(character, "corruption") >= setup.CorruptionComparators.PURE);
    }
});


setup.Ability.Mutant.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.Mutate.id]}
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("newCardAvail");
            setup.flagHighlightChoice("mutationAvail");
        }
    }
);

setup.Ability.Mutant.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = true;
        if (abilityParams.self == State.variables.CharacterSheet_Player)
        {
            setup.flagHighlightChoice("mutationAvail");
        }
    }
);

setup.Ability.Mutant.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ANATOMY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = true;
    }
);






/* twine-user-script #61: "Ability_Mutant_Script.js" */
/* Declare globals for Eslint */
/* global setup, State */

setup.AbilityScripts.Mutant = {};
setup.AbilityScripts.Mutant.CanRemoveLevel = 3;

// The points we are given to work with at each level. 1-6
// (rank 0 is kept to make things easier for off-by one issues)
// Remember that what is presented to the user is halved.

/* Note: We're going to display a different point cost than what is shown to the user.
* This will let us work with ints and display fractional numbers if needed
*/
const MutantPoints = [
    0,
    4,
    12,
    20,
    40,
    80,
    160,
];

/* Example mods with typical values
{type: "maxHPMods", mod: setup.mod.ADD, value: 10},
// Stamina = "quickness"
{type: "maxStaminaMods", mod: setup.mod.ADD, value: 5},
{type: "strengthMods", mod: setup.mod.ADD, value: 10},
{type: "critChanceMods", mod: setup.mod.ADD, value: 0.05},
{type: "critDamageMods", mod: setup.mod.ADD, value: 0.05},
{type: "actionSlotsMods", mod: setup.mod.ADD, value: 0.1, round_type: Math.floor}, // Integer, but one limb is not enough
{type: "comboMovesPerTurnMods", mod: setup.mod.ADD, value: 0.1, round_type: Math.floor}, // Integer, but one limb is not enough
{type: "arousalGainMods", mod: setup.mod.ADD, value: 5},
{type: "minArousalMods", mod: setup.mod.ADD, value: 5},
// {type: "staminaRecoveryMods", mod: setup.mod.ADD, value: xx},  Currently not used
{type: "corruptionMods", mod: setup.mod.ADD, value: 10},
{type: "cockMods", mod: setup.mod.ADD, value: 2},
{type: "ballsMods", mod: setup.mod.ADD, value: 2},
{type: "heightMods", mod: setup.mod.ADD, value: 5},
{type: "musclesMods", mod: setup.mod.ADD, value: 5},
{type: "growthMods", mod: setup.mod.ADD, value: 0.25},
{type: "xpMultiplierMods", mod: setup.mod.ADD, value: 0.1},
{type: "essenceMultiplierMods", mod: setup.mod.ADD, value: 0.1},
{type: "corruptionPerDayMods", mod: setup.mod.ADD, value: 1},
*/

// The list of limbs that we can willingly increase
// filterMaxed = Additionally filter out those that the character has maxed out already
setup.AbilityScripts.Mutant.getAvailMutLimbList = function(character, rank, filterMaxed = false)
{
    let LIMBS = setup.Anatomy.LIMB_REF;
    let race = setup.RacePool[character.info.raceId];
    var limbList = Object.keys(LIMBS).filter( key => {
        if (rank > setup.Ability_Mutant.maxRank )
        {
            return true;
        }
        else
        {
            let mut_max = (LIMBS[key].mutant.limits[rank][0]);
            let cmpNum;
            if (filterMaxed && character.info.anatomy[key].mut_count)
            {
                cmpNum = character.info.anatomy[key].mut_count;
            }
            else
            {
                cmpNum = race.anatomy[key].defaultNumber;
            }
            return mut_max > cmpNum;
        }
    });
    return limbList.sort();
}

setup.AbilityScripts.Mutant.initializeMutantChangeParams = function()
{
    var character = State.variables.CharacterSheet_Player;

    var rank;

    if (setup.AbiHndlr.hasAbility(character, "Ability_Abomination"))
    {
        rank = setup.Ability_Mutant.maxRank + setup.AbiHndlr.getAbilityRank(character,"Ability_Abomination");
    }
    else if (setup.AbiHndlr.hasAbility(character, "Ability_Mutant"))
    {
        rank = setup.AbiHndlr.getAbilityRank(character,"Ability_Mutant");
    }
    else
    {
        State.temporary.ModifyMutantParams = {
            rank: 0,
            pointsTotal: 0,
            points: 0,
            canRemoveLevel: false,
            anatomy: {},
        };
        return;
    }

    State.temporary.ModifyMutantParams = {
        rank: rank,
        pointsTotal: MutantPoints[rank],
        points: MutantPoints[rank],
        canRemoveLevel: false,
        anatomy: {
            /*
            limbKey: {
                paired: false,
                mut_min: 0,
                mut_count: 0,
                mut_max: 0,     The max total that you can get for this limb, including base, normal cap, and bonus counts
                base_count: 0,
            }
            */
        },
    };
    var params = State.temporary.ModifyMutantParams;
    params.canRemoveLevel = (setup.AbilityScripts.Mutant.CanRemoveLevel <= params.rank);

    /* Adjust the point total by the number of bonus points gained */
    let bonus_points = character.info["mutantBonusPoints"] ? character.info["mutantBonusPoints"] : 0;
    params.pointsTotal += bonus_points;
    params.points += bonus_points;

    for (let [limbKey, LIMB_DEF] of Object.entries(setup.Anatomy.LIMB_REF))
    {
        let char_limb = character.info.anatomy[limbKey];
        params.anatomy[limbKey] ={};
        let param_limb = params.anatomy[limbKey];

        param_limb.mut_count = (char_limb.mut_count)? char_limb.mut_count : 0;
        param_limb.base_count = char_limb.number - param_limb.mut_count;

        /* Set the restrictions */
        if (params.rank <= setup.Ability_Mutant.maxRank)
            {params.anatomy[limbKey].mut_max = LIMB_DEF.mutant.limits[params.rank][0];}
        /* If you are an abomination, no max */
        else
            {params.anatomy[limbKey].mut_max = 9999;}

        /* If we don't have free control of removing limbs, you can always remove to the cap, or what you started with before adjusting. */
        params.anatomy[limbKey].mut_min = (params.canRemoveLevel) ? 0 : Math.min(params.anatomy[limbKey].mut_count, params.anatomy[limbKey].mut_max);
        params.anatomy[limbKey].paired = (params.rank < LIMB_DEF.mutant.unpairLevel);

        params.points -= (params.anatomy[limbKey].mut_count * LIMB_DEF.mutant.pointCost);
    }
}
setup.AbilityScripts.Mutant.saveMutantChangeParams = function(character, cleanup=true)
{
    var params = State.temporary.ModifyMutantParams;
    // sanity check
    if (params.rank <= 0)
    {
        return;
    }
    let changeList = [];
    for (let [key,limb] of Object.entries(params.anatomy))
    {
        character.info.anatomy[key].mut_count = limb.mut_count;
        /* Gather up the limbs changed */
        let changeAmount = limb.base_count + limb.mut_count - character.info.anatomy[key].number;
        if (changeAmount > 0)
        {
            changeList.push({limbKey: key, mod: setup.mod.ADD, number: changeAmount});
        }
        else if (changeAmount < 0)
        {
            changeList.push({limbKey: key, mod: setup.mod.REMOVE, number: Math.abs(changeAmount)});
        }
    }

    // Send the changes
	setup.changeLimbsNumber(character, changeList);
}


setup.AbilityScripts.Mutant.getPointsString = function(points)
{
    var displayString = "";
    var val = Math.floor(points/2);
    if (points == 0)
    {
        displayString += points;
    }
    else if(val > 0)
    {
        displayString += val;
    }

    if(points%2 != 0)
    {
        displayString += " \u00BD"; // Unicode 1/2
    }

    return displayString;
}

/*-------------------------DISPLAY TABLE SECTION----------------------*/

// Local defs to avoid repeating ourselves with element ids
const MUT_TBL = {
    DIV: "MUT_TABLE_DIV",
    NAME: "MutantChangeTable",
    PRE_: "MutTbl_",
    // Suffixes
    _ADJ: "_adj",
    _ADD: "_add",
    _CST: "_cost",
    _SUB: "_sub",
    _TTL: "_totalCnt",
    _TTLCAP: "_totalCap",
    _STS: "_stats",
    // Full references
    PTS: "MutTbl_Points",
}

// Helper function to handle on click events for +/- on Mutant Change Table
function onClickMutTblCellEvent(mod, limbKey)
{
    let params= State.temporary.ModifyMutantParams;

    let mutLimb = params.anatomy[limbKey];
    let pointCost = setup.Anatomy.LIMB_REF[limbKey].mutant.pointCost;
    let changeVal = (mutLimb.paired) ? 2 : 1;
    let oldVal = mutLimb.mut_count;
    let newVal = oldVal;

    switch (mod)
    {
        default:
        case setup.mod.ADD:
            newVal = Math.min(mutLimb.mut_max, oldVal + changeVal);
            break;
        case setup.mod.REMOVE:
            newVal = Math.max(mutLimb.mut_min, oldVal - changeVal);
            break;
    }


    // Recalculate how much we actually changed
    changeVal = newVal - oldVal;
    // Apply the points
    params.points -= changeVal * pointCost;
    // Readjust if we've run out of points
    if (params.points < 0)
    {
        newVal -= Math.ceil(Math.abs(params.points) / pointCost);
        // Ensure pairs remain pairs.
        if (mutLimb.paired && newVal % 2 == 1)
        {
            newVal--;
        }
        params.points = (newVal - oldVal)*pointCost;
    }
    /* Get the final change value */
    changeVal = newVal - oldVal;

    /* Adjust the limbs */
    if (changeVal < 0)
    {
        changeVal = Math.abs(changeVal);
        // Apply to controlled mutation count
        mutLimb.mut_count = Math.max(0, mutLimb.mut_count - changeVal);

    }
    else
    {
        mutLimb.mut_count += changeVal;
    }


    updateMutantChangeTableDisplay(false);
}

// Helper function to update the Mutant Change Table's display
function updateMutantChangeTableDisplay(fullRefresh=false)
{
    /* I don't know why we would ever want to see this for a non-character,
     * but let's make it easy in case it does happen
     */
    let character = State.variables.CharacterSheet_Player;
    let params= State.temporary.ModifyMutantParams;
    // Leave the table in its default state
    if (params.rank <= 0)
        {return;}

    // Get all attributes with the id that ends with ($=) "_add" inside the table element
    // Store this so we're not constantly querying the document
    let mutTbl = document.getElementById(MUT_TBL.NAME);
    let availList = setup.AbilityScripts.Mutant.getAvailMutLimbList(character,params.rank);

    let pointsEle = document.getElementById(MUT_TBL.PTS);
    pointsEle.innerHTML = setup.AbilityScripts.Mutant.getPointsString(params.points)

    for (let row of mutTbl.rows)
    {
        // Check that this is a data row.
        let limbKey = row.limbKey;
        if (!limbKey)
        {
            continue;
        }
        let paramLimb = params.anatomy[limbKey];
        // Which limbs we have control over
        let limbNum = paramLimb.base_count + paramLimb.mut_count;
        const LIMB_DEF = setup.Anatomy.LIMB_REF[limbKey];

        // Add button active check
        let addEle = row.querySelector(`[id$=`+MUT_TBL._ADD+`]`);
        let increaseCost = LIMB_DEF.mutant.pointCost;
        if (paramLimb.paired)
        {
            increaseCost *= 2;
        }
        if ( (params.points < increaseCost)
            || (limbNum >= paramLimb.mut_max))
        {
            addEle.classList.add("inactive");
        }
        else
        {
            addEle.classList.remove("inactive");
        }

        // Sub Button active check
        let subEle = row.querySelector(`[id$=`+MUT_TBL._SUB+`]`);
        if (paramLimb.mut_count <= paramLimb.mut_min)
        {
            subEle.classList.add("inactive");
        }
        else
        {
            subEle.classList.remove("inactive");
        }

        // Total Count update
        let totalEle = row.querySelector(`[id$=`+MUT_TBL._TTL+`]`);
        totalEle.innerHTML = limbNum;
        // Update the active stats
        let statsEle =  row.querySelector(`[id$=`+MUT_TBL._STS+`]`);
        var modPart = {};
        setup.AbilityScripts.Form.appendLimbModifier(modPart, limbKey, limbNum);
        statsEle.innerHTML = setup.displayModifiers(modPart);
        // Full Refresh on all elements in this row
        if (fullRefresh)
        {

            addEle.innerHTML = "+";
            subEle.innerHTML = "-";
            // Update ajective
            let adjEle = row.querySelector(`[id$=`+MUT_TBL._ADJ+`]`);
            let raceId = character.info.anatomy[limbKey].raceId;
            if (raceId && raceId != character.info.raceId)
            {
                adjEle.innerHTML = setup.RacePool[raceId].adjective;
            }
            else
            {
                adjEle.innerHTML = "";
            }

            // Update Cost Description
            let costEle =  row.querySelector(`[id$=`+MUT_TBL._CST+`]`);
            if (paramLimb.paired)
            {
                costEle.innerHTML = setup.AbilityScripts.Mutant.getPointsString(LIMB_DEF.mutant.pointCost*2) + " pts. per pair";
            }
            else
            {
                costEle.innerHTML  = setup.AbilityScripts.Mutant.getPointsString(LIMB_DEF.mutant.pointCost) + " pts.";
            }

            // Hide/inactivate cells if you can't mutate this limb
            var canMutate = availList.includes(limbKey);
            let capEle = row.querySelector(`[id$=`+MUT_TBL._TTLCAP+`]`);
            capEle.innerHTML = "/"+paramLimb.mut_max;
            if (!canMutate)
            {
                capEle.style.visibility = "hidden";
                addEle.style.visibility = "hidden";
                addEle.classList.add("inactive");

                subEle.style.visibility = "hidden";
                subEle.classList.add("inactive");

                costEle.style.visibility = "hidden";
            }
            /* No limit for Abomination */
            if (params.rank >=6 )
            {
                capEle.style.visibility = "hidden";
            }
        }
    }
}



setup.AbilityScripts.Mutant.getMutantChangeTable = function()
{
    // NOTE: Default state should be for simply viewing stats!
    let params= State.temporary.ModifyMutantParams;
    let character = State.variables.CharacterSheet_Player;

    // Get root div
    var div = document.getElementById(MUT_TBL.DIV);

    // Make a pretty table header
	var tbl = document.createElement("TABLE");
	tbl.id = MUT_TBL.NAME;
    tbl.classList.add("BaseTable");

    div.appendChild(tbl);
	var header = tbl.createTHead();

    // Name
	var name_row = header.insertRow(-1);
	name_row.insertCell(-1).innerHTML = character.info.name;

    // Race
	var race_row = header.insertRow(-1);
	race_row.insertCell(-1).innerHTML = setup.getRaceName(character);

    // Race Description
    var race_desc_row = header.insertRow(-1);
    race_desc_row.insertCell(-1).innerHTML = setup.getRaceDescription(character);

    var numFullSpanRows = tbl.rows.length;

    if (params.rank > 0 )
    {
        var points_row = header.insertRow(-1);
        var point_cell = points_row.insertCell(-1);
        point_cell.id = MUT_TBL.PTS;
        point_cell.style.textAlign = "right";
        point_cell.innerHTML = setup.AbilityScripts.Mutant.getPointsString(params.points);

        // Spacer cell
        points_row.insertCell(-1).innerHTML = " of ";

        var point_total_cell = points_row.insertCell(-1);
        point_total_cell.id = "MutTbl_PointsTotal";
        point_total_cell.style.textAlign = "left";
        point_total_cell.innerHTML = setup.AbilityScripts.Mutant.getPointsString(params.pointsTotal) + " pts.";


        // Column name row
        var c_name_row = header.insertRow(-1);
        c_name_row.insertCell(-1).innerHTML = "Limb";
        c_name_row.insertCell(-1); // Adjective
        c_name_row.insertCell(-1).innerHTML = "Point Cost";
        c_name_row.insertCell(-1); // +
        c_name_row.insertCell(-1).innerHTML = "#";
        c_name_row.insertCell(-1); //  /cap;
        c_name_row.insertCell(-1); // -
        c_name_row.insertCell(-1).innerHTML = "Stats";
    }
    var tbody = tbl.createTBody();
    // Populate the table with only the limbs our rank will let us alter
    var availList = setup.AbilityScripts.Mutant.getAvailMutLimbList(character, params.rank);
	setup.Anatomy.LIMB_ORDERED_KV.forEach(  keyVal =>
	{
		let key = keyVal[0];
		let limb = keyVal[1];

        // Only show the anatomy we have or we can mutate
        var canMutate = availList.includes(key);
        var hasLimb = character.info.anatomy[key].number > 0;
        if (!canMutate && !hasLimb)
        {
            // Why "return" is "continue" in forEach baffles me
            return;
        }
        // Inactivate those we can't mutate
		var row = tbody.insertRow(-1);
        // Store the limbKey for this row
        row.limbKey = key;

        let nameCell = row.insertCell(-1);
        let adjCell = row.insertCell(-1);
        let costCell = row.insertCell(-1);
        let plusCell = row.insertCell(-1);
        let totalLimbCountCell = row.insertCell(-1);
        let limbCapCell = row.insertCell(-1);
        let minusCell = row.insertCell(-1);
        let statsCell = row.insertCell(-1);

        // Name
        nameCell.innerHTML =  setup.autoCap(limb.namePlural);
        var perLimb = setup.getLimbPerLimbString(character, key);
        if (perLimb != "")
        {
            nameCell.innerHTML += " " + perLimb;
        }

        // Adjective
        adjCell.id =  MUT_TBL.PRE_ +key+ MUT_TBL._ADJ;

        // Cost
        costCell.id = MUT_TBL.PRE_ +key+ MUT_TBL._CST;

        // Plus Button
        let plusBtn = document.createElement("BUTTON");
        plusBtn.id = MUT_TBL.PRE_+key+MUT_TBL._ADD;
        plusBtn.onclick = function(){onClickMutTblCellEvent(setup.mod.ADD, key)};
        plusCell.appendChild(plusBtn);

        // Minus Button
        let minusBtn = document.createElement("BUTTON");
        minusBtn.id = MUT_TBL.PRE_+key+MUT_TBL._SUB;
        minusBtn.onclick = function(){onClickMutTblCellEvent(setup.mod.REMOVE, key)};

        minusCell.appendChild(minusBtn);

        // Total Column
        totalLimbCountCell.id = MUT_TBL.PRE_+key+MUT_TBL._TTL;
        totalLimbCountCell.style.align = "right";

        // Cap Count
        limbCapCell.id = MUT_TBL.PRE_+key+MUT_TBL._TTLCAP;
        limbCapCell.style.align = "left";

        // Stats Column
        statsCell.id = MUT_TBL.PRE_+key+MUT_TBL._STS;

        // Set the default view state
        if (params.rank <= 0)
        {
            totalLimbCountCell.innerHTML = character.info.anatomy[key].number;
            plusCell.style.visibility = "hidden";
            minusCell.style.visibility = "hidden";
            costCell.style.visibility = "hidden";
            limbCapCell.style.visibility = "hidden";
        }
	});

    var numCols = tbl.rows[tbl.rows.length - 1].cells.length;

	// Make the header rows span all cells
	for (let i0 = 0; i0 < numFullSpanRows; ++i0)
	{
		header.rows[i0].cells[0].colSpan = numCols;
	}

    updateMutantChangeTableDisplay(true);
}
/* twine-user-script #62: "Ability_CurseOfTheNaga.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_CurseOfTheNaga_Name = "Curse of the Naga";
LNG.en.l10nStrings.Ability_CurseOfTheNaga_Desc = "A part of you was stolen by the Lost Naga. Only by defeating him can you get your strength back.";

/* ------------------------Functions---------------------------*/
setup.Ability.CurseOfTheNaga = new Ability("Ability_CurseOfTheNaga",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,
});

setup.Ability.CurseOfTheNaga.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams){
        abilityRuntimeData.modifier.musclesMods = {mod: setup.mod.REMOVE, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.muscles};
        abilityRuntimeData.modifier.heightMods = {mod: setup.mod.REMOVE, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.height};
        abilityRuntimeData.modifier.cockMods = {mod: setup.mod.REMOVE, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.cock};
        abilityRuntimeData.modifier.ballsMods = {mod: setup.mod.REMOVE, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.balls};
    }
);
/* twine-user-script #63: "Ability_StolenMass.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_StolenMass_Name = "Stolen Mass";
LNG.en.l10nStrings.Ability_StolenMass_Desc = "You have stolen mass from another creature.";

/* ------------------------Functions---------------------------*/
setup.Ability.StolenMass = new Ability("Ability_StolenMass",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,
});

setup.Ability.StolenMass.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams){
        abilityRuntimeData.modifier.musclesMods = {mod: setup.mod.ADD, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.muscles};
        abilityRuntimeData.modifier.heightMods = {mod: setup.mod.ADD, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.height};
        abilityRuntimeData.modifier.cockMods = {mod: setup.mod.ADD, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.cock};
        abilityRuntimeData.modifier.ballsMods = {mod: setup.mod.ADD, value: State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.balls};
    }
);
/* twine-user-script #64: "Ability_NeverendingGrowth.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_NeverendingGrowth_Name = "Never-Ending Growth";
LNG.en.l10nStrings.Ability_NeverendingGrowth_Desc = "Your body continuously grows larger while in combat. The more corrupt you are, the more effective this growth is.";

LNG.en.l10nStrings.Ability_NeverendingGrowth_Activate_Header = "{p_POSS} muscles flex but do not recede in size when they relax.";
LNG.en.l10nStrings.Ability_NeverendingGrowth_Activate_Self = "A wash of pleasure overtakes you as";
LNG.en.l10nStrings.Ability_NeverendingGrowth_Activate_Other = "Howling from growth induced euphoria,";
LNG.en.l10nStrings.Ability_NeverendingGrowth_Activate_Footer = "{p_POSS} {pDesc} and {bDesc} lurch with added size.";

/* ------------------------Functions---------------------------*/
setup.Ability.NeverendingGrowth = new Ability("Ability_NeverendingGrowth",
{
    maxRank: 1,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.GROWTH,
    grade: setup.AbilityGrade.HIGH,

    growth: {
        cock: 3,
        balls: 1,
        muscles: 2,
        height: 9,
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 10) && (setup.getStatValue(character, "corruption") >= 50)
    }
});

setup.Ability.NeverendingGrowth.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.NeverendingGrowth;
        var self = abilityParams.self;
        var corruption = setup.getStatValue(self, "corruption");
        var multiplier = Math.ceil(corruption / 20);

        for (const [limb, val] of Object.entries(abi.growth))
        {
            setup.applyGrowth(self, limb, Math.round(val*multiplier));
        }

        if (corruption > 0){
            let args = setup.DESC.getLocaleArgs(self, abilityParams.target);
            args.pDesc = setup.DESC.getLimbDesc(self, 'cocks');
            args.bDesc = setup.DESC.getLimbDesc(self, 'balls');

            let phrase = [LNG.LocaleCap('Ability_NeverendingGrowth_Activate_Header', args)]
            if(setup.isPlayer(self)){
                phrase.push(LNG.LocaleCap('Ability_NeverendingGrowth_Activate_Self', args))
            }else{
                phrase.push(LNG.LocaleCap('Ability_NeverendingGrowth_Activate_Other', args))
            }
            phrase.push(LNG.LocaleCap('Ability_NeverendingGrowth_Activate_Footer', args) + "\n");
            return setup.autoCap(phrase.join(" "));
        }else{
            return ""
        }
    }
);
/* twine-user-script #65: "Ability_NyxInducedWorkout.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_NyxInducedWorkout_Name = "Nyx Induced Workout";
LNG.en.l10nStrings.Ability_NyxInducedWorkout_Desc = "Working out in Nyx's gym room has imbued your muscles with uncanny potential for growth.";

/* ------------------------Functions---------------------------*/
setup.Ability.NyxInducedWorkout = new Ability("Ability_NyxInducedWorkout",
{
    filter: setup.AbilityFilter.ALTERATION,
    rankMods: {
        musclesMods: {mod: setup.mod.MULTIPLYPOS, value: 0.1},
    },

});
/* twine-user-script #66: "Ability_NyxParasiteInfection.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_NyxParasiteInfection_Name = "Nyx Spawn Infection";
LNG.en.l10nStrings.Ability_NyxParasiteInfection_Desc = "Creatures of Nyx live within your body.\n You must protect the spawns..."
/* ------------------------Functions---------------------------*/
setup.Ability.NyxParasiteInfection = new Ability("Ability_NyxParasiteInfection",
{
    maxRank: 10,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        strengthMods: {mod: setup.mod.ADD, value: 2},
        cockMods: {mod: setup.mod.ADD, value: 4},
        ballsMods: {mod: setup.mod.ADD, value: 3},
    },

    nextAbilityID:"Ability_NyxParasiteInfection_2",
    upgradeConditionFunction: function(abilityRuntimeData, character){
        return setup.canRank(abilityRuntimeData) == false
    },
});


setup.Ability.NyxParasiteInfection.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.minArousalMods = {mod: setup.mod.ADD, value: 20};
        abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.REMOVE, value: 0.1};

        if(abilityRuntimeData.rank >= 5)
        {
            setup.completeAchievement("Achievement_HostOfTheSpawns");
        }
    }
);
/* twine-user-script #67: "Ability_NyxParasiteInfection_2.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_NyxParasiteInfection_2_Name = "Nyx Hive Lord";
LNG.en.l10nStrings.Ability_NyxParasiteInfection_2_Desc = "You host countless spawns of Nyx within you.\n You gain 1 min arousal per parasite within your body.\n You must spread.\nYou must fuck.\nYou must grow."
/* ------------------------Functions---------------------------*/
setup.Ability.NyxParasiteInfection_2 = new Ability("Ability_NyxParasiteInfection_2",
{
    maxRank: 15,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        minArousalMods: {mod: setup.mod.ADD, offset: 20, value:1},
        strengthMods: {mod: setup.mod.ADD, offset: 20, value:3},
        cockMods: {mod: setup.mod.ADD, offset: 40, value:10},
        ballsMods: {mod: setup.mod.ADD, offset: 30, value:8},
    },
});

setup.Ability.NyxParasiteInfection_2.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.SummonParasite.id]}
    }
);

setup.Ability_NyxParasiteInfection_2.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.essenceMultiplierMods = {mod: setup.mod.REMOVE, value: 0.2};

        if(abilityRuntimeData.rank >= 5)
        {
            setup.completeAchievement("Achievement_LordOfTheSpawns");
        }
    }
);
/* twine-user-script #68: "Ability_Oath_Containment.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Oath_Containment_Name = "Oath of Containment";
LNG.en.l10nStrings.Ability_Oath_Containment_Desc = "Chain shaped tattoos race up your arms.\nThis oath lasts for as long as the cultists of Nyx remain sealed.";

/* ------------------------Functions---------------------------*/
setup.Ability.Oath_Containment = new Ability("Ability_Oath_Containment",
{
    filter: setup.AbilityFilter.ALTERATION,
    maxRank: 1,

    rankMods: {
        arousalGainMods: {mod: setup.mod.REMOVE, value: 5},
        critChanceMods: {mod: setup.mod.ADD, value: 10},
        maxHPMods: {mod: setup.mod.ADD, value: 10},
    },

});
/* twine-user-script #69: "Ability_Oath_Nyx.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Oath_Nyx_Name = "Oath of Nyx";
LNG.en.l10nStrings.Ability_Oath_Nyx_Desc = "A purple vortex shaped tattoo curls around the left side of your torso.\nThis oath lasts for as long as you strive to unleash Nyx upon the world.";

/* ------------------------Functions---------------------------*/
setup.Ability.Oath_Nyx = new Ability("Ability_Oath_Nyx",
{
    filter: setup.AbilityFilter.ALTERATION,
    maxRank: 1,

    rankMods: {
        corruptionMods: {mod: setup.mod.ADD, value: 20},
        minArousalMods: {mod: setup.mod.ADD, value: 10},
        maxHPMods: {mod: setup.mod.ADD, value: 10},
        critMod: {mod: setup.mod.REMOVE, value: 20},
    },
});
/* twine-user-script #70: "Ability_Oathbreaker.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Oathbreaker_Name = "Oathbreaker";
LNG.en.l10nStrings.Ability_Oathbreaker_Desc = "The mark of the oathbreaker burns around your arm.\nYou are branded as a traitor.";

/* ------------------------Functions---------------------------*/
setup.Ability.Oathbreaker = new Ability("Ability_Oathbreaker",
{
    filter: setup.AbilityFilter.ALTERATION,
    maxRank: 1,
});
/* twine-user-script #71: "Ability_OrgasmicGrowth.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_OrgasmicGrowth_Name = "Orgasmic Growth";
/* Whenever you reach max arousal, your body grows 2.5in,
     * your cocks grow 1in, and your balls grow 0.5in.
     */
LNG.en.l10nStrings.Ability_OrgasmicGrowth_Desc = "Whenever you reach max arousal, your body grows {bodyGrowth},"
    + " your {cockDesc} {cockGrowth}, and your {ballDesc} {ballGrowth}";


/*  His arousal becomes too intense to contain! He erupts, cum spraying out of his gigantic cocks and coating everything with his scent and alabaster fluid.
 *  He shudders from the release, only to feel that his body is already replenishing and adapting to cater for its next round!
 *  ∇: Ankou's body grows by x, cocks by y, and gonads by z.
 */

LNG.en.l10nStrings.Ability_OrgasmicGrowth_Grow = "{p_POSS} arousal becomes too intense to contain!"
    + " {p_SUBJ} erupt{s}, cum spraying out of {p_POSS} {pDesc1} and coating everything with {p_POSS} scent and {cumDesc}."
    + " {p_SUBJ} shudder{s} from the release, only to feel that {p_POSS} body is already replenishing and adapting to cater for its next round!"
    + " ∇: {Name}'s body grows by {bodyGrowth}, {pDesc2} by {cockGrowth}, and {bDesc2} by {ballGrowth}" ;

LNG.en.l10nStrings.Ability_OrgasmicGrowth_Grow_OnlyBody = "${Name} shudders in pleasure and pulsates larger.";

/* ------------------------Functions---------------------------*/
setup.Ability.OrgasmicGrowth = new Ability("Ability_OrgasmicGrowth",
{
    maxRank: 3,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.GROWTH,
    grade: setup.AbilityGrade.HIGH,

    growthMultipliers: {
        height: 2.5,
        muscles: 0.5,
        balls: 1.0,
        cock: 0.5
    },

    description: function(character, abilityRuntimeData)
    {
        let abi = setup.Ability.OrgasmicGrowth;
        let args = {
            bodyGrowth: setup.getLength(setup.getRankGrowth(abilityRuntimeData, "linear", abi.growthMultipliers.height)),
            ballGrowth: setup.getLength(setup.getRankGrowth(abilityRuntimeData, "linear", abi.growthMultipliers.balls)),
            cockGrowth: setup.getLength(setup.getRankGrowth(abilityRuntimeData, "linear", abi.growthMultipliers.cock)),
            cockDesc:  setup.DESC.getLimbDesc(character,'cocks',{adj_limit:0, limb_syn:false}),
            ballDesc:  setup.DESC.getLimbDesc(character,'balls',{adj_limit:0, limb_syn:false}),
        }

        /* Whenever you reach max arousal, your body grows 2.5in,
         * your cocks grow 1in, and your balls grow 0.5in.
         */
        return setup.autoCap(LNG.Locale('Ability_OrgasmicGrowth_Desc', args));
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 7)
    },
});

setup.Ability.OrgasmicGrowth.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_MAX_LUST,
    function (abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.OrgasmicGrowth;
        var self = abilityParams.self;
        let args = setup.DESC.getLocaleArgs(abilityParams.self, abilityParams.target);

        let hGrow =  setup.getRankGrowth(abilityRuntimeData, "linear", abi.growthMultipliers.height);
        let mGrow =  setup.getRankGrowth(abilityRuntimeData, "linear", abi.growthMultipliers.muscles);

        setup.applyGrowth(self, "height", hGrow);
        setup.applyGrowth(self, "muscles", mGrow);

        if (!setup.hasLimb(self, 'cocks') || !setup.hasLimb(self, 'balls'))
        {
            return setup.autoCap(LNG.Locale('Ability_OrgasmicGrowth_Grow_OnlyBody', args));
        }

        let pGrow =  setup.getRankGrowth(abilityRuntimeData, "linear", abi.growthMultipliers.cock);
        let bGrow =  setup.getRankGrowth(abilityRuntimeData, "linear", abi.growthMultipliers.balls)
        setup.applyGrowth(self, "cock", pGrow);
        setup.applyGrowth(self, "balls", bGrow);


        args.cumDesc =  setup.DESC.getCumDesc(self);
        args.pDesc1 =  setup.DESC.getLimbDesc(self, 'cocks');
        args.pDesc2 =  setup.DESC.getLimbDesc(self, 'cocks', {adj_limit:0, limb_syn:false});
        args.bDesc2 =  setup.DESC.getLimbDesc(self, 'balls', {adj_limit:0, limb_syn:false});
        args.bodyGrowth =  setup.getLength(hGrow);
        args.ballGrowth =  setup.getLength(bGrow);
        args.cockGrowth =  setup.getLength(pGrow);
        args.muscleGrowth =  setup.getLength(mGrow);

        return setup.autoCap(LNG.Locale('Ability_OrgasmicGrowth_Grow', args));
    }
);
/* twine-user-script #72: "Ability_ParryEnergy.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ParryEnergy_Name = "Parry Energy";
LNG.en.l10nStrings.Ability_ParryEnergy_Desc = "Your body is filled with the power of your last parried attack.";

/* ------------------------Functions---------------------------*/
setup.Ability.ParryEnergy = new Ability("Ability_ParryEnergy",
{
    filter: setup.AbilityFilter.STATUSEFFECT,
    maxRank: 1,
});


setup.Ability.ParryEnergy.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams){
        abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: abilityRuntimeData.blackboard.attackDamage};
        abilityParams.self.fight.variables.currentStamina += abilityRuntimeData.blackboard.attackDamage;
    }
);
/* twine-user-script #73: "Ability_PiercingPrecision.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_PiercingPrecision_Name = "Piercing Precision";
LNG.en.l10nStrings.Ability_PiercingPrecision_Desc = "{p_POSS} strikes always land true. Increases critical hits damage by {pct}%."

/* ------------------------Functions---------------------------*/
setup.Ability.PiercingPrecision = new Ability("Ability_PiercingPrecision",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.MEDIUM,

    rankMods: {
        critDamageMods: {mod: setup.mod.ADD, value: 0.15},
    },

    description:function(character, abilityRuntimeData)
    {
        let args = setup.DESC.getLocaleArgs(character);
        args.pct = Math.round(setup.getRankGrowth(abilityRuntimeData, "linear", this.rankMods.critDamageMods.value) * 100);
        return LNG.LocaleCap('Ability_PiercingPrecision_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 5)
    },
});
/* twine-user-script #74: "Ability_PromiseOfCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_PromiseOfCorruption_Name = "Promise of Corruption";
LNG.en.l10nStrings.Ability_PromiseOfCorruption_Desc = "You have rejected the Herald's Corruption Inhibitor.";

/* ------------------------Functions---------------------------*/
setup.Ability.PromiseOfCorruption = new Ability("Ability_PromiseOfCorruption",
{
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        corruptionMods: {mod: setup.mod.MULTIPLYPOS, value: 0.2}
    },
});
/* twine-user-script #75: "Ability_PromiseOfServitude.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_PromiseOfServitude_Name = "Promise of Servitude";
LNG.en.l10nStrings.Ability_PromiseOfServitude_Desc = "The minotaur has promised to serve you once you take the black sun for yourself.";

/* ------------------------Functions---------------------------*/
setup.Ability.PromiseOfServitude = new Ability("Ability_PromiseOfServitude",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        minArousalMods: {mod: setup.mod.ADD, value: 10},
        strengthMods: {mod: setup.mod.ADD, value: 20},
    },
});
/* twine-user-script #76: "Ability_ServantOfKanathar.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ServantOfKanathar_Name = "Servant of Kanathar";
LNG.en.l10nStrings.Ability_ServantOfKanathar_Desc = "The essence of demon Kanathar flows within you.";

/* ------------------------Functions---------------------------*/
setup.Ability.ServantOfKanathar = new Ability("Ability_ServantOfKanathar",
{
    filter: setup.AbilityFilter.ALTERATION,
});

setup.Ability.ServantOfKanathar.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.ADD, value: State.variables.CharacterSheet_Imp.quest.servantLosses * 3};
        abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: State.variables.CharacterSheet_Imp.quest.servantWins * 3};
        abilityRuntimeData.modifier.minArousalMods = {mod: setup.mod.ADD, value: 10};
        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 5};
        abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.2)};
    }
);
/* twine-user-script #77: "Ability_SigilOfPerception.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_SigilOfPerception_Name = "Sigil of Perception";
LNG.en.l10nStrings.Ability_SigilOfPerception_Desc = "Improves critical chance of next attack by {pct}%";

/* ------------------------Functions---------------------------*/
setup.Ability.SigilOfPerception = new Ability("Ability_SigilOfPerception",
{
    filter: setup.AbilityFilter.STATUSEFFECT,

    rankMods: {
        critChanceMods: {mod: setup.mod.ADD, value: 30},
    },

    description:function(character, abilityRuntimeData)
    {
        let abi = setup.Ability.SigilOfPerception;
        let args = {
            pct: setup.getRankGrowth(abilityRuntimeData, "linear", abi.rankMods.critChanceMods.value),
        };
        return LNG.LocaleCap('Ability_SigilOfPerception_Desc', args);
    },

});

setup.Ability.SigilOfPerception.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined
);

setup.Ability.SigilOfPerception.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #78: "Ability_BallsTier.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/

LNG.en.l10nStrings.Ability_BallsTier_Name = 'Balls Tier';

// TODO: These descriptions are in no way accurate
LNG.en.l10nStrings.Ability_BallsTier_1_Desc = "You have average sized balls.";
LNG.en.l10nStrings.Ability_BallsTier_2_Desc = "Your balls are larger than apples.";
LNG.en.l10nStrings.Ability_BallsTier_3_Desc = "Your balls are larger than a normal person's hands.";
LNG.en.l10nStrings.Ability_BallsTier_4_Desc = "Your balls are larger than soda cans.";
LNG.en.l10nStrings.Ability_BallsTier_5_Desc = "Your balls are larger than 2 liter bottles.";
LNG.en.l10nStrings.Ability_BallsTier_6_Desc = "Your balls are larger than beach balls.";

/* ------------------------Functions---------------------------*/
setup.Ability.BallsTier = new Ability("Ability_BallsTier",{
    maxRank: 6,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    // Always show at top
    sortRank: 2,

    rankVals: [
        {size: 0, maxStamina: 0},
        {size: 7.5/3, maxStamina: 10},
        {size: 10/3, maxStamina: 20},
        {size: 16.5/3, maxStamina: 50},
        {size: 32/3, maxStamina: 75},
        {size: 62/3, maxStamina: 100},
    ],

    description:function(character)
    {
        let rank = setup.AbiHndlr.getAbilityRank(character,this.id);
        return LNG.LocaleCap(`Ability_BallsTier_${rank}_Desc`);
    },
});

setup.Ability.BallsTier.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.BallsTier;
        var balls = setup.getStatValue(abilityParams.self, "balls", "Ability_BallsTier");
        let index = abi.rankVals.findLastIndex( obj => balls >= obj.size);
        if (index >= 0)
        {
            abilityRuntimeData.isActive = true;
            abilityRuntimeData.rank = index +1;
            abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: abi.rankVals[index].maxStamina};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.rank = 1;
        };
    }
);
/* twine-user-script #79: "Ability_CockTier.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_CockTier_Name = "Cock Tier";

// TODO: These descriptions are in no way accurate
LNG.en.l10nStrings.Ability_CockTier_1_Desc = "You have an average sized cock.";
LNG.en.l10nStrings.Ability_CockTier_2_Desc = "You have a monster cock.";
LNG.en.l10nStrings.Ability_CockTier_3_Desc = "Your cock is bigger than a 2 liter bottle.";
LNG.en.l10nStrings.Ability_CockTier_4_Desc = "Your cock is bigger than a bowling pin.";
LNG.en.l10nStrings.Ability_CockTier_5_Desc = "Your cock is longer than a baseball bat";
LNG.en.l10nStrings.Ability_CockTier_6_Desc = "Your cock is bigger than an average person.";

/* ------------------------Functions---------------------------*/
setup.Ability.CockTier = new Ability("Ability_CockTier",
{
    maxRank: 6,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    // Always show at top
    sortRank: 2,

    rankVals: [
        {size: 0, maxStamina: 0},
        {size: 7.5, maxStamina: 10},
        {size: 10, maxStamina: 20},
        {size: 16.5, maxStamina: 50},
        {size: 32, maxStamina: 75},
        {size: 62, maxStamina: 100},
    ],

    description:function(character)
    {
        let rank = setup.AbiHndlr.getAbilityRank(character,this.id);
        return LNG.LocaleCap(`Ability_CockTier_${rank}_Desc`);
    },
});


setup.Ability.CockTier.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.CockTier;
        var cock = setup.getStatValue(abilityParams.self, "cock", "Ability_CockTier");
        let index = abi.rankVals.findLastIndex( obj => cock >= obj.size);
        if (index >= 0)
        {
            abilityRuntimeData.isActive = true;
            abilityRuntimeData.rank = index +1;
	        abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: abi.rankVals[index].maxStamina};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.rank = 1;
        }
    }
);
/* twine-user-script #80: "Ability_HeightTier.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/

LNG.en.l10nStrings.Ability_HeightTier_Name = "Height Tier";

// TODO: These descriptions are in no way accurate
LNG.en.l10nStrings.Ability_HeightTier_1_Desc = "You are an average person's height.";
LNG.en.l10nStrings.Ability_HeightTier_2_Desc = "You are taller than an average person.";
LNG.en.l10nStrings.Ability_HeightTier_3_Desc = "Most people barely reach your chest.";
LNG.en.l10nStrings.Ability_HeightTier_4_Desc = "You are taller than an average house.";
LNG.en.l10nStrings.Ability_HeightTier_5_Desc = "You are taller than an electric pole.";
LNG.en.l10nStrings.Ability_HeightTier_6_Desc = "You stand taller than a 6-story building.";

/* ------------------------Functions---------------------------*/
setup.Ability.HeightTier = new Ability("Ability_HeightTier",
{
    maxRank: 6,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    // Always show at top
    sortRank: 2,

    rankVals: [
        {size: 0, strengthMods: 0},
        {size: 7*12, strengthMods: 10},
        {size: 9*12, strengthMods: 20},
        {size: 15*12, strengthMods: 50},
        {size: 30*12, strengthMods: 75},
        {size: 60*12, strengthMods: 100},
    ],

    description:function(character)
    {
        let rank = setup.AbiHndlr.getAbilityRank(character,this.id);
        return LNG.LocaleCap(`Ability_HeightTier_${rank}_Desc`);
    },
});

setup.Ability.HeightTier.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.HeightTier;
        var height = setup.getStatValue(abilityParams.self, "height", "Ability_HeightTier");
        let index = abi.rankVals.findLastIndex( obj => height >= obj.size);

        if(index >= 0)
        {
            abilityRuntimeData.isActive = true;
            abilityRuntimeData.rank = index +1;
	        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: abi.rankVals[index].strengthMods};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.rank = 1;
        }
    }
);
/* twine-user-script #81: "Ability_MuscleTier.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_MuscleTier_Name = "Muscles Tier";

// TODO: These descriptions may need to be updated
LNG.en.l10nStrings.Ability_MuscleTier_1_Desc = "You are somewhat fit.";
LNG.en.l10nStrings.Ability_MuscleTier_2_Desc = "You are ripped. It's becoming hard to find clothes that fit you.";
LNG.en.l10nStrings.Ability_MuscleTier_3_Desc = "You are massive, bigger than any warrior in the Bastion.";
LNG.en.l10nStrings.Ability_MuscleTier_4_Desc = "You are a walking powerhouse. Legends about your powerful body are spreading.";
LNG.en.l10nStrings.Ability_MuscleTier_5_Desc = "You are a hulking powerhouse, gods would kill for a body like yours. ";
LNG.en.l10nStrings.Ability_MuscleTier_6_Desc = "No god or mortal could overcome your bulking, mountainous muscles. Every flex is a booming statement.";

/* ------------------------Functions---------------------------*/
setup.Ability.MuscleTier = new Ability("Ability_MuscleTier",
{
    maxRank: 6,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
    // Always show at top
    sortRank: 2,

    rankVals: [
        {size: 0, strengthMods: 0},
        {size: 20, strengthMods: 10},
        {size: 60, strengthMods: 20},
        {size: 200, strengthMods: 50},
        {size: 350, strengthMods: 75},
        {size: 600, strengthMods: 100},
    ],

    description:function(character)
    {
        let rank = setup.AbiHndlr.getAbilityRank(character,this.id);
        return LNG.LocaleCap(`Ability_MuscleTier_${rank}_Desc`);
    },
});

setup.Ability.MuscleTier.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.MuscleTier;
        var muscles = setup.getStatValue(abilityParams.self, "muscles", "Ability_MuscleTier");
        let index = abi.rankVals.findLastIndex( obj => muscles >= obj.size);
        if(index >= 0)
        {
            abilityRuntimeData.isActive = true;
            abilityRuntimeData.rank = index +1;
	        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: abi.rankVals[index].strengthMods};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.rank = 1;
        }
    }
);
/* twine-user-script #82: "Ability_Balls_Bigger_Than_Target_1.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Overwhelming_Balls_Name = "Overwhelming Balls";
LNG.en.l10nStrings.Ability_Overwhelming_Balls_Desc = "Your balls tower over your opponent.";
/* ------------------------Functions---------------------------*/
setup.Ability.Overwhelming_Balls = new Ability("Ability_Overwhelming_Balls",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
});

setup.Ability.Overwhelming_Balls.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let ballComparator = setup.Size.compare(abilityParams.self, 'balls', abilityParams.target, 'height');
        if(abilityParams.target && (ballComparator >= setup.Size.Comparators.SLIGHTLY_BIGGER)  && (ballComparator < setup.Size.Comparators.MASSIVE))
        {
            abilityRuntimeData.isActive = true;
            abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 10};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);

setup.Ability.Overwhelming_Balls.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START,
    undefined
);

setup.Ability.Overwhelming_Balls.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined
);
/* twine-user-script #83: "Ability_Balls_Bigger_Than_Target_2.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_All_Consuming_Balls_Name = "All-Consuming Balls";
LNG.en.l10nStrings.Ability_All_Consuming_Balls_Desc = "Your balls completely overwhelm your opponent.";

/* ------------------------Functions---------------------------*/
setup.Ability.All_Consuming_Balls = new Ability("Ability_All_Consuming_Balls",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
});

setup.Ability.All_Consuming_Balls.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityParams.target && setup.Size.compare(abilityParams.self, "balls", abilityParams.target, "height") >= setup.Size.Comparators.MASSIVE)
        {
            abilityRuntimeData.isActive = true;
            abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 15};
            abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.CumDeluge.id]};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);

setup.Ability.All_Consuming_Balls.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START,
    undefined
);

setup.Ability.All_Consuming_Balls.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined
);
/* twine-user-script #84: "Ability_Bigger_Than_Target_1.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Bigger_Than_Target_Name = "Looming Over Them";
LNG.en.l10nStrings.Ability_Bigger_Than_Target_Desc = "A shadow is cast over your opponent.";

/* ------------------------Functions---------------------------*/
setup.Ability.Bigger_Than_Target = new Ability("Ability_Bigger_Than_Target",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
});

setup.Ability.Bigger_Than_Target.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START,
    undefined
);

setup.Ability.Bigger_Than_Target.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let sizeComp = setup.Size.compare(abilityParams.self, 'height', abilityParams.target);
        if(abilityParams.target && sizeComp >= setup.Size.Comparators.BIGGER && sizeComp < setup.Size.Comparators.MASSIVE)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: 7};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);

setup.Ability.Bigger_Than_Target.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined
);
/* twine-user-script #85: "Ability_Bigger_Than_Target_2.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Looming_Over_Target_Name = "Towering Over Them";
LNG.en.l10nStrings.Ability_Looming_Over_Target_Desc = "The size difference between you two is significant.";

/* ------------------------Functions---------------------------*/
setup.Ability.Looming_Over_Target = new Ability("Ability_Looming_Over_Target",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
});

setup.Ability.Looming_Over_Target.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START,
    undefined
);

setup.Ability.Looming_Over_Target.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let sizeComp = setup.Size.compare(abilityParams.self, 'height', abilityParams.target);
		if(abilityParams.target && sizeComp >= setup.Size.Comparators.MASSIVE && sizeComp < setup.Size.Comparators.MACRO)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: 10};
	        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 5};
	        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.Stomp.id]};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);

setup.Ability.Looming_Over_Target.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined
);
/* twine-user-script #86: "Ability_Bigger_Than_Target_3.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Overwhelming_Target_Name = "Overwhelming Presence";
LNG.en.l10nStrings.Ability_Overwhelming_Target_Desc = "Mass and power overtakes the scenery.";

/* ------------------------Functions---------------------------*/
setup.Ability.Overwhelming_Target = new Ability("Ability_Overwhelming_Target",
{
    maxRank: 1,
    isGlobalAbility: true,
    filter: setup.AbilityFilter.GLOBAL,
});

setup.Ability.Overwhelming_Target.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_FIGHT_START,
    undefined
);

setup.Ability.Overwhelming_Target.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
		if(abilityParams.target && setup.Size.compare(abilityParams.self, 'height', abilityParams.target) >= setup.Size.Comparators.MACRO)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: 40};
	        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 15};
	        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.ADD, value: [setup.FightMove.Stomp.id]};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);

setup.Ability.Overwhelming_Target.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined
);
/* twine-user-script #87: "Ability_SombrevesWhisper.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_SombrevesWhisper_Name = "Sombreve's Whisper";
LNG.en.l10nStrings.Ability_SombrevesWhisper_Desc = "Temporarily gain {arousal} arousal per turn for each turn you have been in combat."
    + " Temporarily gain {corruption}% Corruption per turn for each turn you have been in combat.";

/* ------------------------Functions---------------------------*/
setup.Ability.SombrevesWhisper = new Ability("Ability_SombrevesWhisper",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.SOMBREVE,
    grade: setup.AbilityGrade.VERYHIGH,

    mods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 2, offset: 2},
        corruptionMods: {mod: setup.mod.MULTIPLYPO, value: 0.05}
    },

    description:function(character, abilityRuntimeData)
    {
        let abi = setup.Ability.SombrevesWhisper;
        let args = {
            arousal: (abi.mods.arousalGainMods.offset + setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.arousalGainMods.value)),
            corruption: Math.round(setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.corruptionMods.value)*100),
        }
        return LNG.LocaleCap('Ability_SombrevesWhisper_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 15) && (setup.getStatValue(character, "corruption") >= 75)
    }
});

setup.Ability.SombrevesWhisper.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START + setup.AbilityTrigger.ON_STAT_CHANGE + setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.SombrevesWhisper;
        if(State.variables.FightTurn != 0)
        {
            let arousal = abi.mods.arousalGainMods;
            let corruption = abi.mods.corruptionMods;
            abilityRuntimeData.modifier.arousalGainMods = {mod: arousal.mod, value: (arousal.offset + setup.getRankGrowth(abilityRuntimeData, "linear", arousal.value)) * State.variables.FightTurn}
            abilityRuntimeData.modifier.corruptionMods = {mod: corruption.mod, value: setup.getRankGrowth(abilityRuntimeData, "linear", corruption.value) * State.variables.FightTurn}
        }
        else
        {
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    },
);
/* twine-user-script #88: "Ability_Stunned.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Stunned_Name = "Stunned";
LNG.en.l10nStrings.Ability_Stunned_Desc = "Greatly lowers your prowess for a turn.";

/* ------------------------Functions---------------------------*/
setup.Ability.Stunned = new Ability("Ability_Stunned",
{
    filter: setup.AbilityFilter.STATUSEFFECT,

    rankMods: {
        maxStaminaMods: {mod: setup.mod.REMOVE, value: 500},
    },
});

setup.Ability.Stunned.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_TURN_START,
    function(abilityRuntimeData, abilityParams){
        abilityRuntimeData.isActive = false;
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
    }
);

setup.Ability.Stunned.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #89: "Ability_SurvivorOfTheFirstEclipse.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_SurvivorOfTheFirstEclipse_Name = "Survivor of the First Eclipse";
LNG.en.l10nStrings.Ability_SurvivorOfTheFirstEclipse_Desc = "Your body and soul were untainted by the first eclipse.";

/* ------------------------Functions---------------------------*/
setup.Ability.SurvivorOfTheFirstEclipse = new Ability("Ability_SurvivorOfTheFirstEclipse",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        maxHPMods: {mod: setup.mod.ADD, value: 5},
        maxStaminaMods: {mod: setup.mod.ADD, value: 5},
    },
});
/* twine-user-script #90: "Ability_TaintedByTheLost.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_TaintedByTheLost_Name = "Tainted by the Lost";
LNG.en.l10nStrings.Ability_TaintedByTheLost_Desc = "The seed of Corruption is sown...";

/* ------------------------Functions---------------------------*/
setup.Ability.TaintedByTheLost = new Ability("Ability_TaintedByTheLost",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        corruptionMods: {mod: setup.mod.ADD, value: 5},
        minArousalMods: {mod: setup.mod.ADD, value: 5},
        arousalGainMods: {mod: setup.mod.ADD, value: 5}
    },
});
/* twine-user-script #91: "Ability_Tank.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Tank_Name = "Tank";
LNG.en.l10nStrings.Ability_Tank_Desc = "You have a sturdy and resilient body. Your Max HP is increased by {hpPct}%"
    + " and your prowess is decreased by {staPct}%"

/* ------------------------Functions---------------------------*/
setup.Ability.Tank = new Ability("Ability_Tank",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.VERYLOW,

    rankMods: {
        maxHPMods: {mod: setup.mod.MULTIPLYPOS, value: 0.2},
        maxStaminaMods: {mod: setup.mod.MULTIPLYNEG, value: 0.05},
    },
    rankModTrigger: setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_STAT_CHANGE,

    description:function(character, abilityRuntimeData)
    {
        let abi = setup.Ability.Tank;
        let args = {
            hpPct: Math.round(setup.getRankGrowth(abilityRuntimeData, "linear", abi.rankMods.maxHPMods.value)*100),
            staPct: Math.round(setup.getRankGrowth(abilityRuntimeData, "linear", abi.rankMods.maxStaminaMods.value)*100),
        }
        return LNG.LocaleCap('Ability_Tank_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 1)
    }

});

/* twine-user-script #92: "Ability_TimelessBond.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_TimelessBond_Name = "Timeless Bond";
LNG.en.l10nStrings.Ability_TimelessBond_Desc = "Your bond with Abel grows ever stronger.";

/* ------------------------Functions---------------------------*/
setup.Ability.TimelessBond = new Ability("Ability_TimelessBond",
{
    filter: setup.AbilityFilter.ALTERATION,
    rankMods: {
        maxStaminaMods: {mod: setup.mod.MULTIPLYPOS, value: 0.02},
        maxHPMods: {mod: setup.mod.MULTIPLYPOS, value: 0.02},
    },
});
/* twine-user-script #93: "Ability_ToLiveForEcho.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ToLiveForEcho_Name = "To live for {SymbioteName}";
LNG.en.l10nStrings.Ability_ToLiveForEcho_Desc = "You can only use pleasure self in human form, your stats in {SymbioteName} greatly increased.";

LNG.en.l10nStrings.Ability_ToLiveForEcho_Activate = "You feel the presence of {SymbioteName} press against your mind. You embrace it, feeling yourself become one with the being that resides within you."
 + " The familiar sensation of {SymbioteName} seeping through your pores is suddenly amplified as more and more ooze piles onto your flesh, expanding and taking shape as a"
 + " terrifyingly powerful and monstrous {SymbioteRace}!";

 LNG.en.l10nStrings.Ability_ToLiveForEcho_Deactivate = "You feel {SymbioteName} recede back within you. You can almost feel his smile pulling wide.";

/* ------------------------Functions---------------------------*/
setup.Ability.ToLiveForEcho = new Ability("Ability_ToLiveForEcho",
{

    // TODO: Broken since 0.4.0. Decide what to do?
    // unlockableFromLevelScreen: true,
    // category: setup.AbilityCategory.LUST,
    category: setup.AbilityCategory.DISABLED,

    _nameFunction: function() {
        try{
            let args = {
                SymbioteName: State.variables.CharacterSheet_Symbiote.info.name,
            }
            return LNG.LocaleCap('Ability_ToLiveForEcho_Name', args);
        }
        catch
        {
            // Can be called before stuff is initialized. Just default in that case
            // TODO: maybe try to straighten this out in the future.
            return "To Live for Echo";
        }
    },
    maxRank: 1,

    grade: setup.AbilityGrade.HIGH,

    mods: {
        maxHPMods: {mod: setup.mod.ADD, value: 35},
        maxStaminaMods: {mod: setup.mod.ADD, value: 20},
        strengthMods: {mod: setup.mod.ADD, value: 20},
        critChanceMods: {mod: setup.mod.ADD, value: 20},
        fightMoveIDsMods: {mod: setup.mod.ADD, value: []},
    },

    description: function(character, abilityRuntimeData)
    {
        let args = {
            SymbioteName: State.variables.CharacterSheet_Symbiote.info.name,
        }
        return LNG.LocaleCap('Ability_ToLiveForEcho_Desc', args);
    },

    unlockCondition: function(character){
        return false;
        // TODO: Broken since 0.4.0. Decide what to do?
        return State.variables.Level >= 7
    }
});


setup.Ability.ToLiveForEcho.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_MAX_LUST,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.ToLiveForEcho;
        abilityRuntimeData.isActive = true;
        for (const [key, def] of Object.entries(abi.mods))
        {
            abilityRuntimeData.modifier[key] = def;
        };
        let args = {
            SymbioteName: State.variables.CharacterSheet_Symbiote.info.name,
            SymbioteRace: setup.getRaceName(State.variables.CharacterSheet_Symbiote),
        }
        return LNG.LocaleCap('Ability_ToLiveForEcho_Activate', args);
    }
);

setup.Ability.ToLiveForEcho.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_MIN_LUST + setup.AbilityTrigger.ON_FIGHT_END + setup.AbilityTrigger.ON_FIGHT_START,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });

        abilityRuntimeData.modifier.fightMoveIDsMods = {mod: setup.mod.REPLACE, value: [setup.FightMove.Masturbate.id]};
        let args = {
            SymbioteName: State.variables.CharacterSheet_Symbiote.info.name,
        }
        return LNG.LocaleCap('Ability_ToLiveForEcho_Deactivate', args);
    }
);
/* twine-user-script #94: "Ability_TonicOfStillness.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_TonicOfStillness_Name = "Tonic of Stillness";
LNG.en.l10nStrings.Ability_TonicOfStillness_Desc = "The tonic of stillness flows through your body.\n Lasts for {days} expeditions.";

/* ------------------------Functions---------------------------*/
setup.Ability.TonicOfStillness = new Ability("Ability_TonicOfStillness",
{
    filter: setup.AbilityFilter.STATUSEFFECT,

    days: 7,

    description:function(character)
    {
        let args = {
            days: this.days,
        }
        return LNG.LocaleCap('Ability_TonicOfStillness_Desc', args);
    },
});

setup.Ability.TonicOfStillness.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard = {}
    },
);

setup.Ability.TonicOfStillness.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard.dayConsumed = State.variables.Expedition;

        console.log(abilityParams.self);

        var appliedCorruption = Math.max(State.variables[abilityParams.self.id].info.corruption * -1, -5);

        if(appliedCorruption != 0)
        {
            console.log("Tonic of Stillness Update");
            console.log("applying "+appliedCorruption);
            setup.applyCorruption(State.variables[abilityParams.self.id], appliedCorruption);
            console.log(appliedCorruption);

            var strengthValue = 0;

            if(abilityRuntimeData.modifier.strengthMods != null)
            {
                strengthValue = abilityRuntimeData.modifier.strengthMods.value;
            }

            abilityRuntimeData.isActive = true;
            abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: strengthValue + (appliedCorruption * -1)};
        }
    }
);

setup.Ability_TonicOfStillness.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(State.variables.Expedition - abilityRuntimeData.blackboard.dayConsumed >= 7)
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.rank = 0;
        }
    }
);
/* twine-user-script #95: "Ability_TorgarsBond.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_TorgarsBond_Name = "Torgar's Corrupted Bond";
LNG.en.l10nStrings.Ability_TorgarsBond_Desc = "Torgar's corruption experiment empowers you.\n You gain {strPct}% of Torgar's strength stat.";

/* ------------------------Functions---------------------------*/
setup.Ability.TorgarsBond = new Ability("Ability_TorgarsBond",
{
    maxRank: 5,
    filter: setup.AbilityFilter.ALTERATION,

    mods: {
        strPct: 0.2,
    },

    description:function(character, abilityRuntimeData)
    {
        let abi = setup.Ability.TorgarsBond;
        let args = {
            strPct: Math.round(setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.strPct)*100),
        }
        return LNG.LocaleCap('Ability_TorgarsBond_Desc', args);
    },

});

setup.Ability.TorgarsBond.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_STAT_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.strengthMods = {mod: setup.mod.ADD, value: setup.getRankGrowth(abilityRuntimeData, "linear", 0.2) * setup.getStatValue(State.variables.CharacterSheet_Torgar, "strength")};
    }
);
/* twine-user-script #96: "Ability_TorgarsCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_TorgarsCorruption_Name = "Torgar's Corruption";
LNG.en.l10nStrings.Ability_TorgarsCorruption_Desc = "Torgar's tainted seed empowers you.\n Lasts for {days} days.";

/* ------------------------Functions---------------------------*/
setup.Ability.TorgarsCorruption = new Ability("Ability_TorgarsCorruption",
{
    filter: setup.AbilityFilter.ALTERATION,

    rankMods: {
        maxHPMods: {mod: setup.mod.ADD, value: 8},
        maxStaminaMods: {mod: setup.mod.ADD, value: 8},
        strengthMods: {mod: setup.mod.ADD, value: 5},
        minArousalMods: {mod: setup.mod.ADD, value: 10, type: 'constant'},
        corruptionMods: {mod: setup.mod.ADD, value: 8},
    },

    mods: {
        corruption: 10,
        muscles: 10,
    },

    days: 12,

    description:function(character)
    {
        let abi = setup.Ability.TorgarsCorruption;
        let args = {
            days: abi.days,
        }
        return LNG.LocaleCap('TorgarsCorruption', args);
    },
});

setup.Ability.TorgarsCorruption.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard = {}
    },
);

setup.Ability.TorgarsCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.TorgarsCorruption;
        abilityRuntimeData.blackboard.dayConsumed = State.variables.Expedition;

        setup.applyCorruption(abilityParams.self, abi.mods.corruption);
        setup.applyGrowth(abilityParams.self, "muscles", abi.mods.muscles);
    }
);

setup.Ability.TorgarsCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(State.variables.Expedition - abilityRuntimeData.blackboard.dayConsumed >= 12)
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.rank = 0;
        }
    }
);
/* twine-user-script #97: "Ability_EmbracedByNyxsLight.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_EmbracedByNyxsLight_Name = "Embraced By Nyx's Light";
LNG.en.l10nStrings.Ability_EmbracedByNyxsLight_Desc = "Your body is absorbing Nyx's light while in this realm. You gain arousal {pct}% faster.";
/* ------------------------Functions---------------------------*/
setup.Ability.EmbracedByNyxsLight = new Ability("Ability_EmbracedByNyxsLight",
{
    filter: setup.AbilityFilter.ALTERATION,
    maxRank: 1,

    pct: 0.40,

    description:function(character)
    {
        let args = {
            pct: Math.round(this.pct*100),
        }
        return LNG.LocaleCap("Ability_EmbracedByNyxsLight_Desc",args);
    },
});

setup.Ability.EmbracedByNyxsLight.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_STAT_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.EmbracedByNyxsLight;
        abilityRuntimeData.modifier.arousalGainMods =
            {mod: setup.mod.MULTIPLYPOS, value: abi.pct};
    },
);
/* twine-user-script #98: "Ability_TouchedByNyxsLight.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_TouchedByNyxsLight_Name = "Touched By Nyx's Light";
LNG.en.l10nStrings.Ability_TouchedByNyxsLight_Desc = "Your body is absorbing Nyx's light while in this realm. You gain arousal {pct}% faster.";

/* ------------------------Functions---------------------------*/
setup.Ability.TouchedByNyxsLight = new Ability("Ability_TouchedByNyxsLight",
{
    maxRank: 1,
    filter: setup.AbilityFilter.ALTERATION,

    pct: 0.15,

    description:function(character)
    {
        let args = {
            pct: Math.round(this.pct*100),
        }
        return LNG.LocaleCap("Ability_TouchedByNyxsLight_Desc",args);
    },
});

setup.Ability.TouchedByNyxsLight.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE + setup.AbilityTrigger.ON_STAT_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.TouchedByNyxsLight;
        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.MULTIPLYPOS, value: abi.pct};
    },
);

setup.Ability.TouchedByNyxsLight.addBehaviour(
    "end",
    setup.AbilityTrigger.ON_FIGHT_BATTLE_LOST,
    undefined,
);
/* twine-user-script #99: "Ability_UnnaturalGrowth.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_UnnaturalGrowth_Name = "Unnatural Growth";
LNG.en.l10nStrings.Ability_UnnaturalGrowth_Desc = "Gains 100% your Strength and size until the end of combat.";

/* ------------------------Functions---------------------------*/
setup.Ability.UnnaturalGrowth = new Ability("Ability_UnnaturalGrowth",
{
    filter: setup.AbilityFilter.STATUSEFFECT,

    rankMods: {
        strengthMods: {mod: setup.mod.MULTIPLYPOS, value: 1},
        cockMods: {mod: setup.mod.MULTIPLYPOS, value: 1},
        ballsMods: {mod: setup.mod.MULTIPLYPOS, value: 1},
        heightMods: {mod: setup.mod.MULTIPLYPOS, value: 1},
        musclesMods: {mod: setup.mod.MULTIPLYPOS, value: 1},
    },
});

setup.Ability.UnnaturalGrowth.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #100: "Ability_UnstoppableExpansion.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_UnstoppableExpansion_Name = "Unstoppable Expansion";
LNG.en.l10nStrings.Ability_UnstoppableExpansion_Desc = "Whenever you gain any amount of growth, add {pct}% of your current size to that amount.";

/* ------------------------Functions---------------------------*/
setup.Ability.UnstoppableExpansion = new Ability("Ability_UnstoppableExpansion",
{
    maxRank: 10,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.GROWTH,
    grade: setup.AbilityGrade.VERYHIGH,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            pct: setup.getRankGrowth(abilityRuntimeData, "linear", 0.1).toFixed(2).replace(/\.00$/, ''),
        };
        return LNG.LocaleCap('Ability_UnstoppableExpansion_Desc', args);
    },

    upgradeCondition: function(character){
        return (State.variables.Level >= 15)
    },

});

setup.Ability.UnstoppableExpansion.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.modifier.bonusGrowthCock = {mod: setup.mod.ADD, value: setup.getStatValue(abilityParams.self, "cock") * setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 1000}
        abilityRuntimeData.modifier.bonusGrowthHeight = {mod: setup.mod.ADD, value: setup.getStatValue(abilityParams.self, "height") * setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 1000}
        abilityRuntimeData.modifier.bonusGrowthMuscles = {mod: setup.mod.ADD, value: setup.getStatValue(abilityParams.self, "muscles") * setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 1000}
        abilityRuntimeData.modifier.bonusGrowthBalls = {mod: setup.mod.ADD, value: setup.getStatValue(abilityParams.self, "balls") * setup.getRankGrowth(abilityRuntimeData, "linear", 1) / 1000}
    },
);
/* twine-user-script #101: "Ability_UntappedPotential.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_UntappedPotential_Name = "Untapped Potential";
LNG.en.l10nStrings.Ability_UntappedPotential_Desc = "The imp has hidden potential.";

/* ------------------------Functions---------------------------*/
setup.Ability.UntappedPotential = new Ability("Ability_UntappedPotential",
{
    filter: setup.AbilityFilter.ALTERATION,
    maxRank: 1,
});

setup.Ability_UntappedPotential.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH,
    function(abilityRuntimeData, abilityParams)
    {
        if(setup.getStatValue(abilityParams.self, "height") > 12 * 25)
        {
            abilityParams.self.info.bodyVisual = "BodyVisualSheet_Final_Imp";
            abilityParams.self.info.currentEmote = setup.BodyVisualSheet_Final_Imp.emoteList.normal;
        }
    },
);
/* twine-user-script #102: "Ability_ValiantRush.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ValiantRush_Name = "Valiant Rush";
LNG.en.l10nStrings.Ability_ValiantRush_Desc = "Increases the amount of Combo Moves per turn by {comboMoves}.";

/* ------------------------Functions---------------------------*/
setup.Ability.ValiantRush = new Ability("Ability_ValiantRush",
{
    maxRank: 5,

    // Disabled ability
    unlockableFromLevelScreen: false,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.MEDIUM,

    rankMods: {
        comboMovesPerTurnMods: {mod: setup.mod.ADD, value: 1},
    },

    description:function(character, abilityRuntimeData)
    {
        let args = {
            comboMoves: this.rankMods.comboMovesPerTurnMods.value,
        }
        return LNG.LocaleCap('Ability_ValiantRush_Desc', args);
    },

    unlockCondition: function(character){
        return State.variables.Level >= 5;
    },
});
/* twine-user-script #103: "Ability_VampiricLust.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_VampiricLust_Name = "Vampiric Lust";
LNG.en.l10nStrings.Ability_VampiricLust_Desc = "Regain {hp} health whenever you reach max arousal.";
LNG.en.l10nStrings.Ability_VampiricLust_Activate ="Lust courses through your system, your need drives you ever onwards!";

/* ------------------------Functions---------------------------*/
setup.Ability.VampiricLust = new Ability("Ability_VampiricLust",
{
     maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.LUST,
    grade: setup.AbilityGrade.LOW,

    description:function(character, abilityRuntimeData)
    {
        let args = {
            hp: (2 + setup.getRankGrowth(abilityRuntimeData, "linear", 3)),
        };
        return LNG.LocaleCap('Ability_VampiricLust_Desc', args);
    },

    unlockCondition: function(character){
        return State.variables.Level >= 4 && setup.AbiHndlr.hasAbility(character, "Ability_HostOfEcho")
    },

});

setup.Ability.VampiricLust.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_MAX_LUST,
    function(abilityRuntimeData, abilityParams)
    {
        abilityParams.self.fight.variables.currentHP = Math.min(setup.getStatValue(abilityParams.self, "hp"), abilityParams.self.fight.variables.currentHP + 2 + setup.getRankGrowth(abilityRuntimeData, "linear", 3));
        return LNG.LocaleCap('Ability_VampiricLust_Activate');
    },
);
/* twine-user-script #104: "Ability_VigorOfTheEndowed.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_VigorOfTheEndowed_Name = "Vigor of the Endowed";
LNG.en.l10nStrings.Ability_VigorOfTheEndowed_Desc = "You gain Prowess for each {cockLen} in cock length (up to {maxCock})."
    + " Your cock grows {cockGrow} and your balls grow {ballGrow} upon acquiring this Ability";

LNG.en.l10nStrings.Ability_VigorOfTheEndowed_UpgradeDesc = "You must be at least level 7: ({level}).";

/* ------------------------Functions---------------------------*/
setup.Ability.VigorOfTheEndowed = new Ability("Ability_VigorOfTheEndowed",
{
    maxRank: 4,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.FORM,
    grade: setup.AbilityGrade.VERYLOW,

    mods: {
        maxCockOffset: 5,
        maxCock: 10,
        cockDiv: 4,
        cockGrow: 2,
        ballGrow: 1,
    },

    description:function(character, abilityRuntimeData)
    {
        let args = {
            maxCock: (this.mods.maxCockOffset + setup.getRankGrowth(abilityRuntimeData, 'linear', this.mods.maxCock)),
            cockLen: setup.getLength(this.mods.cockDiv),
            cockGrow: setup.getLength(setup.getRankGrowth(abilityRuntimeData, 'linear', this.mods.cockGrow)),
            ballGrow: setup.getLength(setup.getRankGrowth(abilityRuntimeData, "linear", this.mods.ballGrow)),
        };
        return LNG.LocaleCap('Ability_VigorOfTheEndowed_Desc', args);
    },

    getStaminaBoost: function(character, abilityRuntimeData)
    {
        return Math.min(Math.ceil(setup.getStatValue(character, "cock", this.id) / this.mods.cockDiv),
            (this.mods.maxCockOffset + setup.getRankGrowth(abilityRuntimeData, "linear", this.mods.maxCock)));
    },

    unlockCondition: function(character){
        return true;
    },

    upgradeConditionFunction: function(abilityRuntimeData, character){
        return (State.variables.Level >= 7) && (setup.canRank(abilityRuntimeData) == false)
    },

    upgradeDescription: function(abilityRuntimeData, character){
        let args = {
            level: State.variables.Level,
        }
        return LNG.LocaleCap('Ability_VigorOfTheEndowed_UpgradeDesc', args);
    },
    nextAbilityID: "Ability_VigorOfTheEndowed_2",
});


setup.Ability.VigorOfTheEndowed.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.VigorOfTheEndowed;
        setup.applyGrowth(abilityParams.self, "cock", setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.cockGrow));
        setup.applyGrowth(abilityParams.self, "balls", setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.ballGrow));
    },
);

setup.Ability.VigorOfTheEndowed.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.VigorOfTheEndowed;
        abilityRuntimeData.modifier.maxStaminaMods =
            {mod: setup.mod.ADD, value: abi.getStaminaBoost(abilityParams.self, abilityRuntimeData)};
    },
);
/* twine-user-script #105: "Ability_VigorOfTheEndowed_2.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_VigorOfTheEndowed_2_Name = "Vigor of the Hyper Endowed";
LNG.en.l10nStrings.Ability_VigorOfTheEndowed_2_Desc = "You gain Prowess and Health for each {cockLen} in cock length (up to {maxCock})."
    +" Your cock grows {cockGrow} and your balls grow {ballGrow} upon acquiring this Ability";

/* ------------------------Functions---------------------------*/
setup.Ability.VigorOfTheEndowed_2 = new Ability("Ability_VigorOfTheEndowed_2",
{
    category: setup.AbilityCategory.FORM,
    grade: setup.AbilityGrade.HIGH,
    maxRank: 5,

    mods: {
        maxCockOffset: 35,
        maxCock: 10,
        cockDiv: 4,
        cockGrow: 5,
        ballGrow: 2,
    },

    description:function(character, abilityRuntimeData)
    {
        let args = {
            maxCock: (this.mods.maxCockOffset + setup.getRankGrowth(abilityRuntimeData, 'linear', this.mods.maxCock)),
            cockLen: setup.getLength(this.mods.cockDiv),
            cockGrow: setup.getLength(setup.getRankGrowth(abilityRuntimeData, 'linear', this.mods.cockGrow)),
            ballGrow: setup.getLength(setup.getRankGrowth(abilityRuntimeData, "linear", this.mods.ballGrow)),
        };
        return LNG.LocaleCap('Ability_VigorOfTheEndowed_2_Desc', args);
    },

});

setup.Ability.VigorOfTheEndowed_2.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.VigorOfTheEndowed_2;
        setup.applyGrowth(abilityParams.self, "cock", setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.cockGrow));
        setup.applyGrowth(abilityParams.self, "balls", setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.ballGrow));
    },
);

setup.Ability.VigorOfTheEndowed_2.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_APPLY_GROWTH + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.VigorOfTheEndowed_2;
        var boost = Math.min(setup.getStatValue(abilityParams.self, "cock", "Ability_VigorOfTheEndowed_2" / abi.mods.cockDiv),
            (abi.mods.maxCockOffset + setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.maxCock)));
        abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: boost};
        abilityRuntimeData.modifier.maxHPMods = {mod: setup.mod.ADD, value: boost};
    },
);
/* twine-user-script #106: "Ability_WarriorOfDuality.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_WarriorOfDuality_Name = "Warrior of Duality";
LNG.en.l10nStrings.Ability_WarriorOfDuality_Desc = "Gain {hpGain} health on level up if corruption lower than {corruption}.\n Gain {arousalGain} arousal per turn on level up if your corruption is greater than or equal to {corruption}.";
/* ------------------------Functions---------------------------*/
setup.Ability.WarriorOfDuality = new Ability( "Ability_WarriorOfDuality",
{
    maxRank: 5,
    unlockableFromLevelScreen: true,
    category: setup.AbilityCategory.WARRIOR,
    grade: setup.AbilityGrade.LOW,

    mods: {
        hpGain: 3,
        arousalGain: 1,
    },

    description:function(character, abilityRuntimeData)
    {
        let abi = setup.Ability.WarriorOfDuality;
        let args = {
            hpGain: abi.mods.hpGain,
            arousalGain: abi.mods.arousalGain,
            corruption: setup.CorruptionComparators.PURE,
        };

        return LNG.LocaleCap('Ability_WarriorOfDuality_Desc', args);
    },

    unlockCondition: function(character){
        return (State.variables.Level >= 3)
    },

});

setup.Ability.WarriorOfDuality.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_LEVEL_UP,
    function(abilityRuntimeData, abilityParams)
    {
        let abi = setup.Ability.WarriorOfDuality;
        if(setup.getStatValue(abilityParams.self, "corruption") < setup.CorruptionComparators.PURE)
        {
            setup.addToBaseStatValue(abilityParams.self, "hp", setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.hpGain))
        }
        else
        {
            setup.addToBaseStatValue(abilityParams.self, "arousalGain", setup.getRankGrowth(abilityRuntimeData, "linear", abi.mods.arousalGain))
        }
    },
);
/* twine-user-script #107: "Ability_WitheringVenom.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_WitheringVenom_Name = "Withering Venom";
LNG.en.l10nStrings.Ability_WitheringVenom_Desc = "Active until your arousal becomes {minArousal} or less.";

/* ------------------------Functions---------------------------*/
setup.Ability.WitheringVenom = new Ability("Ability_WitheringVenom",
{
    filter: setup.AbilityFilter.STATUSEFFECT,

    rankMods: {
        maxHPMods: {mod: setup.mod.REMOVE, value: 10},
    },

    description: function(character)
    {
        let args = {
            minArousal: setup.getStatValue(character, "minArousal"),
        }
        return LNG.LocaleCap('Ability_WitheringVenom_Desc', args);
    },
});


setup.Ability.WitheringVenom.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_MIN_LUST,
    function(abilityRuntimeData, abilityParams){
        abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: abilityRuntimeData.abilityDataIndex
        });
    }
);

setup.Ability.WitheringVenom.addBehaviour(
    "remove",
    setup.AbilityTrigger.ON_FIGHT_END,
    undefined,
);
/* twine-user-script #108: "Ability_LordOfCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_LordOfCorruption_Name = "Lord of Corruption";
LNG.en.l10nStrings.Ability_LordOfCorruption_Desc = "Corruption bends to your will, few have absorbed this much Corruption without losing their mind."
    + " '{fightMove1}', '{fightMove2}', '{fightMove3}', and '{fightMove4}' will replace random fight moves.";

/* ------------------------Functions---------------------------*/
setup.Ability.LordOfCorruption = new Ability("Ability_LordOfCorruption",
{
    maxRank: 1,
    assignToPlayer: true,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character)
    {
        let args = {
            fightMove1: setup.FightMove.LustfulInstincts.name,
            fightMove2: setup.FightMove.CorruptedUrges.name,
            fightMove3: setup.FightMove.CorruptedRemedy.name,
            fightMove4: setup.FightMove.InfectiousLust.name,
        }
        return LNG.LocaleCap('Ability_LordOfCorruption_Desc', args);
    },
});

setup.Ability.LordOfCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        var corruption = setup.getStatValue(abilityParams.self, "corruption");
        if(corruption >= setup.CorruptionComparators.FOOBAR)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 20};
            abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: 2};
            abilityRuntimeData.modifier.corruptionPerDayMods = {mod: setup.mod.ADD, value: 1};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);
/* twine-user-script #109: "Ability_LostInCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_LostInCorruption_Name = "Lost in Corruption";
LNG.en.l10nStrings.Ability_LostInCorruption_Desc = "The urge to grow is unsatiable, you are constantly on the verge of orgasm."
    +" '{fightMove1}', '{fightMove2}', '{fightMove3}', and '{fightMove4}' will replace random fight moves.";
/* ------------------------Functions---------------------------*/
setup.Ability.LostInCorruption = new Ability("Ability_LostInCorruption",
{
    maxRank: 1,
    assignToPlayer: true,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character)
    {
        let args = {
            fightMove1: setup.FightMove.LustfulInstincts.name,
            fightMove2: setup.FightMove.CorruptedUrges.name,
            fightMove3: setup.FightMove.CorruptedRemedy.name,
            fightMove4: setup.FightMove.InfectiousLust.name,
        }
        return LNG.LocaleCap('Ability_LostInCorruption_Desc', args);
    },
});

setup.Ability.LostInCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        var corruption = setup.getStatValue(abilityParams.self, "corruption");
        if(corruption >= setup.CorruptionComparators.CORRUPT && corruption < setup.CorruptionComparators.FOOBAR)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 12};
	        abilityRuntimeData.modifier.maxStaminaMods = {mod: setup.mod.ADD, value: 12};
            abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: 1};
            abilityRuntimeData.modifier.corruptionPerDayMods = {mod: setup.mod.REMOVE, value: 1};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);
/* twine-user-script #110: "Ability_MajorCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_MajorCorruption_Name = "Major Corruption";
LNG.en.l10nStrings.Ability_MajorCorruption_Desc = "Very high amounts of Corruption flows through your veins."
    + " '{fightMove1}' and '{fightMove2}' will replace random fight moves.";

/* ------------------------Functions---------------------------*/
setup.Ability.MajorCorruption = new Ability("Ability_MajorCorruption",
{
    maxRank: 1,
    assignToPlayer: true,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character)
    {
        let args = {
            fightMove1: setup.FightMove.LustfulInstincts.name,
            fightMove2: setup.FightMove.CorruptedUrges.name,
            fightMove3: setup.FightMove.CorruptedRemedy.name,
            fightMove4: setup.FightMove.InfectiousLust.name,
        }
        return LNG.LocaleCap('Ability_MajorCorruption_Desc', args);
    },

});

setup.Ability.MajorCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        var corruption = setup.getStatValue(abilityParams.self, "corruption");
        if(corruption >= setup.CorruptionComparators.NEUTRAL && corruption < setup.CorruptionComparators.TAINTED)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 5};
            abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: 0.5};
            abilityRuntimeData.modifier.corruptionPerDayMods = {mod: setup.mod.REMOVE, value: 2};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);
/* twine-user-script #111: "Ability_MinorCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_MinorCorruption_Name = "Minor Corruption";
LNG.en.l10nStrings.Ability_MinorCorruption_Desc = "A substantial amount of Corruption flows within you."
    + " '{fightMove1}' will replace random fight moves.";
/* ------------------------Functions---------------------------*/
setup.Ability.MinorCorruption = new Ability("Ability_MinorCorruption",
{
    maxRank: 1,
    assignToPlayer: true,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character)
    {
        let args = {
            fightMove1: setup.FightMove.LustfulInstincts.name,
            fightMove2: setup.FightMove.CorruptedUrges.name,
            fightMove3: setup.FightMove.CorruptedRemedy.name,
            fightMove4: setup.FightMove.InfectiousLust.name,
        }
        return LNG.LocaleCap('Ability_MinorCorruption_Desc', args);
    },
});

setup.Ability.MinorCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        var corruption = setup.getStatValue(abilityParams.self, "corruption");
        if(corruption >= setup.CorruptionComparators.PURE && corruption < setup.CorruptionComparators.NEUTRAL)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 2};
            abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: 0.25};
            abilityRuntimeData.modifier.corruptionPerDayMods = {mod: setup.mod.REMOVE, value: 2.5};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);
/* twine-user-script #112: "Ability_OverwhelmingCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_OverwhelmingCorruption_Name = "Overwhelming Corruption";
LNG.en.l10nStrings.Ability_OverwhelmingCorruption_Desc = "Corruption overwhelms every part of you."
    + " '{fightMove1}', '{fightMove2}' and '{fightMove3}' will replace random fight moves.";

/* ------------------------Functions---------------------------*/
setup.Ability.OverwhelmingCorruption = new Ability("Ability_OverwhelmingCorruption",
{
    maxRank: 1,
    assignToPlayer: true,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character)
    {
        let args = {
            fightMove1: setup.FightMove.LustfulInstincts.name,
            fightMove2: setup.FightMove.CorruptedUrges.name,
            fightMove3: setup.FightMove.CorruptedRemedy.name,
            fightMove4: setup.FightMove.InfectiousLust.name,
        }
        return LNG.LocaleCap('Ability_OverwhelmingCorruption_Desc', args);
    },
});

setup.Ability.OverwhelmingCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        var corruption = setup.getStatValue(abilityParams.self, "corruption");
        if(corruption >= setup.CorruptionComparators.TAINTED && corruption < setup.CorruptionComparators.CORRUPT)
        {
            abilityRuntimeData.isActive = true;
	        abilityRuntimeData.modifier.arousalGainMods = {mod: setup.mod.ADD, value: 7};
	        abilityRuntimeData.modifier.growthMods = {mod: setup.mod.ADD, value: 1};
            abilityRuntimeData.modifier.corruptionPerDayMods = {mod: setup.mod.REMOVE, value: 1.5};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);
/* twine-user-script #113: "Ability_ProcessingCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_ProcessingCorruption_Name = "Processing Corruption";
LNG.en.l10nStrings.Ability_ProcessingCorruption_Desc_Hdr ="You have been exposed to Corruption.";
LNG.en.l10nStrings.Ability_ProcessingCorruption_Desc_Body ="You will gain {corruption} Corruption next time you rest.";

/* ------------------------Functions---------------------------*/
setup.Ability.ProcessingCorruption = new Ability("Ability_ProcessingCorruption",
{
    maxRank: 1,
    assignToPlayer: true,
    filter: setup.AbilityFilter.ALTERATION,

    description:function(character, abilityRuntimeData)
    {
        if(abilityRuntimeData != undefined)
        {
            let displayString = LNG.LocaleCap('Ability_ProcessingCorruption_Desc_Hdr');

            if(character.info.accumulatedCorruption > 0)
            {
                let args = {
                    corruption: character.info.accumulatedCorruption,
                };
                displayString += "\n " + LNG.LocaleCap('Ability_ProcessingCorruption_Desc_Body', args);
            };
            return displayString;
        }
    },
});

setup.Ability.ProcessingCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityParams.self.info.accumulatedCorruption + abilityParams.gainedCorruption > 0)
        {
            abilityRuntimeData.isActive = true;
            abilityParams.self.info.accumulatedCorruption += abilityParams.gainedCorruption;
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityParams.self.info.accumulatedCorruption = 0;
        }
    }
);

setup.Ability.ProcessingCorruption.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.isActive == true)
        {
            if(abilityParams.self.info.accumulatedCorruption <= 0)
            {
                abilityRuntimeData.isActive = false;
            }
        }
    }
);
/* twine-user-script #114: "Ability_Uncorrupted.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Ability_Uncorrupted_Name = "Uncorrupted";
LNG.en.l10nStrings.Ability_Uncorrupted_Desc = "Your body processes Corruption normally.";

/* ------------------------Functions---------------------------*/
setup.Ability.Uncorrupted = new Ability("Ability_Uncorrupted",
{
    maxRank: 1,
    assignToPlayer: true,
    filter: setup.AbilityFilter.ALTERATION,
});

setup.Ability.Uncorrupted.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        var corruption = setup.getStatValue(abilityParams.self, "corruption");
        if(corruption < setup.CorruptionComparators.PURE)
        {
            abilityRuntimeData.isActive = true;
            abilityRuntimeData.modifier.corruptionPerDayMods = {mod: setup.mod.REMOVE, value: 2.5};
        }
        else
        {
            abilityRuntimeData.isActive = false;
            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
            {
                abilityIndex: abilityRuntimeData.abilityDataIndex
            });
        }
    }
);
/* twine-user-script #115: "Achievement_Abomination.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_Abomination_Name = "Remnant of the Abomination";
LNG.en.l10nStrings.Achievement_Abomination_Info = "Become an Abomination.";

LNG.en.l10nStrings.Achievement_Abomination_Desc = "Something stirs and writhes in your soul...";


/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_Abomination = new AchievementAbility("Achievement_Abomination",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        growthMods: {mod: setup.mod.ADD, value: 0.05},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        corruptionMods: {mod: setup.mod.MULTIPLYPOS, value: 0.20},
    }
});

setup.Ability.Achievement_Abomination.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ANATOMY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if (setup.isPlayer(abilityParams.self))
        {
            if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
            {
                return;
            }
            if(abilityParams.self.info.raceId == setup.RacePool.ABOMINATION.id)
            {
                setup.completeAchievement("Achievement_Abomination");
            }
        }
    }
);
/* twine-user-script #116: "Achievement_AscendedPrisoner.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_AscendedPrisoner_Name = "Ascended Prisoner";
LNG.en.l10nStrings.Achievement_AscendedPrisoner_Info = "Transform a prisoner into a titanic beast.";

LNG.en.l10nStrings.Achievement_AscendedPrisoner_Desc = "The Lost Prisoner has been transformed into a godlike beast by your hands.";


/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_AscendedPrisoner = new AchievementAbility("Achievement_AscendedPrisoner",
{
    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #117: "Achievement_BaptismInCorruption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_BaptismInCorruption_Name = "Baptism In Corruption";
LNG.en.l10nStrings.Achievement_BaptismInCorruption_Info = "Make an opponent reach over 150 Corruption.";

LNG.en.l10nStrings.Achievement_BaptismInCorruption_Desc = "Another one joins the cause, another one sired into infinite lust.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_BaptismInCorruption = new AchievementAbility("Achievement_BaptismInCorruption",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveModes: {
        arousalGainMods: {mod: setup.mod.ADD, value: 10},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    }
});
/* twine-user-script #118: "Achievement_BearerOfTheEye.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_BearerOfTheEye_Name = "Bearer of the Eye";
LNG.en.l10nStrings.Achievement_BearerOfTheEye_Info = "Restore the Eye of the Void.";
LNG.en.l10nStrings.Achievement_BearerOfTheEye_Desc = "The Eye of the Void has been restored, making you able to witstand Nyx's influence.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_BearerOfTheEye = new AchievementAbility("Achievement_BearerOfTheEye",{
    achieveMods: {
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.6},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.6},
    }
});
/* twine-user-script #119: "Achievement_CockRingOfTheBind.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_CockRingOfTheBind_Name = "Cock Ring of the Bind";
LNG.en.l10nStrings.Achievement_CockRingOfTheBind_Info = "Completely dominate the spirit of the ring.";

LNG.en.l10nStrings.Achievement_CockRingOfTheBind_Desc = "You have dominated the Bind, and it now vows to turn you into a dominant warrior.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_CockRingOfTheBind = new AchievementAbility("Achievement_CockRingOfTheBind",
{
    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #120: "Achievement_CollarOfTheBind.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_CollarOfTheBind_Name = "Collar of the Bind";
LNG.en.l10nStrings.Achievement_CollarOfTheBind_Info = "Completely submit to the spirit of the ring.";

LNG.en.l10nStrings.Achievement_CollarOfTheBind_Desc = "You have submitted to the Bind. His presence within your soul is ever present.";

/* ------------------------Functions---------------------------*/

setup.Ability.Achievement_CollarOfTheBind = new AchievementAbility("Achievement_CollarOfTheBind",
{

    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    }
});
/* twine-user-script #121: "Achievement_DamnatoryKnowledge.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_DamnatoryKnowledge_Name = "Damnatory Knowledge";
LNG.en.l10nStrings.Achievement_DamnatoryKnowledge_Info = "Spread forbidden knowledge to your master.";
LNG.en.l10nStrings.Achievement_DamnatoryKnowledge_Desc = "Kanathar has learned about the location of The Black Sun.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_DamnatoryKnowledge = new AchievementAbility("Achievement_DamnatoryKnowledge",
{
    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #122: "Achievement_EndlessStruggle.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_EndlessStruggle_Name = "Endless Struggle";
LNG.en.l10nStrings.Achievement_EndlessStruggle_Info = "Defeated the true God of Lust at least once.";

LNG.en.l10nStrings.Achievement_EndlessStruggle_Desc = "You have bested Ethrex after his ascension, even though the result remains the same.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_EndlessStruggle = new AchievementAbility("Achievement_EndlessStruggle",
{
    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.8},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.8},
    },
});
/* twine-user-script #123: "Achievement_Evolution.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_Evolution_Name = "Evolution";
LNG.en.l10nStrings.Achievement_Evolution_Info = "Make your symbiote evolve further.";

LNG.en.l10nStrings.Achievement_Evolution_Desc = "You have consume the shard of demonic Essence to empower your symbiote.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_Evolution = new AchievementAbility("Achievement_Evolution",
{
    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #124: "Achievement_ExplorerOfCorruptedDepths.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_ExplorerOfCorruptedDepths_Name = "Explorer of Corrupted Depths";
LNG.en.l10nStrings.Achievement_ExplorerOfCorruptedDepths_Info = "Complete every room of Nyx's castle.";

LNG.en.l10nStrings.Achievement_ExplorerOfCorruptedDepths_Desc = "You have experienced all of Nyx's twisted challenges.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_ExplorerOfCorruptedDepths = new AchievementAbility("Achievement_ExplorerOfCorruptedDepths",
{
    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #125: "Achievement_GodAmongstMen.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_GodAmongstMen_Name = "God Amongst Men";
LNG.en.l10nStrings.Achievement_GodAmongstMen_Info = "Reach level 50.";

LNG.en.l10nStrings.Achievement_GodAmongstMen_Desc = "The gods are constantly thinking about you. Partially out of interest, partially out of fear.";

/* ------------------------Functions---------------------------*/

setup.Ability.Achievement_GodAmongstMen = new AchievementAbility("Achievement_GodAmongstMen",
{
    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.8},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.8},
    },
});

setup.Ability.Achievement_GodAmongstMen.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_LEVEL_UP + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        if(State.variables.Level >= 50)
        {
            setup.completeAchievement("Achievement_GodAmongstMen");
        }
    }
);
/* twine-user-script #126: "Achievement_HostOfTheSpawns.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_HostOfTheSpawns_Name = "Host of the Spawns";
LNG.en.l10nStrings.Achievement_HostOfTheSpawns_Info = "Have any character embrace 5 spawns of Nyx.";

LNG.en.l10nStrings.Achievement_HostOfTheSpawns_Desc = "They are constantly pleasuring you, begging you to turn into a monstrous beast.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_HostOfTheSpawns = new AchievementAbility("Achievement_HostOfTheSpawns",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 10},
        minArousalMods: {mod: setup.mod.ADD, value: 5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #127: "Achievement_IncompleteMemories.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_IncompleteMemories_Name = "Incomplete Memories";
LNG.en.l10nStrings.Achievement_IncompleteMemories_Info = "Reach the end of the main story path.";

LNG.en.l10nStrings.Achievement_IncompleteMemories_Desc = "You have crossed the most travelled path, even if its destination is still out of reach. You gain the {fightMove} fight move.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_IncompleteMemories = new AchievementAbility("Achievement_IncompleteMemories",{

    description:function(character)
    {
        let args = {
            fightMove: setup.FightMove.HeraldsDevotion.name
        }
        return LNG.LocaleCap('Achievement_IncompleteMemories_Desc',args);
    },
    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        fightMoveIDsMods: {mod: setup.mod.ADD, value: ["FightMove_HeraldsDevotion"]},
    },
});
/* twine-user-script #128: "Achievement_LordOfTheSpawns.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_LordOfTheSpawns_Name = "Lord of the Spawns";
LNG.en.l10nStrings.Achievement_LordOfTheSpawns_Info = "Take in 15 spawns of Nyx.";

LNG.en.l10nStrings.Achievement_LordOfTheSpawns_Desc = "Their need is now your own. They must grow... They must spread...";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_LordOfTheSpawns = new AchievementAbility("Achievement_LordOfTheSpawns",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 20},
        minArousalMods: {mod: setup.mod.ADD, value: 10},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #129: "Achievement_MasterOfTheBarrens.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MasterOfTheBarrens_Name = "Master of the Barrens";
LNG.en.l10nStrings.Achievement_MasterOfTheBarrens_Info = "Accomplish 100 expeditions in a single cycle.";

LNG.en.l10nStrings.Achievement_MasterOfTheBarrens_Desc = "You know the Barrens inside and out.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MasterOfTheBarrens = new AchievementAbility("Achievement_MasterOfTheBarrens",
{
    achieveMods: {
        maxStaminaMods: {mod: setup.mod.ADD, value: 10},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});

setup.Ability.Achievement_MasterOfTheBarrens.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        if(State.variables.Expedition >= 100)
        {
            setup.completeAchievement("Achievement_MasterOfTheBarrens");
        }
    }
);
/* twine-user-script #130: "Achievement_MemoriesOfApothus.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfApothus_Name = "Memories of Apothus";
LNG.en.l10nStrings.Achievement_MemoriesOfApothus_Info = "Give yourself away to the cult leader.";

LNG.en.l10nStrings.Achievement_MemoriesOfApothus_Desc = "Distant words of unrestrained madness echo within your soul.";

/* ------------------------Functions---------------------------*/
setup.Ability.MemoriesOfApothus = new AchievementAbility("Achievement_MemoriesOfApothus",
{
    achieveMods: {
        minArousalMods: {mod: setup.mod.ADD, value: 5},
        maxHPMods: {mod: setup.mod.ADD, value: 10},
        critMod: {mod: setup.mod.REMOVE, value: 20},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #131: "Achievement_MemoriesOfCray.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfCray_Name = "Memories of Cray";
LNG.en.l10nStrings.Achievement_MemoriesOfCray_Info = "Embrace an old mentor.";

LNG.en.l10nStrings.Achievement_MemoriesOfCray_Desc = "Distant words of a being yearning to be more echoes within your soul.";

/* ------------------------Functions---------------------------*/
setup.Ability.MemoriesOfCray = new AchievementAbility("Achievement_MemoriesOfCray",{

    achieveMods: {
        growthMods: {mod: setup.mod.ADD, value: 1.0},
        maxStaminaMods: {mod: setup.mod.ADD, value: 10},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.5},
    },
});
/* twine-user-script #132: "Achievement_MemoriesOfDemonicAscent.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfDemonicAscent_Name = "Memories of Demonic Ascent";
LNG.en.l10nStrings.Achievement_MemoriesOfDemonicAscent_Info = "Merge with Kanathar as he ascends into a corrupted god.";

LNG.en.l10nStrings.Achievement_MemoriesOfDemonicAscent_Desc = "Demonic instincts burn within your soul.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MemoriesOfDemonicAscent = new AchievementAbility("Achievement_MemoriesOfDemonicAscent",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        maxHPMods: {mod: setup.mod.ADD, value: 15},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #133: "Achievement_MemoriesOfEthrex.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfEthrex_Name = "Memories of Ethrex";
LNG.en.l10nStrings.Achievement_MemoriesOfEthrex_Info = "Lead Ethrex to his ultimate ascension.";

LNG.en.l10nStrings.Achievement_MemoriesOfEthrex_Desc = "A betrayal that doomed the world.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MemoriesOfEthrex = new AchievementAbility("Achievement_MemoriesOfEthrex",
{
    achieveMods: {
        maxHPMods: {mod: setup.mod.ADD, value: 30},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.6},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.5},
    },
});
/* twine-user-script #134: "Achievement_MemoriesOfFerro.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfFerro_Name = "Memories of Ferro";
LNG.en.l10nStrings.Achievement_MemoriesOfFerro_Info = "Join the prisoner as the new apex predators of the Barrens.";

LNG.en.l10nStrings.Achievement_MemoriesOfFerro_Desc = "Apex predators now loom over all.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MemoriesOfFerro = new AchievementAbility("Achievement_MemoriesOfFerro",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        strengthMods: {mod: setup.mod.ADD, value: 15},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.6},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.5},
    },
});
/* twine-user-script #135: "Achievement_MemoriesOfKanathar.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfKanathar_Name = "Memories of Kanathar";
LNG.en.l10nStrings.Achievement_MemoriesOfKanathar_Info = "Allow Kanathar to ascend into a corrupted god.";

LNG.en.l10nStrings.Achievement_MemoriesOfKanathar_Desc = "The name of the demon god now transcends all times and memories.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MemoriesOfKanathar = new AchievementAbility("Achievement_MemoriesOfKanathar",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        maxHPMods: {mod: setup.mod.ADD, value: 15},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #136: "Achievement_MemoriesOfNyx.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfNyx_Name = "Memories of Nyx";
LNG.en.l10nStrings.Achievement_MemoriesOfNyx_Info = "Embrace the Black Sun.";

LNG.en.l10nStrings.Achievement_MemoriesOfNyx_Desc = "Distant visions of pure Corruption echo within your soul.";

/* ------------------------Functions---------------------------*/
setup.Ability.MemoriesOfNyx = new AchievementAbility("Achievement_MemoriesOfNyx",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        minArousalMods: {mod: setup.mod.ADD, value: 10},
        maxStaminaMods: {mod: setup.mod.ADD, value: 10},
        actionSlotsMods: {mod: setup.mod.ADD, value: 1},
        growthMods: {mod: setup.mod.ADD, value: 0.25},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.3},
    }
});
/* twine-user-script #137: "Achievement_MemoriesOfTheLost.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfTheLost_Name = "Memories of the Lost";
LNG.en.l10nStrings.Achievement_MemoriesOfTheLost_Info = "Overcome the Herald.";

LNG.en.l10nStrings.Achievement_MemoriesOfTheLost_Desc = "The Herald dared try to stop you, an act that led to the ascension of his worst nightmare.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MemoriesOfTheLost = new AchievementAbility("Achievement_MemoriesOfTheLost",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 10},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #138: "Achievement_MemoriesOfTheMinotaur.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MemoriesOfTheMinotaur_Name = "Memories of the Minotaur";
LNG.en.l10nStrings.Achievement_MemoriesOfTheMinotaur_Info = "Bring the power of Nyx to the minotaur.";

LNG.en.l10nStrings.Achievement_MemoriesOfTheMinotaur_Desc = "Tiadane has ascended. All shall bear witness to your loyal servant.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MemoriesOfTheMinotaur = new AchievementAbility("Achievement_MemoriesOfTheMinotaur",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        maxHPMods: {mod: setup.mod.ADD, value: 15},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});
/* twine-user-script #139: "Achievement_MightOfAugwult.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_MightOfAugwult_Name = "Might of Augwult";
LNG.en.l10nStrings.Achievement_MightOfAugwult_Info = "Reach 200 Strength.";

LNG.en.l10nStrings.Achievement_MightOfAugwult_Desc = "Your strength attracts the attention of powerful forces beyond your reach.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_MightOfAugwult = new AchievementAbility("Achievement_MightOfAugwult",
{
    achieveMods: {
        strengthMods: {mod: setup.mod.ADD, value: 30},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});

setup.Ability.Achievement_MightOfAugwult.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_STAT_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        if(setup.getStatValue(State.variables.CharacterSheet_Player, "strength") >= 200)
        {
            setup.completeAchievement("Achievement_MightOfAugwult");
        }
    }
);
/* twine-user-script #140: "Achievement_OffTheDeepEnd.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_OffTheDeepEnd_Name = "Off The Deep End";
LNG.en.l10nStrings.Achievement_OffTheDeepEnd_Info = "Reach {corruption} Corruption.";

LNG.en.l10nStrings.Achievement_OffTheDeepEnd_Desc = "You've been warned and have seen the signs.<br>It only made your descent even sweeter.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_OffTheDeepEnd = new AchievementAbility("Achievement_OffTheDeepEnd",{

    _achievementInfoFunction: function()
    {
        let args = {
            corruption: setup.CorruptionComparators.NEUTRAL,
        }
        return LNG.LocaleCap(`${this.id}_Info`, args);
    },

    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 5},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },

});

setup.Ability.Achievement_OffTheDeepEnd.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE + setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        if(abilityParams.self.id != "CharacterSheet_Player")
        {
            return;
        }

        var corruption = setup.getStatValue(abilityParams.self, "corruption");
        if(corruption >= 200)
        {
            setup.completeAchievement("Achievement_OffTheDeepEnd");
        }
    }
);
/* twine-user-script #141: "Achievement_PureOfHeart.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_PureOfHeart_Name = "Pure of Heart";
LNG.en.l10nStrings.Achievement_PureOfHeart_Info = "Defeat the final boss without ever reaching {corruption} Corruption.";

LNG.en.l10nStrings.Achievement_PureOfHeart_Desc = "Never fall to corruption in your travels.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_PureOfHeart = new AchievementAbility("Achievement_PureOfHeart",
{
    _achievementInfoFunction: function()
    {
        let args = {
            corruption: setup.CorruptionComparators.DECENT,
        }
        return LNG.LocaleCap(`${this.id}_Info`, args);
    },

    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.3},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.3},
    }
});

setup.Ability.Achievement_PureOfHeart.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
        abilityRuntimeData.blackboard = {
            purity: true,
        }
    }
);

setup.Ability.Achievement_PureOfHeart.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        if(abilityRuntimeData.blackboard && abilityRuntimeData.blackboard.purity == true)
        {
            if(setup.getStatValue(State.variables.CharacterSheet_Player, "corruption") >= setup.CorruptionComparators.DECENT)
            {
                abilityRuntimeData.blackboard.purity = false;
            }
        }
    }
);

setup.Ability.Achievement_PureOfHeart.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_COMPLETE_GAME,
    function(abilityRuntimeData, abilityParams)
    {
        if (abilityRuntimeData.blackboard && abilityRuntimeData.blackboard.purity == true)
        {
            setup.completeAchievement("Achievement_PureOfHeart");
        }
    }
);
/* twine-user-script #142: "Achievement_Redemption.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_Redemption_Name = "Redemption";
LNG.en.l10nStrings.Achievement_Redemption_Info = "Help a friend find inner peace.";

LNG.en.l10nStrings.Achievement_Redemption_Desc = "Torgar has rejected Corruption and has vowed to help build a better world.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_Redemption = new AchievementAbility("Achievement_Redemption",
{
    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        fightMoveIDsMods: {mod: setup.mod.ADD, value: ["FightMove_TonicOfStillness"]},
    },
});
/* twine-user-script #143: "Achievement_Resolute.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_Resolute_Name = "Resolute";
LNG.en.l10nStrings.Achievement_Resolute_Info = "Reach level {level} without ever reaching {corruption} Corruption.";

LNG.en.l10nStrings.Achievement_Resolute_Desc = "Experience the Barrens without falling to its corruption.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_Resolute = new AchievementAbility("Achievement_Resolute",{
    _achievementInfoFunction: function()
    {
        let args = {
            level: 10,
            corruption: setup.CorruptionComparators.DECENT,
        }
        return LNG.LocaleCap(`${this.id}_Info`, args);
    },

    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.3},
    },
});

setup.Ability.Achievement_Resolute.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
        abilityRuntimeData.blackboard = {
            purity: true
        }
    }
);

setup.Ability.Achievement_Resolute.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_LEVEL_UP,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        if(abilityRuntimeData.blackboard && abilityRuntimeData.blackboard.purity == true && State.variables.Level >= 10)
        {
            setup.completeAchievement("Achievement_Resolute");
        }
    }
);

setup.Ability.Achievement_Resolute.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_GAIN_CORRUPTION + setup.AbilityTrigger.ON_DAY_CHANGE,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        if(abilityRuntimeData.blackboard && abilityRuntimeData.blackboard.purity == true)
        {
            if(setup.getStatValue(State.variables.CharacterSheet_Player, "corruption") >= setup.CorruptionComparators.DECENT)
            {
                abilityRuntimeData.blackboard.purity = false;
            }
        }
    }
);
/* twine-user-script #144: "Achievement_SafePassage.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_SafePassage_Name = "Safe Passage";
LNG.en.l10nStrings.Achievement_SafePassage_Info = "Skip the minotaur fight by telling him the right name.";

LNG.en.l10nStrings.Achievement_SafePassage_Desc = "Tiadane's name has spread beyond the confines of time and space.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_SafePassage = new AchievementAbility("Achievement_SafePassage",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        strengthMods: {mod: setup.mod.ADD, value: 10},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.3},
    }
});
/* twine-user-script #145: "Achievement_ShiftingIdeals.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_ShiftingIdeals_Name = "Shifting Ideals";
LNG.en.l10nStrings.Achievement_ShiftingIdeals_Info = "Encounter both sides of the Doppleganger.";

LNG.en.l10nStrings.Achievement_ShiftingIdeals_Desc = "Your ideals have changed. Stand proud of what you've become.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_ShiftingIdeals = new AchievementAbility("Achievement_ShiftingIdeals",
{
    achieveMods: {
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
        essenceMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});

setup.Ability.Achievement_ShiftingIdeals.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
        abilityRuntimeData.blackboard = {};
    }
);

setup.Ability.Achievement_ShiftingIdeals.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_END,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState != setup.AchievementState.ACTIVATED && abilityParams.target.id == "CharacterSheet_Doppleganger")
        {
            if(setup.MQ002_Manor_IsCorruptedInManor(State.variables.CharacterSheet_Player))
            {
                abilityRuntimeData.blackboard.foughtPure = true;
            }
            else
            {
                abilityRuntimeData.blackboard.foughtCorrupted = true;
            }

            if(abilityRuntimeData.blackboard.foughtPure == true && abilityRuntimeData.blackboard.foughtCorrupted == true)
            {
                setup.completeAchievement("Achievement_ShiftingIdeals");
            }
        }
    }
);
/* twine-user-script #146: "Achievement_SubmissiveFighter.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_SubmissiveFighter_Name = "Submissive Fighter";
LNG.en.l10nStrings.Achievement_SubmissiveFighter_Info = "Lose a battle to 5 different opponents.";

LNG.en.l10nStrings.Achievement_SubmissiveFighter_Desc = "Is it really losing when there's so much to gain from it?";

/* ------------------------Functions---------------------------*/

setup.Ability.Achievement_SubmissiveFighter = new AchievementAbility("Achievement_SubmissiveFighter",
{
    achieveMods: {
        arousalGainMods: {mod: setup.mod.ADD, value: 5},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.2},
    },
});

setup.Ability.Achievement_SubmissiveFighter.addBehaviour(
    "start",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.isActive = false;
        abilityRuntimeData.blackboard = {};
    }
);

setup.Ability.Achievement_SubmissiveFighter.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_ACQUIRE,
    function(abilityRuntimeData, abilityParams)
    {
        abilityRuntimeData.blackboard.lostEncounters = [];
    }
);

setup.Ability.Achievement_SubmissiveFighter.addBehaviour(
    "update",
    setup.AbilityTrigger.ON_FIGHT_BATTLE_LOST,
    function(abilityRuntimeData, abilityParams)
    {
        if(abilityRuntimeData.achievementState == setup.AchievementState.ACTIVATED)
        {
            return;
        }

        let isUnique = true;
        for(let i = 0; i < abilityRuntimeData.blackboard.lostEncounters.length; i++)
        {
            if(abilityRuntimeData.blackboard.lostEncounters[i] == abilityParams.target.id)
            {
                isUnique = false;
                break;
            }
        }

        if(isUnique == true)
        {
            abilityRuntimeData.blackboard.lostEncounters.push(abilityParams.target.id);
        }

        if(abilityRuntimeData.blackboard.lostEncounters.length >= 5)
        {
            setup.completeAchievement("Achievement_SubmissiveFighter");
        }
    }
);
/* twine-user-script #147: "Achievement_WordOfPower.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.Achievement_WordOfPower_Name = "Word of Power";
LNG.en.l10nStrings.Achievement_WordOfPower_Info = "Spread the name of a demon god.";

LNG.en.l10nStrings.Achievement_WordOfPower_Desc = "Kanathar's name is boundless, and it forever seeks to ascend its frail imp hosts into gods.";

/* ------------------------Functions---------------------------*/
setup.Ability.Achievement_WordOfPower = new AchievementAbility("Achievement_WordOfPower",
{
    achievementState: setup.AchievementState.HIDDEN,
    achieveMods: {
        strengthMods: {mod: setup.mod.ADD, value: 10},
        xpMultiplierMods: {mod: setup.mod.ADD, value: 0.3},
    },
});
/* twine-user-script #148: "FightMove_AbsorbEssence.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_AbsorbEssence_Name = "Essence Surge";
LNG.en.l10nStrings.FightMove_AbsorbEssence_Desc = "Absorb the Essence in the air. Grows in power the longer the fight lasts.";
LNG.en.l10nStrings.FightMove_AbsorbEssence_Prep = "{Name}'s body suddenly glows in a bright green aura.";
LNG.en.l10nStrings.FightMove_AbsorbEssence_AttackDesc = "The Essence in the air suddenly gathers around {Name}.";

/* ------------------------Functions---------------------------*/
setup.FightMove.AbsorbEssence = new FightMove("FightMove_AbsorbEssence",
{
    damageParam: {multiplier: 0.0, addon:0},
    staminaCost: 0,
	critMod: 0,
    comboCost: 1,
	skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "buff",

	attackAttemptDesc: function(character, target)
	{
        return LNG.LocaleCap('FightMove_AbsorbEssence_AttackDesc', {Name:character.info.name});
	},
	attackHitDesc: function(character, target)
	{
		return "";
	},
	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},
	additionalEffects: [AbsorbEssence_Effects]
});

function AbsorbEssence_Effects (attackerSheet, victimSheet)
{
	var displayString = "";

    setup.AbiHndlr.addAbility(	attackerSheet, setup.Ability.EssenceSurge);

	displayString += "∇: "+attackerSheet.info.name+" gains "+ (State.variables.FightTurn * 5)+" Strength."

	return displayString;
};
/* twine-user-script #149: "FightMove_Bash.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Bash_Name = "Bash";
LNG.en.l10nStrings.FightMove_Bash_Desc = "A quick bash of your weapon's hilt with low stamina cost.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Bash = new FightMove("FightMove_Bash",
{
    damageParam: {multiplier: 1.0, addon:4},
    staminaCost: 0,
	critMod: 20,
    comboCost: 2,
    skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",
	preparation: function(character, target)
	{
		var flavourtext = setup.getFlavourBasedDescription(character, 'basicAttackPrepFlavour', 1)
		if(flavourtext != undefined)
		{
			return character.info.name + " " + flavourtext
		}
		else
		{
			return character.info.name + " is getting ready to strike."
		}
	},
	attackAttemptDesc: function(character, target)
	{
		var flavourtext = setup.getFlavourBasedDescription(character, 'bashAttackAttemptFlavour', 1)
		return flavourtext
	},

	additionalEffects: []
});
/* twine-user-script #150: "FightMove_BasicAttack.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Basic_Attack_Name = "Unarmed Strike";
LNG.en.l10nStrings.FightMove_Basic_Attack_Desc = "A basic attack based on your own body strength.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Basic_Attack = new FightMove("FightMove_Basic_Attack",
{
    damageParam: {multiplier: 0.7, addon:3},
    staminaCost: 0,
	critMod: 0,
    comboCost: 2,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",

	preparation: function(character, target)
	{
		var flavourtext = setup.getFlavourBasedDescription(character, 'basicAttackPrepFlavour', 1)
		if(flavourtext != undefined)
		{
			return character.info.name + " " + flavourtext
		}
		else
		{
			return character.info.name + " is getting ready to strike."
		}
	},

	attackAttemptDesc: function(character, target)
	{
		var flavourtext = setup.getFlavourBasedDescription(character, 'basicAttackAttemptFlavour', 1)
		return flavourtext
	},

	additionalEffects: []
});
/* twine-user-script #151: "FightMove_ChargedStrike.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_ChargedStrike_Name = "Charged Strike";
LNG.en.l10nStrings.FightMove_ChargedStrike_Desc = "A bone shattering attack that takes a full turn to prepare.";
LNG.en.l10nStrings.FightMove_ChargedStrike_Prep_0 = "{Name} is channeling {p_POSS} strength for a powerful attack.";
LNG.en.l10nStrings.FightMove_ChargedStrike_Prep_1 = "{Name} is charging at {Tp_OBJ} for a massive attack!";
LNG.en.l10nStrings.FightMove_ChargedStrike_AttackDesc = "With {p_POSS} body pulsating with strength, {Name} strike{s} {Tp_OBJ} with a bone-shattering attack!"

/* ------------------------Functions---------------------------*/
setup.FightMove.ChargedStrike = new FightMove("FightMove_ChargedStrike",
{
    damageParam: {multiplier: 1.5, addon:14},
    staminaCost: 0,
	critMod: 0,
	comboCost: 3,
	skillType: "offensive",
	skillTheme: "offensive",

    currentStep: 0,
    steps: 1,

	preparation: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        if(this.currentStep == 0)
        {
		    return LNG.LocaleCap('FightMove_ChargedStrike_Prep_0', args);
        }
        else
        {
            return LNG.LocaleCap('FightMove_ChargedStrike_Prep_1', args);
        }
	},

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_ChargedStrike_AttackDesc', args);
	},

	additionalEffects: [],
});
/* twine-user-script #152: "FightMove_ConsumeLost.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_ConsumeLost_Name = "Consume Lost";
LNG.en.l10nStrings.FightMove_ConsumeLost_Desc = "Consume a nearby Lost, adding their mass onto your own.";
LNG.en.l10nStrings.FightMove_ConsumeLost_Prep = "{Name} grasps a nearby Lost."
LNG.en.l10nStrings.FightMove_ConsumeLost_AttackDesc = "{Name} pulls the lost into {p_POSS} {pecs}."

LNG.en.l10nStrings.FightMove_ConsumeLost_HitDesc = "The Lost moans as it is completely absorbed inside of {Name}.\n"
    + " His gargantuan muscles writhe and squirm as the mass of his worshippers builds on his own."
    + " His cock has grown {cockGrow}.\n"
    + " His balls grow by {ballGrow}.\n"
    + " His muscles expand ({muscleGrow}).\n"
    + " His body has become {heightGrow} taller \n.";

/* ------------------------Functions---------------------------*/
setup.FightMove.ConsumeLost = new FightMove("FightMove_ConsumeLost",
{
    damageParam: {multiplier: 0.0, addon:0},
    staminaCost: 16,
	critMod: 100,
	comboCost: 3,
    cooldown: 3,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",
    unlearnable: true,

    growth: {
        cock: 9,
        balls: 3,
        muscles: 5,
        height: 18,
    },

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        args.pecs = setup.DESC.getLimbDesc(character, 'pecs');
		return LNG.LocaleCap('FightMove_ConsumeLost_AttackDesc', args);
	},

    attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        args.cockGrow = setup.getLength(this.growth.cock);
        args.ballGrow = setup.getLength(this.growth.balls);
        args.muscleGrow = setup.getLength(this.growth.muscles);
        args.heightGrow = setup.getLength(this.growth.height);

        return LNG.LocaleCap('FightMove_ConsumeLost_HitDesc', args);
	},

	additionalEffects: [consumeLost_effect]
});

function consumeLost_effect(attackerSheet, victimSheet)
{
	var displayString = "";

	setup.applyGrowth(attackerSheet, "cock", 9);
	setup.applyGrowth(attackerSheet, "balls", 3);
	setup.applyGrowth(attackerSheet, "muscles", 5);
	setup.applyGrowth(attackerSheet, "height", 18);

	return displayString;
};
/* twine-user-script #153: "FightMove_CorruptedRemedy.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_CorruptedRemedy_Name = "Corrupted Remedy";
LNG.en.l10nStrings.FightMove_CorruptedRemedy_Desc = "No wound can reach a corrupted soul. Gain 5% of your corruption as health.";
LNG.en.l10nStrings.FightMove_CorruptedRemedy_Prep = "{Name} grins as if {p_POSS} wounds were suddenly gone.";
LNG.en.l10nStrings.FightMove_CorruptedRemedy_AttackDesc = "Deep moans bellow out of {Name} as ${.p.SUBJ} embrace the power that fuels ${.p.SUBJ} inevitable ascension." +
    " Corruption builds around ${.p.SUBJ} wound, closing gashes and healing bruises, rebuilding what is bound to grow into a god."

/* ------------------------Functions---------------------------*/
setup.FightMove.CorruptedRemedy = new FightMove("FightMove_CorruptedRemedy",
{
    damageParam: {multiplier: 0, addon:0},
    staminaCost: 0,
	critMod: 100,
    comboCost: 3,
    skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "corruption",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_CorruptedRemedy_AttackDesc', args);
	},

	additionalEffects: [corruptedRemedyMove]
});

function corruptedRemedyMove(attackerSheet, victimSheet)
{
	var displayString = "";

	let corruption = setup.getStatValue(attackerSheet, "corruption");
	let value = Math.floor(corruption * 0.05);

	attackerSheet.fight.variables.currentHP = Math.min(attackerSheet.fight.variables.currentHP + value, setup.getMaxHP(attackerSheet));

	displayString += attackerSheet.info.name +" gains "+value+" hp."

	return displayString;
};
/* twine-user-script #154: "FightMove_CorruptedUrges.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_CorruptedUrges_Name = "Corruptive Urges";
LNG.en.l10nStrings.FightMove_CorruptedUrges_Desc = "Feast upon Corruption. Add 20% of your Corruption to your Strength";
LNG.en.l10nStrings.FightMove_CorruptedUrges_Prep = "{Name} muscles suddenly flex harder than ever.";
LNG.en.l10nStrings.FightMove_CorruptedUrges_AttackDesc = "The world around {Name} seems to warp, tainted by the endless need to be more. "
    + " {p_POSS} whole body flexes, feeding on the power of Corruption, growing more robust than the limits of mortal bodies."
    + " Then, against the sound of hardening muscles, a single word seeps out. 'More...'";

LNG.en.l10nStrings.FightMove_CorruptedUrges_Move = "{Name} gains '{abiName}' until the end of combat";
/* ------------------------Functions---------------------------*/
setup.FightMove.CorruptedUrges = new FightMove("FightMove_CorruptedUrges",
{
    damageParam: {multiplier: 0, addon:0},
    staminaCost: 0,
	critMod: 100,
    comboCost: 2,
    skillStatsToDescriptionSpacing: 3,
	skillType: "buff",
	skillTheme: "corruption",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_CorruptedUrges_AttackDesc', args);
	},

	additionalEffects: [corruptedUrgesMove]
});

function corruptedUrgesMove(attackerSheet, victimSheet)
{
	var displayString = "";
    let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);
    args.abiName = setup.Ability.CorruptedStrength.name;

	displayString += setup.AbiHndlr.addAbility(attackerSheet, setup.Ability.CorruptedStrength);
	displayString += "∇: "+ LNG.LocaleCap('FightMove_CorruptedUrges_Move', args);

	return displayString;
};
/* twine-user-script #155: "FightMove_CumDeluge.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_CumDeluge_Name = "Deluge of Seed";
LNG.en.l10nStrings.FightMove_CumDeluge_Desc = "Lowers the strength of your opponent.";
LNG.en.l10nStrings.FightMove_CumDeluge_Prep = "{Name}'s balls churn with enough cum to completely flood their opponent.";
LNG.en.l10nStrings.FightMove_CumDeluge_AttackDesc = " {p_SUBJ} howl{s} as another wave of pleasure washes over {p_OBJ}. {p_POSS} {ballDesc} with a mad fury before suddenly clenching."
    + " {TName} can only stare up as the earth shakes, nothing can prepare {Tp_OBJ} from the incoming flood."
    + " From the high of orgasm, {p_SUBJ} aim{s} {p_POSS} {cockDesc} down to {TName}, completely drenching {Tp_OBJ} in an overwhelming deluge of seed.";


/* ------------------------Functions---------------------------*/
setup.FightMove.CumDeluge = new FightMove("FightMove_CumDeluge",
{
    damageParam: {multiplier: 1.4, addon:26},
	staminaCost: 30,
	critMod: 20,
	cooldown: 2,
	comboCost: 3,
	unique: true,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",
    unlearnable: true,

    attackAttemptDesc: function(character, target)
    {
        let args = setup.DESC.getLocaleArgs(character, target);
        args.cockDesc =  setup.DESC.getLimbDesc(character, 'cocks');

        switch(settings.lang)
        {
            default:
            case 'en':
                args.ballDesc = setup.DESC.getLimbDesc(character, 'balls', {verb:['pulses','pulse']});
                break;
        };

        return LNG.LocaleCap('FightMove_CumDeluge_AttackDesc', args);
    },

    additionalEffects: [CumDeluge_Effect],
});



/* ------------------General Functions--------------------------*/

function CumDeluge_Effect(attackerSheet, victimSheet)
{
    return setup.AbiHndlr.addAbility(victimSheet, setup.Ability.BuriedInCum);;
}
/* twine-user-script #156: "FightMove_DoNothing.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Do_Nothing_Name = "Do Nothing";
LNG.en.l10nStrings.FightMove_Do_Nothing_Desc = "Lets your opponent attack freely.";
LNG.en.l10nStrings.FightMove_Do_Nothing_Prep = "{Name} is not readying any attack. It does not look like {p_SUBJ} cares about the fight.";
LNG.en.l10nStrings.FightMove_Do_Nothing_AttackDesc = "{Name} waits eagerly for what will come next.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Do_Nothing = new FightMove("FightMove_Do_Nothing",
{
    damageParam: {multiplier: 0.0, addon:0},
    staminaCost: 0,
	critMod: 0,
	comboCost: 1,
	skillStatsToDescriptionSpacing: 1,
	skillType: "special",
	skillTheme: "special",
    unlearnable: true,
    doesNothing: true,

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_Do_Nothing_AttackDesc', args);
	},

	additionalEffects: []
});

/* twine-user-script #157: "FightMove_DragonStrike.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_DragonStrike_Name = "Dragon Strike";
LNG.en.l10nStrings.FightMove_DragonStrike_Desc = "Use absorbed energy to unleash an all powerful attack!";
LNG.en.l10nStrings.FightMove_DragonStrike_Prep = "{Name}'s body glow in a powerful white hue.";
LNG.en.l10nStrings.FightMove_DragonStrike_AttackDesc = "With the energy of the parried attack filling {Name}'s body, {p_SUBJ} charge forward with {p_POSS} fist glowing in a blinding white light.";

/* ------------------------Functions---------------------------*/
setup.FightMove.DragonStrike = new FightMove("FightMove_DragonStrike",
{
    damageParam: {multiplier: 1, addon:70},
    staminaCost: 25,
	critMod: 0,
	comboCost: 3,
	skillStatsToDescriptionSpacing: 1,
	skillType: "offensive",
	skillTheme: "offensive",

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_DragonStrike_AttackDesc', args);
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [setup.stunTarget],
});
/* twine-user-script #158: "FightMove_EnragedPummel.js" */
/* Declare globals for Eslint */
/* global setup */
/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_EnragedPummel_Name = "Enraged Pummel";
LNG.en.l10nStrings.FightMove_EnragedPummel_Desc = "Can only be comboed after 2 or more moves.";
LNG.en.l10nStrings.FightMove_EnragedPummel_Prep = "{Name} keeps up the momentum of {p_POSS} attacks.";
LNG.en.l10nStrings.FightMove_EnragedPummel_AttackDesc = "{Name} keeps up the momentum of {p_POSS} attacks.";
LNG.en.l10nStrings.FightMove_EnragedPummel_HitDesc = "{Name} pummels {Tp_obj} over and over!";

/* ------------------------Functions---------------------------*/
setup.FightMove.EnragedPummel = new FightMove("FightMove_EnragedPummel",
{
    damageParam: {multiplier: 1.6, addon:10},
    staminaCost: 0,
	critMod: 45,
    comboCost: 1,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_EnragedPummel_AttackDesc', args);
	},

	attackHitDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_EnragedPummel_HitDesc', args);
	},

	activationCondition: function(character, target)
	{
		return State.variables.FightComboStackIndexes.length >= 2;
	},

	additionalEffects: [],
});
/* twine-user-script #159: "FightMove_FirstStrike.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_FirstStrike_Name = "First Strike";
LNG.en.l10nStrings.FightMove_FirstStrike_Desc = "A move that's stronger when used early in the fight.";
LNG.en.l10nStrings.FightMove_FirstStrike_Prep = "{Name} is already on {TName} before {Tp_SUBJ} can even react.";
LNG.en.l10nStrings.FightMove_FirstStrike_AttackDesc = "{Name} strikes faster than {p_POSS} opponent could have expected.";
LNG.en.l10nStrings.FightMove_FirstStrike_HitDesc = "{Name} hits before their target is ready for it!"

/* ------------------------Functions---------------------------*/
setup.FightMove.FirstStrike = new FightMove("FightMove_FirstStrike",
{
    staminaCost: 0,
	critMod: 25,
    comboCost: 1,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",

    attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_FirstStrike_AttackDesc', args);
	},

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_FirstStrike_HitDesc', args);
	},

	dmg: function(character, target)
	{
		let multiplier = 2.5;

		if(setup[character.fight.variables.history] != undefined && setup[character.fight.variables.history].chains > 1.5)
		{
			multiplier = 0.5;
		}

		let damageParam =
		{
			multiplier: multiplier,
			addon: 0,
		}

		return damageParam;
	},

	additionalEffects: []
});
/* twine-user-script #160: "FightMove_Focus.js" */

/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Focus_Name = "Focus";
LNG.en.l10nStrings.FightMove_Focus_Desc = "Clears all Stun debuffs.";
LNG.en.l10nStrings.FightMove_Focus_Prep = "{Name} focuses on their next move.";
LNG.en.l10nStrings.FightMove_Focus_AttackDesc = "{Name} takes a breather.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Focus =  new FightMove("FightMove_Focus",
{
    damageParam: {multiplier: 0.0, addon:0},
    staminaCost: 4,
	critMod: 100,
    comboCost: 1,
    skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "buff",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
        return LNG.LocaleCap('FightMove_Focus_AttackDesc', {Name:character.info.name});
	},

	additionalEffects: [focusFightMove]
});

function focusFightMove(attackerSheet, victimSheet)
{
	var displayString = "";

	attackerSheet.fight.variables.stunnedDuration = 0;
	attackerSheet.fight.variables.hypnotizedMoveIDsList = [];

	return displayString;
};
/* twine-user-script #161: "FightMove_Goo_Stun.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Goo_Stun_Name = "Ensnaring Goo";
LNG.en.l10nStrings.FightMove_Goo_Stun_Desc = "Send your goo to immobilize your target.";
LNG.en.l10nStrings.FightMove_Goo_Stun_Prep = "{Name}'s goo completely surrounds {TName}.";
LNG.en.l10nStrings.FightMove_Goo_Stun_AttackDesc = "{Name}'s goo completely covers {TName}.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Goo_Stun = new FightMove("FightMove_Goo_Stun",
{
    damageParam: {multiplier: 0, addon: 8},
    staminaCost: 18,
	critMod: -15,
    cooldown: 5,
	comboCost: 5,
	unique: true,
	skillStatsToDescriptionSpacing: 2,
	skillType: "symbiote",
	skillTheme: "symbiote",

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_Goo_Stun_AttackDesc', args);
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [setup.stunTarget]
});
/* twine-user-script #162: "FightMove_HeraldsDevotion.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_HeraldsDevotion_Name =  "Herald's Devotion";
LNG.en.l10nStrings.FightMove_HeraldsDevotion_Desc = "Greatly heals your wounds. The effectiveness dimishes when aroused.";
LNG.en.l10nStrings.FightMove_HeraldsDevotion_Prep_LowArousal = "{Name}'s focus is sharp and unclouded by lust.";
LNG.en.l10nStrings.FightMove_HeraldsDevotion_Prep_MedArousal = "{Name}'s focus is faltering to their arousal.";
LNG.en.l10nStrings.FightMove_HeraldsDevotion_Prep_HighArousal = "{Name}'s focus is completely gone, only lust is on their mind...";

LNG.en.l10nStrings.FightMove_HeraldsDevotion_AttackDesc_LowArousal = "{Name} closes their eyes, letting a bright white glow grow around their body.";
LNG.en.l10nStrings.FightMove_HeraldsDevotion_AttackDesc_MedArousal = "{Name} closes their eyes and a subtle, nearly invisible white glow covers their body.";
LNG.en.l10nStrings.FightMove_HeraldsDevotion_AttackDesc_HighArousal = "{Name} closes their eyes, but nothing happens.";

LNG.en.l10nStrings.FightMove_HeraldsDevotion_Effect = "{Name} heals for {healAmount} health.";

/* ------------------------Functions---------------------------*/
setup.FightMove.HeraldsDevotion = new FightMove("FightMove_HeraldsDevotion",
{
    damageParam: {multiplier: 0.0, addon:0},
    staminaCost: 10,
	critMod: 0,
    comboCost: 5,
	unique: true,
	skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "special",

	preparation: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        var arousal = character.fight.variables.currentArousal;

        if(arousal < 20 || !setup.usesArousal(character))
        {
            return LNG.LocaleCap('FightMove_HeraldsDevotion_Prep_LowArousal', args);
        }
        else if(arousal < 70)
        {
            return LNG.LocaleCap('FightMove_HeraldsDevotion_Prep_MedArousal', args);
        }
        else
        {
            return LNG.LocaleCap('FightMove_HeraldsDevotion_Prep_HighArousal', args);
        }
	},

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        var arousal = character.fight.variables.currentArousal;

        if(arousal < 20 || !setup.usesArousal(character))
        {
            return LNG.LocaleCap('FightMove_HeraldsDevotion_AttackDesc_LowArousal', args);
        }
        else if(arousal < 70)
        {
            return LNG.LocaleCap('FightMove_HeraldsDevotion_AttackDesc_MedArousal', args);
        }
        else
        {
            return LNG.LocaleCap('FightMove_HeraldsDevotion_AttackDesc_HighArousal', args);
        }
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [heraldsDevotionEffect],
});


function heraldsDevotionEffect(attackerSheet, victimSheet)
{
	var maxHP = setup.getMaxHP(attackerSheet);
	var arousal = attackerSheet.fight.variables.currentArousal;
	var healAmount = 0;

	if(!setup.usesArousal(attackerSheet))
	{
		healAmount = maxHP * 0.35;
	}
	else
	{
		if(arousal < 20)
		{
			healAmount = maxHP * 0.35;
		}
		else if(arousal < 70)
		{
			healAmount = maxHP * 0.10;
		}
	}

	healAmount = Math.min(healAmount, maxHP - attackerSheet.fight.variables.currentHP);

	attackerSheet.fight.variables.currentHP += healAmount;

	console.log("post heal")
	console.log(attackerSheet.fight.variables.currentHP)

    let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);
    args.healAmount = healAmount;
    return "∇: " + LNG.LocaleCap('FightMove_HeraldsDevotion_Effect', args);
};
/* twine-user-script #163: "FightMove_Hypnotize.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Hypnotize_Name = "Hypnotize";
LNG.en.l10nStrings.FightMove_Hypnotize_Desc = "Influence your opponent's next attack choice.";
LNG.en.l10nStrings.FightMove_Hypnotize_Prep = "{Name}'s body glows in an unearthly purple. {TName} is drawn to gaze at {p_POSS} eyes."
LNG.en.l10nStrings.FightMove_Hypnotize_AttackDesc = "{Name} attempts to enthrall their target with their glowing, piercing eyes."

LNG.en.l10nStrings.FightMove_Hypnotize_EffectFail= "{TName}'s mind is too strong to be hypnotized!";
LNG.en.l10nStrings.FightMove_Hypnotize_EffectSuc= "{TName} falls under the mind-shattering influence of {Name}. They are stunned!.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Hypnotize = new FightMove("FightMove_Hypnotize",
{
    damageParam: {multiplier: 0.0, addon:0},
    staminaCost: 18,
	comboCost: 3,
	critMod: -15,
	cooldown: 5,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_Hypnotize_AttackDesc', args);
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [Hypnotize_Effect]
});

function Hypnotize_Effect(attackerSheet, victimSheet, stunDuration = 2)
{
    let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);
	if(victimSheet.fight.immuneToCharms)
	{
        return LNG.LocaleCap('FightMove_Hypnotize_EffectFail', args);
	}
	else
	{
        setup.AbiHndlr.setAbilityRank(victimSheet, setup.Ability.Stunned, 2);
        return LNG.LocaleCap('FightMove_Hypnotize_EffectSuc', args);
	}
}
/* twine-user-script #164: "FightMove_IncubusCall.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_IncubusCall_Name = "Incubus Call";
LNG.en.l10nStrings.FightMove_IncubusCall_Desc = "Give them a taste of your demonic seed.";
LNG.en.l10nStrings.FightMove_IncubusCall_Prep = "An ominous red glow appears around {Name}'s demonic cock. It is filled with demonic energy.";
LNG.en.l10nStrings.FightMove_IncubusCall_AttackDesc = "With every throb, {Name}'s cock expands in girth and length, far larger than its natural size."
    + " {p_POSS} lustful moans increase in intensity as it grows to {cockSize} in length."
    + " It only takes a few jerks before {p_SUBJ} roars and shoots loads of demonic seed towards {TName} before it recedes to its original length.";
LNG.en.l10nStrings.FightMove_IncubusCall_HitDesc = "{TName} is hit by the Incubus's cum. Warmth courses through {Tp_POSS} whole body: it feels like {Tp_SUBJ}'s burning with arousal."
    + " {Tp_POSS}'s heart immediately starts beating like a drum. \n"
    + "{Tp_SUBJ} can't stop {Tp_REF} {Tp_POSS} hand goes to feel {Tp_POSS} crotch.\n\n"
    + "It's beyond sensitive... Arousal overtakes {Tp_POSS} thoughts and {Tp_POSS} mind."
    + " {Tp_SUBJ} gathers a handful of demonic cum a tastes it eagerly.\n\nThe effects are instantaneous.";

/* ------------------------Functions---------------------------*/
setup.FightMove.IncubusCall = new FightMove("FightMove_IncubusCall",
{
    damageParam: {multiplier: 1.8, addon: 6,},
    staminaCost: 14,
	critMod: 0,
    comboCost: 3,
	skillStatsToDescriptionSpacing: 2,
	skillType: "demon",
	skillTheme: "demon",

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        args.cockSize = setup.getLength(setup.getStatValue(character, "cock") + 20);
        return LNG.LocaleCap('FightMove_IncubusCall_AttackDesc', args);
    },

	attackHitDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_IncubusCall_HitDesc', args);
	},
	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [incubusCallEffects]
});


function incubusCallEffects(attackerSheet, victimSheet)
{
	victimSheet.fight.variables.currentArousal += 40;
	victimSheet.fight.variables.currentArousal = Math.min(victimSheet.fight.variables.currentArousal, 100);

	var ballsGrowth = 1;
	var cockGrowth = 2;
	var bodyGrowth = 3;
	bodyGrowth = setup.applyGrowth(victimSheet, "height", bodyGrowth);
	cockGrowth = setup.applyGrowth(victimSheet, "cock", cockGrowth);
	ballsGrowth = setup.applyGrowth(victimSheet, "balls", ballsGrowth);

	var displayString = "";
	displayString += "∇: "+victimSheet.info.name + " gains <span style='color:#ac46c5;'>40</span> Arousal \n";
	displayString += "∇: "+victimSheet.info.name+"'s cock permanently grows by "+ setup.getLength(cockGrowth) + "\n";
	displayString += "∇: "+victimSheet.info.name+"'s body permanently grows by "+ setup.getLength(bodyGrowth) + "\n";
	displayString += "∇: "+victimSheet.info.name+"'s balls permanently grows by "+ setup.getLength(ballsGrowth);

	return displayString;
};
/* twine-user-script #165: "FightMove_IncubusStrike.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_IncubusStrike_Name = "Incubus Strike";
LNG.en.l10nStrings.FightMove_IncubusStrike_Desc = "Your need for more is never sated.";
LNG.en.l10nStrings.FightMove_IncubusStrike_Prep = "A red sigil appears under {Name}. {p_POSS} body glows with demonic energy."
LNG.en.l10nStrings.FightMove_IncubusStrike_AttackDesc = "{Name} runs to their target.";
LNG.en.l10nStrings.FightMove_IncubusStrike_HitDesc = "{p_SUBJ} grin{s} and press{es} {p_POSS} hand on {p_POSS} target's crotch.\n"
    +"{TName}'s vitality and arousal rushes into {p_OBJ}."
    +" {Name} can only laugh as {p_POSS} body grows in power.";
/* ------------------------Functions---------------------------*/
setup.FightMove.IncubusStrike = new FightMove("FightMove_IncubusStrike",
{
    damageParam: {multiplier: 3.4, addon: 0},
    staminaCost: 20,
	critMod: 15,
    comboCost: 5,
	skillStatsToDescriptionSpacing: 2,
	skillType: "demon",
	skillTheme: "demon",

	attackAttemptDesc: function(character, target)
	{
		return LNG.LocaleCap('FightMove_IncubusStrike_AttackDesc', {Name:character.info.name});
	},
	attackHitDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_IncubusStrike_HitDesc', args);
	},
	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},
	additionalEffects: [incubusStrikeEffects]
});

function incubusStrikeEffects(attackerSheet, victimSheet)
{
	var attackDamage = setup.getAttackDamage(attackerSheet, victimSheet, attackerSheet.fight.variables.currentFightMove);
	var lustAbsorbtion = attackDamage * 3;

	victimSheet.fight.variables.currentArousal -= lustAbsorbtion;
	victimSheet.fight.variables.currentArousal = Math.max(victimSheet.fight.variables.currentArousal, setup.getStatValue(victimSheet, "minArousal"));

	var cockGrowth = Math.min(Math.ceil(attackDamage * 0.07), 6);
	var ballsGrowth = Math.min(Math.ceil(attackDamage * 0.025), 2);
	var muscleGrowth = Math.min(Math.ceil(attackDamage * 0.02), 3);
	var sizeGrowth = Math.min(Math.ceil(attackDamage * 0.13), 18);

	cockGrowth = setup.applyGrowth(attackerSheet, "cock", cockGrowth);
	ballsGrowth = setup.applyGrowth(attackerSheet, "balls", ballsGrowth);
	muscleGrowth = setup.applyGrowth(attackerSheet, "muscles", muscleGrowth);
	sizeGrowth = setup.applyGrowth(attackerSheet, "height", sizeGrowth);

	var displayString = "";

	displayString += setup.growthFlavourDescriptors(attackerSheet, victimSheet, cockGrowth, ballsGrowth, muscleGrowth, sizeGrowth);

	return displayString;
};
/* twine-user-script #166: "FightMove_InfectiousLust.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_InfectiousLust_Name = "Infectious Lust";
LNG.en.l10nStrings.FightMove_InfectiousLust_Desc = "Corrupt all... Gives Arousal and Corruption to your opponent.";

// Ankou lets the corruption within themself take over. You lash out; every inch of your being oozing with Corruption
LNG.en.l10nStrings.FightMove_InfectiousLust_Prep = "{Name} lets the corruption within {p_REF} take over. {p_SUBJ} lash{s} out; every inch of {p_POSS} being oozing with Corruption."

// You growl, unable to contain the Corruption within. You fall to your knees, your clawed hands grasping your three wolven spires in furious, uneven motions of unholy lust.
//  Yesssss... Moooooore...' you moan, completely absorbed in your own lust. The air around you thickens with the hot and humid smell of Corruption
// "'I NEED MORE!' You roar; head pulling back into a mad lustful frenzy. TargetName can only gaze as a wave of corrupted cum makes its way to them. ";
LNG.en.l10nStrings.FightMove_InfectiousLust_AttackDesc = " {p_SUBJ} growl{s}, unable to contain the Corruption within."
    + " {p_SUBJ} fall{s} to {p_POSS} knees, {p_POSS} {handDesc} grasping {p_POSS} {cockDesc} in furious, uneven motions of unholy lust."
    + " 'Yesssss... Moooooore...' {p_SUBJ} moan{s}, completely absorbed in {p_POSS} own lust. The air around {p_SUBJ} thickens with the hot and humid smell of Corruption."
    + " 'I NEED MORE!' {p_SUBJ} roar{s}; head pulling back into a mad lustful frenzy. {TName} can only gaze as a wave of corrupted cum makes its way to {Tp_OBJ}.";
/* ------------------General Functions--------------------------*/

setup.FightMove.InfectiousLust = new FightMove("FightMove_InfectiousLust",
{
    damageParam: {multiplier: 0, addon: 0},
    staminaCost: 0,
	critMod: 100,
    comboCost: 2,
    skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "corruption",
    unlearnable: true,

	attackAttemptDesc: function(attackerSheet, victimSheet)
    {
        let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);
        args.handDesc = setup.DESC.getLimbDesc(attackerSheet, 'hands');
        args.cockDesc = setup.DESC.getLimbDesc(attackerSheet, 'cocks');
        return LNG.LocaleCap('FightMove_InfectiousLust_AttackDesc', args);
    },

	additionalEffects: [infectiousLustMove]
});


function infectiousLustMove (attackerSheet, victimSheet)
{
	var displayString = "";

	setup.applyCorruption(victimSheet, 5);
	victimSheet.fight.variables.currentArousal = Math.min(victimSheet.fight.variables.currentArousal + 50, 100);

	displayString += "∇: "+victimSheet.info.name+" gains 5 Corruption.\n";
	displayString += "∇: "+victimSheet.info.name+" gains 50 Arousal.";

	return displayString;
};
/* twine-user-script #167: "FightMove_Infest.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Infest_Name = "Infest";
LNG.en.l10nStrings.FightMove_Infest_Desc = "Stuns your opponent with pure corruptive lust.";
LNG.en.l10nStrings.FightMove_Infest_Prep = "{Name} can't contain {p_POSS} arousal anymore...";
LNG.en.l10nStrings.FightMove_Infest_AttackDesc = "{Name} approaches {Tp_OBJ} as {p_POSS} thick tongue drips with corrupting goo.";

LNG.en.l10nStrings.FightMove_Infest_HitDesc = "\"Spreeeeaaad...\" {Tp_SUBJ} hear{s} {p_OBJ} moan as {p_POSS} {cockDesc} drips thick black precum on {Tp_POSS} chest.";
LNG.en.l10nStrings.FightMove_Infest_HitDesc_LowArousal  = "As {p_POSS} seed comes in contact with{Tp_POSS} body, {Tp_SUBJ} feel{Ts} an influence grow in {Tp_POSS} mind."
    + " Visions of {Tp_REF} transformed into a massive monster influence{Tp_SUBJ} thoughts.";
LNG.en.l10nStrings.FightMove_Infest_HitDesc_HighArousal= "As {p_POSS} seed comes in contact with {Tp_POSS} body, {Tp_SUBJ} feel an influence grow in {Tp_POSS} mind."
    + "{Tp_POSS} already high arousal makes the influence stronger, {Tp_SUBJ} can barely think as visions of sex and monsters overtake {Tp_POSS} thoughts."

/* ------------------------Functions---------------------------*/
setup.FightMove.Infest = new FightMove("FightMove_Infest",
{
    damageParam: {multiplier: 1, addon: 16},
    staminaCost: 12,
	comboCost: 3,
	critMod: 5,
    cooldown: 3,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_Infest_AttackDesc', args);
	},

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        args.cockDesc = setup.DESC.getLimbDesc(character, 'cocks');

        let displayString = LNG.LocaleCap('FightMove_Infest_HitDesc', args);
        if(target.fight.variables.currentArousal >= 50)
        {
            displayString += " "+LNG.LocaleCap('FightMove_Infest_HitDesc_HighArousal', args);
        }
        else
        {
            displayString += " "+LNG.LocaleCap('FightMove_Infest_HitDesc_LowArousal', args);
        }

		return displayString;
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [infestStun]
});

function infestStun(attackerSheet, victimSheet)
{
	var displayString = "";
	if(victimSheet.fight.variables.currentArousal >= 50)
	{
		displayString += setup.stunTarget(attackerSheet, victimSheet, 1);
	}

	return displayString;
};
/* twine-user-script #168: "FightMove_Inspect.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Inspect_Name = "Inspect";
LNG.en.l10nStrings.FightMove_Inspect_Desc = "Shows information about your opponent.";
LNG.en.l10nStrings.FightMove_Inspect_Prep = "{Name} inspects {TName} carefully."

/* ------------------------Functions---------------------------*/
setup.FightMove.Inspect = new FightMove("FightMove_Inspect",
{
    damageParam: {multiplier: 0, addon: 0},
    staminaCost: 0,
	critMod: 100,
	skillStatsToDescriptionSpacing: 2,
	skillType: "special",
	skillTheme: "special",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
        var displayString = "";

		displayString += LNG.LocaleCap('FightMove_Inspect_Prep', {Name:character.info.name, TName:target.info.name}) + "\n\n";

        if(target.info.picture != undefined)
        {
		    displayString += setup.displayEncounterImage(target.info.picture) + "\n\n";
        }

        displayString += "HP: "+target.fight.variables.currentHP+"/"+setup.displayStatValue(target, "hp")+"\n";
        displayString += "Prowess: "+setup.displayStatValue(target, "stamina")+"\n";
        displayString += "Arousal: "+target.fight.variables.currentArousal+"\n\n";

        displayString += "Strength: "+setup.displayStatValue(target, "strength")+"\n";
        displayString += "Critical Hit Chance: "+setup.displayStatValue(target, "critChance")+"\n";
        displayString += "Arousal per Turn: "+setup.displayStatValue(target, "arousalGain")+"\n";

        displayString += "Corruption: "+setup.getStatValue(target, "corruption")+"\n";
        displayString += "Muscles: "+setup.getMusclesDescriptor(target)+"("+setup.displayStatValue(target, "muscles")+")\n";
        displayString += "Height: "+setup.displayStatValue(target, "height", true)+"\n";
        displayString += "Cock Size: "+setup.displayStatValue(target, "cock", true)+"\n\n";

        displayString += "Passive Abilities:\n";

        if(character.abilityRuntimeDatas.length > 0)
        {
            for(let i = 0; i < target.abilityRuntimeDatas.length; ++i)
            {
                let abilityRuntimeData = target.abilityRuntimeDatas[i];
                let ability = setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex);

                if(abilityRuntimeData.isActive == true)
                {
                    displayString += ability.name +": "+ ability.description(target, abilityRuntimeData) +"\n";
                }
            }
        }
        else
        {
            displayString += "None\n";
        }

        return displayString;
	},
	additionalEffects: []
});
/* twine-user-script #169: "FightMove_Lunge.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Lunge_Name = "Lunge";
LNG.en.l10nStrings.FightMove_Lunge_Desc = "A basic attack.";
LNG.en.l10nStrings.FightMove_Lunge_Prep = "{Name} is preparing to pounce.";
LNG.en.l10nStrings.FightMove_Lunge_AttackDesc = "{Name} jumps at {TName}.";
LNG.en.l10nStrings.FightMove_Lunge_HitDesc = "{Name} land{s} on {TName}. {p_SUBJ} roar{s} and slas{es} {Tp_OBJ} mercilessly.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Lunge = new FightMove("FightMove_Lunge",
{
    damageParam: {multiplier: 1, addon: 3},
    staminaCost: 0,
	critMod: 0,
	comboCost: 1,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_Lunge_AttackDesc', args);
	},

	attackHitDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_Lunge_HitDesc', args);
	},

	additionalEffects: []
});
/* twine-user-script #170: "FightMove_LustfulInstincts.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_LustfulInstincts_Name = "Lustful Instincts";
LNG.en.l10nStrings.FightMove_LustfulInstincts_Desc = "Give in... Grants arousal.";
LNG.en.l10nStrings.FightMove_LustfulInstincts_Prep = "{Name} relish{es} the Corruption flowing through {p_OBJ}. The need to grow and become something more... It changes, reaches out, and warps {p_POSS} whole being.";
LNG.en.l10nStrings.FightMove_LustfulInstincts_AttackDesc = "{Name}'s heartbeat fastens; {p_POSS} breath becomes heavy with a subtle purple mist."
    + " Unholy vitality rushes through {Name}, urging {p_OBJ} to reach out for what {p_SUBJ} yearn."
    + " {p_POSS} body shakes with lust, {p_POSS} {cockDesc} with thick purple veins."

/* ------------------------Functions---------------------------*/
setup.FightMove.LustfulInstincts = new FightMove("FightMove_LustfulInstincts",
{
    damageParam: {multiplier: 0, addon: 0},
    staminaCost: 0,
	critMod: 100,
    comboCost: 1,
    skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "corruption",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        switch(settings.lang)
        {
            default:
            case 'en':
                args.cockDesc = setup.DESC.getLimbDesc(character, 'cocks', {verb:['hardens','harden']});
                break;
        }
        return LNG.LocaleCap('FightMove_LustfulInstincts_AttackDesc', args);
	},

	additionalEffects: [lustfulInstinctsMove]
});

function lustfulInstinctsMove(attackerSheet, victimSheet)
{
	var displayString = "";

	attackerSheet.fight.variables.currentArousal = Math.min(attackerSheet.fight.variables.currentArousal + 10, 100);

	displayString += "∇: "+attackerSheet.info.name + " gains 10 Arousal \n";

	return displayString;
};
/* twine-user-script #171: "FightMove_Masturbate.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Masturbate_Name = "Pleasure Self";
LNG.en.l10nStrings.FightMove_Masturbate_Desc = "Increases your arousal gain by 100%.";
LNG.en.l10nStrings.FightMove_Masturbate_Prep = "{Name}'s hand reaches for their crotch.";
LNG.en.l10nStrings.FightMove_Masturbate_AttackDesc = "{p_SUBJ} grab{s} {p_POSS} {cockDesc} and then pumps {tgtNoun} passionately. Arousal flows through {p_OBJ}.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Masturbate = new FightMove("FightMove_Masturbate",
{
    damageParam: {multiplier: 0.0, addon:0.0},
    staminaCost: 0,
	critMod: 100,
    comboCost: 1,
    skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "buff",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);

        switch(settings.lang)
        {
            default:
            case 'en':
                let descDict = setup.DESC.getLimbDesc(character, 'cocks', {split_rtn:true});
                args.cockDesc = descDict.phrase;
                args.tgtNoun = descDict.p.OBJ;
                break;
        }

		return LNG.LocaleCap('FightMove_Masturbate_AttackDesc', args);
	},
    additionalEffects: [Masturbate_Effect]
});

function Masturbate_Effect(attackerSheet, victimSheet)
{
	attackerSheet.fight.variables.currentArousal += Math.abs(setup.getStatValue(attackerSheet, "arousalGain"))

	attackerSheet.fight.variables.currentArousal = Math.min(attackerSheet.fight.variables.currentArousal, 100);

	return "";
};
/* twine-user-script #172: "FightMove_Mimic.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Mimic_Name = "Mimic";
LNG.en.l10nStrings.FightMove_Mimic_Desc = "Mimic an opponent's Racial Bonus. Small chance to transform limbs.";
LNG.en.l10nStrings.FightMove_Mimic_Prep = "{Name}'s corruption flows through {p_POSS} form, sinking into every muscle organ."
LNG.en.l10nStrings.FightMove_Mimic_AttackDesc = "{Name} {verb} the form of the {TName}. The corruption within resonantes and copies their every maneuver."

LNG.en.l10nStrings.FightMove_Mimic_MoveFail = "Cannot get a read on the opponents form. Mimicking failed.";

// You study Torgar's form, internalizing its movements. ∇: Ankou gains the bonuses of Half-Orc
LNG.en.l10nStrings.FightMove_Mimic_MoveHdr = "{p_SUBJ} {study} {TName}'s form, internalizing its movements. "
    + "∇: {Name} gains the bonuses of the {TRace} ";

// "You gain a symbiotic tentacle."
LNG.en.l10nStrings.FightMove_Mimic_FirstLimb = "{p_SUBJ} gain{s} {limb}";
// Your legs are absorbed as you become more like a Naga
LNG.en.l10nStrings.FightMove_Mimic_LoseAll = "{p_POSS} {limb} {targetPhrase} absorbed as {p_SUBJ} become{s} more like a {TRace}."
// "They gain a trio of balls as they become serpentine."
LNG.en.l10nStrings.FightMove_Mimic_GainLose = "{p_SUBJ} {verb}{s} {limb} as {targetPhrase} {TRaceAdj}.";
// "Their cocks become wolven."
// "Your jaw becomes serpentine"
LNG.en.l10nStrings.FightMove_Mimic_ChangeOnly = "{p_POSS} {limb} {targetPhrase} {TRaceAdj}.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Mimic = new FightMove("FightMove_Mimic",
{
    damageParam: {multiplier: 0, addon: 0},
    staminaCost: 0,
	critMod: 100,
    comboCost: 1,
    skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "buff",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        switch(settings.lang)
        {
            default:
            case 'en':
                args.verb = (setup.PRONOUN.hasSVerb(args.p.SUBJ))? "studies" : "study";
                break;
        }
        return LNG.LocaleCap('FightMove_Mimic_AttackDesc', args);
	},

	additionalEffects: [mimicMove]
});


function mimicMove(attackerSheet, victimSheet)
{
    const tfChanceMin = 0.20;
    const tfChanceMax = 0.75;
    let displayArr = [];
    let blackboard = {incoming:[], bonuses: {}};
    let corruption = setup.getStatValue(attackerSheet, "corruption");
    if (corruption < setup.CorruptionComparators.NEUTRAL) {corruption = setup.CorruptionComparators.NEUTRAL};
	const corruptionChance = (corruption - setup.CorruptionComparators.NEUTRAL) / (setup.CorruptionComparators.CORRUPT- setup.CorruptionComparators.NEUTRAL);

    let rank = setup.AbiHndlr.getAbilityRank(attackerSheet,"Ability_Mimic");
    if (!rank)
    {
        return displayString;
    }
    if (!victimSheet.fight.canMimic)
    {
        return LNG.LocaleCap('FightMove_Mimic_MoveFail');
    }

    /* Copy the racial bonus from the opponent */
    let multLevel = setup.Ability.Mimic.racialMultiplier[rank];
    let useSecondaryId = (victimSheet.info.secondaryRaceId && Math.random() <= 0.33);
    var V_raceId = (useSecondaryId)? victimSheet.info.secondaryRaceId : victimSheet.info.raceId;

    blackboard.incoming.push({"raceId": V_raceId, "mult": multLevel});

    /* Header Description */
    let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);

    switch(settings.lang)
    {
        default:
        case 'en':
            args.study = (setup.PRONOUN.hasSVerb(args.p.SUBJ))? "studies" : "study";
            break;
    }
    displayArr.push( LNG.LocaleCap('FightMove_Mimic_MoveHdr', args))

    /* See if a limb transforms */
    let tfChance = Math.max(tfChanceMin+0.10*rank, Math.min(tfChanceMax,  corruptionChance));
    let rolledNum = Math.random();
    if (rolledNum <= tfChance)
    {
        /* Only look for limbs that haven't transformed yet */
        let availList = Object.keys(setup.Anatomy.LIMB_REF).filter((limbKey) => {
            let A_race = attackerSheet.info.anatomy[limbKey].raceId;
            if(!A_race) {A_race = attackerSheet.info.raceId;};


            if (setup.RacePool[A_race].anatomy[limbKey].defaultNumber == 0
                && setup.RacePool[V_raceId].anatomy[limbKey].defaultNumber == 0)
            {
                return false;
            }
            return (A_race != V_raceId);
        });

        if (availList.length > 0)
        {
            let limbKey = availList.random();
            let A_race = attackerSheet.info.anatomy[limbKey].raceId;
            if(!A_race) {A_race = attackerSheet.info.raceId;};

            let limbNumDiff = (setup.RacePool[V_raceId].anatomy[limbKey].defaultNumber -
                setup.RacePool[A_race].anatomy[limbKey].defaultNumber);
            let oldLimbCount = attackerSheet.info.anatomy[limbKey].number;
            let newLimbCount = Math.max(0, oldLimbCount + limbNumDiff);

            // Make the change
            setup.setRaceLimbs(attackerSheet, limbKey, V_raceId, {keepExtras: true, keepAllLimbs: false});

            // Describe the change
            displayArr.push('∇: ' + moveDesc(oldLimbCount, newLimbCount, attackerSheet, limbKey, args ));
        }
    }

    /* Send the Combat Changes */
    setup.AbiHndlr.addAbility(attackerSheet, setup.Ability.MimicCombatStatus, {blackboard});
    return displayArr.join(" ");
}


function moveDesc(oldLimbCount, newLimbCount, attackerSheet, limbKey, args){
    let limbNumDiff = newLimbCount - oldLimbCount;
    if (oldLimbCount == 0)
    {
        return moveDescFirstLimb(oldLimbCount, newLimbCount, attackerSheet, limbKey, args);
    }
    else if (newLimbCount == 0)
    {
        return moveDescLoseAll(oldLimbCount, newLimbCount, attackerSheet, limbKey, args);

    }
    else if (limbNumDiff != 0)
    {
        return moveDescGainLose(oldLimbCount, newLimbCount, attackerSheet, limbKey, args);
    }
    else
    {
        return moveDescChangeOnly(oldLimbCount, newLimbCount, attackerSheet, limbKey, args);
    }
}

function moveDescFirstLimb(oldLimbCount, newLimbCount, attackerSheet, limbKey, args){

    switch (settings.lang)
    {
        default:
        case 'en':
            args.limb = setup.DESC.getLimbDesc(attackerSheet, limbKey, {article:true, race_adj:true});
            break;
    }
    return LNG.LocaleCap("FightMove_Mimic_FirstLimb",args);
}

function moveDescLoseAll(oldLimbCount, newLimbCount, attackerSheet, limbKey, args)
{
    switch (settings.lang)
    {
        default:
        case 'en':
            args.targetPhrase = (oldLimbCount == 1 && !setup.isLimbPlural(limbKey)) ? "is" : "are";
            args.limb = setup.DESC.getLimbDesc(attackerSheet, limbKey);
            break;
    }
    return LNG.LocaleCap("FightMove_Mimic_LoseAll",args);
}

function moveDescGainLose(oldLimbCount, newLimbCount, attackerSheet, limbKey, args)
{
    // "They gain a trio of balls as they become serpentine."
    let limbNumDiff = newLimbCount - oldLimbCount;
    switch (settings.lang)
    {
        default:
        case 'en':
            args.verb = (limbNumDiff < 0) ? 'lose' : 'gain';
            args.targetPhrase = (newLimbCount == 1 && !setup.isLimbPlural(limbKey)) ? "it becomes" : "they become";
            args.limb = setup.DESC.getLimbDesc(attackerSheet, limbKey, {article:true, race_adj:false})
            break;
    }
    return LNG.LocaleCap("FightMove_Mimic_GainLose",args);
}
function moveDescChangeOnly(oldLimbCount, newLimbCount, attackerSheet, limbKey, args)
{
    // "Their cocks become wolven."
    // "Your jaw becomes serpentine"
    switch (settings.lang)
    {
        default:
        case 'en':
            args.targetPhrase = (newLimbCount == 1 && !setup.isLimbPlural(limbKey)) ? "becomes" : "become";
            args.limb = setup.DESC.getLimbDesc(attackerSheet, limbKey, {race_adj:false});
            break;
    }
    return LNG.LocaleCap("FightMove_Mimic_ChangeOnly",args);
}
/* twine-user-script #173: "FightMove_Mutate.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Mutate_Name =  "Mutate";
LNG.en.l10nStrings.FightMove_Mutate_Desc = "Empower a random limb. Chance to grow another set of that limb, based on Corruption.";
LNG.en.l10nStrings.FightMove_Mutate_Prep = "{Name}'s corruption flows through {p_POSS} form, sinking into every limb ready to strike.";
LNG.en.l10nStrings.FightMove_Mutate_AttackDesc = "{Name} feels the corruption settling into a particular limb, empowering it...";

/* ------------------------Functions---------------------------*/
setup.FightMove.Mutate = new FightMove("FightMove_Mutate",
{
    damageParam: {multiplier: 0, addon: 0},
    staminaCost: 0,
	critMod: 100,
    comboCost: 1,
    skillStatsToDescriptionSpacing: 2,
	skillType: "buff",
	skillTheme: "buff",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_Mutate_AttackDesc', args);
	},

	additionalEffects: [setup.Ability.EmpoweredMutation.mutateMove]
});
/* twine-user-script #174: "FightMove_ParasiteLunge.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_ParasiteLunge_Name = "Parasite Lunge";
LNG.en.l10nStrings.FightMove_ParasiteLunge_Desc = "A basic attack.";
LNG.en.l10nStrings.FightMove_ParasiteLunge_Prep = "{Name} is preparing to pounce.";
LNG.en.l10nStrings.FightMove_ParasiteLunge_AttackDesc = "{Name} jumps at {TName}.";
LNG.en.l10nStrings.FightMove_ParasiteLunge_HitDesc = "{Name} lands on {TName}. {p_SUBJ} bites {Tp_OBJ} mercilessly.";

/* ------------------------Functions---------------------------*/
setup.FightMove.ParasiteLunge = new FightMove("FightMove_ParasiteLunge",
{
    damageParam: {multiplier: 1, addon: 3},
    staminaCost: 4,
	comboCost: 1,
	critMod: 0,

    attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_ParasiteLunge_AttackDesc', args);
	},

	attackHitDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_ParasiteLunge_HitDesc', args);
	},

	additionalEffects: []
});
/* twine-user-script #175: "FightMove_Parry.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Parry_Name = "Parry";
LNG.en.l10nStrings.FightMove_Parry_Desc = "Enter a parry stance, turning an opponent's damage into stamina";
LNG.en.l10nStrings.FightMove_Parry_Prep = "{Name} enters a parry stance.";
LNG.en.l10nStrings.FightMove_Parry_HitDesc = "{Name} drops his parry stance.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Parry = new FightMove("FightMove_Parry",
{
    staminaCost: 12,
	comboCost: 1,
	critMod: 100,
    cooldown: 4,
	skillStatsToDescriptionSpacing: 1,
	skillType: "offensive",
	skillTheme: "offensive",

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_Parry_HitDesc', args);
	},

	activationCondition: function(character, target)
	{
        return character.fight.variables.currentStamina >= this.staminaCost;
	},

    callbackOnPreparation: function(attackerSheet, victimSheet)
    {
        var displayString = "";

        displayString += setup.AbiHndlr.addAbility(attackerSheet, setup.Ability.ActiveParry);

        return displayString;
    },
	additionalEffects: []
});
/* twine-user-script #176: "FightMove_PridefulAscent.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_PridefulAscent_Name = "Prideful Ascent";
LNG.en.l10nStrings.FightMove_PridefulAscent_Desc = "All must bask in your pride.";
LNG.en.l10nStrings.FightMove_PridefulAscent_Prep = "{Name}'s body suddenly pulses, demonic energy coursing through them.";
LNG.en.l10nStrings.FightMove_PridefulAscent_AttackDesc = "{Name} leaps and strikes with demonic vigor!";
LNG.en.l10nStrings.FightMove_PridefulAscent_HitDesc = "{Name} presses on {TName}, holding them as tight as they can. {Name}'s body suddenly surges with growth, pushing them harder against their target.";

// FR
LNG.fr.l10nStrings.FightMove_PridefulAscent_AttackDesc = "{Name} saute et frappe avec une vigueur démoniaque!";
LNG.fr.l10nStrings.FightMove_PridefulAscent_HitDesc = "{Name} presse {p_POSS} corps sur {TName}, le serrant aussi fort qu'il le peut. Le corps d'{Name} grossit soudainement, le poussant contre {p_POSS} cible.";

/* ------------------------Functions---------------------------*/
setup.FightMove.PridefulAscent = new FightMove("FightMove_PridefulAscent",
{
    damageParam: {multiplier: 1, addon: 7},
    staminaCost: 4,
	critMod: 0,
    comboCost: 4,
	skillStatsToDescriptionSpacing: 2,
	skillType: "demon",
	skillTheme: "demon",

	attackAttemptDesc: function(character, target)
	{
        return LNG.LocaleCap('FightMove_PridefulAscent_AttackDesc', {Name:character.info.name});
	},
	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_PridefulAscent_HitDesc', args);
	},
	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [pridefulAscentEffects]
});

function pridefulAscentEffects(attackerSheet, victimSheet)
{
	var cockGrowth = setup.getRandomInt(3, 6);
	var ballsGrowth = cockGrowth / 2;
	var muscleGrowth = setup.getRandomInt(3, 4);
	var sizeGrowth = setup.getRandomInt(2, 5);

	cockGrowth = setup.applyGrowth(attackerSheet, "cock", cockGrowth);
	ballsGrowth = setup.applyGrowth(attackerSheet, "balls", ballsGrowth);
	muscleGrowth = setup.applyGrowth(attackerSheet, "muscles", muscleGrowth);
	sizeGrowth = setup.applyGrowth(attackerSheet, "height", sizeGrowth);

	var displayString = "";

	displayString += setup.growthFlavourDescriptors(attackerSheet, victimSheet, cockGrowth, ballsGrowth, muscleGrowth, sizeGrowth);

	return displayString;
};
/* twine-user-script #177: "FightMove_SeedOfRuin.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_SeedOfRuin_Name = "Seed of Ruin";
LNG.en.l10nStrings.FightMove_SeedOfRuin_Desc = "Deals extra damage equal to your opponent's Arousal.";
LNG.en.l10nStrings.FightMove_SeedOfRuin_Prep = "{Name} grasp{s} {p_POSS} {cockDesc}, and roar{s} as arousal washes over {p_OBJ}.";
LNG.en.l10nStrings.FightMove_SeedOfRuin_AttackDesc = "{Name} cums, {p_POSS} infected load shooting towards {TName}.";
LNG.en.l10nStrings.FightMove_SeedOfRuin_HitDesc = "{Name}'s load overwhelms {Tp_OBJ}."
    + " {p_POSS} infected seed crawls into {Tp_OBJ} through{Tp_POSS} pores, frying {Tp_POSS} nerves with {Tp_POSS} own unstoppable need."
    + " {Tp_SUBJ} scream{Ts} as pain merges with a sudden orgasm washing over {Tp_OBJ}.";

/* ------------------------Functions---------------------------*/
setup.FightMove.SeedOfRuin = new FightMove( "FightMove_SeedOfRuin",
{
    staminaCost: 16,
	critMod: 0,
	comboCost: 3,
    cooldown: 3,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",
    unlearnable: true,

	preparation: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        args.cockDesc = setup.DESC.getLimbDesc(character, 'cocks');
        return LNG.LocaleCap('FightMove_SeedOfRuin_Prep', args);
	},

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_SeedOfRuin_AttackDesc', args);
	},

    attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_SeedOfRuin_HitDesc', args);
	},


	dmg: function(character, target)
	{
		console.log("doing see of runis")
		console.log(target)
		let damageParam =
		{
			multiplier: 1,
		}

        if (target) {
            damageParam.addon= target.fight.variables.currentArousal;
        }
        else
        {
            damageParam.addon= 0;
        }

		return damageParam;
	},

	additionalEffects: []
});
/* twine-user-script #178: "FightMove_Sigil_Growth.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Sigil_Growth_Name = "Sigil of Growth";
LNG.en.l10nStrings.FightMove_Sigil_Growth_ItemName =  "A large golden bottle";
LNG.en.l10nStrings.FightMove_Sigil_Growth_Desc = "Grows your body based on the damage of your next attack";
LNG.en.l10nStrings.FightMove_Sigil_Growth_Prep = "{Name} feel{s} an urge to grow...";
LNG.en.l10nStrings.FightMove_Sigil_Growth_HitDesc = "It enters {Tp_POSS} body, forming a Sigil of Growth on his skin."
    + " {Name} can feel the growth that's about to be unleashed on {p_OBJ}.";

LNG.en.l10nStrings.FightMove_Sigil_Growth_ConstDesc = "A Sigil of Growth pulsates in tune with {Name}'s heartbeat.";

LNG.en.l10nStrings.FightMove_Sigil_Growth_EffectActivate = "{Name}'s body gets overtaken by a golden aura as the Sigil of Growth activates."
    + "{p_POSS}'s cock grows {cockLength}, {p_POSS} muscles grow bigger ({muscleGrowth}),"
    + " and {p_POSS} body becomes {sizeGrowth} taller.";

/* ------------------------Functions---------------------------*/

setup.FightMove.Sigil_Growth = new FightMove("FightMove_Sigil_Growth",
{
    staminaCost: 0,
	critMod: 100,
    comboCost: 0.5,
    maxStack: 4,
	skillStatsToDescriptionSpacing: 2,
	skillType: "sigil",
	skillTheme: "sigil",
    buyFromStore: true,
    buyPassage: "Buy_Sigil_Growth",
    essenceCost: 150,

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        var displayString = setup.displaySeedMoveIntro(character, target, "golden");
        displayString += " " + LNG.LocaleCap('FightMove_Sigil_Growth_HitDesc', args);
        return displayString;
	},

    persistentEffectOpponent:
    {
        id: "Sigil_Growth",
        constantDesc: function(attacker, victim)
        {
            return LNG.LocaleCap('FightMove_Sigil_Growth_ConstDesc', {Name: attacker.info.name});
        },
        onDamagingHit: function(attacker, victim, params)
        {
            setup.removePersistentEffect(victim, this);

            let args = setup.DESC.getLocaleArgs(attacker, victim);
            args.cockGrowth = setup.applyGrowth(attacker, "balls", Math.ceil(params.attackDamage * 0.025));
            args.ballsGrowth = setup.applyGrowth(attacker, "cock", Math.ceil(params.attackDamage * 0.07));
            args.muscleGrowth = setup.applyGrowth(attacker, "muscles", Math.ceil(params.attackDamage * 0.07));
            args.sizeGrowth = setup.applyGrowth(attacker, "height", Math.ceil(params.attackDamage * 0.12));

            args.cockLength = setup.getLength(args.cockGrowth);
            args.sizeLength = setup.getLength(args.sizeGrowth);

            return LNG.LocaleCap('FightMove_Sigil_Growth_EffectActivate', args);
        },
    },
	additionalEffects: []
});
/* twine-user-script #179: "FightMove_Sigil_Pain.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
// EN
LNG.en.l10nStrings.FightMove_Sigil_Pain_Name = "Sigil of Pain";
LNG.en.l10nStrings.FightMove_Sigil_Pain_ItemName =  "A thin black bottle";
LNG.en.l10nStrings.FightMove_Sigil_Pain_Desc =  "Increases the damage of your next attack by 25%";
LNG.en.l10nStrings.FightMove_Sigil_Pain_Prep = "{Name}'s body suddenly glows with a subtle black hue.";
LNG.en.l10nStrings.FightMove_Sigil_Pain_HitDesc = "It enters {TName}'s body. It twists and cracks along {TName}'s skin, turning into a Sigil of Pain.";

LNG.en.l10nStrings.FightMove_Sigil_Pain_ConstDesc = "A black Sigil of Pain cracks deeply along {Name}'s skin.";
LNG.en.l10nStrings.FightMove_Sigil_Pain_DmgDesc =  "A Sigil of Pain ruptures {TName}'s flesh as {Tp_SUBJ} get hit. The attack is amplified to {damage} damage.";

/* ------------------------Functions---------------------------*/

setup.FightMove.Sigil_Pain = new FightMove("FightMove_Sigil_Pain",
{
    staminaCost: 0,
	critMod: 100,
    comboCost: 0.5,
    maxStack: 8,
	skillStatsToDescriptionSpacing: 2,
	skillType: "sigil",
	skillTheme: "sigil",
	buyPassage: "Buy_Sigil_Pain",
	buyFromStore: true,
	essenceCost: 150,

	attackHitDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
		var displayString = setup.displaySeedMoveIntro(character, target, "dark red");
		displayString += " " + LNG.LocaleCap('FightMove_Sigil_Pain_HitDesc', args);
        return displayString;
	},

    persistentEffectOpponent:
    {
        id: "Sigil_Pain",
        constantDesc: function(attacker, victim)
        {
            return LNG.LocaleCap('FightMove_Sigil_Pain_ConstDesc', {Name: attacker.info.name});
        },
        onDamagingHit: function(attacker, victim, params)
        {
            setup.removePersistentEffect(victim, this);

            params.attackDamage = Math.floor(params.attackDamage * 1.25);

            let args = setup.DESC.getLocaleArgs(attacker, victim);
            args.damage = params.attackDamage;
            return LNG.LocaleCap('FightMove_Sigil_Pain_DmgDesc', args);
        },
    },
	additionalEffects: []
});
/* twine-user-script #180: "FightMove_Sigil_Perception.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Sigil_Perception_Name = "Sigil of Perception";
LNG.en.l10nStrings.FightMove_Sigil_Perception_Desc = "Increases next attack's chance to critically hit by 30%";
LNG.en.l10nStrings.FightMove_Sigil_Perception_Prep = "{Name}'s body suddenly glows with a subtle cyan hue.";
LNG.en.l10nStrings.FightMove_Sigil_Perception_AttackDesc = "{p_SUBJ} focus{es} Essence to {p_POSS} {handDesc}; {handPronoun} suddenly glow{handS} in a soft cyan hue."
        +" {p_SUBJ} strike at {TName}'s core, making the glow spread through {Tp_POSS} whole body."
        +" ∇: {p_POSS} next attack will be 30% more likely to critical hit.";
LNG.en.l10nStrings.FightMove_Sigil_Perception_ConstDesc = "A Sigil of Perception builds a strong cyan aura around {TName}'s body.";
LNG.en.l10nStrings.FightMove_Sigil_Perception_OnHit = "The Sigil of Perception dissipates.";

/* ------------------------Functions---------------------------*/

setup.FightMove.Sigil_Perception = new FightMove("FightMove_Sigil_Perception",
{
    staminaCost: 0,
    critMod: 100,
    comboCost: 0.5,
    maxStack: 5,
    skillStatsToDescriptionSpacing: 2,
	skillType: "sigil",
	skillTheme: "sigil",

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        let handDict = setup.DESC.getLimbDesc(character, 'hands', {split_rtn:true});
        args.handDesc = handDict.phrase;
        args.handPronoun = handDict.p.SUBJ;
        switch(settings.lang)
        {
            default:
            case 'en':
                args.es = (setup.PRONOUN.hasSVerb(args.p.SUBJ)) ? "es" : '';
                args.handS = (setup.PRONOUN.hasSVerb(handDict.p.SUBJ)) ? 's':'';
                break;
        }
        return LNG.LocaleCap('FightMove_Sigil_Perception_AttackDesc', args);
	},

	activationCondition: function(character, target)
	{
        return true;
	},

    persistentEffectOpponent: {
        id: "Sigil_Perception_Effect",
        constantDesc: function(attacker, victim)
        {
            // "attacker" is the current target
            return LNG.LocaleCap('FightMove_Sigil_Perception_ConstDesc', {TName:attacker.info.name});
        },

        onActivate: function(attacker, victim, params)
        {
            setup.AbiHndlr.addAbility(attacker, setup.Ability.SigilOfPerception);
        },

        onDamagingHit: function(attacker, victim, params)
        {
            setup.removePersistentEffect(victim, this);
            setup.AbiHndlr.removeAbilityRuntimeData(attacker, setup.Ability.SigilOfPerception);

            return LNG.LocaleCap('FightMove_Sigil_Perception_OnHit') + "\n";
        }
    },
	additionalEffects: [],
});
/* twine-user-script #181: "FightMove_Sigil_Triad.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Sigil_Triad_Name = "Sigil Triad";
LNG.en.l10nStrings.FightMove_Sigil_Triad_Desc = "Combines the effects of the sigils of Pain, Perception and Growth.";
LNG.en.l10nStrings.FightMove_Sigil_Triad_Prep ="{Name}'s body suddenly glows with a complex blend of turquoise, black and gold.";
LNG.en.l10nStrings.FightMove_Sigil_Triad_HitDesc ="{Name}'s hands rise. Soon after, three trails of turquoise, black and gold emerge from {p_POSS} hands and swirl towards {Tp_OBJ}.";

LNG.en.l10nStrings.FightMove_Sigil_Triad_ConstDesc = "A swirl of complex patterns form three sigils that cling to {Name}'s body.";
LNG.en.l10nStrings.FightMove_Sigil_Triad_DmgDesc = "The Sigil of Pain ruptures {TName}'s flesh as {Tp_SUBJ} get hit. The attack is amplified to {dmg} damage."
    + " The Sigil of Perception dissipates."
    + " {Name}'s body gets overtaken by a golden aura as the Sigil of Growth activates."
    + " {Name}'s cock grows {cockGrowth},"
    + " {p_POSS} muscles grow bigger ({muscleGrowth}), and";
    + " {p_POSS} body becomes {sizeGrowth} taller.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Sigil_Triad = new FightMove("FightMove_Sigil_Triad",
{
    staminaCost: 0,
	critMod: 100,
    maxStack: 4,
    comboCost: 1,
	skillStatsToDescriptionSpacing: 3,
	skillType: "sigil",
	skillTheme: "sigil",

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_Sigil_Triad_HitDesc', args);
	},

    persistentEffectOpponent:
    {
        id: "Sigil_Triad",
        constantDesc: function(attacker, victim)
        {
            let args = setup.DESC.getLocaleArgs(attacker, victim);
            return LNG.LocaleCap('FightMove_Sigil_Triad_ConstDesc', args);
        },
        onActivate: function(attacker, victim, params)
        {
            setup.AbiHndlr.addAbility(attacker, setup.Ability.SigilOfPerception);
        },
        onDamagingHit: function(attacker, victim, params)
        {
            setup.removePersistentEffect(victim, this);

            params.attackDamage = Math.floor(params.attackDamage * 1.25);
            setup.AbiHndlr.removeAbilityRuntimeData(attacker, setup.Ability.SigilOfPerception);

            var ballsGrowth = Math.ceil(params.attackDamage * 0.7);
            var cockGrowth = Math.ceil(params.attackDamage * 0.12);
            var muscleGrowth = Math.ceil(params.attackDamage * 0.2);
            var sizeGrowth = Math.ceil(params.attackDamage * 0.15);

            ballsGrowth = setup.applyGrowth(attacker, "balls", ballsGrowth);
            cockGrowth = setup.applyGrowth(attacker, "cock", cockGrowth);
            muscleGrowth = setup.applyGrowth(attacker, "muscles", muscleGrowth);
            sizeGrowth = setup.applyGrowth(attacker, "height", sizeGrowth);

            let args = setup.DESC.getLocaleArgs(attacker, victim);
            args.dmg = params.attackDamage;
            args.cockGrowth = setup.getLength(cockGrowth);
            args.muscleGrowth = muscleGrowth;
            args.sizeGrowth = setup.getLength(sizeGrowth);

            return LNG.LocaleCap('FightMove_Sigil_Triad_DmgDesc', args);
        },
    },
	additionalEffects: []
});
/* twine-user-script #182: "FightMove_Sigil_Vitality.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Sigil_Vitality_Name = "Sigil of Vitality";
LNG.en.l10nStrings.FightMove_Sigil_Vitality_ItemName = "A glowing cyan vial";
LNG.en.l10nStrings.FightMove_Sigil_Vitality_Desc = "Heals the user by 75% of the damage applied by an attack as it activates";
LNG.en.l10nStrings.FightMove_Sigil_Vitality_Prep = "{Name}'s body suddenly glows with a subtle turquoise hue";
LNG.en.l10nStrings.FightMove_Sigil_Vitality_HitDesc = "It enters {TName}'s body, forming a Sigil of Vitality on {Tp_POSS} skin.";

LNG.en.l10nStrings.FightMove_Sigil_Vitality_ConstDesc = "A gooey turquoise Sigil of Vitality clings to {Name}'s body like thick latex.";
LNG.en.l10nStrings.FightMove_Sigil_Vitality_DmgDesc_Self = "Thick turquoise goo emerges from {TName}'s wounds as the Sigil of Vitality activates. It rushes up to you and enters your body. You are healed for {lifedrain} hp.";
LNG.en.l10nStrings.FightMove_Sigil_Vitality_DmgDesc_Others =  "Thick turquoise goo emerges from your wounds as the Sigil of Vitality activates. It rushes up to {TName} and enters {Tp_POSS} body. {Tp_SUBJ} are healed for {lifedrain} hp.";
/* ------------------------Functions---------------------------*/
setup.FightMove.Sigil_Vitality = new FightMove("FightMove_Sigil_Vitality",
{
    staminaCost: 0,
	critMod: 100,
    maxStack: 4,
    comboCost: 0.5,
	skillStatsToDescriptionSpacing: 3,
	skillType: "sigil",
	skillTheme: "sigil",

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        var displayString = setup.displaySeedMoveIntro(character, target, "turquoise");
		displayString += " " + LNG.LocaleCap('FightMove_Sigil_Vitality_HitDesc', args);
        return displayString;
	},

    persistentEffectOpponent: {
        id: "Sigil_Vitality",
        constantDesc: function(attacker, victim)
        {
            let args = setup.DESC.getLocaleArgs(attacker, victim);
            return LNG.LocaleCap('FightMove_Sigil_Vitality_ConstDesc', args);
        },
        onDamagingHit: function(attacker, victim, params)
        {
            var lifedrain = Math.floor(params.attackDamage * 0.75);
            attacker.fight.variables.currentHP = Math.min(attacker.fight.variables.currentHP + lifedrain, setup.getMaxHP(attacker));
            setup.removePersistentEffect(victim, this);
            var displayString = "";

            let args = setup.DESC.getLocaleArgs(attacker, victim);
            args.lifedrain = lifedrain;
            if (setup.isPlayer(attacker)){
                displayString = LNG.LocaleCap('FightMove_Sigil_Vitality_DmgDesc_Self', args);
            }else{
                displayString = LNG.LocaleCap('FightMove_Sigil_Vitality_DmgDesc_Others', args);
            }

            return displayString
        },
    },
	additionalEffects: []
});
/* twine-user-script #183: "FightMove_Slash.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Slash_Name = "Slash";
LNG.en.l10nStrings.FightMove_Slash_Desc = "A potentially devastating slash of your weapon.";
/* ------------------------Functions---------------------------*/
setup.FightMove.Slash = new FightMove("FightMove_Slash",
{
    damageParam: {multiplier: 2.2,addon: 10,},
    staminaCost: 0,
	critMod: 15,
    comboCost: 4,
    skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",

	preparation: function(character, target)
	{
		var flavourtext = setup.getFlavourBasedDescription(character, 'basicAttackPrepFlavour', 1)
		if(flavourtext != undefined)
		{
			return character.info.name + " " + flavourtext
		}
		else
		{
			return character.info.name + " is getting ready to strike."
		}
	},

	attackAttemptDesc: function(character, target)
	{
		var flavourtext = setup.getFlavourBasedDescription(character, 'slashAttackAttemptFlavour', 1)
		return flavourtext
	},

	additionalEffects: []
});
/* twine-user-script #184: "FightMove_SlimeLunge.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_SlimeLunge_Name =  "Slime Lunge";
LNG.en.l10nStrings.FightMove_SlimeLunge_Desc =  "Lunge towards your opponent, possibly stunning them if you are bigger than them.";
LNG.en.l10nStrings.FightMove_SlimeLunge_Prep = "{Name} sloshes around, moving at a surprisingly nimble pace.";
LNG.en.l10nStrings.FightMove_SlimeLunge_AttackDesc= "{Name} bounces slightly, every movement causes {p_POSS} entire being to shake and stir, but {p_POSS} form remains well intact, not even a trail of goo is left behind in its wake.";
LNG.en.l10nStrings.FightMove_SlimeLunge_HitDesc= "{Name} bounces with the agility {Tp_SUBJ}'d never expect from such a creature. {p_SUBJ} collides against {Tp_OBJ} with all {p_POSS} might, attempting to knock {Tp_OBJ} off {Tp_POSS} feet.";

LNG.en.l10nStrings.FightMove_SlimeLunge_StunFail = "{Name} clashes against {TName}'s body, but {Tp_POSS} impressive stature stands.";
LNG.en.l10nStrings.FightMove_SlimeLunge_StunSucc = "{Name} knocks {TName} down on {Tp_POSS} back.";

/* ------------------------Functions---------------------------*/
setup.FightMove.SlimeLunge = new FightMove("FightMove_SlimeLunge",
{
    damageParam:{multiplier: 1,addon: 4,},
    staminaCost: 0,
	comboCost: 3,
	critMod: 0,
	skillType: "offensive",
	skillTheme: "offensive",

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_SlimeLunge_AttackDesc', args);
	},
	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_SlimeLunge_HitDesc', args);
	},

	additionalEffects: [slimeLungeEffects]
});


function slimeLungeEffects(attackerSheet, victimSheet)
{
    var displayString = "";
    let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);
    if( setup.Size.compare(attackerSheet, 'height', victimSheet) >= setup.Size.Comparators.SLIGHTLY_BIGGER)
    {
        if(setup.getRandomInt(0, 100) > 80)
        {
            displayString += LNG.LocaleCap('FightMove_SlimeLunge_StunSucc', args);
            setup.stunTarget(attackerSheet, victimSheet, 1);
        }
    }
    else
    {
        displayString += LNG.LocaleCap('FightMove_SlimeLunge_StunFail', args);
    }

    return displayString;
}
/* twine-user-script #185: "FightMove_Stomp.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Stomp_Name = "Stomp";
LNG.en.l10nStrings.FightMove_Stomp_Desc = "Bring your foot down on your tiny opponent.";
LNG.en.l10nStrings.FightMove_Stomp_Prep = "{Name}'s massive feet loom over {TName}.";
LNG.en.l10nStrings.FightMove_Stomp_AttackDesc= "The ground shakes as {Name} brings {p_POSS} foot down on {TName}";

/* ------------------------Functions---------------------------*/

setup.FightMove.Stomp = new FightMove("FightMove_Stomp",
{
    damageParam: {multiplier: 2,addon: 10,},
    staminaCost: 20,
	comboCost: 4,
	unique: true,
	critMod: 20,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_Stomp_AttackDesc', args);
	},

	additionalEffects: []
});
/* twine-user-script #186: "FightMove_Submit.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Submit_Completely_Name = "Submit Completely";
LNG.en.l10nStrings.FightMove_Submit_Completely_Desc = "Surrender yourself completely.";
LNG.en.l10nStrings.FightMove_Submit_Completely_Prep = "{Name} surrenders {p_REFL} completely."
LNG.en.l10nStrings.FightMove_Submit_Completely_AttackDesc = "{Name} surrenders {p_REFL} completely."
/* ------------------------Functions---------------------------*/
setup.FightMove.Submit_Completely = new FightMove("FightMove_Submit_Completely",
{
    damageParam: {multiplier: 0.0, addon:0},
    staminaCost: 0,
	critMod: 0,
	comboCost: 1,
	skillStatsToDescriptionSpacing: 1,
	skillType: "special",
	skillTheme: "special",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_Submit_Completely_AttackDesc', args);
	},

	activationCondition: function(character, target)
	{
		if(character.fight.variables.cantSubmit)
		{
			return false;
		}

		return true;
	},

	additionalEffects: [Surrender_Effect]
});

function Surrender_Effect(attackerSheet, victimSheet)
{
	attackerSheet.fight.variables.surrender = true;
	return "";
};
/* twine-user-script #187: "FightMove_SummonParasite.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_SummonParasite_Name = "Summon Parasite";
LNG.en.l10nStrings.FightMove_SummonParasite_Desc = "Bring forth spawns of Nyx.";
LNG.en.l10nStrings.FightMove_SummonParasite_Prep = "A thick purple mist suddenly gathers around {Name}'s hands.";
LNG.en.l10nStrings.FightMove_SummonParasite_AttackDesc = "The familiar sound of a portal opening rings out into the air."
    + " The black, opaque skin of a {cockLength} spawn of Nyx pokes out before it jumps towards {TName}";
LNG.en.l10nStrings.FightMove_SummonParasite_HitDesc = "The parasite stings {TName}. A sharp pain slowly spreads through {Tp_POSS} limbs.";

/* ------------------------Functions---------------------------*/
setup.FightMove.SummonParasite = new FightMove("FightMove_SummonParasite",
{
    damageParam: {multiplier: 1.5,addon: 10,},
    staminaCost: 12,
	critMod: 0,
	comboCost: 3,
	skillStatsToDescriptionSpacing: 1,
	skillType: "demon",
	skillTheme: "demon",

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        args.cockLength = setup.getLength(Math.ceil(setup.getStatValue(character, "cock") / 3));
        return LNG.LocaleCap('FightMove_SummonParasite_AttackDesc', args);
	},

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_SummonParasite_HitDesc', args);
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [witheringVenom]
});

function witheringVenom(attackerSheet, victimSheet)
{
	var displayString = "";

	displayString += setup.AbiHndlr.addAbility(victimSheet, setup.Ability.WitheringVenom);

	return displayString;
};
/* twine-user-script #188: "FightMove_TendrilsGrasp.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_TendrilsGrasp_Name = "Tendrils Grasp";
LNG.en.l10nStrings.FightMove_TendrilsGrasp_Desc = "Use your tendrils to completely embrace your target.";
LNG.en.l10nStrings.FightMove_TendrilsGrasp_Prep = "{Name}'s tendrils coil around {TName}'s body.";
LNG.en.l10nStrings.FightMove_TendrilsGrasp_AttackDesc = "{Name}'s tendrils tightly clasp {TName}'s body.";

/* ------------------------Functions---------------------------*/
setup.FightMove.TendrilsGrasp = new FightMove("FightMove_TendrilsGrasp",
{

    damageParam: {multiplier: 4, addon: 8},
    staminaCost: 18,
	critMod: -15,
    cooldown: 10,
	comboCost: 10,
	unique: true,
	skillStatsToDescriptionSpacing: 2,
	skillType: "symbiote",
	skillTheme: "symbiote",

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
        return LNG.LocaleCap('FightMove_TendrilsGrasp_AttackDesc', args);
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},

	additionalEffects: [setup.stunTarget]
});
/* twine-user-script #189: "FightMove_TonicOfStillness.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_TonicOfStillness_Name = "Tonic of Stillness";
LNG.en.l10nStrings.FightMove_TonicOfStillness_Desc = "Turns Corruption into temporary strength.";
LNG.en.l10nStrings.FightMove_TonicOfStillness_Prep = "{Name} pulls out a flask filled with a glowing white liquid.";
LNG.en.l10nStrings.FightMove_TonicOfStillness_AttackDesc = "{Name} drinks from a flask filled with a glowing white liquid.";
LNG.en.l10nStrings.FightMove_TonicOfStillness_HitDesc = "{Name} muscles flex with a sudden thrunderous force."
    + " {p_POSS} body processes Corruption at an exceedingly fast rate and turns it into strength!";

LNG.en.l10nStrings.FightMove_TonicOfStillness_DmgSuc = "{Name} has turned {corrVal} Corruption into strength. This effect will persist for the next {days} expeditions.";
LNG.en.l10nStrings.FightMove_TonicOfStillness_DmgFail = "{Name} does not have any Corruption to convert into strength.";

/* ------------------------Functions---------------------------*/
setup.FightMove.TonicOfStillness = new FightMove("FightMove_TonicOfStillness",
{
    damageParam: {multiplier: 0,addon: 0,},
    staminaCost: 0,
	critMod: 0,
    comboCost: 1,
	skillStatsToDescriptionSpacing: 1,
	skillType: "offensive",
	skillTheme: "special",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		return LNG.LocaleCap('FightMove_TonicOfStillness_AttackDesc', {Name:character.info.name});
	},

    attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_TonicOfStillness_HitDesc', args);
	},

	additionalEffects: [tonicOfStillness]
});

function tonicOfStillness(attackerSheet, victimSheet)
{
    let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);

	var displayString = "";
	var appliedCorruption = Math.max(-5, State.variables[attackerSheet.id].info.corruption * -1);

	if(appliedCorruption != 0)
	{
        args.corrVal = Math.max(0, State.variables[attackerSheet.id].info.corruption - 5);
        args.days = 7;
		displayString += "∇: " + LNG.LocaleCap('FightMove_TonicOfStillness_DmgSuc', args);

    setup.AbiHndlr.addAbility( State.variables[attackerSheet.id], setup.Ability.TonicOfStillness);
	}
	else
	{
		displayString += "∇: " + LNG.LocaleCap('FightMove_TonicOfStillness_DmgFail', args);
	}

	return displayString;
};
/* twine-user-script #190: "FightMove_UnnaturalGrowth.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_UnnaturalGrowth_Name = "Unnatural Growth";
LNG.en.l10nStrings.FightMove_UnnaturalGrowth_Desc = "Gains 100% your Strength until the end of combat. Your body grows by that amount.";
LNG.en.l10nStrings.FightMove_UnnaturalGrowth_Prep = "{Name} lets Corruption feed {p_POSS} muscles with endless strength.";
LNG.en.l10nStrings.FightMove_UnnaturalGrowth_AttackDesc= "{Name}'s body is an endless cycle of growth, {p_POSS} body producing and consuming Corruption to grow unnaturally. {p_POSS} whole body flexes, growing stronger than the limits of mortal bodies.";
LNG.en.l10nStrings.FightMove_UnnaturalGrowth_Move = "{Name} gains 100% of their Strength and size until the end of combat.";
/* ------------------------Functions---------------------------*/
setup.FightMove.UnnaturalGrowth = new FightMove("FightMove_UnnaturalGrowth",
{
    damageParam: {multiplier: 0,addon: 0,},
    staminaCost: 16,
	critMod: 0,
    comboCost: 6,
    skillStatsToDescriptionSpacing: 3,
	skillType: "buff",
	skillTheme: "corruption",
    unlearnable: true,

	attackAttemptDesc: function(character, target)
	{
		let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_UnnaturalGrowth_AttackDesc', args);
	},
	additionalEffects: [unnaturalGrowthMove]
});

function unnaturalGrowthMove(attackerSheet, victimSheet)
{
    setup.AbiHndlr.addAbility(attackerSheet, setup.Ability.UnnaturalGrowth);

	let args = setup.DESC.getLocaleArgs(attackerSheet, victimSheet);
	return "∇: " + LNG.LocaleCap('FightMove_UnnaturalGrowth_Move', args);
};
/* twine-user-script #191: "FightMove_WitheringVenom.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_WitheringVenom_Name = "Withering Venom";
LNG.en.l10nStrings.FightMove_WitheringVenom_Desc = "Weakens your target with numbing venom.";
LNG.en.l10nStrings.FightMove_WitheringVenom_Prep = "{Name} can't contain {p_POSS} need to spread...";
LNG.en.l10nStrings.FightMove_WitheringVenom_AttackDesc = "As {Name} crawls closer, {Tp_SUBJ} notice{Ts} a stinger emerge from {p_POSS} previously featureless head.";
LNG.en.l10nStrings.FightMove_WitheringVenom_HitDesc = "{Name} suddenly pounces and stings {Tp_OBJ}. A sharp pain slowly spreads through {Tp_POSS} limbs. {Tp_SUBJ} feel{Ts} weaker.";

/* ------------------------Functions---------------------------*/
setup.FightMove.WitheringVenom = new FightMove("FightMove_WitheringVenom",
{
    damageParam: {multiplier: 1,addon: 1,},
    staminaCost: 12,
	critMod: 0,
	comboCost: 1,
	skillStatsToDescriptionSpacing: 2,
	skillType: "offensive",
	skillTheme: "offensive",

	attackAttemptDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_WitheringVenom_AttackDesc', args);
	},

	attackHitDesc: function(character, target)
	{
        let args = setup.DESC.getLocaleArgs(character, target);
		return LNG.LocaleCap('FightMove_WitheringVenom_HitDesc', args);
	},

	activationCondition: function(character, target)
	{
		return character.fight.variables.currentStamina >= this.staminaCost;
	},
	additionalEffects: [witheringVenom]
});
/* twine-user-script #192: "FightMove_Worship.js" */
/* Declare globals for Eslint */
/* global setup */

/* ----------------------Translations--------------------------*/
LNG.en.l10nStrings.FightMove_Worship_Name = "Worship";
LNG.en.l10nStrings.FightMove_Worship_Desc = "Worship your opponent's body.";
LNG.en.l10nStrings.FightMove_Worship_Prep = "{Name}'s mind is entirely under the control of {TName}. {p_POSS} mouth is watering at the sight of {Tp_POSS} cock.";
LNG.en.l10nStrings.FightMove_Worship_AttackDesc = "{Name} is overwhelmed by an insatiable desire to worhip {p_POSS} master. {p_SUBJ} lose{s} {p_REF},"
    + " kissing {TName} while grinding {p_POSS} hard cock on {Tp_POSS}. {p_SUBJ} soon drops to suck {p_POSS} master's while moaning passionately."
    + " {TName} grab{Ts} the back of {Name}'s head and thrust{Ts} {Tp_POSS} cock down {p_POSS} throat. {p_SUBJ} gain{s} {arousalGain} arousal.";

/* ------------------------Functions---------------------------*/
setup.FightMove.Worship = new FightMove("FightMove_Worship",
{
    damageParam: {multiplier: 0,addon: 0,},
    staminaCost: 0,
	critMod: 100,
	comboCost: 1,
	skillStatsToDescriptionSpacing: 2,
	skillType: "special",
	skillTheme: "special",
    unlearnable: true,
    doesNothing: true,

	attackAttemptDesc: function(character, target)
	{
        let arousalGain = 10;
        target.fight.variables.currentArousal += arousalGain;
        target.fight.variables.currentArousal = Math.min(100, target.fight.variables.currentArousal);

        let args = setup.DESC.getLocaleArgs(character, target);
        args.arousalGain = arousalGain;
		return LNG.LocaleCap('FightMove_Worship_AttackDesc', args);
	},

	additionalEffects: []
});
/* twine-user-script #193: "articles.js" */
(function () {
    // v1.0.0
    'use strict';

    var _overrides = new Map();

    var _defaultIrregulars = [ // lifted from: https://github.com/tandrewnichols/indefinite/blob/master/lib/irregular-words.js
        // e
        'eunuch', 'eucalyptus', 'eugenics', 'eulogy', 'euphemism', 'euphony', 'euphoria', 'eureka', 'european', 'euphemistic', 'euphonic', 'euphoric', 'euphemistically', 'euphonically', 'euphorically', 
        // h
        'heir', 'heiress', 'herb', 'homage', 'honesty', 'honor', 'honour', 'hour', 'honest', 'honorous', 'honestly', 'hourly',
        // o
        'one', 'ouija', 'once',
        // u
        'ubiquitous', 'ugandan', 'ukrainian', 'unanimous', 'unicameral', 'unified', 'unique', 'unisex', 'universal', 'urinal', 'urological', 'useful', 'useless', 'usurious', 'usurped', 'utilitarian', 'utopic', 'ubiquitously', 'unanimously', 'unicamerally', 'uniquely', 'universally', 'urologically', 'usefully', 'uselessly', 'usuriously'
    ];

    var _validArticles = ['a', 'an'];

    var _vowels = /[aeiou8]/i;
    var _acronyms = /[A-Z]+$/;
    var _irregularAcronyms = /[UFHLMNRSX]/;
    var _punctuation = /[.,\/#!$%\^&\*;:{}=\-_`~()]/g;

    function _switch (article) {
        if (article === 'a') {
            return 'an';
        }
        return 'a';
    }

    function _isAcronym (word, article) {
        if (_acronyms.test(word) && _irregularAcronyms.test(word.first())) {
            return _switch(article);
        }
        return false;
    }

    function _isDefaultIrregular (word, article) {
        if (_defaultIrregulars.includes(word.toLowerCase())) {
            return _switch(article);
        }
        return false;
    }

    function addOverride (article, word, caseSensitive) {
        var msg;
        if (State.length > 0) {
            // must be called in story JS or StoryInit, as the override map isn't stateful
            msg = 'cannot add article override -> needs to be run in StoryInit special passage or earlier';
            console.error(msg);
            return msg;
        }
        // check args
        if (!word || typeof word !== 'string') {
            msg = 'cannot add article override -> invalid word';
            console.error(msg);
            return msg;
        }
        if (article && typeof article === 'string') {
            // clean up article
            article = article.toLowerCase().trim();
        }
        if (!_validArticles.includes(article)) {
            msg = 'cannot add article override -> invalid article, must be "a" or "an"';
            console.error(msg);
            return msg;
        }
        // clean up phrase
        word = word.trim();

        if (caseSensitive) {
            _overrides.set(word, {
                article : article,
                caseSensitive : !!caseSensitive
            });
        } else {
            _overrides.set(word.toLowerCase(), {
                article : article,
                caseSensitive : !!caseSensitive
            });
        }
    }

    function _checkOverrides (word) {
        word = word.trim();
        // check user-defined overrides
        var check = word.toLowerCase();
        if (_overrides.has(check) || _overrides.has(word)) {
            var override = _overrides.get(check) || _overrides.get(word);
            // check if we require an exact (case-sensitive) match
            if (override.caseSensitive && !_overrides.has(word)) {
                    return null;
            }
            // return the article
            return override.article;
        }
        // return nothing, passing on to built-in article checks
        return null;
    }

    function _checkVowels (word) {
        var article;
        // select the article based on vowels
        if (_vowels.test(word.first())) {
            article = 'an';
        } else {
            article = 'a';
        }
        // check for irregular words, then acronyms
        return _isDefaultIrregular(word, article) || _isAcronym(word, article) || article;
    }

    function find (word) {
        if (!word || typeof word !== 'string') {
            return;
        }
        var cleanedWord = word.trim().split(' ')[0].trim();
        cleanedWord = cleanedWord.replace(_punctuation, '');
        return _checkOverrides(cleanedWord) || _checkVowels(cleanedWord);
    }

    function article (word, upper) {
        if (!word || typeof word !== 'string') {
            return word; // ? just throw back whatever we got
        }
        var article = find(word);
        // return article, capitalized if requested, appended to the original phrase
        return (upper ? article.toUpperFirst() : article) + ' ' + word;
    }

    setup.articles = {
        find : find,
        output : article,
        override : addOverride
    };

    Macro.add('setarticle', {
        handler : function () {
            var check = addOverride(this.args[0], this.args[1], this.args[2]);
            if (check && typeof check === 'string') {
                this.error(check);
            }
        }
    });

    Macro.add(['a', 'an', 'A', 'An'], {
        handler : function () {
            var isUpper = this.name.first() === this.name.first().toUpperCase();
            this.output.append(article(String(this.args[0]), isUpper));
        }
    });
}());
/* twine-user-script #194: "continue.js" */
(function () {
    // v1.0.1
    'use strict';

    // selectors to ignore
    var ignored = ['a', ':button', '*[role="button"]', '.continue-macro-ignore', '#ui-bar', '#ui-dialog'];

    var _i = 0;

    prehistory['%%continue-expiration'] = function () {
        _i = 0;
    };

    function ns () {
        // create unique namespace
        var namespace = '.' + Date.now().toString(36) + '-' + _i;
        _i++;
        return namespace;
    }

    function ignoreMe () {
        $(document).on('click.continue-macro keyup.continue-macro', ignored.join(', '), function (ev) { 
            ev.stopPropagation(); 
        });
    }

    function addIgnore () {
        if (State.length > 0) {
            return false;
        }
        var args = [].slice.call(arguments).flatten();
        ignored = ignored.concat(args);
        return true;
    }

    $(document).one(':passagerender', function () {
        // on first render, set up the ignore list
        ignoreMe();
    });

    // continue functions
    function cont (press, cb) {
        var namespace = ns();
        if (!cb || typeof cb !== 'function') {
            return;
        }
        var events = 'click.continue-macro' + namespace;
        if (press) {
            events = events + ' keyup.continue-macro' + namespace;
        }
        $(document).one(events, function () {
            cb.call();
            // expire all namespaced events
            $(document).off(namespace);
        });
    }

    function reset () {
        var args = [].slice.call(arguments).flatten();
        ignored = ignored.concat(args);
        $(document).off('.continue-macro');
        ignoreMe();
    }

    // macros

    // <<ignore selectors...>>
    Macro.add('ignore', {
        handler : function () {
            var check = addIgnore(this.args);
            if (!check) {
                return this.error('the <<ignore>> macro should only be run from StoryInit or equivalent.');
            }
        }
    });

    // <<cont [append] [press]>>Code<</cont>>
    Macro.add('cont', {
        tags : null,
        handler : function () {
            var append = this.args.includes('append'), // append keyword
                press = this.args.includesAny('key', 'keypress', 'press', 'button'), // keypress keyword
                wiki = this.payload[0].contents, // content to wikify
                $output; // output element (if needed)

            if (append) {
                // create output element, but only if needed (e.g. if appending content)
                $output = $(document.createElement('span'))
                    .addClass('macro-' + this.name)
                    .appendTo(this.output);
            }

            cont(press, this.createShadowWrapper( function () {
                // wikify 
                if (append && $output && $output instanceof $) {
                    $output.wiki(wiki);
                } else {
                    $.wiki(wiki);
                }
            }));
        }
    });

    // APIs

    setup.cont = cont;
    setup.cont.ignore = addIgnore;
    setup.cont.reset = reset;

    window.cont = window.cont || setup.cont;

}());
/* twine-user-script #195: "css-macro.js" */
(function () {
    // v1.0.0
    'use strict';

    function mapper (args) {
        if (args.length % 2 !== 0) {
            // check the pairs are even
            return 'Style rules should be a list of key/value pairs; you\'ve passed an odd number.';
        }
        var map = {};

        args.forEach(function(item, idx) {
            // even val (0, 2, 4, etc) is paired with the next value
            if (idx % 2 === 0) {
               map[item] = args[idx + 1];
            }
        });

        return map;
    }

    function getStyledOn ($el, map) {
        try {
            if (typeof map === 'string') {
                // was an error
                return map;
            }
            if (!($el instanceof jQuery)) {
                // wrap if needed
                $el = $($el);
            }
            // run the method
            return $el.css(map);
        } catch (err) {
            // return error message strings
            return err.message;
        }
    }

    function cssChanger (/*element, args...*/) {
        try {
            var args = [].slice.call(arguments).flatten(),
                $el = args.shift(),
                map;
            if (typeof args[0] === 'string') {
                map = mapper(args);
            } else if (typeof args[0] === 'object') {
                map = clone(args[0]);
            }
            return getStyledOn($el, map);
        } catch (err) {
            return err.message;
        }
    }

    // <<css selector stylerules>>
    // style rules can be a list of key/value pairs or a single object
    Macro.add('css', {
        handler : function () {
            var worked = cssChanger(this.args);
            if (typeof worked === 'string') {
                // output error message
                return this.error(worked);
            }
        }
    });

}());
/* twine-user-script #196: "dialog-api-macro-set.js" */
// dialog API macro set, by chapel; for sugarcube 2
// version 1.3.0
// see the documentation: https://github.com/ChapelR/custom-macros-for-sugarcube-2#dialog-api-macros

// <<dialog>> macro
Macro.add('dialog', {
       tags : ['onopen', 'onclose'],
    handler : function () {
        
        // handle args (if any)
        var errors = [];
        var content = '', onOpen = null, onClose = null;
        var title = (this.args.length > 0) ? this.args[0] : '';
        var classes = (this.args.length > 1) ? this.args.slice(1).flatten() : [];

        this.payload.forEach( function (pl, idx) {
            if (idx === 0) {
                content = pl.contents;
            } else {
                if (pl.name === 'onopen') {
                    onOpen = onOpen ? onOpen + pl.contents : pl.contents;
                } else {
                    onClose = onClose ? onClose + pl.contents : pl.contents;
                }
            }
        });
        
        // add the macro- class
        classes.push('macro-' + this.name);
        
        // dialog box
        Dialog.setup(title, classes.join(' '));
        Dialog.wiki(content);

        // should these be shadowWrapper-aware?
        if (onOpen && typeof onOpen === 'string' && onOpen.trim()) {
            $(document).one(':dialogopened', function () {
                $.wiki(onOpen);
            });
        }

        if (onClose && typeof onClose === 'string' && onClose.trim()) {
            $(document).one(':dialogclosed', function () {
                $.wiki(onClose);
            });
        }

        Dialog.open();
        
    }

});

// <<popup>> macro
Macro.add('popup', {
    handler : function () {
        
        // errors
        if (this.args.length < 1) {
            return this.error('need at least one argument; the passage to display');
        }
        if (!Story.has(this.args[0])) {
            return this.error('the passage ' + this.args[0] + 'does not exist');
        }
        
        // passage name and title
        var psg   = this.args[0];
        var title = (this.args.length > 1) ? this.args[1] : '';
        var classes = (this.args.length > 2) ? this.args.slice(2).flatten() : [];
        
        // add the macro- class
        classes.push('macro-' + this.name);
        
        // dialog box
        Dialog.setup(title, classes.join(' '));
        Dialog.wiki(Story.get(psg).processText());
        Dialog.open();
        
    }

});

// <<dialogclose>> macro
Macro.add('dialogclose', { 
    skipArgs : true, 
    handler : function () {
        Dialog.close();
    } 
});
/* twine-user-script #197: "disable.js" */
(function () {
    // disable.js, by chapel, for sugarcube 2
    // v1.0.0

    'use strict';

    var cls = 'disabled';
    var interactive = ['button', 'fieldset', 'input', 'menuitem', 'optgroup', 'option', 'select', 'textarea'];

    function getEl (self) {
        // get the first interactive element
        var $el = $(self).find(interactive.join(',')).first();
        if (!$el[0]) {
            $el = $(self).children().eq(0);
            if (!$el[0]) {
                return $(self);
            }
        }
        return $el;
    }

    function changeCls ($el) {
        if ($el.ariaIsDisabled()) {
            $el.addClass(cls);
        } else {
            $el.removeClass(cls);
        }
    }

    function disable ($el, bool) {
        if (!($el instanceof $)) {
            $el = $($el);
        }
        $el.ariaDisabled((bool === undefined) ? true : !!bool);
        changeCls($el);
        return $el;
    }

    // no need for JS API as there us a built-in jQuery extension

    Macro.add('disable', {
        tags : null,
        handler : function () {
            var bool, $wrapper = $(document.createElement('span'))
                .addClass('macro-' + this.name)
                .wiki(this.payload[0].contents);

            try {
                bool = this.args.raw.trim() ? !!Scripting.evalJavaScript(this.args.full) : undefined;
            } catch (err) {
                return this.error("bad evaluation: " + err.message);
            }

            disable(getEl($wrapper), bool);

            // output
            $(this.output).append($wrapper);
        }
    });

}());
/* twine-user-script #198: "events.js" */
// event macro set, by chapel; for sugarcube 2
// version 2.0.0

(function () {
    setup.eventMacroNamespace = 'macro-event';

    // the <<trigger>> macro
    Macro.add('trigger', {
        handler : function () {
            
            // declare vars
            var evt, $el;
            
            // check for errors
            if (this.args.length > 2 || this.args.length === 0) {
                return this.error('incorrect number of arguments');
            }
            if (typeof this.args[0] != 'string') {
                return this.error('first argument should be a string and a valid event type');
            }
            
            // some setup
            evt = this.args[0];
            $el = (this.args.length === 1 ||
                (this.args[1] && typeof this.args[1] === 'string' &&
                this.args[1].toLowerCase().trim() === 'document')) ?
                $(document) : $(this.args[1]);
            
            // fire the event
            $el.trigger(evt);
            
        }
    });

    // the <<event>> macro: <<event type [selector] [once]>>
    Macro.add(['event', 'on', 'one'], {
           tags : ['which'],
        handler : function () {
            
            var payload = this.payload;
            var method = 'on';
            var evt, sel = '', code = '', i;
            
            if (this.args.length > 3 || this.args.length === 0) {
                return this.error('incorrect number of arguments');
            }
            if (typeof this.args[0] != 'string') {
                return this.error('first argument should be a string and a valid event type');
            }
            if (this.args.length === 2 && typeof this.args[1] == 'string' && this.args[1] !== 'once') {
                sel = this.args[1];
            }
            
            if (this.args.includes('once') || this.name === 'one') {
                method = 'one';
            }

            evt = this.args[0];
            
            $(document)[method](evt + '.' + setup.eventMacroNamespace, sel, function (e) {
                code = payload[0].contents;
                if (payload.length > 1) {
                    for (i = 1; i < payload.length; i++) {
                        if (payload[i].args.includes(e.which)) {
                            code = code + payload[i].contents;
                        }
                    }
                }
                new Wikifier(null, code);
            });
            
        }
    });

    Macro.add('off', {
        handler : function () {
            
            // declare vars
            var evt, $el;
            
            // check for errors
            if (this.args.length > 2 || this.args.length === 0) {
                return this.error('incorrect number of arguments');
            }
            if (typeof this.args[0] != 'string') {
                return this.error('first argument should be a string and a valid event type or namespace');
            }
            
            // some setup
            evt = this.args[0];
            $el = (this.args.length === 1 ||
                (this.args[1] && typeof this.args[1] === 'string' &&
                this.args[1].toLowerCase().trim() === 'document')) ?
                $(document) : $(this.args[1]);
            
            // fire the event
            $el.off(evt);
            
        }
    });

}());
/* twine-user-script #199: "fading-macro-set.js" */
// fading macro set, by chapel; for SugarCube 2
// version 1.1.0
// see the documentation: https://github.com/ChapelR/custom-macros-for-sugarcube-2#fading-macros

// <<fadein>> macro
Macro.add('fadein', {
       tags : null,
    handler : function () {

        var $wrapper = $(document.createElement('span'));
        var content  = this.payload[0].contents, time, delay;

        if (this.args.length === 0) {
            return this.error('no arguments given');
        }
        
        time  = Util.fromCssTime(this.args[0]);
        delay = (this.args.length > 1) ?  Util.fromCssTime(this.args[1]) : 0;

        $wrapper
            .wiki(content)
            .addClass('macro-' + this.name)
            .appendTo(this.output)
            .hide()
            .delay(delay)
            .fadeIn(time);

    }
});

// <<fadeout>> macro
Macro.add('fadeout', {
       tags : null,
    handler : function () {

        var $wrapper = $(document.createElement('span'));
        var content  = this.payload[0].contents, time, delay;

        if (this.args.length === 0) {
            return this.error('no arguments given');
        }
        
        time  = Util.fromCssTime(this.args[0]);
        delay = (this.args.length > 1) ?  Util.fromCssTime(this.args[1]) : 0;

        $wrapper
            .wiki(content)
            .addClass('macro-' + this.name)
            .appendTo(this.output)
            .delay(delay)
            .fadeOut(time);

    }
});
/* twine-user-script #200: "first-macro.js" */
// first macro, by chapel; for sugarcube 2
// version 1.1.1
// see the documentation: https://github.com/ChapelR/custom-macros-for-sugarcube-2#first-macro

// <<first>> macro
Macro.add('first', {
    skipArgs : true,
        tags : ['then', 'finally'],
     handler : function () {

        var $wrapper = $(document.createElement('span')),
            last     = this.payload[this.payload.length - 1],
            visits   = visited() - 1, 
            content;
            
            if (visits < this.payload.length) {
                content = this.payload[visits].contents;
            } else {
                content = (last.name === 'finally') ? last.contents : '';
            }

        $wrapper
            .wiki(content)
            .addClass('macro-' + this.name)
            .appendTo(this.output);
    }

});
/* twine-user-script #201: "fs.js" */
// fs.js v1.1.0; for SugarCube 2, by chapel

(function () {
    
    // core functions
    
    function bail (err) {
        console.error(err);
        return null;
    }
    
    function stringify (o) {
        try {
            return JSON.stringify(o);
        } catch (err) {
            return bail(err);
        }
    }
    
    function b64ify (objOrStr) {
        try {
            var str;
            if (objOrStr === undefined) {
                return null;
            } else if (typeof objOrStr !== 'string') {
                str = stringify(objOrStr);
            } else {
                str = objOrStr;
            }
            if (str != null) {
                return LZString.compressToBase64(str);
            }
        } catch (err) {
            return bail(err);
        }
    }
    
    function decompressB64 (data) {
        try {
            return LZString.decompressFromBase64(data);
        } catch (err) {
            return bail(err);
        }
    }
    
    function parse (data) {
        try {
            return JSON.parse(data);
        } catch (err) {
            try {
                return JSON.parse(decompressB64(data));
            } catch (err) {
                return bail(err);
            }
        }
    }
    
    function saveToState (objOrStr, varName) {
        try {
            if (varName[0] !== '$' && varName[0] !== '_') {
                throw new Error('Invalid stateful variable');
            }
            if (State.setVar) {
                State.setVar(varName, clone(objOrStr));
            } else {
                if (varName[0] === '$') {
                    State.variables[varName.substr(1)] = clone(objOrStr);
                } else {
                    State.temporary[varName.substr(1)] = clone(objOrStr);
                }
            }
        } catch (err) {
            return bail(err);
        }
    }
    
    function saveToFile (fileName, data) {
        if (typeof data !== 'string') {
            data = stringify(data);
        }
        if (data == null) {
            return;
        }
        if (!fileName || typeof fileName !== 'string') {
            fileName = 'file.twinedata';
        } else {
            fileName = Util.slugify(fileName.trim()).toLowerCase();
        }
        if (!fileName.includes('.')) {
            fileName = fileName + '.twinedata';
        }
        try {
            saveAs(new Blob([data], { type : 'text/plain;charset=UTF-8'}), fileName);
        } catch (err) {
            return bail(err);
        }
    }
    
    function readData (dataType, data) {
        if (data == null) {
            return null;
        }
        switch (dataType) {
            case 'json':
                return parse(data);
            case 'base64':
            case 'b64':
            case '64':
                return parse(decompressB64(data));
            default:
                return data;
        }
    }
    
    function loadFromFile (e) {
        var file = e.target.files[0],
            reader = new FileReader(),
            storyVar = e.storyVar || '$fileData',
            dataType = e.dataType || 'text';
        
        $(reader).on('load', function (event) {
            try {
                var target = event.currentTarget;
                if (!target.result) {
                    return;
                }
                
                var data = readData(dataType, target.result);
                
                saveToState(data, storyVar);

                $(document).trigger({
                    type : ':import-macro',
                    success : true,
                    data : clone(data),
                    raw : target.result,
                    storyVar : storyVar
                });

            } catch (err) {

                saveToState(null, storyVar);

                $(document).trigger({
                    type : ':import-macro',
                    success : false,
                    data : null,
                    raw : null,
                    storyVar : storyVar
                });
                
                return bail(err);

            }
        });
        
        reader.readAsText(file);
    }
    
    function createImportButton (text, storyVar, dataType, asLink) {
        var $btn = $(document.createElement(asLink ? 'a' : 'button'))
                .wiki(text),
            $label = $(document.createElement('label'))
                .attr('for', 'file-import')
                .addClass('upload-file')
                .append($btn),
            $input = $(document.createElement('input'))
                .attr({
                    id : 'file-import',
                    type : 'file',
                    'data-format' : dataType
                }).css('display', 'none').on('change', function (e) {
                    var ev = Object.assign(clone(e), {
                        storyVar : storyVar,
                        dataType : $(this).attr('data-format')
                    });
                    loadFromFile(ev);
                }),
            $wrapper = $(document.createElement('span'))
                .append($label, $input);
        
        $btn.ariaClick(function () {
            $label.trigger('click');
        });
        
        return $wrapper;
    }
    
    function exportToFile (data, fileName, dataType) {
        var str;
        switch (dataType) {
            case 'json':
                str = stringify(data);
                break;
            case 'base64':
            case 'b64':
            case '64':
                str = b64ify(stringify(data) || data);
                break;
            default:
                str = (typeof data === 'string') ? data : stringify(data);
        }
        saveToFile(fileName, str);
    }
    
    function importFromFile (targetOnPage, text, storyVar, dataType, asLink) {
        var $importElement = createImportButton(text, storyVar, dataType, asLink),
            target;
        if (targetOnPage && typeof targetOnPage === 'string') {
            target = $(targetOnPage);
        } else if (targetOnPage) {
            target = targetOnPage;
        } else {
            target = '#passages';
        }
        
        $importElement.appendTo(target);
    }
    
    // setup API
    
    setup.fileSystem = {
        config : {
            defaultText : 'Import',
            renderAsLink : false
        },
        JSON : {
            stringify : stringify,
            parse : parse
        }, 
        b64 : {
            compress : b64ify,
            decompress : decompressB64
        }, 
        toState : saveToState,
        toFile : saveToFile,
        fromFile : loadFromFile
    };
    
    // global API
    
    window.Chapel = window.Chapel || {};
    Chapel.fileSystem = Chapel.fileSystem || setup.fileSystem;
    
    // macros
    
    Macro.add('import', {
        handler : function () {
            
            var target = this.output,
                linkText = this.args[2], 
                storyVar = this.args[0], 
                dataType = this.args[1];
            
            if (!linkText || typeof linkText !== 'string') {
                linkText = setup.fileSystem.config.defaultText;
            }
            if (!storyVar || typeof storyVar !== 'string' || (storyVar[0] !== '$' && storyVar[0] !== '_')) {
                return this.error('Invalid variable name.');
            }
            if (!dataType || typeof dataType !== 'string') {
                dataType = 'text';
            } else {
                dataType = dataType.trim();
            }
            importFromFile(target, linkText, storyVar, dataType, setup.fileSystem.config.renderAsLink);
            
        }
    });
    
    Macro.add('export', {
        handler : function () {
            
            var data = this.args[0],
                file = this.args[1],
                type = this.args[2];
            
            if (!data) {
                return this.error('No data to save...');
            }
            if (!type || typeof type !== 'string') {
                type = 'text';
            } else {
                type = type.trim();
            }
            if (!file || typeof file !== 'string') {
                file = 'file.twinedata';
            } else {
                file = file.trim();
            }
            
            exportToFile(data, file, type);
            
        }
    });
}());
/* twine-user-script #202: "message-macro.js" */
// message macro, by chapel (with help from T.M. Edwards); for sugarcube 2
// version 1.0.1
// see the documentation: https://github.com/ChapelR/custom-macros-for-sugarcube-2#message-macro

//intialize namespace
setup.messageMacro = {};

// default text option:
setup.messageMacro.default = 'Help';

// <<message>> macro
Macro.add('message', {
    tags    : null,
    handler : function () {
        var message  = this.payload[0].contents;
        var $wrapper = $(document.createElement('span'));
        var $link    = $(document.createElement(this.args.includes('btn') ? 'button' : 'a'));
        var $content = $(document.createElement('span'));

        $link
            .wiki(this.args.length > 0 && this.args[0] !== 'btn' ? this.args[0] : setup.messageMacro.default)
            .ariaClick( this.createShadowWrapper( function () {
                if ($wrapper.hasClass('open')) {
                    $content
                        .css('display', 'none')
                        .empty();
                }
                else {
                    $content
                        .css('display', 'block')
                        .wiki(message);
                }

                $wrapper.toggleClass('open');
            }));

        $wrapper
            .attr('id', 'macro-' + this.name + '-' + this.args.join('').replace(/[^A-Za-z0-9]/g, ''))
            .addClass('message-text')
            .append($link)
            .append($content)
            .appendTo(this.output);
    }
});
/* twine-user-script #203: "meters.js" */
(function () {
    'use strict';
    // meters.js, by Chapel; for SugarCube 2
    // v1.0.1

    var options = {
        tryGlobal : true, // attempt to send `Meter` to the global scope?
        allowClobbering : false, // allow a new meter to replace a previously defined meter with the same name instead of throwing
        IAmAGrownUp : false
    };


    var defaultSettings = {
        full : '#2ECC40', // color when the bar is full
        empty : '#FF4136', // color when the bar is empty
        back : '#DDDDDD', // color of the backing
        height : '12px', // height of the bar
        width : '180px', // width of the bar
        animate : 400, // ms
        easing : 'swing', // animation easing
        text : '#111111', // label text color
        label : '', // label text
        align : 'center' // label alignment
    };

    var _validAlignments = ['center', 'left', 'right'];
    var _validEasing = ['swing', 'linear'];

    function _handleString (str, def) {
        if (str && typeof str === 'string') {
            str = str.toLowerCase().trim();
            if (str) {
                return str;
            }
        }
        return def || '';
    }

    function _colorEasing (t) {
        // from: https://gist.github.com/gre/1650294
        return (t < 0.5) ? 2 * t * t : -1 + (4 - 2 * t) *t;
    }

    function Meter (opts, value) {
        if (!(this instanceof Meter)) {
            return new Meter(opts, value);
        }

        var defs = clone(defaultSettings);

        this.settings = Object.assign(defs, opts);

        // default malformed settings

        this.settings.align = _handleString(this.settings.align);
        this.settings.easing = _handleString(this.settings.easing);

        if (!_validAlignments.includes(this.settings.align)) {
            this.settings.align = 'center';
        }

        if (!_validEasing.includes(this.settings.easing)) {
            this.settings.easing = 'swing';
        }

        // set the value, or default to 1

        value = Number(value);
        if (Number.isNaN(value)) {
            value = 1;
        }
        value = Math.clamp(value, 0, 1);
        this.value = value;

        // the backing of the meter, and the container
        var $wrapper = $(document.createElement('div'))
            .addClass('chapel-meter')
            .attr({
                'data-val' : value,
                'data-label' : this.settings.label
            })
            .css({
                'position' : 'relative',
                'background-color' : this.settings.back,
                'height' : this.settings.height,
                'width' : this.settings.width,
                'overflow' : 'hidden'
            });

        // the meter's label
        var $label = $(document.createElement('div'))
            .addClass('meter-label')
            .css({
                'top' : 0,
                'right' : 0,
                'font-size' : this.settings.height,
                'font-weight' : 'bold',
                'line-height' : '100%',
                'width' : '100%',
                'height' : '100%',
                'vertical-align' : 'middle',
                'text-align' : this.settings.align,
                'color' : this.settings.text,
                'z-index' : 1,
                'position' : 'relative',
                'bottom' : '100%'
            })
            .wiki(this.settings.label)
            .appendTo($wrapper);

        // this is just here to give the bar a smooth transitioning coloration
        var $barTop = $(document.createElement('div'))
            .addClass('meter-top')
            .css({
                'background-color' : this.settings.full,
                'opacity' : _colorEasing(this.value),
                'width' : '100%',
                'height' : '100%',
                'z-index' : 0
            });

        // this actually holds the value and the 'real' bar color
        var $barBottom = $(document.createElement('div'))
            .addClass('meter-bottom')
            .css({
                'position' : 'absolute',
                'top' : 0,
                'left' : 0,
                'background-color' : this.settings.empty,
                'opacity' : 1,
                'width' : (this.value * 100) + '%',
                'height' : '100%',
                'z-index' : 0
            })
            .append($barTop)
            .appendTo($wrapper);

        this.$element = $wrapper;
        this.$bars = { // undocumented
            top : $barTop,
            bottom : $barBottom
        };
        this.$label = $label; // undocumented

        // mostly a reminder
        $label.css('font-size', (parseInt($wrapper.css('height'), 10) < parseInt($('.passage').css('font-size'), 10)) ? 
            $wrapper.css('height') : $('.passage').css('font-size'));
        $label.css('line-height', $wrapper.css('height'));
    }

    Object.assign(Meter, {
        _list : new Map(), // undocumented; meter data dump
        is : function (thing) { // see if passed "thing" is a meter instance
            return thing instanceof Meter;
        },
        has : function (name) { // does the named meter exist?
            return Meter._list.has(name) && Meter.is(Meter._list.get(name));
        },
        get : function (name) { // return the meter instance
            if (Meter.has(name)) {
                return Meter._list.get(name);
            }
            return null;
        },
        del : function (name) { // delete the meter with the indicated name
            if (Meter.has(name)) {
                Meter._list.delete(name);
            }
        },
        add : function (name, opts, value) { // add a new meter; the constructor should not be used
            if (Meter.has(name) && !options.allowClobbering) {
                console.error('Meter "' + name + '" already exists.');
                return;
            }
            Object.assign(opts, { id : name });
            var meter = new Meter(opts, value);
            Meter._list.set(name, meter);
            return meter;
        },
        _emit : function (inst, name) { // undocumented; emit an event on the given meter
            if (!Meter.is(inst)) {
                return;
            }
            inst.$element.trigger({
                type : ':' + name,
                meter : inst
            });
        }
    });

    Object.assign(Meter.prototype, {
        constructor : Meter,
        _label : function (wait) { // undocumented; reprocess the meter label and set the sizes
            // THE LABEL IS AN ACTUAL NIGHTMARE
            var self = this;
            function process () {
                self.$label.empty().wiki(self.settings.label);
                self.$label.css('font-size', (parseInt(self.$element.css('height'), 10) < parseInt(self.$element.parent().css('font-size'), 10)) ? 
                    self.$element.css('height') : self.$element.parent().css('font-size'));
                self.$label.css('line-height', self.$element.css('height'));
            }
            if (wait) {
                setTimeout(process, Engine.minDomActionDelay);
            } else {
                process();
            }
            return this;
        },
        _width : function () { // undocumented; change the meter width
            var self = this;
            this.$bars.bottom.animate({
                'width' : (this.value * 100) + '%'
            }, this.settings.animate, this.settings.easing, function () {
                Meter._emit(self, 'meter-animation-complete');
            });
            return this;
        },
        _color : function () { // undocumented; blend the full and empty meter colors
            this.$bars.top.animate({
                'opacity' : _colorEasing(this.value)
            }, this.settings.animate, this.settings.easing);
            return this;
        },
        animate : function () { // animate bar changes
            Meter._emit(this, 'meter-animation-start');
            return this._color()._width()._label();
        },
        val : function (n) { // set and get bar value
            if (n !== undefined) {
                n = Number(n);
                if (Number.isNaN(n)) {
                    n = 1;
                }
                n = Math.clamp(n, 0, 1);

                this.value = n;
                this.animate();
            }
            return this.value;
        },
        options : function (opts) {
            // set or get bar settings
            if (opts && typeof opts === 'object') {
                Object.assign(this.settings, opts);
            }
            return this.settings;
        },
        unwrap : function () {
            // return unwrapped container element
            return this.$element[0];
        },
        place : function ($target, options) { // put the bar in a known element, with a wrapper
            var $wrapper = $(document.createElement('span'));
            if (!($target instanceof jQuery)) {
                $target = $($target);
            }
            if (!$target[0]) {
                console.warn('meter#place() -> no valid target');
            }
            if (options && typeof options === 'object') {
                // options can contain classes or attributes for the wrapper
                if (options.classes && (Array.isArray(options.classes) || typeof options.classes === 'string')) {
                    $wrapper.addClass(options.classes);
                }
                if (options.attr && typeof options.attr === 'object') {
                    $wrapper.attr(options.attr);
                }
            }
            $target.append($wrapper.append(this.$element));
            // make sure to process the label
            this._label(true);
            return this;
        },
        // event methods for meters
        on : function (eventType, cb) {
            if (typeof cb !== 'function') {
                return this;
            }
            if (!eventType || typeof eventType !== 'string' || !eventType.trim()) {
                return this;
            }
            eventType = eventType.split(' ').map( function (type) {
                type = type.split('.')[0];
                return type + '.userland';
            }).join(' ');
            this.$element.on(eventType, cb);
            return this;
        },
        one : function (eventType, cb) {
            if (typeof cb !== 'function') {
                return this;
            }
            if (!eventType || typeof eventType !== 'string' || !eventType.trim()) {
                return this;
            }
            eventType = eventType.split(' ').map( function (type) {
                type = type.split('.')[0];
                return type + '.userland';
            }).join(' ');
            this.$element.one(eventType, cb);
            return this;
        },
        off : function (eventType) {
            if (eventType && typeof eventType === 'string' && eventType.trim()) {
                eventType = eventType.split(' ').map( function (type) {
                    type = type.split('.')[0];
                    return type + '.userland';
                }).join(' ');
            } else {
                eventType = '.userland'; // remove all user events
            }
            this.$element.off(eventType);
            return this;
        },
        // ariaClick-style setup
        click : function (options, cb) {
            // let SugarCube handle the errors
            this.$element.ariaClick(options, cb);
            return this;
        },
        // for completeness and in case a meter winds up in the state
        clone : function () {
            return new Meter(this.settings, this.value);
        },
        toJSON : function () {
            return JSON.reviveWrapper('new setup.Meter(' + JSON.stringify(this.settings) + ', ' + this.value + ')');
        }
    });

    // setup-spaced API
    setup.Meter = Meter;

    if (options.tryGlobal) { // global API, if undefined
        window.Meter = window.Meter || Meter;
    }

    // <<newmeter '$variable' [optional: starting value (between 0 and 1)]>>...<</newmeter>>
    // optional child tags: <<metercolors full [empty] [backing]>>, <<metersizing height [width]>>, <<meteranimation timeOrBool [easing]>>, <<meterlabel labelText [textColor] [alignment]>>
    Macro.add('newmeter', {
        tags : ['colors', 'sizing', 'animation', 'label'],
        handler : function () {

            if (State.length > 0 && !options.IAmAGrownUp) {
                // you are not a grown up
                return this.error('The `<<newmeter>>` macro must be called in your `StoryInit` special passage. Seriously. No excuses. --Love, Chapel');
            }

            if (this.args.length < 1) {
                return this.error('The `<<newmeter>>` macro requires at least one argument: a meter name.');
            }

            var meterName = this.args[0], 
                colorsTag = null, 
                sizeTag = null, 
                animTag = null,
                labelTag = null;

            if (typeof meterName !== 'string') {
                return this.error('Invalid meter name.');
            }

            meterName = meterName.trim();

            if (Meter.has(meterName) && !options.allowClobbering) {
                return this.error('Cannot clobber the existing meter "' + meterName + '".');
            }

            if (this.payload.length) {
                // get each child tag for processing
                colorsTag = this.payload.find( function (pl) {
                    return pl.name === 'colors';
                });
                sizeTag = this.payload.find( function (pl) {
                    return pl.name === 'sizing';
                });
                animTag = this.payload.find( function (pl) {
                    return pl.name === 'animation';
                });
                labelTag = this.payload.find( function (pl) {
                    return pl.name === 'label';
                });
            }

            var opts = {};

            if (colorsTag) {
                // process the colors tag
                if (!colorsTag.args.length) {
                    return this.error('No arguments passed to the `<<colors>>` tag.');
                }

                switch (colorsTag.args.length) {
                    case 1:
                        opts.empty = colorsTag.args[0];
                        opts.full = 'transparent'; // make the meter one solid color
                        break;
                    case 2:
                        opts.full = colorsTag.args[0];
                        opts.empty = colorsTag.args[1];
                        break;
                    default:
                        opts.full = colorsTag.args[0];
                        opts.empty = colorsTag.args[1];
                        opts.back = colorsTag.args[2];
                }
            }

            if (sizeTag) {
                // process the sizin tag
                if (!sizeTag.args.length) {
                    return this.error('No arguments passed to the `<<sizing>>` tag.');
                }

                opts.width = sizeTag.args[0];

                if (sizeTag.args[1]) {
                    opts.height = sizeTag.args[1];
                }

            }

            if (animTag) {
                // process the animations tag
                if (!animTag.args.length) {
                    return this.error('No arguments passed to the `<<animation>>` tag.');
                }

                if (typeof animTag.args[0] === 'boolean' && !animTag.args[0]) {
                    opts.animate = 0; // functionally no animation--we still want the event, though, so we'll just 0 it out
                } else if (typeof animTag.args[0] === 'string') {
                    opts.animate = Util.fromCssTime(animTag.args[0]);
                } else {
                    return this.error('The argument to the `<<animation>>` tag should be `true`, `false`, or a valid CSS time value.');
                }

                if (animTag.args[1] && ['swing', 'linear'].includes(animTag.args[1])) {
                    opts.easing = animTag.args[1];
                }
            }

            if (labelTag) {
                // process the label tag
                var text = labelTag.args[0];
                if (text && typeof text === 'string') {
                    opts.label = text.trim();
                } else {
                   return this.error('The labelText argument for the `<<label>>` tag is required.');
                }

                if (labelTag.args[1] && typeof labelTag.args[1] === 'string') {
                    opts.text = labelTag.args[1];
                }
                if (labelTag.args[2] && typeof labelTag.args[2] === 'string') {
                    opts.align = labelTag.args[2];
                }
            }

            Meter.add(meterName, opts, this.args[1]);

        }
    });

    // <<showmeter '$variable' [value]>>
    Macro.add('showmeter', {
        handler : function () {

            if (this.args.length < 1) {
                return this.error('This macro requires at least one argument: the meter\'s name.');
            }

            // get the meter
            var meterName = this.args[0];

            if (typeof meterName !== 'string') {
                return this.error('Invalid meter name.');
            }

            meterName = meterName.trim();

            var meter = Meter.get(meterName);

            if (!meter || !Meter.is(meter)) {
                return this.error('The meter "' + meterName + '" does not exist.');
            }

            // set the meter, if necessary
            if (typeof this.args[1] === 'number') {
                meter.val(this.args[1]);
            }

            // render the meter
            meter.place(this.output, {
                classes : 'macro-' + this.name,
                attr : { id : 'meter-' + Util.slugify(meterName) }
            });

        }
    });

    // <<updatebar '$variable' value>>
    Macro.add('updatemeter', {
        handler : function () {

            if (this.args.length < 2) {
                return this.error('This macro requires two arguments: the meter\'s name and a value.');
            }

            // get the meter
            var meterName = this.args[0];

            if (typeof meterName !== 'string') {
                return this.error('Invalid meter name.');
            }

            meterName = meterName.trim();

            var meter = Meter.get(meterName);

            if (!meter || !Meter.is(meter)) {
                return this.error('The meter "' + meterName + '" does not exist.');
            }

            // set it
            meter.val(this.args[1]); // if it's on the page, should update and animate auto-magically.

        }
    });

}());
/* twine-user-script #204: "mouseover.js" */
(function () {
    // mouseover macro, v1.0.1, by chapel, for sugarcube 2

    Macro.add('mouseover', {

        tags: [
            'onhover', 
            'onmouseover', 
            'onmousein', 
            'onmouseenter',
            'onmouseout'
        ],

        skipArgs: true,

        handler: function () {

            if (this.payload.length < 2) {
                return this.error('No event tag used.');
            }

            var wiki = {
                mouseover : [],
                mousein : [],
                mouseout : []
            };

            var $el = $(document.createElement('span'))
                .addClass('macro-' + this.name)
                .wiki(this.payload[0].contents)
                .appendTo(this.output);

            // iterate through the tags
            this.payload.forEach( function (payload) {
                switch (payload.name) {
                    case 'onhover':
                    case 'onmouseover':
                        wiki.mouseover.push(payload.contents);
                        break;
                    case 'onmousein':
                    case 'onmouseenter':
                        wiki.mousein.push(payload.contents);
                        break;
                    case 'onmouseout':
                        wiki.mouseout.push(payload.contents);
                        break;
                    default:
                        return;
                }
            });

            // attach appropriate events
            if (wiki.mouseover.length) {
                $el.on('mouseover', this.createShadowWrapper(function (ev) {
                    $.wiki(wiki.mouseover.join(' '));
                }));
            }
            if (wiki.mousein.length) {
                $el.on('mouseenter', this.createShadowWrapper(function (ev) {
                    $.wiki(wiki.mousein.join(' '));
                }));
            }
            if (wiki.mouseout.length) {
                $el.on('mouseout', this.createShadowWrapper(function (ev) {
                    $.wiki(wiki.mouseout.join(' '));
                }));
            }
        }
    });
}());
/* twine-user-script #205: "notify.js" */
(function () {
    // notify.js, by chapel; for sugarcube 2
    // version 1.1.1
    // requires notify.css / notify.min.css

    var DEFAULT_TIME = 5000; // default notification time (in MS)

    var isCssTime = /\d+m?s$/;

    $(document.body).append("<div id='notify'></div>");
    $(document).on(':notify', function (ev) {
        if (ev.message && typeof ev.message === 'string') {
            // trim message
            ev.message.trim();
            // classes
            if (ev.class) {
                if (typeof ev.class === 'string') {
                    ev.class = 'open macro-notify ' + ev.class;
                } else if (Array.isArray(ev.class)) {
                    ev.class = 'open macro-notify ' + ev.class.join(' ');
                } else {
                    ev.class = 'open macro-notify';
                }
            } else {
                ev.class = 'open macro-notify';
            }
            
            // delay
            if (ev.delay) {
                if (typeof ev.delay !== 'number') {
                    ev.delay = Number(ev.delay);
                }
                if (Number.isNaN(ev.delay)) {
                    ev.delay = DEFAULT_TIME;
                }
            } else {
                ev.delay = DEFAULT_TIME;
            }
            
            $('#notify')
                .empty()
                .wiki(ev.message)
                .addClass(ev.class);

            $('#notify')
                .empty()
                .wiki(ev.message)
                .addClass(setup.getCorruptionUIClassName("dummy", setup.getStatValue(State.variables.CharacterSheet_Player, "corruption")));
                    
            setTimeout(function () {
                $('#notify').removeClass();
                $('#notify').addClass(setup.getCorruptionUIClassName("dummy", setup.getStatValue(State.variables.CharacterSheet_Player, "corruption")));
            }, ev.delay);

            
        }
    });

    function notify (message, time, classes) {

        if (typeof message !== 'string') {
            return;
        }

        if (typeof time !== 'number') {
            time = false;
        }

        $(document).trigger({
            type    : ':notify',
            message : message,
            delay   : time,
            class   : classes || ''
        });
    }

    // <<notify delay 'classes'>> message <</notify>>
    Macro.add('notify', {
           tags : null,
        handler : function () {
            
            // set up
            var msg     = this.payload[0].contents, 
                time    = false, 
                classes = false, i;
            
            // arguments
            if (this.args.length > 0) {
                var cssTime = isCssTime.test(this.args[0]);
                if (typeof this.args[0] === 'number' || cssTime) {
                    time    = cssTime ? Util.fromCssTime(this.args[0]) : this.args[0];
                    classes = (this.args.length > 1) ? this.args.slice(1).flatten() : false;
                } else {
                    classes = this.args.flatten().join(' ');
                }
            }
            
            // fire event
            notify(msg, time, classes);
            
        }
    });

    setup.notify = notify;
}());
/* twine-user-script #206: "operations.js" */
(function () {
    'use strict';
    // operations, by chapel; for sugarcube 2.x
    // v1.1.0
    // adds a dice roller and 'fairmath'
    var setup = setup || {};
    // options object
     var options = {
        tryGlobal : true, 
        nicknames : true, 
        fmRange   : [0, 100]
    };

    /*                  DICE                    */

    // dice helpers
    function _processDice (a, b) {
        // find the number of dice and the type of die
        var roll = [], i, result = 0, add = +1;
        if (typeof a === 'string') {
            roll = a.split('d');
        } else if (typeof a === 'number' && b) {
            roll = [a, b];
        } else if (Array.isArray(a) && a.length >= 2) {
            a.length = 2;
            roll = a;
        } else {
            throw new TypeError('dice(): could not process arguments...');
        }
        // check types
        roll[0] = Number(roll[0]);
        // handle fate/fudge dice
        if (typeof roll[1] === 'string' && roll[1].trim().toUpperCase() === 'F') {
            roll[1] = 3; // -1, 0, or 1
            add = -1;
        } else {
            roll[1] = Number(roll[1]);
        }
        if (roll.some( function (n) {
            return Number.isNaN(n);
        })) {
            throw new TypeError('dice(): could not process arguments...');
        }
        for (i = 0; i < roll[0]; i++) {
            /*
                we're going to roll each die.  we could generate a number
                between the max and min possible simply enough,
                but real dice have weights -- rolling 3d6 is far more likely to result 
                in 10 or 11 than in 3 or 18, and pure randomization will not emulate this
            */
            var die = 0;
            die = Math.floor(State.random() * roll[1]) + add;
            result += die; // update result
        }
        return result; // this prelimary result ignores modifiers; it only rolls the dice
    }

    function _processString (string) {
        // recieves strings like '1d6 + 6' or 1d20+3'
        var parsed = [];
        // remove all whitespace and trim
        string = string.trim().replace(/\s/g, '');
        // check for and return the parts of the roll (2 chunks: '1d6' and '+6')
        parsed = string.match(/(\d+[d][\df]\d*)(.*)/i);
        return [parsed[1], Number(parsed[2])]; // send the data off as an array
    }

    function roll (a, b) {
        if (typeof a === 'string') {
            var result = _processString(a);
            /* 
                the expression below rolls the dice and adds the modifier, 
                which must be additive (i.e. +5 or -5, but never *5)
            */
            return _processDice(result[0]) + result[1];
        } else {
            // just run it, it'll toss out its own errors
            return _processDice(a, b);
        }
    }

    setup.dice = { roll : roll };

    // global dice() function: dice('[x]d[y] +/- [z]') or dice([x], [y]) + [z]
    if (options.tryGlobal) { // test options
        window.dice = window.dice || roll; 
    }
    // always available via setup.dice.roll() when unavailable here

    // dice method; Number.prototype.dice(number)
    // ex. (1).dice(6) + 10; $roll = $die.number.dice($die.type); etc
    if (!Number.prototype.dice) {
        Object.defineProperty(Number.prototype, 'dice', {
            configurable : true,
            writable     : true,
            
            value : function (val) {
                // errors and weirdness
                if (this === 0) {
                    return 0;
                } 
                if (this < 0) {
                    throw new TypeError('Number.prototype.dice: cannot roll a negative number of dice!');
                } 
                if (typeof val !== 'string' || val.trim().toUpperCase() !== 'F') {
                    if (val == null || typeof val !== 'number' || val <= 0 || !Number.isInteger(val)) {
                        throw new TypeError('Number.prototype.dice: error in argument');
                    }
                }
                if (!Number.isInteger(this)) {
                    throw new TypeError('Number.prototype.dice: cannot roll partial dice!');
                }
                
                // call the dice processing function
                return roll(this, val);
            }
        });
    }

    /*                  FAIRMATH                */

    // fairmath method; Number.prototype.fairmath(value)
    // ex. (20).fairmath(30); $var = $var.fairmath(-10); etc 
    if (!Number.prototype.fairmath) {
        Object.defineProperty(Number.prototype, 'fairmath', {
            configurable : true,
            writable     : true,
            
            value : function (val) {
                // errors
                var op = options.fmRange;
                
                if (this < op[0] || this > op[1]) {
                    throw new TypeError('Number.prototype.fairmath called on a number that is out of the defined range (the number was ' + this + ').');
                }
                if (val == null || typeof val != 'number' || val > 100 || val < -100 || arguments.length < 1) {
                    throw new TypeError('Number.prototype.fairmath given incorrect argument or an argument that is out of the valid 0-100 range.');
                }
                
                // do the 'fair' math!
                if (val === 0) { // a 0 increase or decrease; just trunc and clamp
                    return Math.clamp(Math.trunc(this), op[0], op[1]);
                }
                if (val < 0) { // number is negative, representing a decrease
                    val = val * -1; // make positive for the math below
                    return Math.clamp(Math.trunc(
                        this - ((this - op[0]) * (val / op[1]))
                    ), op[0], op[1]);
                }
                if (val > 0) { // number is positive, represeting an increase
                    return Math.clamp(Math.trunc(
                        this + ((op[1] - this) * (val / op[1]))
                    ), op[0], op[1]);
                }
                // something inexplicable happened
                throw new Error('Number.prototype.fairmath encountered an unspecified error.');
            }
        });
    }

    /* Number.between() */
    if (!Number.prototype.between) {
        Object.defineProperty(Number.prototype, 'between', {
            configurable : true,
            writable     : true,
            
            value : function (a, b) {
                // errors
                if (typeof a !== 'number' || typeof b !== 'number') {
                    throw new TypeError('Number.between() -> both values must be numbers');
                }
                var n = Number(this);
                if (a === b) {
                    return n === a;
                }
                if (b < a) {
                    var c = b;
                    b = a;
                    a = c;
                }
                return n >= a && n <= b;
            }
        });
    }

    // Math.fairmath() method 
    if (!Math.fairmath) {
        Object.defineProperty(Math, 'fairmath', {
            configurable : true,
            writable     : true,
            
            value : function (base, val) { 
                return base.fairmath(val);
            }
        });
    }

    /* Math.between() */
    if (!Math.between) {
        Object.defineProperty(Math, 'between', {
            configurable : true,
            writable     : true,
            
            value : function (base, a, b) { 
                return base.between(a, b);
            }
        });
    }

    /*                  EXTRAS                  */

    // now for some shortcuts
    if (options.nicknames) {
        if (!Math.fm) { // Math.fm()
            Object.defineProperty(Math, 'fm', {
                configurable : true,
                writable     : true,
                
                value : function (base, val) { 
                    return base.fairmath(val);
                }
            });
        }
        if (!Number.prototype.fm) { // <number>.fm()
            Object.defineProperty(Number.prototype, 'fm', {
                configurable : true,
                writable     : true,
                
                value : function (val) { 
                    return this.fairmath(val);
                }
            });
        }
        if (!Number.prototype.d) { // <number>.d()
            Object.defineProperty(Number.prototype, 'd', {
                configurable : true,
                writable     : true,
            
                value : function (val) { 
                    return this.dice(val);
                }
            });
        }
    }
}());
/* twine-user-script #207: "playtime.js" */
(function () {
    'use strict';
    // play time system, by chapel; for SugarCube 2
    // version 2.1.0

    // options object:
    var options = {
        tryGlobal : true,
        storyVar  : 'playtime',
        pauseTag  : 'pausetimer'
    };

    State.variables[options.storyVar] = Date.now();

    predisplay['start-playtime'] = function (t) {
        delete predisplay[t]; // single use
        // we need to grab a starting time so errors don't appear in user saves prior to adding this code:
        if (!State.variables[options.storyVar]) {
            State.variables[options.storyVar] = Date.now();
        }
    };

    // pause tag handling
    prehistory['pause-playtime'] = function (t) {
        if (tags().includes(options.pauseTag)) {
            State.variables[options.storyVar] += time();
        }
    };

    // the function:
    function _getMS () {
        return (Date.now() - State.variables[options.storyVar]);
    }

    function _getTimeArray (ms) {
        if (!ms || ms < 0 || typeof ms !== 'number') {
            return;
        }
        
        var time = [];
        
        time.push(Math.floor(ms / 1000) % 60); // second [0]
        time.push(Math.floor(ms / 60000) % 60); // minutes [1]
        time.push(Math.floor(ms / 3600000)); // hours [2]
        
        return time;
    }

    // set up valid args
    var hourNames = ['h', 'hr', 'hrs', 'hour', 'hours'];
    var minNames  = ['m', 'min', 'mins', 'minute', 'minutes'];
    var secNames  = ['s', 'sec', 'secs', 'second', 'seconds'];

    // user function
    function _getPlayTime (m) {
        var ms   = _getMS();
        var time = _getTimeArray(ms);
        if (hourNames.includes(m)) {
            return time[2];
        }
        if (minNames.includes(m)) {
            return time[1];
        }
        if (secNames.includes(m)) {
            return time[0];
        }
        return ms;
    }

    function _formatTime (arr, fmt) {
        if (!arr || !Array.isArray(arr) || arr.length < 3) {
            return;
        }
        
        var hr  = (arr[2] < 10) ? '0' + arr[2] : '' + arr[2],
            min = (arr[1] < 10) ? '0' + arr[1] : '' + arr[1],
            sec = (arr[0] < 10) ? '0' + arr[0] : '' + arr[0];
            
        if (fmt) {
            return '<b>' + hr + ':' + min + '</b>' + ':' + sec;
        }
        return hr + ':' + min + ':' + sec;
    }

    function _outputPlaytime (fmt) {
        var ms = _getMS();
        return _formatTime(_getTimeArray(ms), fmt);
    }

    /* 
        (setup|window).playTime(arg):
        
            if (arg) is a string, returns a positive integer:
                * hour, hours, h, hr, etc            : returns hours
                * min, minutes, minute, m, mins, etc : returns minutes
                * sec, secs, s, second, seconds, etc : returns seconds
                * anyother string                    : returns milliseconds

            if (arg) is not a string:
                * (arg) is truthy : returns formatted time string
                * (arg) is falsey : returns unformatted time string
    */

    // setup API
    setup.playTime = function (arg) {
        if (typeof arg === 'string') {
            return _getPlayTime(arg);
        }
        return _outputPlaytime(arg);
    };

    // global playTime() function
    if (options.tryGlobal) {
        window.playTime = window.playTime || setup.playTime;
    }

    // <<playtime>> macro
    // if given the format argument, bold hours and minutes
    Macro.add('playtime', {
        handler : function () {
            var arr = this.args.map(function (arg) {
                return String(arg).trim().toLowerCase();
            });
            var $wrapper = $(document.createElement('span'));
            var fmt      = arr.includesAny(['format', 'f', 'fmt', 'b', 'bold', 'true']);
            var string   = _outputPlaytime(fmt);
            
            $wrapper
                .wiki(string)
                .addClass('macro-' + this.name)
                .appendTo(this.output);
        }
    });
}());
/* twine-user-script #208: "popover.js" */
(function () {
    'use strict';
    // popover macro, by chapel, for SugarCube 2
    // v1.0.0

    function handleClasses () {
        return [].slice.call(arguments).flatten().filter( function (c) {
            return c && typeof c === 'string' && c.trim();
        }) || [];
    }

    function popover (content, classList) {
        classList = handleClasses(classList);
        $('#ui-overlay, #ui-dialog').addClass('popover');
        // classList
        $('#ui-overlay, #ui-dialog, #ui-dialog-body').addClass(classList);
        // no-click
        if (classList.includesAny('noclick', 'no-click')) {
            $('#ui-overlay').removeClass('ui-close');
        }
        // dialog
        Dialog.setup('', 'popover');
        Dialog.wiki(content);
        Dialog.open();
        // remove classes
        $(document).one(':dialogclosed', function () {
            $('#ui-overlay').addClass('ui-close');
            $('#ui-overlay, #ui-dialog').removeClass('popover');
            $('#ui-overlay, #ui-dialog, #ui-dialog-body').removeClass(classList);
        });
    }

    // built-in options: invert, opaque, transparent, noclick
    Macro.add('popover', {
        tags: null,
        handler : function () {
            popover(this.payload[0].contents, this.args);
        }
    });

    Macro.add('dismisspopover', {
        skipArgs: true,
        handler : function () {
            if ($('ui-overlay').hasClass('popover')) {
                Dialog.close();
            }
        }
    });

    setup.popover = popover;
}());
/* twine-user-script #209: "preload.js" */
(function () {
    'use strict';
    // v1.0.0
    // preload images prior to story startup

    function preloadImage (url, cb) {
        var img = new Image();
        img.onload = cb;
        img.onerror = cb;
        img.src = url;
    }

    function preloadAll (urls, cb) {
        var loaded = 0;
        var toBeLoaded = urls.length;
        urls.forEach( function (url) {
            preloadImage( url, function () {
                loaded++;
                if (loaded === toBeLoaded) {
                    cb();
                }
            });
        });
    }

    function isInit () {
        return State.length <= 0;
    }


    function preload () {
        var list = [].slice.call(arguments).flatten();
        var id = isInit() ? LoadScreen.lock() : false;
        preloadAll( list, function () {
            if (id) {
                LoadScreen.unlock(id);
            }
        });
        return id;
    }

    setup.preload = preload;
    setup.preload.force = false;

    /* <<preload imageUrls...>> */
    Macro.add('preload', {
        handler : function () {
            if (!isInit() && !setup.preload.force) {
                return this.error("Attempting to preload images outside of `StoryInit` or similar can cause performance issues. Set `setup.preload.force` to `true` if you want to do it anyway.");
            }
            preload(this.args.flatten().filter( function (url) {
                return typeof url === 'string';
            }));
        }
    });
}());
/* twine-user-script #210: "simple-inventory.js" */
(function () {
    // simple-inventory.js, by chapel; for sugarcube 2
    // version 2.3.0
    'use strict';

    // options object

    var options = {
        tryGlobal : true,
        defaultStrings : {
            empty     : 'The inventory is empty...',
            listDrop  : 'Discard',
            separator : '\n'
        }
    };

    // private functions

    function _attachEvent (inv, loc, items, cont) {
        // attach special inventory change events to the document
        $(document).trigger({
            type       : (cont === 'initialized') ?  ':inventory-init' : ':inventory-update', // the event name
            instance   : inv, // the calling instance; the giver in transfers
            receiving  : loc, // the inventory recieving transfers, or null
            moved      : items, // the items moved to or from the calling inventory, or null
            context    : cont // drop, pickup, transfer, or initialized
        });
    }

    function _getUID (name, i) {
        // generates a random, unique-enough-for-this-purpose ID
        var key = Math.random().toString(36).substring(7);
        if (arguments.length < 2) {
            // we'll generate an id anyway, but it might not be as unique as i'd like.
            name = Math.random().toString(36).substring(7);
            i    = random(99);
        }
        return ('simple-inv-' + i + '-' + Date.now() + '-' + name.replace(/[^A-Za-z0-9]/g, '') + '-' + key);
    }

    // constructor

    function Inventory (array) {
        if (array) {
            // some number of arguments were passed
            array = [].slice.call(arguments);
            array = array.flatten();
        } else { 
            // no arguments were passed
            array = [];
        }
        
        if (this instanceof Inventory) {
            this.inv = array;
            array = (array.length) ? array : null;
            // run the event only if assignement is successful
            _attachEvent(this, null, array, 'initialized');
        } else { // if the author forgets the 'new' operator, add it for them
            return new Inventory(array);
        }
    }

    // static methods

    Object.assign(Inventory, {
        is : function (inv) {
            // test to see if passed object is an inventory instance
            return (inv instanceof Inventory);
        },
        log : function (inv) {
            // logs the inventory to the console (for debugging)
            var string = (Inventory.is(inv)) ?
                ('Inventory.log() -> ' + inv.toArray().join(' - ')) : 
                ('Inventory.log() -> object is not an inventory...');
            return string;
        },
        removeDuplicates : function (inv) {
            // removes duplicate items from an inventory
            if (!Inventory.is(inv)) {
                return; // not an inventory
            }
            var items = inv.toArray();
            var uniq  = (function (i) {
                var ret = [];
                i.forEach( function (item) {
                    if (!ret.includes(item)) {
                        ret.push(item);
                    }
                });
                return ret;
            }(items));
            
            return uniq;
        }
    });

    Object.assign(Inventory.prototype, {
        transfer : function (loc) {
            // transfer items from this inventory to a specified inventory
            if (arguments.length < 2) {
                return this; // error in args, do nothing
            }   
            if (!Inventory.is(loc)) {
                return this; // error in args, do nothing
            }
            
            var items = [].slice.call(arguments);
            items = items.slice(1).flatten();
            
            var pushed = [];
            for (var i = 0, l = items.length; i < l; i++) {
                // only transfer the item if it exists
                if (this.inv.includes(items[i])) { 
                    this.inv.delete(items[i]);
                    pushed.push(items[i]);
                }
            }
            
            if (pushed.length) {
                loc.inv = loc.inv.concat(pushed);
                _attachEvent(this, loc, pushed, 'transfer');
                return this; // for chaining
            }
            return this; // for chaining
        },
        
        has : function () { // this inventory has any of the passed items
            var items = [].slice.call(arguments).flatten();
            if (items && items.length) {
                return this.inv.includesAny(items);
            }
            return false;
        },
        
        hasAll : function () { // this inventory has all of the passed items
            var items = [].slice.call(arguments).flatten();
            if (items && items.length) {
                return this.inv.includesAll(items);
            }
            return false;
        },
        
        pickUp : function (unique) { // add items to this inventory
            var items = [].slice.call(arguments).flatten(), inventory = this;
            if (items && items.length) {
                if (unique === 'unique' || items[0] === 'unique') { // items must be unique in each inventory instance
                    items = items.splice(1);
                    items = (function (items) { 
                        var ret = []; // this code could use some cleanup
                        items.forEach(function (item) {
                            if (!inventory.inv.includes(item) && !ret.includes(item)) {
                                ret.push(item);
                            }
                        });
                        return ret;
                    }(items));
                }
                // concat the arrays and call the event
                this.inv = this.inv.concat(items);
                _attachEvent(this, null, items, 'pickup');
            }
            return this; // for chaining
        },
        
        drop : function () { // remove items from this inventory
            var items = [].slice.call(arguments).flatten(),
                inventory = this, del; // we need to access this in the <array>.forEach()
            if (items && items.length) {
                var moved = [];
                items.forEach(function (item) {
                    if (inventory.has(item)) {
                        moved.push(item); // for the event below
                        del = inventory.inv.indexOf(item);
                        inventory.inv.deleteAt(del);
                    }
                });
                _attachEvent(this, null, moved, 'drop');
            }
            return this; // for chaining
        },
        
        sort : function () { // sorts this inventory
            this.inv = this.inv.sort();
            _attachEvent(this, null, null, 'sort');
            return this;
        },
        
        show : function (sep) { // returns a string representing the inventory
            if (!sep || typeof sep !== 'string') {
                sep = options.defaultStrings.separator; // default
            }
            if (this.inv.length) {
                return this.inv.join(sep);
            }
            return options.defaultStrings.empty; // nothing is in this inventory
        },
        
        empty : function () { // remove all items from this inventory
            var temp = clone(this.inv); // for the event
            this.inv = []; 
            // this is still technically a 'drop' event
            _attachEvent(this, null, temp, 'drop');
            return this; // for that sweet chaining action
        },
        
        toArray : function () { // not super necessary
            return (this.inv);
        },

        count : function (item) {
            // if item, count the number of duplicates
            if (item && typeof item === 'string') {
                var cnt = 0;
                this.toArray().forEach( function (i) {
                    if (i === item) {
                        cnt++;
                    }
                });
                return cnt;
            }
            // else return the length
            return this.toArray().length;
        },

        isEmpty : function () {
            return this.toArray().length === 0;
        },
        
        linkedList : function (loc, action) { // construct the list elements to keep the macro call clean-ish
            if (!loc || !Inventory.is(loc)) {
                loc = false; // if no loc, then no transferring
            }
            
            // set up vars
            var list = this.toArray();
            var inv = this;
            var $wrapper = $(document.createElement('span'));
            
            // if inventory is empty, append message and return element
            if (!list || !list.length) {
                $wrapper.wiki(options.defaultStrings.empty);
                return $wrapper;
            }
            
            // construct the link list
            list.forEach(function (item, idx, arr) {
                var $listing = $(document.createElement('span')),
                    $link    = $(document.createElement('a')),
                    drop     = (action) ? action : options.defaultStrings.drop, // the action name or default
                    UID      = _getUID(item, idx); // create a unique element ID 
                
                $link // create the drop link
                    .wiki(drop)
                    .addClass('simple-inv drop-link');
                
                // add click event handler
                $link.ariaClick(function () {
                    if (loc) {
                        inv.transfer(loc, item);
                    } else {
                        inv.drop(item);
                    }
                    $('#' + UID).empty(); // empty the listing by its UID
                });
                
                // set up the listing element, which contains the name and the link
                $listing
                    .attr('id', UID)
                    .addClass('simple-inv link-listing')
                    .wiki(item + ' ')
                    .append($link);
                
                // add newline via <br> for listings that aren't last
                // this also allows the newline to disappear with its associated listing when dropped
                if (idx < arr.length - 1) {
                    $listing.wiki('<br />');
                }
                
                // attach to the return element
                $wrapper.append($listing);
            });
            
            // return the whole element
            return $wrapper;
        },
        
        // we need to reassign this since we may have clobbered it using the prototype
        constructor : Inventory,
        
        toJSON : function () { // the custom revive wrapper for SugarCube's state tracking
            // use `setup` version in case the global version is unavailable
            return JSON.reviveWrapper('new setup.Inventory(' + JSON.stringify(this.inv) + ')');
        },
        
        clone : function () { return new Inventory(this.inv); }
    });

    // JS APIs

    setup.Inventory = Inventory;
    setup.simpleInv = { inventory : Inventory }; // legacy

    if (options.tryGlobal) {
        // this allows authors to access the JS API using the global Inventory function
        window.Inventory = window.Inventory || Inventory;
        // ... but only if window.Inventory is undefined
    }

    // macros

    // <<newinventory '$var' '(optional) list of items'>>
    Macro.add('newinventory', {
        handler : function () {

            if (this.args.length < 1) {
                return this.error('incorrect number of arguments');
            }
            var varName = this.args[0].trim();
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
            }
            
            // set up new inventory
            Wikifier.setValue(varName, new Inventory(this.args.slice(1).flatten()));
        }
    });

    // <<pickup '$var' 'list of items'>>
    Macro.add('pickup', {
        handler : function () {
            
            if (this.args.length < 2) {
                return this.error('incorrect number of arguments');
            }
            
            var varName = this.args[0].trim();
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
            }
            
            // check if story var is an inventory instance
            var inv = Wikifier.getValue(varName);
            if (!Inventory.is(inv)) {
                return this.error('variable ' + varName + ' is not an inventory!');
            }
            
            inv.pickUp(this.args.slice(1).flatten());
        }
    });

    // <<drop '$var' 'list of items'>>
    Macro.add('drop', {
        handler : function () {
            
            if (this.args.length < 2) {
                return this.error('incorrect number of arguments');
            }
            
            var varName = this.args[0].trim();
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
            }
            
            // check if story var is an inventory instance
            var inv = Wikifier.getValue(varName);
            if (!Inventory.is(inv)) {
                return this.error('variable ' + varName + ' is not an inventory!');
            }
            
            inv.drop(this.args.slice(1).flatten());
        }
    });

    // <<transfer '$var' '$anotherVar' 'list of items'>>
    Macro.add('transfer', {
        handler : function () {
            
            if (this.args.length < 3) {
                return this.error('incorrect number of arguments');
            }
            
            var varName = this.args[0].trim();
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
            }
            
            // check if story var is an inventory instance
            var inv = Wikifier.getValue(varName);
            if (!Inventory.is(inv)) {
                return this.error('variable ' + varName + ' is not an inventory!');
            }
            
            /* the receiving inventory */
            var recVarName = this.args[1].trim();
            // check variable string
            if (recVarName[0] !== '$' && recVarName[0] !== '_') {
                return this.error('variable name "' + this.args[1] + '" is missing its sigil ($ or _)');
            }
            
            // check if story var is an inventory instance
            var recInv = Wikifier.getValue(recVarName);
            if (!Inventory.is(recInv)) {
                return this.error('variable ' + recVarName + ' is not an inventory!');
            }
            
            inv.transfer(recInv, this.args.slice(2).flatten());
        }
    });

    // <<dropall '$var'>>
    Macro.add('dropall', {
        handler : function () {
            
            if (this.args.length !== 1) {
                return this.error('incorrect number of arguments');
            }
            
            var varName = this.args[0].trim();
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
            }
            
            // check if story var is an inventory instance
            var inv = Wikifier.getValue(varName);
            if (!Inventory.is(inv)) {
                return this.error('variable ' + varName + ' is not an inventory!');
            }
            
            inv.empty();
        }
    });

    // <<clear>> (same as <<dropall>>)
    Macro.add('clear', 'dropall', false);

    // <<sort '$var'>>
    Macro.add('sort', {
        handler : function () {
            
            if (this.args.length !== 1) {
                return this.error('incorrect number of arguments');
            }
            
            var varName = this.args[0].trim();
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
            }
            
            // check if story var is an inventory instance
            var inv = Wikifier.getValue(varName);
            if (!Inventory.is(inv)) {
                return this.error('variable ' + varName + ' is not an inventory!');
            }
            
            inv.sort();
        }
    });

    // <<inventory '$var' 'separator'>>
    Macro.add('inventory', {
        handler : function () {
            
            if (this.args.length < 1 || this.args.length > 2) {
                return this.error('incorrect number of arguments');
            }
            
            var varName = this.args[0].trim();
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[0] + '" is missing its sigil ($ or _)');
            }
            
            // check if story var is an inventory instance
            var inv = Wikifier.getValue(varName);
            if (!Inventory.is(inv)) {
                return this.error('variable ' + varName + ' is not an inventory!');
            }
            
            // create output element and add to DOM
            var $wrapper = $(document.createElement('span')), 
                sep = (this.args[1]) ? this.args[1] : false;
            
            $wrapper
                .wiki(inv.show(sep))
                .addClass('macro-' + this.name)
                .appendTo(this.output);
        }
    });

    // <<linkedinventory 'action name' '$var' '(optional) $anotherVar'
    Macro.add('linkedinventory', {
        handler : function () {
            
            if (this.args.length < 2 || this.args.length > 3) {
                return this.error('incorrect number of arguments');
            }
            
            var recInv = false,
                recVarName = '',
                varName = this.args[1].trim(),
                action = (typeof this.args[0] === 'string') ? this.args[0] : false; // the action name, which is required
            
            if (!action) { // just in case
                return this.error('first argument should be the link text');
            }
            
            // check variable string
            if (varName[0] !== '$' && varName[0] !== '_') {
                return this.error('variable name "' + this.args[1] + '" is missing its sigil ($ or _)');
            }
            
            // use a varID for linked lists
            var varID = Util.slugify(varName); 
            varID = this.name + '-' + varID;
            
            // check if story var is an inventory instance
            var inv = Wikifier.getValue(varName);
            if (!Inventory.is(inv)) {
                return this.error('variable ' + varName + ' is not an inventory!');
            }
            
            if (this.args.length > 2) {
                // the receiving inventory, if applicable
                recVarName = this.args[2].trim();
                // check variable string
                if (recVarName[0] !== '$' && recVarName[0] !== '_') {
                    return this.error('variable name "' + this.args[2] + '" is missing its sigil ($ or _)');
                }
                
                // check if story var is an inventory instance
                recInv = Wikifier.getValue(recVarName);
                if (!Inventory.is(recInv)) {
                    return this.error('variable ' + recVarName + ' is not an inventory!');
                }
            }
            
            // create output and att to DOM
            var $list = inv.linkedList(recInv, action);
            $list
                .attr({ // add data to reconstruct the call via an event
                    id : varID,
                    'data-rec' : recVarName,
                    'data-self' : varName,
                    'data-action' : action
                })
                .addClass('macro-' + this.name)
                .appendTo(this.output);
        }
    });

}());
/* twine-user-script #211: "speech.js" */
(function () {
    // v1.1.1
    'use strict';

    var characters = new Map();

    function addCharacter (name, displayname, icon) {
		if(icon === undefined && displayname){
			icon = displayname;
			displayname = null;
		}
        if (State.length) {
            throw new Error('addCharacter() -> must be called before story starts');
        }
        if (!name || !icon) {
            console.error('addCharacter() -> invalid arguments');
            return;
        }
        if (characters.has(name)) {
            console.error('addCharacter() -> overwriting character "' + name + '"');
        }
        characters.set(name, {displayName: displayname, image: icon});
    }

    function say ($output, character, text, imgSrc) {
        // 
        var $box = $(document.createElement('div'))
            .addClass(Util.slugify(character) + ' say');

			
        // portrait
        var _img = characters.has(character) ? characters.get(character).image : null;        
        var $img = $(document.createElement('img'))
            .attr('src', imgSrc || _img || '');

        if ($img.attr('src') && $img.attr('src').trim()) {
            $box.append($img);
        }

        // name and content boxes
		var _name =  character.toUpperFirst();
		if (characters.has(character) && characters.get(character).displayName) {
            _name = characters.get(character).displayName;
        }

        $box.append($(document.createElement('p'))
            .wiki(_name))
            .append($(document.createElement('p'))
                .wiki(text));

        if ($output) {
            if (!($output instanceof $)) {
                $output = $($output);
            }
            $box.appendTo($output);
        }

        return $box;
    }

    setup.say = say;
    setup.addCharacter = addCharacter;

    Macro.add('character', {
        // character macro
        handler : function () {
            addCharacter(this.args[0], this.args[1], this.args[2]);
        }
    });

    $(document).one(':passagestart', function () {
        // construct array of character names
        var names = Array.from(characters.keys());
        names.push('say');
        // generate macros
        Macro.add(names, {
            tags : null,
            handler : function () {
                if (this.name !== 'say') {
                    say(this.output, this.name, this.payload[0].contents);
                } else {
                    say(this.output, this.args[0], this.payload[0].contents, this.args[1]);
                }
            }
        });
    });
}());
/* twine-user-script #212: "swap-macro-set.js" */
/*
    the following `(function () {...}());` statement creates a local scope for our JavaScript code.
    this is called an IIFE, or "immediately invoked function expression". most langauges have block scoping,
    JS has function scoping. think of this as a way to get block scoping to prevent any of our stuff from
    polluting the global scope.
*/

(function () {

    // v1.1.0

    /*
        in SC, all of your scripts run in-engine are run in strict mode no matter what you do, so the below
        statement is optional. still, it's best to be explicit with what's happening. generally speaking, I
        recommend strict mode all the time; there's some cases where you may want to skip it, but overall it
        makes JavaScript way more consistent and way more likely to tell you about errors instead of doing something
        unexpected.
    */

    'use strict';

    /*
        I usually use an object like the one below to set up user configuration options. because of
        when our script is loaded, we need to set these options here, we can't do something like 
        `Config.swapMacro.normal = 'x'` like SugarCube's configs can, at least not in SC's current version
    */

    var options = {  
        // the colors of the content
        tryGlobal : true,
        resetButton : true, // if false, renders a link (`<a>`) instead of a button
        normal : 'violet',
        selected : 'red',
        cls : 'swappable' // we use 'cls' because 'class' is a reserved word in JavaScript
    };

    setup.swap = setup.swap || {};

    /*
        the `first` variable below is inside what is called a 'closure.' this means the variable is 
        only accessible within this `(function () { ... }());` scope. this variable will hold one of our swap
        elements. if it's set to something when a swap is clicked, it'll do the swap thing
    */

    var $first = null;

    function getCurrent (str) {
        // create a function on the fly
        var g = function () {
            return str;
        };
        setup.swap.current = g;
        if (options.tryGlobal) {
            window.swapCurrent = g;
        }
    }

    function removeCurrent () {
        if (setup.swap.current && typeof setup.swap.current === 'function') {
            delete setup.swap.current;
        }
        if (options.tryGlobal && window.swapCurrent && typeof window.swapCurrent === 'function') {
            delete window.swapCurrent;
        }
    }

    /*
        we're going to have a function and a macro definition. we can put the function
        inside the macro, but I try to avoid doing that--doing so means that the only way you can
        use this system from inside JavaScript is by the jQuery `wiki()` methods, which are slow.
        by creating the function separately, we build a JavaScript-facing API for authors to use, but
        more on that later.
    */

    function swappable (content /* the word(s) to be swapped */, wiki /* wikicode to run */) {
        /*
            $wrapper is a jQuery object; we add the $ at the start to denote this,
            the $ has nothing to do with story variables, so don't let that confuse you
        */
        var $wrapper = $(document.createElement('span'));
        // a wrapper is just an element to hold the stuff we want.
        var $swappable = $(document.createElement('a'))
            .wiki(content) // this wikifies (parses the `content` into the `a` element)
            .css('color', options.normal) // set our default color
            .attr({
                // these are custom html attributes; they always start with `data-`
                'data-swap-flag' : 'false', // set our custom attribute to the string false
                // normally you wouldn't use a string, but html converts everything to a string
                'data-orig-content' : content, // this is the original content so we can reset it
                'data-wiki-code' : wiki || ''
            }) 
            .addClass(options.cls) // this adds out class
            .appendTo($wrapper); // this adds the `a` element to our wrapper

        /*
            we're going to add our event handlers now. we could chain these above, but this is simpler to comment
            we use SC's `ariaClick()` method instead of `on('click', ...)` or `click(...)` because it is designed
            for accessibility from the ground up.
        */

        $swappable.ariaClick( function (ev /* this is the event object */) {
            ev.preventDefault(); // this stops any default browser behavior from happening
            // we cache a reference to $(this); the jQuery-wrapped `this`, since we'll use it a lot
            var $this = $(this); // the `this` keyword in an event handler is the element the handler was attached to

            // let's check the swapped state
            // we check this first because swapping an element with itself is possible, but a waste of resources
            if ($this.attr('data-swap-flag') === 'true') {
                // if the attribute swap flag is already set, we should toggle it
                $this
                    .attr('data-swap-flag', 'false')
                    .css('color', options.normal);
                // reset the first clicked element, since this one was clicked twice
                $first = null;
            } else {
                // this was clicked and wasn't clicked twice, so let's see if there's already an element in `first`
                if (!$first) {
                    // null is false-y and jQuery objects are truthy. this block is run if nothing was captured by `first` yet
                    $first = $this; // we pass a reference to *this* element to first
                    // then we set the element to appear selected
                    $this
                        .attr('data-swap-flag', 'true')
                        .css('color', options.selected);
                } else {
                    // another element was already selected. there's a few things we need to do here.
                    var firstContent = $first.text();
                    var secondContent = $this.text();

                    // cache the wikifier code
                    var firstWiki = $first.attr('data-wiki-code');
                    var secondWiki = $this.attr('data-wiki-code');

                    $first
                        // reset the flag and color
                        .attr('data-swap-flag', 'false')
                        .css('color', options.normal)
                        // empty and replace the content
                        .empty()
                        .wiki(secondContent);
                    $this // do the same with $this
                        .attr('data-swap-flag', 'false')
                        .css('color', options.normal)
                        .empty()
                        .wiki(firstContent);
                    // reset $first!

                    // run the wikifier code for both, if they exist
                    if (firstWiki && typeof firstWiki === 'string' && firstWiki.trim()) {
                        getCurrent(secondContent);
                        $.wiki(firstWiki);
                    }
                    if (secondWiki && typeof secondWiki === 'string' && secondWiki.trim()) {
                        getCurrent(firstContent);
                        $.wiki(secondWiki);
                    }
                    removeCurrent();
                    $first = null;
                }
            }
        });

        // we return the whole html structure
        return $wrapper;

        /*
            the html structure is:

            <span> ($wrapper)
                <a class='swappable' data-swap-flag='false'> ($swappable)
                    [content]
                </a>
            </span>
        */
    }

    function reset () {
        // this function will reset ever swappable element on the page
        $first = null;
        // reset each link
        $('a.' + options.cls).each( function () {
            var $this = $(this);
            $this
                // restore original content
                .empty()
                .wiki($this.attr('data-orig-content'))
                // reset flag and color
                .attr('data-swap-flag', 'false')
                .css('color', options.normal);
        });
    }

    // now lets make a macro

    Macro.add('swap' /* the macro name, so `<<swap>>` */, {
        tags : ['onswap'], // this makes a container macro, eg: `<<macro>>...<</macro>>`
        skipArgs : true, // we aren't using the argument parser, so this saves us performance
        handler : function () {
            // this is the macro's behavior, `this` represents the context and content of the macro
            var content = this.payload[0].contents; // this is the content between <<swap>> and <<onswap>>
            var wikiCode = this.payload[1] ? this.payload[1].contents : ''; // the code between <<onswap>> and <</swap>>
            var output = this.output; // this is the macro's position on the page--it's where the output will go
            var name = this.name; // this is the macro's name (eg: 'swap'); this lets us change the macros name easily rather than hard-coding it

            // now we call our function
            var $wrapper = swappable(content, wikiCode);

            // now we append the generated jQuery element to the output area:
            $wrapper
                .addClass('macro-' + name)
                .appendTo(output);
        }
    });

    // now for a <<swapreset>> macro

    Macro.add('resetswap', { // by skipping the `tags` option altogether, we make a normal macro (eg, no closing tag)
        handler : function () {
            var text = (this.args && this.args[0] && typeof this.args[0] === 'string') ? this.args[0] : 'Reset';
            $(document.createElement(options.resetButton ? 'button' : 'a'))
                .wiki(text)
                .ariaClick({ label : 'Reset all swappable elements.' }, function (ev) {
                    ev.preventDefault();
                    reset();
                })
                .appendTo(this.output);
        }
    });

    // now we send out API functions to setup
    setup.swap.create = swappable;
    setup.swap.reset = reset;
    // now we have a JavaScript API and a set of macros!
}());
/* twine-user-script #213: "type-sim.js" */
(function () {
    'use strict';
    // typesim macro, by chapel; for sugarcube 2
    // version 2.0.0

    function typeSim (content, $target, callback) {
        if (!content || typeof content !== 'string') {
            return;
        }

        if ($target && !($target instanceof $)) {
            $target = $($target);
        }

        var i = 0;
        var arrayify = content.split('');
        var message = [];

        var $textarea = $(document.createElement('textarea'))
            .addClass('type-sim')
            .on('input.type-sim', function () {
                var $self = $(this);
                i = message.push(arrayify[i]);
                $self.val(message.join(''));
                if (content.length === message.length) {
                    $self
                        .off('input.type-sim')
                        .ariaDisabled(true);
                    if (callback && typeof callback === 'function') {
                        callback(message.join(''));
                    }
                    $(document).trigger({ 
                        type : ':type-sim-end',
                        message : message.join('')
                    });
                }
            });

        if ($target && $target[0]) {
            $target.append($textarea);
        }

        return $textarea;
    }

    Macro.add('typesim', {
        tags : null,
        handler : function () {
            if (!this.args.length || !this.args[0] || typeof this.args[0] !== 'string') {
                return this.error('no text to type out was provided');
            }

            var $wrapper = $(document.createElement('span')).addClass('macro' + this.name);
            var $callbackOutput = $(document.createElement('div'));

            var wiki;
            if (this.payload[0].contents && this.payload[0].contents.trim()) {
                wiki = this.payload[0].contents;
            }

            function callback () {
                $callbackOutput.wiki(wiki);
            }

            typeSim(this.args[0], $wrapper, callback);

            $wrapper
                .append($callbackOutput)
                .appendTo($(this.output));
        }
    });

})();
/* twine-user-script #214: "ui-macro.js" */
(function () {
    // ui macro, for SugarCube 2, by Chapel, v1.0.0
    
    var ui = {
        update : UIBar.setStoryElements,
        stow : UIBar.stow,
        unstow :  UIBar.unstow,
        toggle : function () {
            if ($('#ui-bar').hasClass('stowed')) {
                UIBar.unstow();
            } else {
                UIBar.stow();
            }
        },
        hide : function () {
            $('#ui-bar').css('display', 'none');
        },
        show : function () {
            $('#ui-bar').css('display', 'block');
        },
        kill : function () {
            $('#ui-bar').css('display', 'none');
            $('#story').css('margin-left', '2.5em');
        },
        restore : function () {
            $('#ui-bar').css('display', 'block');
            $('#story').css('margin-left', '20em');
        },
        jump : UI.jumpto,
        saves : UI.saves,
        restart : UI.restart,
        settings : UI.settings,
        share : UI.share,
        aliases : {
            refresh : 'update',
            reload : 'update',
            destroy : 'kill',
            revive : 'restore',
            jumpto : 'jump',
            save : 'saves',
            load : 'saves',
            setting : 'settings',
            sharing : 'share'
        },
    };

    var validCommands = Object.keys(ui);

    function isValid (command) {
        return validCommands.includes(command);
    }

    function alias (command) {
        return ui.aliases[command] || null;
    }

    function runCommand (command) {
        if (!command || typeof command !== 'string') {
            return 'Command is not a string.'; // error
        }
        command = command.toLowerCase().trim();
        if (!isValid(command)) {
            command = alias(command);
            if (!command) {
                return 'Command "' + command + '" is not a valid command.'; // error
            }
        }
        ui[command]();
        return false;
    }

    function processCommandList (arr) {
        if (!Array.isArray(arr)) {
            return 'Command list error.';
        }
        var check = [];
        arr.forEach( function (cmd) {
            check.push(runCommand(cmd));
        });
        return check;
    }

    Macro.add('ui', {
        handler : function () {

            if (!Array.isArray(this.args) || !this.args.length) {
                this.error('No commands passed to macro.');
            }

            var cmdList = this.args.flatten();

            var ret = processCommandList(cmdList);

            var errors = '';

            ret = ret.filter( function (result) {
                return typeof result === 'string';
            });

            errors = ret.join(' ');

            if (ret.length && errors) {
                this.error(errors);
            }

        }
    });

}());
/* twine-user-script #215: "AbilityHelper.js" */
/* Declare globals for Eslint */
/* global setup, State */
setup.getAbilityId = function(index)
{
    return displayString.join("\n");
};

setup.hasFightMove = function(character, fightMoveID)
{
    var fightMoves = setup.getFightMovesWithAddons(character);

    for(let i = 0; i < fightMoves.length; i++)
    {
        if(fightMoves[i] == fightMoveID)
        {
            return true;
        }
    }

    return false;
}

setup.levelUp = function(character, levelUpParams)
{
    if(State.variables.Level == 3)
    {
        character.fight.fightMoveIDs.push("FightMove_FirstStrike");
    }

    State.variables.Level++;

    setup.setBaseStatValue(character, "hp", levelUpParams.hp.value);
    setup.setBaseStatValue(character, "stamina", levelUpParams.stamina.value);
    setup.setBaseStatValue(character, "strength", levelUpParams.strength.value);
    setup.setBaseStatValue(character, "arousalGain", levelUpParams.arousalGain.value);
    character.info.limitBreaks.points = levelUpParams.limitBreaks.value;

    var abilityChoiceIndex = $('input[name=select]:checked').val();

    if(abilityChoiceIndex != undefined)
    {
        setup.AbiHndlr.addAbility(character, setup.UnlockableAbilityList[abilityChoiceIndex]);
    }

    var params =
    {
        trigger: setup.AbilityTrigger.ON_LEVEL_UP,
        self: character,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, params);
};

setup.getDemonicTFPassage = function(character)
{
    switch (State.variables.CharacterSheet_Ethrex.quest.progress)
    {
        case setup.EthraxProgress.INITIAL:
        default:
            return "Transformation_Incubus_Level1_1";
        case setup.EthraxProgress.MINOR_DEMON:
            return "Transformation_Incubus_Level2_1";
        case setup.EthraxProgress.MAJOR_DEMON:
            return "Transformation_Incubus_Level3_1";
        case setup.EthraxProgress.LORD_OF_LUST:
            return undefined;
    }
};

setup.displaySeedMoveIntro = function(character, target, color)
{
    var displayString = " ";
    let p= setup.PRONOUN.get(character);
    let cockLen = setup.getLength(setup.getStatValue(character, "cock"));
    let cockDesc = setup.DESC.getLimbDesc(character, 'cocks');

    displayString += `${character.info.name} feels an urge building within ${p['OBJ']} as ${p['POSS']} balls suddenly expand.\n`;
    displayString += `A thundering roar emerges from ${p['OBJ']} as an orgasm overtakes ${p['POSS']} body!\n`;
    displayString += `Thick loads of ${color} cum shoots out from ${p['POSS']} ${cockLen} ${cockDesc};`;
    displayString += ` ${target.info.name} is inevitably hit by some of it.\n`;
    return displayString;
}

setup.getDemonicTFCost = function(character)
{

    switch (State.variables.CharacterSheet_Ethrex.quest.progress)
    {
        case setup.EthraxProgress.INITIAL:
        default:
            return 200;
        case setup.EthraxProgress.MINOR_DEMON:
            return 500;
        case setup.EthraxProgress.MAJOR_DEMON:
            return 1000;
        case setup.EthraxProgress.LORD_OF_LUST:
            return undefined;
    }
};

setup.getNyxChosenCocoonSize = function()
{
    if(State.variables.WorldState.apothusChosen.essenceLevel == 0)
    {
        return setup.getLength(620);
    }
    else if(State.variables.WorldState.apothusChosen.essenceLevel == 1)
    {
        return setup.getLength(2500);
    }
    else if(State.variables.WorldState.apothusChosen.essenceLevel == 2)
    {
        return setup.getLength(6000);
    }
    else if(State.variables.WorldState.apothusChosen.essenceLevel == 3)
    {
        return setup.getLength(16896);
    }
    return 9999999;
}

setup.getNyxChosenFeedEssenceCost = function()
{
    if(State.variables.WorldState.apothusChosen.essenceLevel == 0)
    {
        return 1500;
    }
    else if(State.variables.WorldState.apothusChosen.essenceLevel == 1)
    {
        return 3000;
    }
    else if(State.variables.WorldState.apothusChosen.essenceLevel == 2)
    {
        return 5000;
    }
    return 9999999;
};

setup.displayStatsUp = function(character, levelUpParams)
{
    var displayString = "";
    var statGain = setup.LevelUpStatGainTable[State.variables.Level % 6];

    for(var propertyName in statGain)
    {
        levelUpParams[propertyName].value += statGain[propertyName];
        displayString += "You gained " + statGain[propertyName] + " " + levelUpParams[propertyName].name + "\n";
    }

    if(State.variables.Level == 3)
    {
        displayString += "You learned the 'First Strike' attack.\n";
        setup.flagHighlightChoice("newCardAvail");
    }

    if(State.variables.Level == 6)
    {
        displayString += "You learned the 'Enraged Pummel' attack.\n";
        setup.flagHighlightChoice("newCardAvail");
    }

    if(statGain.limitBreaks && statGain.limitBreaks > 0)
    {
        setup.flagHighlightChoice("limitBreakAvail");
    }
    // Check for overgrowth
    if (Math.floor(setup.getOvergrowthToEssence()) > 0)
    {
        setup.flagHighlightChoice("overgrowthAvail");
    }

    return displayString;
};

setup.setFightSkillCardBackgroundStyle = function(elementId, fightSkill)
{
    var card = document.getElementById(elementId);

    card.style.backgroundImage = setup.getFightSkillCardBackgroundStyleContent(State.variables.CharacterSheet_Player, setup[fightSkill]);
    console.log("backgroundImage")
    console.log(card.style.backgroundImage)
}

setup.printChangeFightSkillList = function()
{
    var displayString = "";

    displayString += State.variables.FightMovesLeft + ' moves left to choose.\n';

    for(let i = 0; i < State.variables.ComboableMovesInfo.length; i++)
    {
        displayString += "<div class='FullCard'>";
        if(State.variables.FightMovesLeft <= 0 && (State.variables.ComboableMovesInfo[i].chosen == undefined || State.variables.ComboableMovesInfo[i].chosen == false))
        {
            displayString += "<span class='reallyInactive'>";
        }

        var pickedClass = "";
        if(State.variables.ComboableMovesInfo[i].chosen == true)
        {
            displayString += '<div class="FightSkillCardHighlight selected">';
        }
        else
        {
            displayString += '<div class="FightSkillCardHighlight">';
        }

        let params = 'class="FightSkillCard moveset" style="'+setup.getFightSkillCardBackgroundStyle(State.variables.CharacterSheet_Player, undefined, setup[State.variables.ComboableMovesInfo[i].id])+'"';
        displayString += '<div '+params+'>';
        displayString += '<<link "'+setup.getSkillDisplayString(State.variables.CharacterSheet_Player, undefined, setup[State.variables.ComboableMovesInfo[i].id], undefined)+'">>';
        displayString += '<<replace "#ChangeFightSkillList">>';

        if(State.variables.ComboableMovesInfo[i].chosen == true)
        {
            displayString += '<<set $FightMovesLeft++>>';
            displayString += '<<set $ComboableMovesInfo['+i+'].chosen = false>>';
        }
        else
        {
            displayString += '<<set $FightMovesLeft-->>';
            displayString += '<<set $ComboableMovesInfo['+i+'].chosen = true>>';
        }
        displayString += '<<print setup.printChangeFightSkillList()>>';

        displayString += '<</replace>>';
        displayString += '<</link>>';
        displayString += '</div>';
        displayString += '</div>';

        if(State.variables.FightMovesLeft <= 0 && (State.variables.ComboableMovesInfo[i].chosen == undefined || State.variables.ComboableMovesInfo[i].chosen == false))
        {
            displayString += '</span>';
        }

        displayString += '</div>';
    }

    displayString += "\n\n";
    displayString += "<div class='MovesetButton'>";
    displayString += "[[Cancel->Village][[setup.resetComboableFightMoveList()]]]";
    displayString += "\n";

    if(State.variables.FightMovesLeft <= 0)
    {
        displayString += "[[Apply->Village][setup.applyComboableFightMoveList(); setup.resetComboableFightMoveList()]]";
    }
    else
    {
        displayString += "<span class='inactive'>[[Apply->Village]]</span>";
    }

    displayString += "</div>";

    return displayString;
}

setup.resetComboableFightMoveList = function()
{
    var movelist = setup.getFightMovesWithAddons(State.variables.CharacterSheet_Player);

    State.variables.ComboableMovesInfo = undefined;
}

setup.applyComboableFightMoveList = function()
{
    var movelistIDs = setup.getFightMovesWithAddons(State.variables.CharacterSheet_Player);

    console.log("applyComboableFightMoveList")
    console.log(movelistIDs)

    State.variables.EquippedFightMoveIDs= [];

    State.variables.ComboableMovesInfo = State.variables.ComboableMovesInfo.filter(function(val) {
        return val.chosen == true;
    });

    console.log(State.variables.ComboableMovesInfo)

    for(let i = 0; i < movelistIDs.length; ++i)
    {
        for(let j = 0; j < State.variables.ComboableMovesInfo.length; ++j)
        {
            if(movelistIDs[i] == State.variables.ComboableMovesInfo[j].id)
            {
                State.variables.EquippedFightMoveIDs.push(movelistIDs[i]);
            }
        }
    }

    console.log(State.variables.EquippedFightMoveIDs)

    State.variables.ComboableMovesInfo = undefined;
}

setup.displayChangeFightMoves = function()
{
    var displayString = "";
    var movelistIDs = setup.getFightMovesWithAddons(State.variables.CharacterSheet_Player);

    movelistIDs = movelistIDs.filter(function(val) {
        console.log("1")
        console.log(setup[val])
        if(setup[val].comboCost != undefined && setup[val].unique == undefined && setup[val].skillType != "special")
        {
            return true;
        }
        return false;
    });

    State.variables.ComboableMovesInfo = [];
    for(let i = 0; i < movelistIDs.length; ++i)
    {
        State.variables.ComboableMovesInfo.push(
            {
                id: movelistIDs[i],
                chosen: false,
            }
        )
    }


    displayString += '<span id="ChangeFightSkillList">';
    displayString += setup.printChangeFightSkillList();
    displayString += '</span>';

    return displayString;
};

setup.canRemoveAbilityPoint = function(propertyName, value)
{
    if(State.variables.CharacterSheet_Player.fight[propertyName] != undefined)
    {
        if(State.variables.CharacterSheet_Player.fight[propertyName] >= value)
        {
            return false;
        }

    }

    return true;
};

setup.displayAbilitiesUp = function(character)
{
    var displayString = "<section>";

    for(var propertyName in setup.AbilityCategory)
    {
        var categoryString = setup.getAbilityCategoryDescription(character, setup.AbilityCategory[propertyName]);
        if(categoryString != "")
        {
            displayString += setup.getAbilityCategory(setup.AbilityCategory[propertyName]);
            displayString += categoryString;
            displayString += "</div>"
        }
    }

    displayString += "</section>"
    return displayString;
};

setup.getAbilityByIndex = function(index)
{
    let abilityData = setup[setup.AbilityIDCache[index]];
    if (!abilityData)
    {
        setup.logErr(`Could not find index {index}!`);
    }
    return abilityData;
}

setup.getAbilityCategoryDescription = function(character, category)
{
    var i;
    var j;
    var displayString = "";
    for(var gradeProperty in setup.AbilityGrade)
    {
        for(i = 0; i < setup.UnlockableAbilityList.length; i++)
        {
            if(category != setup.UnlockableAbilityList[i].category)
            {
                continue;
            }

            if(setup.AbilityGrade[gradeProperty] != setup.UnlockableAbilityList[i].grade)
            {
                continue;
            }

            console.log("checking "+ setup.UnlockableAbilityList[i].id)
            let unlocked = false;
            let abilityRuntimeData = character.abilityRuntimeDatas.find(abi => abi.id == setup.UnlockableAbilityList[i].id)
            // Check if we have the data already, or if we have its upgrade
            if (!abilityRuntimeData)
            {
                abilityRuntimeData = setup.AbiHndlr.getAbilityUpgradeData(character, setup.UnlockableAbilityList[i].id);
            }

            if (abilityRuntimeData)
            {
                console.log("checking present"+ setup.UnlockableAbilityList[i].id)
                unlocked = true;
                let abilityData = setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex);
                // If we do, can we rank it?
                if(setup.canRank(abilityRuntimeData))
                {
                    if (setup.passesRankCond(abilityRuntimeData, character))
                    {
                        console.log("has rank con")
                        displayString += setup.createRadioButton(i, abilityRuntimeData, abilityData, character);
                    }
                    else
                    {
                        let info = abilityData.name + " " + "[Conditions Not Met]" +" :\n";
                        info += " [" + abilityRuntimeData.rank + "/" + abilityData.maxRank + "]" + " → " + " [" + (abilityRuntimeData.rank + 1) + "/" + abilityData.maxRank + "]\n";
                        info += "<p style='opacity:.35'>" + abilityData.description(character, undefined) + '</p>';
                        info += "<p style='color:#9e21218c;'>" + abilityData.rankDescription(abilityRuntimeData, character) + '</p>';
                        displayString += '<div class="AbilityLevelUpCard '+setup.getAbilityGradeClass(abilityData)+'"><span class="inactive">' + info + '</span></div>';
                    }
                }
                // Or at least upgrade it?
                else if (abilityData.nextAbilityID != undefined)
                {
                    if (abilityData.upgradeConditionFunction(abilityRuntimeData, character))
                    {
                        console.log("has upgrade con")
                        displayString += setup.createRadioButton(i, abilityRuntimeData, abilityData, character);
                    }
                    else
                    {
                        let nextAbility = setup[abilityData.nextAbilityID];

                        let info = nextAbility.name + " " + "[Conditions Not Met]" +" :\n";
                        info += "<p style='opacity:.35'>" + nextAbility.description(character, undefined) + '</p>';
                        info += "<p style='color:#9e21218c;'>" + abilityData.upgradeDescription(abilityRuntimeData, character) + '</p>';
                        displayString += '<div class="AbilityLevelUpCard '+setup.getAbilityGradeClass(nextAbility)+'"><span class="inactive">' + info + '</span></div>';
                    }
                }
            }
            // If we don't have it, do we have its upgrade (Which means that it was already unlocked?)
            else if (setup.AbiHndlr.checkAbilityUpgradeDataExists(character, setup.UnlockableAbilityList[i].id))
            {
                console.log("upgrade exists")
                unlocked = true;
            }

            // If it's not unlocked, and *can* be unlocked, let's display it.
            if(!unlocked && (setup.UnlockableAbilityList[i].unlockCondition(character)))
            {
                console.log("has unlock con")
                displayString += setup.createRadioButton(i, undefined, setup.UnlockableAbilityList[i], character);
            }
        }
    }

    return displayString;
}

setup.passesRankCond = function(abilityRuntimeData, character)
{
    let ability = setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex);
    if (!ability.rankConditionFunction || ability.rankConditionFunction(abilityRuntimeData, character))
    {
        return true;
    }
    return false;
}

setup.canRank = function(abilityRuntimeData)
{
    let ability = setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex);

    if(abilityRuntimeData.rank < ability.maxRank){
        return true;
    }else{
        return false;
    }
}

setup.addRank = function(abilityRuntimeData)
{
    if(setup.canRank(abilityRuntimeData)){
        abilityRuntimeData.rank += 1
        abilityRuntimeData.seen = false;
    }
}

setup.setRank = function(abilityRuntimeData, rank)
{
    if(setup.canRank(abilityRuntimeData)){
        abilityRuntimeData.rank = rank;
        abilityRuntimeData.seen = false;
    }
}

setup.getRankGrowth = function(newAbilityRuntimeData, growthType, growthFactor)
{
    let rank = (newAbilityRuntimeData) ? newAbilityRuntimeData.rank : 1;
    switch(growthType){
        case "constant": // c
            return growthFactor;
        case "linear":  // rank * C
            return rank * growthFactor;
        case "pow": // rank ^ C
            return Math.pow(growthFactor, rank);
        case "exp": // C ^ rank
            return Math.pow(growthFactor, rank);
        case "log":
            if (rank < 1 || growthFactor <= 1)
            {
                return 0;
            }
            else
            {
                return Math.log(rank) / Math.log(growthFactor);
            }
    }
}

setup.getUnseenAbilitiesAmount = function(filter)
{
    let displayString = "";
    var abilities = State.variables.CharacterSheet_Player.abilityRuntimeDatas;
    let count = 0;
    let hasUnseen = false;

	for(var i = 0; i < abilities.length; i++)
	{
        if(abilities[i].isActive == false)
            continue;

        var abilityData = setup.getAbilityByIndex(abilities[i].abilityDataIndex);

        if(abilityData.filter != filter)
            continue;

        count++;

        if(abilities[i].seen == false)
        {
            hasUnseen = true;
        }
	}

    displayString += "<div class='AbilityNotification'>"+count+"</div>"

    if(hasUnseen == true)
    {
        displayString += "<div class='AbilityNotificationBlip'></div>"
    }

    return displayString;
}

setup.getAbilityCategory = function(category)
{
    var displayString = '<div class="levelUpCardCategory">';
    displayString += setup.getAbilityCategoryDisplayName(category);

    return displayString;
}

setup.getAbilityCategoryDisplayName = function(category)
{
    var categories = setup.AbilityCategory;

    var displayString = "<h2>";

    switch(category)
    {
        case categories.NONE:
            displayString += "";
            break;
        case categories.WARRIOR:
            displayString += "Ways of the Salvager";
            break;
        case categories.GROWTH:
            displayString += "Powers of Growth";
            break;
        case categories.FORM:
            displayString += "Empowerments of Form";
            break;
        case categories.SOMBREVE:
            displayString += "Whispers of Corruption";
            break;
        case categories.PURITY:
            displayString += "Devotion to Purity";
            break;
        case categories.LUST:
            displayString += "Lustful Instincts";
            break;
    }

    displayString += "</h2>";

    return displayString;
}

setup.getAbilityGradeClass = function(abilityData)
{
    var grades = setup.AbilityGrade;
    switch(abilityData.grade)
    {
        case grades.VERYLOW:
            return "AbilityGradeVeryLow";
        case grades.LOW:
            return "AbilityGradeLow";
        case grades.MEDIUM:
            return "AbilityGradeMedium";
        case grades.HIGH:
            return "AbilityGradeHigh";
        case grades.VERYHIGH:
            return "AbilityGradeVeryHigh";
    }
}

setup.createRadioButton = function(radioListIndex, abilityRuntimeData, abilityData, character){
    var displayString = "";
    var upgradeString = "";
    var ability = abilityData;

    if(abilityRuntimeData != undefined)
    {
        if(setup.canRank(abilityRuntimeData))
        {
            upgradeString += " [" + abilityRuntimeData.rank + "/" + ability.maxRank + "]" + " → " + " [" + (abilityRuntimeData.rank + 1) + "/" + ability.maxRank + "]"
        }
        else
        {
            ability = setup[ability.nextAbilityID];

            if (ability.upgradeConditionFunction(abilityRuntimeData, character))
            {
                upgradeString += " [Upgradable]";
            }
        }
    }

    //stupid ass hack
    var levelUpRuntimeData = clone(abilityRuntimeData);
    if(levelUpRuntimeData != undefined)
    {
        if(setup.canRank(abilityRuntimeData)){
            levelUpRuntimeData.rank++;
        }

        //reset rank if upgrade
        if(levelUpRuntimeData.id != ability.id)
        {
            levelUpRuntimeData.rank = 1;
        }
    }

    displayString += "<div class='AbilityLevelUpCard "+setup.getAbilityGradeClass(ability)+"'>";

    displayString += '<input type="radio" class="AbilityLevelUpCardRadio" id="control_'+radioListIndex+'" name="select" value="'+radioListIndex+'" checked>';
    displayString += '<label class="abilityLabel" for="control_'+radioListIndex+'">';
	displayString += "<div class='AbilityLevelUpCardHeader'>" + ability.name + " " + upgradeString + "</div>";
	displayString += 	"<div class='AbilityLevelUpCardDescription' >";
	displayString +=        "<div class='AchievementAbilityBodyRow'>";
	displayString +=            ability.description(character, levelUpRuntimeData);
	displayString +=        "</div>";
	displayString +=    "</div>";
    displayString += '</label>';
	displayString += "</div>";

    return displayString;
}

setup.applyCurseOfTheNaga = function()
{
    if(!setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, State.variables.CharacterSheet_Player, "Ability_CurseOfTheNaga"))
    {
        let musclesDrain = Math.ceil(setup.getStatValue(State.variables.CharacterSheet_Player, "muscles") * 0.2);

        let height = setup.getStatValue(State.variables.CharacterSheet_Player, "height") - Math.min(68, setup.getStatValue(State.variables.CharacterSheet_Player, "height"));
        let heightDrain = Math.ceil(height * 0.2);

        let cock = setup.getStatValue(State.variables.CharacterSheet_Player, "cock") - Math.min(6, setup.getStatValue(State.variables.CharacterSheet_Player, "cock"));
        let cockDrain = Math.ceil(cock * 0.2);

        let balls = setup.getStatValue(State.variables.CharacterSheet_Player, "balls") - Math.min(2, setup.getStatValue(State.variables.CharacterSheet_Player, "balls"));
        let ballsDrain = Math.ceil(balls * 0.2);

        if(musclesDrain <= 0 || heightDrain <= 0 || cockDrain <= 0 || ballsDrain <= 0)
        {
            return "TooSmall";
        }

        State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.muscles = musclesDrain;
        State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.height = heightDrain;
        State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.cock = cockDrain;
        State.variables.CharacterSheet_Player.quest.curseOfTheNagaStatDrain.balls = ballsDrain;

        setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, setup.Ability.CurseOfTheNaga);
        setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Lost_Naga, setup.Ability.StolenMass);

        return "Cursed";
    }

    return "AlreadyCursed";
}

setup.removeCurseOfTheNaga = function()
{
    setup.AbiHndlr.removeAbilityRuntimeData(State.variables.CharacterSheet_Player, setup.Ability.CurseOfTheNaga);
    return setup.AbiHndlr.removeAbilityRuntimeData(State.variables.CharacterSheet_Lost_Naga, setup.Ability.StolenMass);
}
/* twine-user-script #216: "Carousel.js" */
setup.setCarousel = function() {
    const screen = getComputedStyle(document.body)
      .getPropertyValue('--media')
      .replace(/\W/g, '');
    const carousel = document.querySelector('#movesContainer');
    console.log(carousel);
    const cards = Array.from(document.querySelectorAll('.FullCard'));
  
    // If the screen is desktop, don't set up the carousel and remove carousel classes if they exist
    if (screen === 'desktop') {
      setup.removeCarousel();
      // cards.style.transform = null;
      return;
    } else {
      
      updateCardScales(carousel, cards);
  
      setTimeout(() => {
        updateCardScales(carousel, cards);
      }, 100);
  
      carousel.addEventListener('scroll', () => {
        updateCardScales(carousel, cards);
      });
    }
  };
  
  function updateCardScales(carousel, cards) {
    console.log('Updating Carousel');
    carousel.classList.add('carousel-active');
    const center = window.innerWidth / 2;
    cards.forEach(card => {
        const distance = Math.abs(center - card.getBoundingClientRect().left - card.offsetWidth / 2);
        const scale = 1 - Math.min(distance / center, 1) * 0.6;
      card.classList.toggle('centered', scale === 1);
      card.classList.toggle('scaled', scale < 1 && scale >= 0.6);
      card.classList.toggle('scaled-more', scale < 0.5);
      card.style.transform = `scale(${scale})`;
    });
  }
  
  setup.removeCarousel = function() {
    const carousel = document.querySelector('.ComboFightMovesContainer');
    carousel.removeEventListener('scroll', updateCardScales);
  }
/* twine-user-script #217: "FightHelper.js" */
setup.getEncounterList = function(location, filterUnknown=false)
{
    var encounterList =  setup.CharacterList.filter( id => {
        var character = State.variables[id];
        if (filterUnknown && character.info.known != setup.EncounterKnownState.KNOWN)
        {
            return false;
        }
        if (character.info.location)
        {
            if (Array.isArray(character.info.location))
            {
                return character.info.location.contains(location);
            }
            else
            {
                return (character.info.location == setup.LOCATIONS.ANY ||
                    character.info.location == location);
            }
        }
        return false;
    })
    return encounterList;
}


setup.getEncounterAmount = function()
{
	return State.variables.NorthRandomEncounters.length + State.variables.EastRandomEncounters.length
}

setup.aiFightStart = function()
{
    if(State.variables.Encounter_Target.id == State.variables.CharacterSheet_Player.fight.teammate)
    {
        State.variables.CachedTeammate = State.variables.CharacterSheet_Player.fight.teammate;
        State.variables.CharacterSheet_Player.fight.teammate = undefined;
    }

	if(State.variables.Encounter_Target.fight.aiFightStart)
	{
		State.variables.Encounter_Target.fight.aiFightStart()
	}
};

setup.broadcastFightFlowTrigger = function(player, enemy, trigger)
{
    var displayString = "";
    var params =
    {
        trigger: trigger,
        self: player,
        target: enemy,
    }
    displayString += setup.AbiHndlr.broadcastAbilityTrigger(player, params);

    let teammate = player.fight.teammate;

    if(teammate != undefined)
    {
        var params =
        {
            trigger: trigger,
            self: State.variables[teammate],
            target: enemy,
        }
        displayString += setup.AbiHndlr.broadcastAbilityTrigger(State.variables[teammate], params);
    }

    params =
    {
        trigger: trigger,
        self: enemy,
        target: player,
    }
    displayString += setup.AbiHndlr.broadcastAbilityTrigger(enemy, params);

    return displayString;
}

setup.displayTooltipedString = function(exterior, interior)
{
    var displayString = "";
    displayString += "<span class='tooltip'>"
    displayString +=  exterior;

    displayString += "<span class='tooltipContainer'>";
    displayString += "<span class='tooltiptext'>";
    displayString += interior;
    displayString += "</span>";
    displayString += "</span>";

    displayString += "</span>";

    return displayString;
}

setup.getSkillDisplayString = function(character, target, fightMove, fightHotkey, useDoubleBackslashLinebreak = true)
{
	var displayString = "";
    var allowedLines = 8;

    var linebreak = "\\n";

    if(useDoubleBackslashLinebreak == false)
    {
        linebreak = "\n";
    }

    if(fightMove.comboValue != undefined)
    {
        displayString += "<div class='"+setup.getCorruptionUIClassName("comboValue", setup.getStatValue(character, "corruption"))+"'>";
        displayString += setup.displayTooltipedString(fightMove.comboValue != 0 ? fightMove.comboValue : "*", "Link Value<br>(Can only combo with moves that have an adjacent Link Value)");
        displayString += "</div>";
    }

    displayString += "<div id='FightSkillHeader' class='"+fightMove.skillType+"'>"

	/*if(fightMove.staminaCost != 0)
	{
        displayString += "<div class='"+setup.getCorruptionUIClassName("FightSkillCardStaminaCost", setup.getStatValue(character, "corruption"))+"'>"
        displayString += setup.displayTooltipedString(fightMove.staminaCost, "Stamina Cost");
        displayString += "</div>";
	}*/

    displayString += "<div class='FightSkillHeaderStatIconRow'>"
	if(fightMove.critMod != 100)
	{
		displayString += setup.displayChanceToHit(character, fightMove);
	}

    if(setup.getAttackDamage(character, target, fightMove) >= 0)
	{
		displayString += setup.getAttackDamageDisplay(character, target, fightMove);
	}

	/*if(fightMove.cooldown)
	{
        displayString += "<div class='"+setup.getCorruptionUIClassName("FightSkillCardCooldown", setup.getStatValue(character, "corruption"))+"'>"
        displayString += setup.displayTooltipedString(fightMove.cooldown, "Cooldown");
        displayString += "</div>";
	}

	if(fightMove.maxStack)
	{
        displayString += "<div class='"+setup.getCorruptionUIClassName("FightSkillCardStackCount", setup.getStatValue(character, "corruption"))+"'>"
        displayString += setup.displayTooltipedString(fightMove.maxStack, "Maximum Stack Count");
        displayString += "</div>";
    }*/

    displayString += "</div>";
    displayString += "</div>";

    displayString += "<div class='comboMoveName'>";
    /*if(fightHotkey != undefined)
    {
        displayString += fightHotkey +". ";
    }*/

    displayString += fightMove.name;
    displayString += "</div>";

    displayString += "<p id='FightSkillBody'>";

    //remove allowed lines mechanic
	if(fightMove.skillStatsToDescriptionSpacing)
	{
		allowedLines -= fightMove.skillStatsToDescriptionSpacing;
	}
	else
	{
		//assume one line for flavour text by default
		allowedLines--;
	}

	displayString += fightMove.skillDescription;
    displayString += "</p>";

    console.log("2")
    console.log(fightMove)
    if(fightMove.comboCost != undefined)
	{
        let costMultiplier = setup.getProwessCostMultiplier(character);

        displayString += "<div class='FightSkillActionCosts'>"

        displayString += "<span class='tooltip'>"
        displayString += "<span class='tooltipContainer'>";

        displayString +=    "<div class='FightSkillActionCostsNumber'>"
        displayString +=    (fightMove.comboCost * costMultiplier).toFixed(1).replace(/\.00$/, '')
        displayString +=    "</div>";
        displayString +=    "&nbsp;&nbsp; Actions";

        displayString +=    "<span class='tooltiptext'>";
        displayString +=        "Action Cost<br>(Determines how much time this move takes to execute)<br>";
        displayString +=        "Prowess reduces cost by " + ((1-costMultiplier)*100).toFixed(1).replace(/\.00$/, '') + "% ";
        displayString +=    "</span>";
        displayString += "</span>";

        displayString += "</span>";

        displayString += "</div>";
	}

	return displayString;
};

setup.getProwessCostMultiplier = function(character)
{
	return Math.max(0.3, 1 - (setup.getMaxStamina(character) / 1000)) ;
};

setup.getAttackChanceToHit = function(character, fightMove)
{
	return setup.getCritChance(character) + fightMove.critMod;
};

setup.getAttackDamage = function(character, target, fightMove)
{
	var strength = setup.getStatValue(character, "strength");
	if(fightMove.dmg)
	{
        let param = fightMove.dmg(character, target);
		return Math.floor(param.multiplier * strength / 5) + param.addon;
	}

	return 0;
};

setup.getAttackDamageDisplay = function(character, target, fightMove)
{
	var displayString = "";

	if(fightMove.dmg)
	{
        let param = fightMove.dmg(character, target)
        let damage = setup.getAttackDamage(character, target, fightMove);

        console.log("asdasdasddsasdasdsadasddas")
        console.log(damage)
        if(damage > 0)
        {
            displayString += "<div class='"+setup.getCorruptionUIClassName("FightSkillCardAttackDamage", setup.getStatValue(character, "corruption"))+"'>"

            var strength = setup.getStatValue(character, "strength");

            displayString += " <span class='tooltip' id=";
            if(damage < Math.floor(param.multiplier * strength / 5))
            {
                displayString += "'StatModifierNegative'";
            }
            else
            {
                displayString += "'StatModifierPositive'";
            }

            displayString += ">"+ damage;
            displayString += "<span class='tooltipContainer'>";
            displayString += "<span class='tooltiptext'>";
            displayString += "Damage Value<br><br>";
            displayString += "Modifiers:<br>";


            var damageMod = {mod: setup.mod.ADD, value: Math.floor(strength / 5)};
            displayString += setup.displayModifierText(damageMod, "Strength Stat ");
            displayString += "<br>";

            if(param.multiplier != 0 && param.multiplier != 1)
            {
                var multiplierMod = {mod: setup.mod.MULTIPLYPOS, value: param.multiplier};
                displayString += setup.displayModifierText(multiplierMod, "Multiplier ");
                displayString += "<br>";
            }

            var addonMod = {mod: setup.mod.ADD, value: param.addon};
            displayString += setup.displayModifierText(addonMod, "Bonus Damage ");

            displayString += "</span>";
            displayString += "</span>";
            displayString += "</span>";

            displayString += "</div>"
        }
    }

	return displayString;
};

setup.applyCooldown = function(character, target, fightMove)
{
	var cooldown =
	{
		skillID: fightMove.id,
		value: fightMove.cooldown,
	}

	character.fight.variables.cooldowns.push(cooldown);
}

setup.updateCooldowns = function(character, target)
{
	character.fight.variables.cooldowns = character.fight.variables.cooldowns.filter(function(val)
	{
		val.value --;
		if(val.value <= 0)
		{
			return false;
		}
	  	return true;
	});
}

setup.preAttacksUpdate = function(character, target)
{
    State.variables.FightTurn++;

    if(setup.isStunned(character))
    {
        setup.clearCombo();
    }

    var params =
    {
        trigger: setup.AbilityTrigger.ON_FIGHT_TURN_START,
        self: character,
        target: target,
    }
    character.fight.variables.currentTurnAbilityText = setup.AbiHndlr.broadcastAbilityTrigger(character, params);

    let teammate = character.fight.teammate;

    if(teammate != undefined)
    {
        params =
        {
            trigger: setup.AbilityTrigger.ON_FIGHT_TURN_START,
            self: State.variables[teammate],
            target: target,
        }
        State.variables[teammate].fight.variables.currentTurnAbilityText = setup.AbiHndlr.broadcastAbilityTrigger(State.variables[teammate], params);
    }

    params =
    {
        trigger: setup.AbilityTrigger.ON_FIGHT_TURN_START,
        self: target,
        target: character,
    }
    target.fight.variables.currentTurnAbilityText = setup.AbiHndlr.broadcastAbilityTrigger(target, params);

	setup.updateCooldowns(character, target);
    if(teammate != undefined)
    {
        setup.updateCooldowns(State.variables[teammate], target);
    }
	setup.updateCooldowns(target, character);

	if(target.fight.preAttacksAIUpdate)
	{
		target.fight.preAttacksAIUpdate();
	}
};

setup.postAttacksAIUpdate = function(character)
{
	if(character.fight.postAttacksAIUpdate)
	{
		character.fight.postAttacksAIUpdate();
	}
};

setup.doComboAttack = function(attackerSheet, victimSheet)
{
    var displayString = "";
    for(let i = 0; i < State.variables.FightComboStackIndexes.length; i++)
    {
        attackerSheet.fight.variables.currentFightMoveOutcome = "";
        let fightSkillIndex = State.variables.FightComboStackIndexes[i];
        attackerSheet.fight.variables.currentFightMove = State.variables.FightSkills[fightSkillIndex];

        displayString += "<div class='AttackAttemptContainer'>";

        if(State.variables.FightSkills[fightSkillIndex].attackAttemptDesc && State.variables.FightSkills[fightSkillIndex].currentStep == State.variables.FightSkills[fightSkillIndex].steps)
        {
            displayString += "<div class='attackAttemptDesc'>";
            displayString += State.variables.FightSkills[fightSkillIndex].attackAttemptDesc(attackerSheet, victimSheet);
            displayString += "</div>";
        }

        displayString += setup.doAttack(attackerSheet, victimSheet);
        displayString += "</div>";
        displayString += "\n\n"
    }

    //attackerSheet.fight.variables.currentStamina -= setup.calculateComboStaminaCost();

    attackerSheet.fight.variables.currentFightMoveOutcome = displayString;
}

setup.displayTurnHeaderText = function(attackerSheet, victimSheet)
{
    var displayString = "";

    displayString += "<div class='turnHeaderText'>";
    displayString += "<h1>"+attackerSheet.info.name+"'s Turn</h1>";
    displayString += "</div>";

    return displayString;
}

setup.cardClicked = function(id, isSpecial)
{
    console.log("cardClicked")
    console.log(id)
    let fightMove;

    if(isSpecial)
    {
        fightMove = setup[id];
    }
    else
    {
        let cardIndex = id.match(/\d+/)[0];
        fightMove = setup[State.variables.FightSkillsHand[cardIndex]];
    }

    // Clean history of recent moves
    $("#combinedReport > .recent").removeClass("recent").addClass("old");

    console.log("post set fightMove")

    if(setup.canTeammateAct(State.variables.CharacterSheet_Player, State.variables.Encounter_Target, setup.AttackTiming.BEFORE_PLAYER) == true)
    {
        setup.doTeammateAttacks();
    }

    setup.applyAttack(State.variables.CharacterSheet_Player, State.variables.Encounter_Target, "playerTimeline", fightMove, setup.playerHistory, false);

    if(setup.canTeammateAct(State.variables.CharacterSheet_Player, State.variables.Encounter_Target, setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY) == true)
    {
        setup.doTeammateAttacks();
    }

    while(setup.targetHistory.chains < setup.playerHistory.chains)
    {
        setup.setNextAIMove(State.variables.Encounter_Target, State.variables.CharacterSheet_Player);
        setup.applyAttack(State.variables.Encounter_Target, State.variables.CharacterSheet_Player, "enemyTimeline", State.variables.Encounter_Target.fight.variables.currentFightMove, setup.targetHistory, false);
    }

    if(setup.canTeammateAct(State.variables.CharacterSheet_Player, State.variables.Encounter_Target, setup.AttackTiming.AFTER_ENEMY) == true)
    {
        setup.doTeammateAttacks();
    }

    console.log("applyAttack done")

    setup.postAttacksAIUpdate(State.variables.Encounter_Target)

    console.log("postAttacksAIUpdate done")
    // Scroll down to the top of the first article element with the .recent class
    setup.scrollToRecentArticle();

    setup.updateFightStatus(State.variables.CharacterSheet_Player, State.variables.Encounter_Target)

    console.log("updateFightStatus done")

    UIBar.update();

    if(State.variables.Encounter_Target != undefined)
    {
        setup.newTurn(State.variables.CharacterSheet_Player, State.variables.Encounter_Target);

        //start next turn
        setup.buildCardsData();

        console.log("buildCardsData done")

        setup.preAttacksUpdate(State.variables.CharacterSheet_Player, State.variables.Encounter_Target)

        console.log("preAttacksUpdate done")
    }
}

// Scroll down to the top of the first article element with the .recent class
setup.scrollToRecentArticle = function()
{
    var firstRecentArticle = document.querySelector('#combinedReport .recent');

    // Ensure that there is at least one recent article before scrolling
    if (firstRecentArticle) {
    firstRecentArticle.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
}


setup.doTeammateAttacks = function()
{
    while(setup.teammateHistory.chains < setup.playerHistory.chains)
    {
        setup.setNextAIMove(State.variables[State.variables.CharacterSheet_Player.fight.teammate], State.variables.Encounter_Target);
        setup.applyAttack(State.variables[State.variables.CharacterSheet_Player.fight.teammate], State.variables.Encounter_Target, "teammateTimeline", State.variables[State.variables.CharacterSheet_Player.fight.teammate].fight.variables.currentFightMove, setup.teammateHistory, true);
    }
}

setup.setNextAIMove = function(attackerSheet, victimSheet)
{
    if(setup.isStunned(attackerSheet))
    {
        if(attackerSheet.fight.variables.hypnotizedMoveIDsList.length > 0)
        {
            attackerSheet.fight.variables.currentFightMove = setup[attackerSheet.fight.variables.hypnotizedMoveIDsList.random()];
        }
        else
        {
            attackerSheet.fight.variables.currentFightMove = setup.FightMove_Stunned;
        }
    }
    else
    {
        setup.aiApplyNextFightMove(attackerSheet, victimSheet);
    }

    console.log("aiApplyNextFightMove")
    console.log(attackerSheet.fight.variables.currentFightMove)
}

setup.applyAttack = function(character, target, timelineClass, move, fullHistory, isTeammate)
{
    character.fight.variables.currentFightMove = move;
    let attempt = "";

    if(move.attackAttemptDesc != undefined)
    {
        attempt += "<div class='attackAttemptDesc'>";
        attempt += move.attackAttemptDesc(character, target);
        attempt += "</div>";
    }

    setup.doAttack(character, target);
    let historyObject = {id: move.id, name: move.name, recent: true, outcome: attempt + character.fight.variables.currentFightMoveOutcome}

    historyObject.outcome += setup.updateArousal(character);

    console.log("historyObject")
    console.log(historyObject)

    let costMultiplier = setup.getProwessCostMultiplier(character)

    fullHistory.history.push(historyObject);
    fullHistory.chains += move.comboCost * costMultiplier;

    setup.addToTimeline(timelineClass, historyObject, fullHistory, isTeammate);

    if(!isTeammate)
        setup.updateTimeline(character, timelineClass,  fullHistory);
}

setup.buildCardsData = function()
{
    State.variables.FightSkillsHand = [];
    var elements = $(".ComboFightMovesContainer").find(".FullCard");
    console.log("elements")
    console.log(elements)

    console.log("State.variables.EquippedFightMoveIDs")
    console.log(State.variables.EquippedFightMoveIDs)
    console.log(State.variables.FightSkills)

    var nonSpecialSkills = State.variables.FightSkills.filter(function(val) {
        if(val.skillType != "special")
        {
            return true;
        }
        return false;
    });

    console.log(nonSpecialSkills)

    //check desync cards amount
    while(4 > elements.length)
    {
        $(elements[0]).clone().appendTo(".ComboFightMovesContainer");
        elements = $(".ComboFightMovesContainer").find(".FullCard");
    }

    for(let i = 0; i < elements.length; ++i)
    {
        var move = nonSpecialSkills.random().id;
        State.variables.FightSkillsHand.push(move);

        elements[i].id = "CardMove"+i;

        setup.applyCardToElement(move, $(elements[i]), false)

        nonSpecialSkills = nonSpecialSkills.filter(function(val) {
            if(val.id != move)
            {
                return true;
            }
            return false;
        });
    }

    var specialElements = $(".SpecialFightMovesContainer").find(".FullCard");

    console.log("specialElements")
    console.log(specialElements)

    var specialSkills = State.variables.FightSkills.filter(function(val) {
        if(val.skillType == "special")
        {
            return true;
        }
        return false;
    });

    for(let i = 0; i < specialElements.length; ++i)
    {
        var move = specialSkills[i].id;
        specialElements[i].id = specialSkills[i].id;
        setup.applyCardToElement(move, $(specialElements[i]), true)
    }
}

setup.applyCardToElement = function(move, element, isSpecial)
{
    console.log("applyCardToElement")
    console.log(element)
    let domElement = element[0];
    let highlight = element.find(".FightSkillCardHighlight")

    /*highlight.unbind('mouseenter');
    highlight.mouseenter(function() {
        $(this).addClass("selected");
      });

    highlight.unbind('mouseleave');
    highlight.mouseleave(function() {
    $(this).removeClass("selected");
    });*/

    element.unbind('click');
    element.click(function() {
        setup.cardClicked($(this).attr('id'), isSpecial)
    });

    setup.setFightSkillCardBackgroundStyle(domElement.id, move);

    //set move name
    domElement.querySelector("#MoveName").innerHTML = setup[move].name;
    domElement.querySelector("#FightSkillBody").innerHTML = setup[move].skillDescription;

    let damageElement = domElement.querySelector("#CardDamage");
    let critElement = domElement.querySelector("#CardCritChance");

    if(setup.getAttackDamage(State.variables.CharacterSheet_Player, State.variables.Encounter_Target, setup[move]) > 0)
    {
        damageElement.style.display = "block";
        critElement.style.display = "block";

        damageElement.innerHTML = setup.getAttackDamageDisplay(State.variables.CharacterSheet_Player, State.variables.Encounter_Target, setup[move]);

        if(setup[move].critMod != 100)
        {
            critElement.innerHTML = setup.displayChanceToHit(State.variables.CharacterSheet_Player, setup[move]);
        }
    }
    else
    {
        damageElement.style.display = "none";
        critElement.style.display = "none";
    }

    if(setup[move].comboCost != undefined)
    {
        let costMultiplier = setup.getProwessCostMultiplier(State.variables.CharacterSheet_Player)
        let comboCostHTML = "";
        comboCostHTML += "<div class='FightSkillActionCosts'>"

        comboCostHTML += "<span class='tooltip'>"

        comboCostHTML +=    "<div class='FightSkillActionCostsNumber'>"
        comboCostHTML +=    (setup[move].comboCost * costMultiplier).toFixed(1).replace(/\.00$/, '')
        comboCostHTML +=    "</div>";
        comboCostHTML += "<span class='tooltipContainer'>";
        comboCostHTML += "&nbsp;&nbsp; Actions";
        comboCostHTML += "<span class='tooltiptext'>";
        comboCostHTML += "Action Cost<br>(Determines how much time this move takes to execute)<br>";
        comboCostHTML += "Prowess reduces cost by " + ((1-costMultiplier)*100).toFixed(1).replace(/\.00$/, '') + "% ";

        comboCostHTML += "</span>";
        comboCostHTML += "</span>";

        comboCostHTML += "</span>";

        comboCostHTML += "</div>";


        domElement.querySelector("#CardActionCost").innerHTML = comboCostHTML;
    }
}

setup.setupTimeline = function(character, characterClass, attackHistory)
{
    setup.updateTimeline(character, characterClass, attackHistory, false);
}

setup.selectnode = function(characterClass, selector) {
    let element = $("#"+characterClass);

    let nodeID = "#" + selector;
    let spanSelector = nodeID.replace("node", "nodeSpan");
    var current = nodeID.replace("node", "");

    element.find(".nodeActive").removeClass("nodeActive");
    element.find(nodeID).addClass("nodeActive");

    if (element.find(spanSelector).hasClass("right")) {
        element.find(".center").removeClass("center").addClass("left")
        element.find(spanSelector).addClass("center");
        element.find(spanSelector).removeClass("right")
    } else if (element.find(spanSelector).hasClass("left")) {
        element.find(".center").removeClass("center").addClass("right");
        element.find(spanSelector).addClass("center");
        element.find(spanSelector).removeClass("left");
    };
};

setup.updateTimeline = function(character, characterClass, attackHistory)
{
    let timelineFill = 0;
    var timelineSize = 20;
    let element = $("#"+characterClass);

    console.log("attackHistory")
    console.log(attackHistory)
    let costMultiplier = setup.getProwessCostMultiplier(character);

    for (let i = 0; i < attackHistory.history.length; i++)
    {
        timelineFill += setup[attackHistory.history[i].id].comboCost * costMultiplier;
    }

    console.log("cleaning timeline")
    console.log(timelineFill)

    var timelineStart = Math.floor(timelineFill / timelineSize) * timelineSize;

    element.find("#chainsLabel").text(attackHistory.chains.toFixed(2).replace(/\.00$/, ''));

    if (attackHistory.history.length > 0)
    {
        var timelineProgress = 0;
        let line = element.find(".line");
        console.log("Found line element at ", line);
        console.log( line.children())


        for (let i = 0; i < attackHistory.history.length; i++)
        {
            let attackCost = setup[attackHistory.history[i].id].comboCost * costMultiplier
            if(timelineProgress + attackCost < timelineStart)
            {
                line.children()[i].hidden = true;
            }
            else
            {
                //check if fill under
                var timelinePlacement = timelineProgress - timelineStart + attackCost;
                console.log("timelinePlacement")
                console.log(timelinePlacement)

                //Integer relative to the first and last attackHistory
                var relativePos = timelinePlacement / timelineSize;

                console.log(" line.children")
                console.log( line.children())

                if(line.children().length > 0)
                    line.children()[i].style.bottom = (relativePos * 100)+'%'

                //Draw the date node
                console.log("element");
                console.log(element);
                console.log(element.find("#line"));
                console.log(element.find("#mainCont"));
            }


            //todo offset
            timelineProgress += attackCost;
        }
    }

    element.find(".node").mouseenter(function() {
        $(this).addClass("hover");
      });

    element.find(".node").mouseleave(function() {
    $(this).removeClass("hover");
    });

    element.find(".node").click(function() {
    var spanNum = $(this).attr("id");

    console.log("clickID")
    console.log(spanNum)

    setup.selectnode(characterClass, spanNum);
    });

    setup.selectnode(characterClass, "node"+(attackHistory.moveCount));
}

// Add Fight Description and nodes to Report
setup.addToTimeline = function(characterClass, historyObject, fullHistory, isTeammate)
{
    fullHistory.moveCount++;
    let element = $("#"+characterClass);
    var recentClass = "";

    if(historyObject.recent == true)
    {
        recentClass = " recent";
    }

    console.log("adding to ", element);

    if(!isTeammate)
        element.find(".line").append('<div class="node'+recentClass+'" id="node' + fullHistory.moveCount + '" ><div class="popupSpan">' + historyObject.name + '</div></div>');

    // Updates description entries so that 'recent' articles gain the 'old' class.
    $('#combinedReport').append('<article id="' + characterClass + fullHistory.history.length + '" class="'+characterClass+' recent">' + historyObject.outcome + '</article>');
}

setup.fightStart = function(attackerSheet, victimSheet)
{
    setup.newTurn(attackerSheet, victimSheet);
    setup.aiFightStart()
}

setup.newTurn = function(attackerSheet, victimSheet)
{
    setup.refreshFightSkills(attackerSheet, victimSheet);
}

setup.refreshFightSkills = function(attackerSheet, victimSheet)
{
    var availableFightMoveIDs = setup.getFightMovesWithAddons(attackerSheet);
    var comboMovesPerTurn = 3;

    var comboSkillIDs = availableFightMoveIDs.filter(function(val) {
        console.log("4")
        console.log(setup[val])
        if(setup[val].comboCost != undefined && setup.isFightMoveEquipped(val) == true && setup[val].unique == undefined && setup[val].skillType != "special")
        {
            return true;
        }
        return false;
    });

    var uniqueSkillIDs = availableFightMoveIDs.filter(function(val) {
        if(setup[val].skillType != "special" && setup[val].unique == true)
        {
            return true;
        }
        return false;
    });

    var specialSkillIDs = availableFightMoveIDs.filter(function(val) {
        if(setup[val].skillType == "special")
        {
            return true;
        }
        return false;
    });

    State.variables.FightSkills = [];
    State.variables.FightComboStackIndexes = [];

    var i;

    if(comboSkillIDs.length != 0)
    {
        setup.corruptComboableFightMoveList(comboSkillIDs);

        for(var i = 0; i < comboSkillIDs.length; i++)
        {
            var skill = {...(setup[comboSkillIDs[i]])};

            skill.available = true;
            State.variables.FightSkills.push(skill);
        }
    }

    for(var i = 0; i < uniqueSkillIDs.length; i++)
    {
        var skill = {...(setup[uniqueSkillIDs[i]])};

        skill.available = true;
        State.variables.FightSkills.push(skill);
    }

    for(var i = 0; i < specialSkillIDs.length; i++)
    {
        State.variables.FightSkills.push(setup[specialSkillIDs[i]]);
    }
}

setup.doAttack = function(attackerSheet, victimSheet)
{
    if(setup.isStunned(attackerSheet))
    {
        attackerSheet.fight.variables.currentFightMove = setup.FightMove_Stunned;
    }

    function addToFightOutcome(fightvariables, displayString)
    {
        if (displayString != "" && displayString != undefined)
        {
			if (displayString == "undefined" || displayString == undefined){
				console.log("WARN: Undefined return received from ability " + fightvariables.currentFightMove.id);
			}else{
                displayString += "\n";
				fightvariables.currentFightMoveOutcome += displayString;
			}
		}
	}

	if(attackerSheet.fight.variables.currentFightMove.persistentEffectOpponent)
	{
		if(attackerSheet.fight.variables.currentFightMove.persistentEffectOpponent.onActivate)
		{
			attackerSheet.fight.variables.currentFightMove.persistentEffectOpponent.onActivate(attackerSheet, victimSheet, undefined);
		}
	}

	var params =
	{
        self: attackerSheet,
        target: victimSheet,
		thresholdToMiss: setup.getAttackChanceToHit(attackerSheet, attackerSheet.fight.variables.currentFightMove),
		attackDamage: setup.getAttackDamage(attackerSheet, victimSheet, attackerSheet.fight.variables.currentFightMove),
		hitcheck: random(0,100),
		ignoreAdditionalEffects: false,
		finalDamageModifier: 1,
    };

	attackerSheet.fight.variables.currentFightMoveOutcome = ""

    if(params.attackDamage <= 0)
    {
        params.trigger = setup.AbilityTrigger.ON_FIGHT_DO_DAMAGELESS_ATTACK;
        addToFightOutcome(attackerSheet.fight.variables, setup.AbiHndlr.broadcastAbilityTrigger(attackerSheet, params));
    }
    else
    {
        params.trigger = setup.AbilityTrigger.ON_FIGHT_DAMAGING_HIT;
        addToFightOutcome(attackerSheet.fight.variables, setup.AbiHndlr.broadcastAbilityTrigger(attackerSheet, params));
    }

	if(attackerSheet.fight.variables.currentFightMove.cooldown)
	{
		setup.applyCooldown(attackerSheet, victimSheet, attackerSheet.fight.variables.currentFightMove);
	}

    /*var fightCard = "";

    fightCard += '<div class="FightSkillCardContainer">';
    fightCard += '<div class="FightSkillCard" style="'+setup.getFightSkillCardBackgroundStyle(attackerSheet, victimSheet, setup[attackerSheet.fight.variables.currentFightMove.id])+'">';
    fightCard += setup.getSkillDisplayString(attackerSheet, victimSheet, setup[attackerSheet.fight.variables.currentFightMove.id], undefined);
    fightCard += '</div>';
    fightCard += '</div>';

    addToFightOutcome(attackerSheet.fight.variables, fightCard);*/

	if(attackerSheet.fight.variables.stunnedDuration > 0)
	{
        //hook hook MOVE THIS SOMEWHERE ELSE
		attackerSheet.fight.variables.stunnedDuration -= 1;

		if(attackerSheet.fight.variables.stunnedDuration == 0)
		{
			attackerSheet.fight.variables.hypnotizedMoveIDsList = [];
		}
	}
	else if(attackerSheet.fight.variables.currentFightMove.doesNothing || attackerSheet.fight.variables.currentFightMove.currentStep != attackerSheet.fight.variables.currentFightMove.steps)
	{
		//do nothing
	}
	else
	{
		if(attackerSheet.fight.variables.currentFightMove.attackHitDesc)
		{
			addToFightOutcome(attackerSheet.fight.variables, attackerSheet.fight.variables.currentFightMove.attackHitDesc(attackerSheet, victimSheet));
		}

		if(attackerSheet.fight.variables.currentFightMove.persistentEffectOpponent)
		{
            //remove this next version
			setup.addPersistentEffect(victimSheet, attackerSheet.fight.variables.currentFightMove.persistentEffectOpponent);
		}

		if(params.hitcheck <= params.thresholdToMiss)
		{

			params.attackDamage = Math.ceil(params.attackDamage * setup.getStatValue(attackerSheet, "critDamage"));
		}

		if(!params.ignoreAdditionalEffects)
		{
			if(params.attackDamage != 0)
			{
				//remove this next version
				addToFightOutcome(attackerSheet.fight.variables, setup.triggerVictimPersistentEffects(attackerSheet, victimSheet, "onDamagingHit", params));
			}
		}

        params.attackDamage = Math.ceil(params.attackDamage * params.finalDamageModifier);

        params.trigger = setup.AbilityTrigger.ON_FIGHT_PRE_RECEIVE_DAMAGE;

        if(!params.ignoreAdditionalEffects)
        {
			let abilityString = setup.AbiHndlr.broadcastAbilityTrigger(victimSheet, params);
            addToFightOutcome(attackerSheet.fight.variables, abilityString);
        }

		if(params.attackDamage != 0)
		{
			if(params.hitcheck <= params.thresholdToMiss)
			{
				addToFightOutcome(attackerSheet.fight.variables, "It hits with a critical hit for <span style='color:#ff0000;'>" + params.attackDamage + "</span> damage!");
			}
			else
			{
				addToFightOutcome(attackerSheet.fight.variables, "It hits for <span style='color:#ff0000;'>" + params.attackDamage + "</span> damage!");
            }
			params.trigger = setup.AbilityTrigger.ON_FIGHT_POST_RECEIVE_DAMAGE;

			if(!params.ignoreAdditionalEffects)
			{
				let abilityString = setup.AbiHndlr.broadcastAbilityTrigger(victimSheet, params);
                addToFightOutcome(attackerSheet.fight.variables, abilityString);
            }
            var previousHP = victimSheet.fight.variables.currentHP;
            victimSheet.fight.variables.currentHP = Math.max(victimSheet.fight.variables.currentHP - params.attackDamage, 0);

            if(victimSheet.fight.variables.currentHP / setup.getStatValue(victimSheet, "hp") <= 0.5 &&
            previousHP / setup.getStatValue(victimSheet, "hp") > 0.5)
            {
                params.trigger = setup.AbilityTrigger.ON_ENTER_MID_HEALTH;
                addToFightOutcome(attackerSheet.fight.variables, setup.AbiHndlr.broadcastAbilityTrigger(victimSheet, params));
            }
            else if(victimSheet.fight.variables.currentHP / setup.getStatValue(victimSheet, "hp") > 0.5 &&
                previousHP / setup.getStatValue(victimSheet, "hp") <= 0.5)
            {
                params.trigger = setup.AbilityTrigger.ON_ENTER_MID_HEALTH;
                addToFightOutcome(attackerSheet.fight.variables, setup.AbiHndlr.broadcastAbilityTrigger(victimSheet, params));
            }

            if(victimSheet.fight.variables.currentHP / setup.getStatValue(victimSheet, "hp") <= 0.25 &&
               previousHP / setup.getStatValue(victimSheet, "hp") > 0.25)
            {
				params.trigger = setup.AbilityTrigger.ON_ENTER_LOW_HEALTH;
                addToFightOutcome(attackerSheet.fight.variables, setup.AbiHndlr.broadcastAbilityTrigger(victimSheet, params));
            }
            else if(victimSheet.fight.variables.currentHP / setup.getStatValue(victimSheet, "hp") > 0.25 &&
               previousHP / setup.getStatValue(victimSheet, "hp") <= 0.25)
            {
				params.trigger = setup.AbilityTrigger.ON_EXIT_LOW_HEALTH;
                addToFightOutcome(attackerSheet.fight.variables, setup.AbiHndlr.broadcastAbilityTrigger(victimSheet, params));
            }
        }

		if(!params.ignoreAdditionalEffects)
		{
			for(let i = 0; i < attackerSheet.fight.variables.currentFightMove.additionalEffects.length; i++)
			{
				let additionalEffectText = attackerSheet.fight.variables.currentFightMove.additionalEffects[i](attackerSheet, victimSheet);

				if(additionalEffectText != "")
				{
					addToFightOutcome(attackerSheet.fight.variables, additionalEffectText);
				}
			}
		}
	}

    if(attackerSheet.id != "CharacterSheet_Player")
    {
        attackerSheet.fight.variables.currentStamina = Math.min(attackerSheet.fight.variables.currentStamina + setup.getStaminaRecovery(attackerSheet), setup.getStatValue(attackerSheet, "stamina"));

        if(State.variables.FightComboStackIndexes.length == 0)
        {
            attackerSheet.fight.variables.currentStamina -= attackerSheet.fight.variables.currentFightMove.staminaCost;
        }
    }

    return attackerSheet.fight.variables.currentFightMoveOutcome;
};

setup.displayFightTurnOutcome = function(attackerSheet, victimSheet)
{
	var attackerFightVariables = attackerSheet.fight.variables;
	var victimFightVariables = victimSheet.fight.variables;

	var displayString = "";

	if(typeof attackerFightVariables.currentFightMove !== 'undefined' && typeof victimFightVariables.currentFightMove !== 'undefined')
	{
        displayString += setup.displayTurnHeaderText(attackerSheet, victimSheet);

        if(attackerFightVariables.currentFightMove.comboValue != undefined)
        {
            for(let i = 0; i < State.variables.FightComboStackIndexes.length; i++)
            {
                let fightSkillIndex = State.variables.FightComboStackIndexes[i];
                State.variables.FightSkills[fightSkillIndex].available = true;
            }
        }

        displayString += "<div class='AttackAttemptContainer'>";

        if(attackerFightVariables.currentTurnAbilityText)
        {
            displayString += attackerFightVariables.currentTurnAbilityText;
        }

        if(attackerFightVariables.currentFightMove.comboValue == undefined)
        {
            if(attackerFightVariables.currentFightMove.attackAttemptDesc && attackerFightVariables.currentFightMove.currentStep == attackerFightVariables.currentFightMove.steps)
            {
                let attackAttemptDesc = attackerFightVariables.currentFightMove.attackAttemptDesc(attackerSheet, victimSheet);
                displayString += attackAttemptDesc;
            }
        }

        if (attackerFightVariables.currentFightMoveOutcome.length > 0){
            displayString += attackerFightVariables.currentFightMoveOutcome +"\n";
        }
        displayString += "</div>";
	}

    return displayString;
};

setup.learnRandomMoveFromTarget = function(attackerSheet, victimSheet)
{
    var victimMovelist = setup.getFightMovesWithAddons(victimSheet);
    var attackerMovelist = setup.getFightMovesWithAddons(attackerSheet);

    var victimNoComboSkills = victimMovelist.filter(function(val) {
        if(val.skillType != "special" && val.comboCost == undefined)
        {
            return true;
        }
        return false;
    });

    var attackerNoComboSkills = attackerMovelist.filter(function(val) {
        if(val.skillType != "special" && val.unique == true)
        {
            return true;
        }
        return false;
    });

	victimNoComboSkills = victimNoComboSkills.filter(function(val)
	{
		if(val.unlearnable == true)
		{
			return false;
		}

		var i;
	  	for(i = 0; i < attackerNoComboSkills.length; i++)
		{
			if(val.id == attackerNoComboSkills[i].id)
			{
				return false;
			}
		}
	  	return true;
	});

	return victimNoComboSkills.random();
};

setup.hasLostFight = function(character)
{
	return character.fight.variables.currentHP <= 0 || character.fight.variables.surrender;
}

setup.onFightEnd = function(winner, loser)
{
    var displayString = "";
    var params =
    {
        trigger: setup.AbilityTrigger.ON_FIGHT_BATTLE_WON,
        self: winner,
        target: loser,
    }
    displayString += setup.AbiHndlr.broadcastAbilityTrigger(winner, params);

    if(winner.fight.teammate != undefined)
    {
        params =
        {
            trigger: setup.AbilityTrigger.ON_FIGHT_BATTLE_WON,
            self: State.variables[winner.fight.teammate],
            target: loser,
        }
        displayString += setup.AbiHndlr.broadcastAbilityTrigger(State.variables[winner.fight.teammate], params);
    }

    params =
    {
        trigger: setup.AbilityTrigger.ON_FIGHT_BATTLE_LOST,
        self: loser,
        target: winner,
    }
    displayString += setup.AbiHndlr.broadcastAbilityTrigger(loser, params);

    if(loser.fight.teammate != undefined)
    {
        params =
        {
            trigger: setup.AbilityTrigger.ON_FIGHT_BATTLE_WON,
            self: State.variables[loser.fight.teammate],
            target: winner,
        }
        displayString += setup.AbiHndlr.broadcastAbilityTrigger(State.variables[loser.fight.teammate], params);
    }

    return displayString;
}

setup.updateFightStatus = function(attackerSheet, victimSheet)
{
	var victimFightVariables = victimSheet.fight.variables;

	var displayString = "";

    console.log("fffffffffffffff")

	if(setup.hasLostFight(victimSheet) && setup.hasLostFight(attackerSheet))
	{
		attackerSheet.fight.variables.currentHP = 0.1;
		State.variables.FightSkills = undefined;

        setup.removeCarousel();
        var movesContainer = document.getElementById("movesContainer");
        movesContainer.style.visibility = "hidden"

        var endPassage = document.getElementById("fightDraw");
        endPassage.style.visibility = "visible"
        endPassage.style.height = ""
	}
	else if(setup.hasLostFight(victimSheet))
	{
		State.variables.FightSkills = undefined;

        setup.removeCarousel();
        var movesContainer = document.getElementById("movesContainer");
        movesContainer.style.visibility = "hidden"

        var endPassage = document.getElementById("fightWin");
        endPassage.style.visibility = "visible"
        endPassage.style.height = ""
	}
	else if(setup.hasLostFight(attackerSheet))
	{
		State.variables.FightSkills = undefined;

        setup.removeCarousel();
        var movesContainer = document.getElementById("movesContainer");
        movesContainer.style.visibility = "hidden"

        var endPassage = document.getElementById("fightLoss");
        endPassage.style.visibility = "visible"
        endPassage.style.height = ""
	}
	else
	{
        console.log("2")

        if(attackerSheet.fight.teammate != undefined)
        {
            var teammateEffects = setup.displayCurrentPersistentEffects(State.variables[attackerSheet.fight.teammate], victimSheet);
            if(teammateEffects != "")
            {
                displayString += teammateEffects;
                displayString += "\n";
            }
        }

        console.log("3")

		var attackerEffects = setup.displayCurrentPersistentEffects(attackerSheet, victimSheet);
		if(attackerEffects != "")
		{
			displayString += attackerEffects;
			displayString += "\n";
		}

		var victimEffects = setup.displayCurrentPersistentEffects(victimSheet, attackerSheet);
		if(victimEffects != "")
		{
			displayString += victimEffects;
			displayString += "\n";
		}

        // console.log("4")

		// displayString += victimSheet.info.name + " looks " + setup.Fight_HealthDescriptor(setup.getMaxHP(victimSheet), victimFightVariables.currentHP);
		// displayString += "\n\n";

        /*if(attackerSheet.fight.teammate != undefined)
        {
            displayString += State.variables[attackerSheet.fight.teammate].fight.variables.currentFightMove.preparation(State.variables[attackerSheet.fight.teammate], attackerSheet);

            if(State.variables[attackerSheet.fight.teammate].fight.variables.currentFightMove.callbackOnPreparation)
            {
                State.variables[attackerSheet.fight.teammate].fight.variables.currentFightMove.callbackOnPreparation(State.variables[attackerSheet.fight.teammate], attackerSheet);
            }

            displayString += "\n\n";
        }

        console.log("5")

		displayString += victimFightVariables.currentFightMove.preparation(victimSheet, attackerSheet);

		if(victimFightVariables.currentFightMove.callbackOnPreparation)
		{
            victimFightVariables.currentFightMove.callbackOnPreparation(victimSheet, attackerSheet);
		}

		displayString +="\n";
        displayString +="\n";*/

        // console.log("7")

		/*if(setup.isStunned(attackerSheet))
		{
			if(attackerSheet.fight.variables.hypnotizedMoveIDsList.length > 0)
			{
				State.variables.availableFightMoveIDs = attackerSheet.fight.variables.hypnotizedMoveIDsList;

				displayString += setup.displayAvailableFightMoves(attackerSheet, victimSheet, State.variables.availableFightMoveIDs);
			}
			else
			{
                //hook
				var _fightMoveDescription = setup.getSkillDisplayString(attackerSheet, victimSheet, setup.FightMove_Stunned, "1", false);
				displayString += "<a class='FightSkillCard' style='"+setup.getFightSkillCardBackgroundStyle(attackerSheet, victimSheet, setup.FightMove_Stunned)+"' data-passage='FightLogic' data-setter='$CharacterSheet_Player.fight.variables.currentFightMove = setup.FightMove_Stunned'>"+ _fightMoveDescription +" </a>";
			}
		}
		else
		{
            State.variables.availableFightMoveIDs = setup.getFightMovesWithAddons(attackerSheet);
			displayString += setup.displayAvailableFightMoves(attackerSheet, victimSheet, State.variables.availableFightMoveIDs);
		}*/

        // console.log("8")
	}

    console.log("end of it")
    console.log($("#enemyInfo"))
    console.log(displayString)
    // Display Status Effects
	// $("#enemyInfo").html(displayString);
    $("#enemyInfo").html(displayString);

    // Display Health Description
    $("#inspectEnemy a").html(victimSheet.info.name + " looks " + setup.Fight_HealthDescriptor(setup.getMaxHP(victimSheet), victimFightVariables.currentHP));

};

setup.showInspectWindow = function(attackerSheet, target)
{
	Dialog.setup("Inspect");

    var dialogText = "";
    dialogText += '<div class="inspectWindow">'
    dialogText += setup.getInspectText(attackerSheet, target)
    dialogText += '</div>'

	Dialog.append(dialogText);

	Dialog.open();
}

setup.showInspectText = function(attackerSheet, target, displayID)
{
    $("#"+displayID).find("#mainCont").html(setup.getInspectText(attackerSheet, target));
}

setup.aiApplyNextFightMove = function(ai, aiTarget)
{
    var aiAvailableMoveIDs = setup.getFightMovesWithAddons(ai);
    aiAvailableMoveIDs = aiAvailableMoveIDs.filter(function(val) {
        if(setup.canActivateFightMove(ai, aiTarget, setup[val]) == "")
        {
            return true;
        }
        return false;
    });

    console.log("aiAvailableMoveIDs")
    console.log(aiAvailableMoveIDs)

    if(aiAvailableMoveIDs.length <= 0)
    {
        aiAvailableMoveIDs.push(setup.FightMove.Basic_Attack.id);
    }

    if(ai.fight.variables.currentFightMove && ai.fight.variables.currentFightMove.currentStep != ai.fight.variables.currentFightMove.steps)
    {
        ai.fight.variables.currentFightMove.currentStep++;
    }
    else
    {
        console.log("setup ids")
        if(ai.fight.getNextFightMoveID)
        {
            ai.fight.variables.currentFightMove = setup[ai.fight.getNextFightMoveID()];
        }
        else
        {
            ai.fight.variables.currentFightMove = setup[aiAvailableMoveIDs.random()];
        }
        console.log(ai.fight.variables.currentFightMove)
    }
}

setup.canTeammateAct = function(protagonistSheet, enemySheet, timing)
{
    var teammateName = protagonistSheet.fight.teammate;

    if(teammateName != undefined)
    {
        if(State.variables[teammateName].fight.teammateSettings.attackTiming == timing)
        {
            return true;
        }
    }

    return false;
}

setup.getInspectText = function(character, target)
{
    var displayString = "";

    displayString += character.info.name  + " inspects "+target.info.name+" carefully.\n\n";

    if(target.info.picture != undefined)
    {
        displayString += setup.displayEncounterImage(target.info.picture) + "\n\n";
    }
    else if(target.info.bodyVisual != undefined)
    {
        displayString += setup.setAndDisplayBodyVisual(target, undefined) + "\n\n";
    }

    displayString += "HP: "+target.fight.variables.currentHP+"/"+setup.displayStatValue(target, "hp")+"\n";
    displayString += "Prowess: "+setup.displayStatValue(target, "stamina")+"\n";
    displayString += "Arousal: "+target.fight.variables.currentArousal+"\n\n";

    displayString += "Strength: "+setup.displayStatValue(target, "strength")+"\n";
    displayString += "Critical Hit Chance: "+setup.displayStatValue(target, "critChance")+"\n";
    displayString += "Arousal per Turn: "+setup.displayStatValue(target, "arousalGain")+"\n";

    displayString += "Corruption: "+setup.getStatValue(target, "corruption")+"\n";
    displayString += "Muscles: "+setup.getMusclesDescriptor(target)+"("+setup.displayStatValue(target, "muscles")+")\n";
    displayString += "Height: "+setup.displayStatValue(target, "height", true)+"\n";
    displayString += "Cock Size: "+setup.displayStatValue(target, "cock", true)+"\n\n";

    displayString += "Passive Abilities:\n";

    if(character.abilityRuntimeDatas.length > 0)
    {
        for(let i = 0; i < target.abilityRuntimeDatas.length; ++i)
        {
            let abilityRuntimeData = target.abilityRuntimeDatas[i];
            if(abilityRuntimeData.isActive == true)
            {
                let abilityData = setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex);
                displayString += abilityData.name +": "+ abilityData.description(target, abilityRuntimeData) +"\n";
            }
        }
    }
    else
    {
        displayString += "None\n";
    }

    displayString += "\n"

    return displayString;
}

setup.getFightMoveCooldown = function(attackerSheet, victimSheet, fightMove)
{
	if(fightMove.cooldown)
	{
		for(let i = 0; i < attackerSheet.fight.variables.cooldowns.length; i++)
		{
			if(attackerSheet.fight.variables.cooldowns[i].skillID == fightMove.id)
			{
				return attackerSheet.fight.variables.cooldowns[i].value;
			}
		}
	}

	return 0;
}

setup.usesArousal = function(character)
{
    if(character.id == "CharacterSheet_Player")
    {
        return setup.AbiHndlr.hasAbility(character, "Ability_HostOfEcho");
    }

    return true;
}

setup.calculateAvailableComboSlots = function()
{
    var maxSlots = setup.getStatValue(State.variables.CharacterSheet_Player, "actionSlots");
    maxSlots += State.variables.AddSlotCount;

    var slotsTaken = setup.calculateTakenComboSlots();

    return maxSlots - slotsTaken;
}

setup.calculateTakenComboSlots = function()
{
    var slotsTaken = 0;
    for(let i = 0; i < State.variables.FightComboStackIndexes.length; i++)
    {
        let fightMove = State.variables.FightSkills[State.variables.FightComboStackIndexes[i]];
        if(!fightMove.available)
        {
            slotsTaken += fightMove.comboCost;
        }
    }

    return slotsTaken;
}

setup.canActivateFightMove = function(attackerSheet, victimSheet, fightMove, fightSkillIndex)
{
    if(fightSkillIndex != undefined && fightMove.comboValue != undefined)
    {
        if(!fightMove.available)
        {
            return "This move is already part of your combo.";
        }

        console.log("3")
        console.log(fightMove)
        if(setup.calculateAvailableComboSlots() < fightMove.comboCost)
        {
            return "Not enough slots left for this move in your combo.";
        }

        if(fightMove.maxStack)
        {
            if(!setup.canStackPersistentEffect(attackerSheet, victimSheet, fightMove.persistentEffectOpponent.id, fightMove.maxStack))
            {
                return "Can't stack this skill more than " + fightMove.maxStack + " times.";
            }
        }

        if(State.variables.FightComboStackIndexes.length != 0)
        {
            var latestComboValue = State.variables.FightSkills[State.variables.FightComboStackIndexes[State.variables.FightComboStackIndexes.length - 1]].comboValue;
            var currentComboValue = State.variables.FightSkills[fightSkillIndex].comboValue;
            var isNotAdjacent = currentComboValue - 1 != latestComboValue && currentComboValue + 1 != latestComboValue;
            var isFourAndOne = (currentComboValue == 1 && latestComboValue == 4) || (latestComboValue == 1 && currentComboValue == 4);
            var isZero = currentComboValue == 0 || latestComboValue == 0;

            if(!isZero && (isNotAdjacent && !isFourAndOne))
            {
                return "This move's Link Value ("+currentComboValue+") is not adjacent to the Link Value of the latest move of your combo ("+latestComboValue+")";
            }
        }

        if(fightMove.staminaCost)
        {
            if(attackerSheet.fight.variables.currentStamina < (setup.calculateComboStaminaCost() + fightMove.staminaCost))
            {
                return "Not enough Stamina.";
            }
        }

        let cooldown = setup.getFightMoveCooldown(attackerSheet, victimSheet, fightMove);

        if(cooldown != 0)
        {
            return "In cooldown for " + cooldown + " more turns."
        }
    }
    else
    {
        if(fightMove.maxStack)
        {
            if(!setup.canStackPersistentEffect(attackerSheet, victimSheet, fightMove.persistentEffectOpponent.id, fightMove.maxStack))
            {
                return "Can't stack this skill more than " + fightMove.maxStack + " times.";
            }
        }

        if(fightMove.staminaCost)
        {
            if(attackerSheet.fight.variables.currentStamina < fightMove.staminaCost)
            {
                return "Not enough Stamina.";
            }
        }

        let cooldown = setup.getFightMoveCooldown(attackerSheet, victimSheet, fightMove);

        if(cooldown != 0)
        {
            return "In cooldown for " + cooldown + " more turns."
        }
    }


	if(fightMove.activationCondition)
	{
		if(!fightMove.activationCondition(attackerSheet, victimSheet))
		{
			return "Can't activate this skill.";
		}
    }

	return "";
}

setup.isFightMoveEquipped = function(fightMoveID)
{
    for(var i = 0; i < State.variables.EquippedFightMoveIDs.length; i++)
    {
        if(fightMoveID == State.variables.EquippedFightMoveIDs[i])
            return true;
    }

    return false;
}

setup.displayAvailableFightMoves = function(character, target, fightMoveIDs)
{
    var displayString = "";

    var comboSkillIDs = fightMoveIDs.filter(function(val) {
        console.log("4")
        console.log(setup[val])
        if(setup[val].comboCost != undefined && setup.isFightMoveEquipped(val) == true && setup[val].unique == undefined && setup[val].skillType != "special")
        {
            return true;
        }
        return false;
    });

    var uniqueSkillIDs = fightMoveIDs.filter(function(val) {
        if(setup[val].skillType != "special" && setup[val].unique == true)
        {
            return true;
        }
        return false;
    });

    var specialSkillIDs = fightMoveIDs.filter(function(val) {
        if(setup[val].skillType == "special")
        {
            return true;
        }
        return false;
    });

    State.variables.FightSkills = [];
    State.variables.FightComboStackIndexes = [];

    var i;

    if(comboSkillIDs.length != 0)
    {
        setup.corruptComboableFightMoveList(comboSkillIDs);

        for(var i = 0; i < comboSkillIDs.length; i++)
        {
            var skill = {...(setup[comboSkillIDs[i]])};

            skill.comboValue = 0;
            skill.available = true;
            State.variables.FightSkills.push(skill);
        }
    }

    for(var i = 0; i < uniqueSkillIDs.length; i++)
    {
        var skill = {...(setup[uniqueSkillIDs[i]])};

        skill.comboValue = 0;
        skill.available = true;
        State.variables.FightSkills.push(skill);
    }

    for(var i = 0; i < specialSkillIDs.length; i++)
    {
        State.variables.FightSkills.push(setup[specialSkillIDs[i]]);
    }

    displayString += '<span id="FightSkillsList">';
	displayString += setup.printAvailableFightMovesString(character, target);
    displayString += '</span>';

    return displayString;
};

setup.printComboCost = function(character, target)
{
    var displayString = "";

    displayString += "<h3>Stamina Remaining: <span>"+ setup.getRemainingStamina(character, target) +"</span></h3><h3>Action Slots Remaining: <span>"+setup.calculateAvailableComboSlots()+"</span></h3>";

    return displayString;
}

setup.calculateComboStaminaCost = function(character, target)
{
    var staminaCost = 0;
    for(let i = 0; i < State.variables.FightComboStackIndexes.length; i++)
    {
        let fightMove = State.variables.FightSkills[State.variables.FightComboStackIndexes[i]];
        if(!fightMove.available)
        {
            staminaCost += fightMove.staminaCost;
        }
    }

    return staminaCost;
}

setup.getRemainingStamina = function(character, target)
{
    return character.fight.variables.currentStamina - setup.calculateComboStaminaCost(character, target);
}

setup.printAvailableFightMovesString = function(character, target)
{
    var displayString= "";

    displayString += '<div class="outerComboContainer '+setup.getCorruptionUIClassName("StatCaption", setup.getStatValue(character, "corruption"))+'">';
    displayString += setup.printComboCost(character, target);
    displayString += '\n\n'
    displayString += '<div class="comboCounterContainer">';
    displayString +=    '<div class="FightSkillsComboContainer">';
    displayString +=    '<div class="FightSkillsCombo">'+setup.printFightSkillsComboList()+'</div>';
    displayString +=    '<div class="FightSkillsComboAdd">';

    if(!setup.canAddSlot(character, target))
    {
        displayString += "<span class='inactive'>";
    }

    displayString +=    '<span class="'+setup.getCorruptBackgroundClass(character)+'">';
    displayString +=        '<<button "Add Slot ('+setup.getAddSlotCost()+' Stamina)">>';
    displayString +=             '<<run setup.addComboSlot()>>';
    displayString +=             '<<replace "#FightSkillsList">> <<print setup.printAvailableFightMovesString(State.variables.CharacterSheet_Player, State.variables.Encounter_Target)>> <</replace>>';
    displayString +=        '<</button>>';
    displayString +=    '</span>';

    if(!setup.canAddSlot(character, target))
    {
        displayString += "</span>";
    }

    displayString +=    '</div>';
    displayString +=    '</div>';

    displayString +=    "<div class='SidebarDivisionMid'>"+setup.getCorruptSidebarDividerMid()+"</div>";

    displayString +=        "<div class='BottomComboContainer'>";

    if(!setup.canRedraw(character, target))
    {
        displayString += "<span class='inactive'>";
    }

    displayString +=                '<div id="MulliganButton" class="BottomComboZone">';
    displayString +=                   '<span class="'+setup.getCorruptBackgroundClass(character)+'">';
    displayString +=                       '<<button "Draw ('+setup.getRedrawCost()+' Stamina)">>';
    displayString +=                           '<<run setup.drawComboMove()>>';
    displayString +=                           '<<replace "#FightSkillsList">> <<print setup.printAvailableFightMovesString(State.variables.CharacterSheet_Player, State.variables.Encounter_Target)>> <</replace>>';
    displayString +=                       '<</button>>';
    displayString +=                   '</span>';
    displayString +=                '</div>';
    displayString +=                '<div class="BottomComboZone">';
    displayString +=                '&nbsp;';
    displayString +=                '</div>';

    if(!setup.canRedraw(character, target))
    {
        displayString += "</span>";
    }

    if(State.variables.FightComboStackIndexes.length > 0)
    {
        displayString +=            '<div id="ClearButton" class="BottomComboZone">';
        displayString +=                '<span class="'+setup.getCorruptBackgroundClass(character)+'">';
        displayString +=                    '<<button "Clear">>';
        displayString +=                        '<<run setup.clearCombo()>>';
        displayString +=                        '<<replace "#FightSkillsList">> <<print setup.printAvailableFightMovesString(State.variables.CharacterSheet_Player, State.variables.Encounter_Target)>> <</replace>>';
        displayString +=                    '<</button>>';
        displayString +=                '</span>';
        displayString +=            '</div>';
        displayString +=            '<div class="BottomComboZone">';
        displayString +=                '&nbsp;';
        displayString +=            '</div>';
        displayString +=            '<div id="AttackButton" class="BottomComboZone">';
        displayString +=                '<span class="'+setup.getCorruptBackgroundClass(character)+'">';
        displayString +=                    '<<button [[Attack with Combo!->FightLogic]]>><</button>>';
        displayString +=                '</span>';
        displayString +=            '</div>';
    }

    displayString +=            '</div>';
    displayString +=        '</div>';

    var comboSkills = [];
    for(let i = 0; i < State.variables.FightSkills.length; ++i)
    {
        console.log("5")
        console.log(State.variables.FightSkills[i])
        console.log(character)
        console.log(target)
        console.log(i)
        console.log(State.variables.FightSkills)
        if(State.variables.FightSkills[i].comboCost != undefined && State.variables.FightSkills[i].unique == undefined)
        {
            comboSkills.push(
                {
                    fightSkill: State.variables.FightSkills[i],
                    index: i,
                }
                );
        }
    }

    let sortedByComboValues = comboSkills.sort(function(a, b)
    {
        return a.fightSkill.comboValue - b.fightSkill.comboValue;
    });

    comboSkills = sortedByComboValues;

    var noComboSkills = [];
    for(let i = 0; i < State.variables.FightSkills.length; ++i)
    {
        if(State.variables.FightSkills[i].skillType != "special" && State.variables.FightSkills[i].unique == true)
        {
            noComboSkills.push(
                {
                    fightSkill: State.variables.FightSkills[i],
                    index: i,
                }
                );
        }
    }

    var specialSkills = [];
    for(let i = 0; i < State.variables.FightSkills.length; ++i)
    {
        if(State.variables.FightSkills[i].skillType == "special")
        {
            specialSkills.push(
                {
                    fightSkill: State.variables.FightSkills[i],
                    index: i,
                }
                );
        }
    }

    displayString += '<div class="ComboFightMovesContainer">';
    for(let i = 0; i < comboSkills.length; ++i)
    {
        displayString += setup.displayFightSkillCard(character, target, comboSkills[i].fightSkill, comboSkills[i].index);
    }

    if(noComboSkills.length != 0)
    {
        displayString += "<br><br><hr><br>";
    }

    for(let i = 0; i < noComboSkills.length; ++i)
    {
        displayString += setup.displayFightSkillCard(character, target, noComboSkills[i].fightSkill, noComboSkills[i].index);
    }

    if(specialSkills.length != 0)
    {
        displayString += "<br><br><hr><br>";
    }

    for(let i = 0; i < specialSkills.length; ++i)
    {
        displayString += setup.displayFightSkillCard(character, target, specialSkills[i].fightSkill, specialSkills[i].index);
    }

    displayString += "</div>";
    displayString += "</div>";

    return displayString;
}

setup.getFightSkillCardBackgroundStyleContent = function(character, fightSkill)
{
    var displayString = "";
    var corruptionLink = "";

    switch(setup.getCorruptionTier(character))
	{
		case 0:
			corruptionLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_border_0.png)";
            break;
		case 1:
			corruptionLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_border_25.png)";
            break;
		case 2:
			corruptionLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_border_50.png)";
            break;
		case 3:
			corruptionLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_border_75.png)";
            break;
		case 4:
			corruptionLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_border_100.png)";
            break;
		default:
			corruptionLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_border_100.png)";
            break;
	}

    displayString += corruptionLink + ", ";

    var skillTypeLink = "";
	switch(fightSkill.skillTheme)
	{
		case "offensive":
			skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_offensive.png)";
            break;
		case "sigil":
			skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_sigil.png)";
            break;
		case "buff":
			skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_buff.png)";
            break;
		case "symbiote":
			skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_offensive_symbiote.png)";
            break;
		case "special":
			skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_pacific.png)";
            break;
		case "demon":
			skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_offensive_demon.png)";
            break;
        case "corruption":
            skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_corruption.png)";
            break;
		default:
			skillTypeLink =  "url(https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/battle_system/card_bg_pacific.png)";
            break;
	}

    displayString += skillTypeLink;

    console.log("background")
    console.log(displayString)

    return displayString;
}

setup.getFightSkillCardBackgroundStyle = function(character, target, fightSkill)
{
    var displayString = "background-image: ";

	displayString += setup.getFightSkillCardBackgroundStyleContent(character, fightSkill);

    displayString += ";";

    return displayString;
}

setup.displayFightSkillCard = function(character, target, fightSkill, index)
{
    var displayString = "";

    var fightMoveActivationString = setup.canActivateFightMove(character, target, fightSkill, index);

    if(fightMoveActivationString != "")
    {
        displayString += "<span class='tooltipskill'>";
        if(fightSkill.available == false)
        {
            displayString += "<span>";
        }
        else
        {
            displayString += "<span class='inactive'>";
        }
    }

    let _fightMoveDescription = setup.getSkillDisplayString(character, target, fightSkill, setup.FightHotkeys[index]);
    let params = 'class="FightSkillCard" style="'+setup.getFightSkillCardBackgroundStyle(character, target, fightSkill)+'"';

    displayString += '<div class="FightSkillCardHighlight">';

    displayString += '<span '+params+'>';
    displayString += '<<link "'+_fightMoveDescription+'">>';
    displayString += '<<set $CharacterSheet_Player.fight.variables.currentFightMove = setup["'+fightSkill.id+'"]>>';
    displayString += '<<run setup.onAttackClick("'+index+'")>>';

    if(fightSkill.comboValue != undefined)
    {
        displayString += '<<replace "#FightSkillsList">> <<print setup.printAvailableFightMovesString(State.variables.CharacterSheet_Player, State.variables.Encounter_Target)>><</replace>>';
    }

    displayString += '<</link>>';
    displayString += '</span>';
    displayString += '</div>';

    if( fightMoveActivationString != "")
    {
        displayString += "</span>";//inactive close

        displayString += "<span class='tooltipskilltext'>";
        displayString += fightMoveActivationString;
        displayString += "</span></span>";
    }

    return displayString;
}

setup.getRandomComboValueList = function(amount)
{
    var comboValueList = [];

    for(var i = 0; i < amount; i++)
    {
        let value = setup.getRandomInt(1, 4);

        comboValueList.push(value)
    }

    return comboValueList;
}

setup.corruptComboableFightMoveList = function(fightMoveList)
{
	switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
            return fightMoveList;
		case 1:
            fightMoveList.push("FightMove_LustfulInstincts");
            break;
		case 2:
            fightMoveList.push("FightMove_LustfulInstincts");
            fightMoveList.push("FightMove_CorruptedUrges");
            break;
		case 3:
            fightMoveList.push("FightMove_LustfulInstincts");
            fightMoveList.push("FightMove_CorruptedUrges");
            fightMoveList.push("FightMove_CorruptedRemedy");
            break;
		case 4:
            fightMoveList.push("FightMove_LustfulInstincts");
            fightMoveList.push("FightMove_CorruptedUrges");
            fightMoveList.push("FightMove_CorruptedRemedy");
            fightMoveList.push("FightMove_InfectiousLust");
            break;
		default:
            fightMoveList.push("FightMove_LustfulInstincts");
            fightMoveList.push("FightMove_CorruptedUrges");
            fightMoveList.push("FightMove_CorruptedRemedy");
            fightMoveList.push("FightMove_InfectiousLust");
            break;
	}

    return fightMoveList;
}

setup.drawComboMove = function()
{
    setup.clearCombo();

    var fightMoveIDs = State.variables.availableFightMoveIDs;

    var comboSkillIDs = fightMoveIDs.filter(function(val) {
        if(setup[val].comboCost != undefined && setup.isFightMoveEquipped(val) == true)
        {
            return true;
        }
        return false;
    });

    if(comboSkillIDs.length != 0)
    {
        setup.corruptComboableFightMoveList(comboSkillIDs);

        var skill = {...(setup[comboSkillIDs.random()])};

        skill.comboValue = setup.getRandomInt(1, 4);;
        skill.available = true;
        State.variables.FightSkills.unshift(skill);
    }

    State.variables.CharacterSheet_Player.fight.variables.currentStamina = Math.max(0, State.variables.CharacterSheet_Player.fight.variables.currentStamina - setup.getRedrawCost());

    State.variables.RedrawCount++;
    UIBar.update()
}

setup.addComboSlot = function()
{
    State.variables.CharacterSheet_Player.fight.variables.currentStamina = Math.max(0, State.variables.CharacterSheet_Player.fight.variables.currentStamina - setup.getAddSlotCost());
    State.variables.AddSlotCount++;
}

setup.mulliganComboMoves = function()
{
    setup.clearCombo();

    var fightMoveIDs = State.variables.availableFightMoveIDs;

    var comboSkillIDs = fightMoveIDs.filter(function(val) {
        if(setup[val].comboCost != undefined && setup.isFightMoveEquipped(val) == true)
        {
            return true;
        }
        return false;
    });

    if(comboSkillIDs.length != 0)
    {
        setup.corruptComboableFightMoveList(comboSkillIDs);

        for(var i = 0; i < comboSkillIDs.length; i++)
        {
            var skill = {...(setup[comboSkillIDs[i]])};

            skill.comboValue = 0;
            skill.available = true;
            State.variables.FightSkills[i] = skill;
        }
    }

    State.variables.CharacterSheet_Player.fight.variables.currentStamina = Math.max(0, State.variables.CharacterSheet_Player.fight.variables.currentStamina - setup.getRedrawCost());

    State.variables.RedrawCount++;
    UIBar.update()
}

setup.getRedrawCost = function()
{
    if(State.variables.RedrawCount < setup.RedrawCosts.length)
    {
        return setup.RedrawCosts[State.variables.RedrawCount];
    }
    else
    {
        let multiplierExponent = State.variables.RedrawCount - (setup.RedrawCosts.length - 1);
        return setup.RedrawCosts[setup.RedrawCosts.length - 1] * Math.pow(2, multiplierExponent);
    }
}

setup.getLimitBreakEssenceCost = function()
{
    let limitBreakCount = State.temporary.ModifyMetabolismParams.points;

    for(let propertyName in State.temporary.ModifyMetabolismParams.cap)
    {
        limitBreakCount += State.temporary.ModifyMetabolismParams.cap[propertyName];
    }

    console.log(limitBreakCount);

    if(limitBreakCount < setup.LimitBreakEssenceCosts.length)
    {
        console.log(setup.LimitBreakEssenceCosts[limitBreakCount]);
        return setup.LimitBreakEssenceCosts[limitBreakCount];
    }
    else
    {
        console.log(setup.LimitBreakEssenceCosts[setup.LimitBreakEssenceCosts.length - 1]);
        return setup.LimitBreakEssenceCosts[setup.LimitBreakEssenceCosts.length - 1];
    }
}

setup.getAddSlotCost = function()
{
    if(State.variables.AddSlotCount < setup.AddSlotCosts.length)
    {
        return setup.AddSlotCosts[State.variables.AddSlotCount];
    }
    else
    {
        let multiplierExponent = State.variables.AddSlotCount - (setup.AddSlotCosts.length - 1);
        return setup.AddSlotCosts[setup.AddSlotCosts.length - 1] * Math.pow(2, multiplierExponent);
    }
}

setup.canRedraw = function(character, target)
{
    return setup.getRemainingStamina(character, target) >= setup.getRedrawCost();
}

setup.canAddSlot = function(character, target)
{
    return setup.getRemainingStamina(character, target) >= setup.getAddSlotCost();
}

setup.clearCombo = function()
{
    for(let i = 0; i < State.variables.FightComboStackIndexes.length; i++)
    {
        let fightSkillIndex = State.variables.FightComboStackIndexes[i];
        State.variables.FightSkills[fightSkillIndex].available = true;
    }

    State.variables.FightComboStackIndexes = [];
}

setup.onAttackClick = function(fightSkillIndex)
{
    setup.attackPressedLogic(fightSkillIndex);
}

setup.attackPressedLogic = function(fightSkillIndex)
{
    if(State.variables.FightSkills[fightSkillIndex].comboValue != undefined)
    {
        if(setup.canActivateFightMove(State.variables.CharacterSheet_Player, State.variables.Encounter_Target, State.variables.FightSkills[fightSkillIndex], fightSkillIndex) == "")
        {
            State.variables.FightSkills[fightSkillIndex].available = false;
            State.variables.FightComboStackIndexes.push(fightSkillIndex);
        }
    }
    else
    {
        State.variables.CharacterSheet_Player.fight.variables.currentFightMove = State.variables.FightSkills[fightSkillIndex];
        Engine.play("FightLogic");
    }
}

setup.printFightSkillsComboList = function()
{
    var displayString = "";

    var firstLinkClass = "UIActionCostsFirstLink";
    if(State.variables.FightComboStackIndexes.length == 0)
    {
        firstLinkClass += " Grayed";
    }

    displayString += "<div class='"+firstLinkClass+"'>"
    displayString += "</div>";

    var takenActionsCount = 0;

    for(let i = 0; i < State.variables.FightComboStackIndexes.length; i++)
    {
        displayString += "<div class='FightSkillActionCostsNumberInComboContainer'>"
        displayString +=   "<div class='FightSkillActionCostsNumberInCombo'>"

        let comboValue = State.variables.FightSkills[State.variables.FightComboStackIndexes[i]].comboValue;

        displayString +=    comboValue != 0 ? comboValue : "*"
        displayString +=   "</div>";
        displayString += "</div>";

        var middleLinkClass = "UIActionCostsMiddleLink";

        if(i % 2 == 1)
        {
            middleLinkClass += " Alt";
        }

        console.log("6")
        console.log(State.variables.FightSkills[State.variables.FightComboStackIndexes[i]])

        for(let j = 0; j < State.variables.FightSkills[State.variables.FightComboStackIndexes[i]].comboCost; j++)
        {
            displayString += "<div class='"+middleLinkClass+"'>"
            displayString += "</div>";
        }

        takenActionsCount += State.variables.FightSkills[State.variables.FightComboStackIndexes[i]].comboCost;
    }

    var actionSlots = setup.getStatValue(State.variables.CharacterSheet_Player, "actionSlots");
    actionSlots += State.variables.AddSlotCount;

    for(let i = takenActionsCount; i < actionSlots; i++)
    {
        displayString += "<div class='UIActionCostsMiddleLink Grayed'>"
        displayString += "</div>";
    }

    var lastLinkClass = "UIActionCostsLastLink";
    if(takenActionsCount < actionSlots)
    {
        lastLinkClass += " Grayed";
    }
    else if(State.variables.FightComboStackIndexes.length % 2 == 0)
    {
        lastLinkClass += " Alt";
    }

    displayString +=    "<div class='"+lastLinkClass+"'>"
    displayString +=    "</div>";

    return displayString;
}

setup.getCharacterSheet = function(sheetID)
{
	return State.variables[sheetID];
}

setup.getRandomEncounter = function(location)
{
	var encounters;
    encounters = setup.getEncounterList(location);

    if(encounters.length > 1)
    {
        encounters = encounters.filter(function(id)
        {
            if(id == State.variables.LastEncounter || State.variables[id].quest.locked == true)
            {
                return false;
            }
              return true;
        });
    }

    var randomEncounter = encounters.random();
    State.variables.LastEncounter = randomEncounter;

	return State.variables[randomEncounter];
};

setup.getExploreDestination = function(location)
{
    let nonCombatDests = State.variables.Explore_Destinations.filter(function(val) {

        return setup.getExplorationData(val).condition(location);
    });

    let highPriorityDest = nonCombatDests.filter(function(val) {
        return setup.getExplorationData(val).highPriority;
    });

    console.log("highPriorityDest")
    console.log(highPriorityDest)

    if(highPriorityDest.length != 0)
    {
        return setup.getExplorationData(highPriorityDest[0]).passage;
    }

	var encounterAmount = setup.getEncounterAmount();
	var destinationRange = encounterAmount + nonCombatDests.length;

    var choice = Math.floor(Math.random() * destinationRange);

	if(choice < encounterAmount && (State.variables.LastExplorationEnemyEncounter < 2 || nonCombatDests.length == 0))
	{
        State.variables.LastExplorationEnemyEncounter++;
		return "RandomEcounter";
	}
	else
	{
        State.variables.LastExplorationEnemyEncounter = 0;
		return nonCombatDests.random();
	}
};

setup.getExplorationData = function(id)
{
    for(var propertyName in setup.ExplorationData)
	{
		if(setup.ExplorationData[propertyName].id == id)
        {
            return setup.ExplorationData[propertyName];
        }
	}
}

setup.getManorDestinations = function()
{
	var destinations = ["WestWing_GymRoom", "WestWing_NyxSpawnPit", "WestWing_DrenthRoom", "WestWing_NyxSpawnFight", "WestWing_MirrorRoom", "WestWing_GloryHole"];

	for(let i = 0; i < destinations.length; i++)
	{
		if(destinations[i] == State.variables.WorldState.cultManor.westWing_LastDestination)
        {
            destinations.splice(i, 1);
        }
	}

    while(destinations.length >= 2)
    {
        console.log("removing")
        var index = setup.getRandomInt(0, destinations.length - 1);
        destinations.splice(index, 1);

        setup.shuffle(destinations);
    }

    /*var majorDestinations = ["WestWing_DrenthRoom","WestWing_NyxSpawnFight"]

    destinations.push(majorDestinations[setup.getRandomInt(0, majorDestinations.length - 1)])*/

	return destinations;
};

setup.shuffle = function(array) {
    for (let i = array.length - 1; i > 0; i--) {
      let j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }


setup.getNextManorDestination = function()
{
    var dest = "";
    if(State.variables.MQ002_Manor_Destinations.length >= 1)
    {
        dest = State.variables.MQ002_Manor_Destinations.shift();

        State.variables.WorldState.cultManor.westWing_LastDestination = dest;
    }
    else
    {
        dest = "MQ002_Manor_WestWing_Ending";
    }

    return "[[Enter the next room->"+dest+"]]";
};

setup.clearWestWingRoom = function(room)
{
    State.variables.CharacterSheet_MQ002_Guard.quest.lustIncrease = true;

    for(let i = 0; i < State.variables.WorldState.cultManor.westWing_ClearedRooms.length; i++)
	{
		if(room == State.variables.WorldState.cultManor.westWing_ClearedRooms[i])
        {
            return "";
        }
	}

    State.variables.WorldState.cultManor.westWing_ClearedRooms.push(room);

    if(State.variables.WorldState.cultManor.westWing_ClearedRooms.length >= 5)
    {
        setup.completeAchievement("Achievement_ExplorerOfCorruptedDepths");
    }

    return "∇: The monolith has gained power.";
};

setup.getFightStartPassages = function(character)
{
	var displayString = "";

    character.quest.met = true;
    character.info.known = setup.EncounterKnownState.KNOWN;
    State.variables.Encounter_Target = character;

	if(setup.Size.compare(State.variables.CharacterSheet_Player, 'height', character) >= setup.Size.Comparators.MACRO)
	{
		displayString += '<<run setup.choice("[[Fight->FightLogic]]");>>' +
		'\<<run setup.choice("[[They are too small for you to care->Village]]");>>';
	}
	else
	{
        displayString += '<<run setup.choice("[[Fight->FightLogic]]");>>' +
		'\<<run setup.choice("[[Run Away->Village]]");>>';
	}

	return displayString;
};

setup.impSetAggressiveMoveset = function()
{
	State.variables.CharacterSheet_Imp.fight.fightMoveIDs = [setup.FightMove.Basic_Attack.id]
};

setup.impSetSigilMoveset = function()
{
	State.variables.CharacterSheet_Imp.fight.fightMoveIDs = [setup.FightMove.Sigil_Vitality.id, setup.FightMove.Sigil_Pain.id, setup.FightMove.Sigil_Growth.id, setup.FightMove.Sigil_Perception.id]
};

setup.impSetGrowthMoveset = function()
{
	State.variables.CharacterSheet_Imp.fight.fightMoveIDs = [setup.FightMove.Sigil_Growth.id, setup.FightMove_PridefulAscent.id]
};

setup.hasKnownEncounter = function()
{
    if (State.variables.KnownEncounterList)
    {
        return true;
    }
    return false;
}

setup.setKnownEncounterList = function (location)
{
    State.variables.KnownEncounterList = "";
    var encounterList = setup.getEncounterList(location, true);
    if(encounterList == undefined)
    {
        return;
    }

    for(let i = 0; i < encounterList.length; ++i)
    {
        State.variables.KnownEncounterList += "[["+state.variables[encounterList[i]].info.name+"->KnownEncounter][$Encounter_Target = $"+state.variables[encounterList[i]].id+"]]\n";
    }
}

setup.displayKnownEncounters = function()
{
    return State.variables.KnownEncounterList;
};
/* twine-user-script #218: "FightMoveStore.js" */
setup.displayFightMoveStore = function()
{
    var displayString = "";
    var moves = setup.getAvailableStoreFightMoveIDs(State.variables.CharacterSheet_Player);

    for(let i = 0; i < moves.length; i++)
    {
        var fightMove = setup[moves[i]];
        if(State.variables.Essence < fightMove.essenceCost)
        {
            displayString += "<span class = 'inactive'>";
        }

        displayString += "[["+fightMove.itemName+" ["+fightMove.essenceCost+" Essence]->"+fightMove.buyPassage+"]]";

        if(State.variables.Essence < fightMove.essenceCost)
        {
            displayString += "</span>";
        }

        displayString += "\n";
    }

    return displayString;
}

setup.buyFightMove = function(character, fightMoveId)
{
    State.variables.CharacterSheet_Torgar.quest.relationshipScoring++;
    var move = setup[fightMoveId];
    if(move)
    {
        character.fight.fightMoveIDs.push(move.id);
    }

    State.variables.Essence -= move.essenceCost;

    State.variables.BoughtFightMoves++;
}

setup.getSigilBoughtPassage = function()
{
    if(State.variables.BoughtFightMoves <= 0)
    {
        return "Buy_First_Sigil_1";
    }
    else if(State.variables.CharacterSheet_Torgar.quest.usedVialOnPlayerDick == false)
    {
        return "Buy_More_Sigil";
    }
    else
    {
        return "Buy_Sigil_Used_Vial_On_Dick";
    }
}

setup.getAvailableStoreFightMoveIDs = function(character)
{
    var moveIDsFromStore = [...setup.FightMoveIDs];
    moveIDsFromStore = moveIDsFromStore.filter(function(val) {
        if(setup[val].buyFromStore)
        {
            return true;
        }
	  	return false;
    });

    var characterMoveIDs = [...character.fight.fightMoveIDs];
	characterMoveIDs = characterMoveIDs.filter(function(val) {
        if(setup[val].buyFromStore)
        {
            return true;
        }
	  	return false;
    });

    moveIDsFromStore = moveIDsFromStore.filter(function(val) {
		var i;
	  	for(i = 0; i < characterMoveIDs.length; i++)
		{
			if(setup[characterMoveIDs[i]].id == setup[val].id)
			{
				return false;
			}
		}
	  	return true;
    });
	return moveIDsFromStore;
};
/* twine-user-script #219: "StatsHelper.js" */
/* Declare globals for Eslint */
/* global setup, State*/
setup.isStunned = function(character)
{
	return character.fight.variables.stunnedDuration > 0;
};

setup.getPronoun = function(character, desc)
{
	if(character.info.gender == "MASC")
	{
		switch(desc)
		{
			case "pronoun":
				return "he";
			case "pronounCap":
				return "He";
			case "pronounDepPos":
				return "his";
			case "pronounDepPosCap":
				return "His";
			case "pronounObject":
					return "him";
			case "pronounObjectCap":
				return "Him";
		}
	}

	return "";
};


setup.getValueWithModifier = function(character, valueToModify, propertyName, ignoreAbility)
{
	var i;
    var modifiers = setup.getModifiers(character);
    var modifierLines = [];
    var replaceArray = [];

    for(i = 0; i < modifiers.length; i++)
    {
		let ability = setup.getAbilityByIndex(modifiers[i].abilityIndex);

        for(var modifierPropertyName in modifiers[i])
        {
            if(propertyName == modifierPropertyName && ability.id != ignoreAbility)
            {
				if(Array.isArray(modifiers[i][modifierPropertyName]))
				{
					for (let i0 = 0; i0 < modifiers[i][modifierPropertyName].length; ++i0)
					{
						modifierLines.push(modifiers[i][modifierPropertyName][i0]);
					}
				}
				else
				{
                	modifierLines.push(modifiers[i][modifierPropertyName]);
				}
            }
        }
    }

	for(i = 0; i < modifierLines.length; i++)
	{
		if(Array.isArray(modifierLines[i].value))
		{
			if(modifierLines[i].mod == setup.mod.ADD)
			{
				valueToModify.push(...modifierLines[i].value);
            }
            else if(modifierLines[i].mod == setup.mod.REPLACE)
            {
                replaceArray.push(...modifierLines[i].value);
            }
		}
		else if(!isNaN(modifierLines[i].value))
		{
			if(modifierLines[i].mod == setup.mod.ADD)
			{
                valueToModify = valueToModify + modifierLines[i].value;
			}
			else if(modifierLines[i].mod == setup.mod.REMOVE)
			{
				valueToModify -= modifierLines[i].value;
			}
		}
    }

	if(!isNaN(valueToModify))
	{
		//Apply multipliers after additives
		var multiplier = 1;
		for(i = 0; i < modifierLines.length; i++)
		{
			if(!isNaN(modifierLines[i].value))
			{
				if(modifierLines[i].mod == setup.mod.MULTIPLYPOS)
				{
					multiplier += multiplier * modifierLines[i].value;
				}
				else if(modifierLines[i].mod == setup.mod.MULTIPLYNEG)
				{
					multiplier -= multiplier * modifierLines[i].value;
				}
			}
		}

		valueToModify = Math.ceil(valueToModify * multiplier);
	}


    if(replaceArray.length > 0)
    {
        valueToModify = replaceArray;
    }

	for(i = 0; i < modifierLines.length; i++)
	{
		if(modifierLines[i].mod == setup.mod.REPLACE)
		{
			valueToModify = modifierLines[i].value;
		}
    }

	return valueToModify;
};

setup.updateArousal = function(character)
{
	var arousalGain = setup.getArousalGain(character);
	character.fight.variables.currentArousal += arousalGain;
	if(character.fight.variables.currentArousal >= 100)
	{
		character.fight.variables.currentArousal = 100;
        var params =
        {
            trigger: setup.AbilityTrigger.ON_MAX_LUST,
            self: character,
		}

		if (character.id == "CharacterSheet_Player"){
			return setup.AbiHndlr.broadcastAbilityTrigger(character, params) + "\n\n";
		}else{
			return setup.AbiHndlr.broadcastAbilityTrigger(character, params)
		}

	}
	else if(character.fight.variables.currentArousal < setup.getStatValue(character, "minArousal"))
	{
        character.fight.variables.currentArousal = setup.getStatValue(character, "minArousal");

        var params =
        {
            trigger: setup.AbilityTrigger.ON_MIN_LUST,
            self: character,
        }
        return setup.AbiHndlr.broadcastAbilityTrigger(character, params) + "\n\n";
	}

	return "";
};

setup.applyCorruption = function(character, amount)
{
    var previousCorruption = setup.getStatValue(character, "corruption");

	if(character.id == "CharacterSheet_Player")
	{
		//Corruption of the player is applied with Ability_ProcessingCorruption
	}
	else
	{
		if(character.info.corruption + amount < 0)
		{
			amount = character.info.corruption * -1;
		}

		console.log("adding " + amount);
		setup.addToBaseStatValue(character, "corruption", amount)

		if(setup.getStatValue(character, "corruption") >= 150)
		{
			setup.completeAchievement("Achievement_BaptismInCorruption");
		}
	}

    var params =
    {
        trigger: setup.AbilityTrigger.ON_GAIN_CORRUPTION,
        self: character,
		gainedCorruption: amount,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, params);

	if(character.info.name == State.variables.CharacterSheet_Player.info.name)
	{
		//did we change tier?
		if(setup.getCorruptionTierFromValue(previousCorruption) != setup.getCorruptionTier(character))
		{
			setup.updateStaticCorruptionUI(character);
		}
	}
};

setup.applyDailyCorruption = function(character)
{
	let amount = State.variables.CharacterSheet_Player.info.accumulatedCorruption + setup.getStatValue(State.variables.CharacterSheet_Player, "corruptionPerDay");
	var previousCorruption = setup.getStatValue(character, "corruption");

	if(character.info.corruption + amount < 0)
	{
		amount = character.info.corruption * -1;
	}

	if(character.info.accumulatedCorruption > 0)
	{
		character.info.accumulatedCorruption = Math.max(0, character.info.accumulatedCorruption + setup.getStatValue(State.variables.CharacterSheet_Player, "corruptionPerDay"))
	}

	setup.addToBaseStatValue(character, "corruption", amount)

	if(character.info.name == State.variables.CharacterSheet_Player.info.name)
	{
		//did we change tier?
		if(setup.getCorruptionTierFromValue(previousCorruption) != setup.getCorruptionTier(character))
		{
			setup.updateStaticCorruptionUI(character);
		}
	}
}

setup.updateStaticCorruptionUI = function(character)
{
	var corruption = setup.getStatValue(character, "corruption");
	var story = document.getElementById("story");
	story.className = setup.getCorruptionUIClassName(window.screenClass, corruption);

	var uibar = document.getElementById("ui-bar");
	uibar.className = setup.getCorruptionUIClassName("Sidebar", corruption);

	//document.getElementById("topBorderImage").src = setup.getBorderTop();
	//document.getElementById("bottomBorderImage").src = setup.getBordeBottom();

	//initialized in runtime
	var rowLogo = document.getElementById("stat-container-row-logo");
	if(rowLogo)
	{
		document.getElementById("stat-container-row-logo").src = setup.getStatWindowLogo(character);
	}
}

setup.getCorruptionTier = function(character)
{
	let corruption = setup.getStatValue(character, "corruption");

	return setup.getCorruptionTierFromValue(corruption);
};

setup.getCorruptionTierFromValue = function(corruption)
{
	let tier = 0;

	for(let i = 0; i < setup.corruptionTiers.length; i++)
	{
		if(i == setup.corruptionTiers.length - 1)
		{
			//we are at max tier
			tier = setup.corruptionTiers.length - 1;
			break;
		}

		if(corruption >= setup.corruptionTiers[i] && corruption < setup.corruptionTiers[i + 1])
		{
			tier = i;
			break;
		}
	}

	return tier;
}

setup.getCorruptionUIClassName = function(baseClass, corruption)
{
	switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return baseClass+" Corrupt0";
		case 1:
			return baseClass+" Corrupt25";
		case 2:
			return baseClass+" Corrupt50";
		case 3:
			return baseClass+" Corrupt75";
		case 4:
			return baseClass+" Corrupt100";
		default:
			return baseClass+" Corrupt100";
	}
}

setup.getStatWindowLogo = function(character)
{
	switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_middle_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_middle_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_middle_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_middle_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_middle_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_stats_border_top_middle_100.png";
	}
}

setup.getProgressBarImage = function(character)
{
	switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_border_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_border_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_border_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_border_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_border_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_border_100.png";
	}
}

setup.getEXPBarImage = function(character)
{
	switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_border_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_border_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_border_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_border_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_border_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_border_100.png";
	}
}

setup.getProgressBarBackground = function(statName)
{
	switch(statName)
	{
		case "Health":
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_back_health.png";
		case "Stamina":
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_back_stamina.png";
		case "Arousal":
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_back_arousal.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_stats_back_arousal.png";
	}
}

setup.getSaveIcon = function(character)
{
	switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_save_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_save_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_save_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_save_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_save_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_save_100.png";
	}
}

setup.getResetIcon = function(character)
{
	switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_erase_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_erase_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_erase_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_erase_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_erase_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_erase_100.png";
	}
}

setup.getAchievementIcon = function(character)
{
	switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_achievement_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_achievement_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_achievement_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_achievement_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_achievement_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_button_achievement_100.png";
	}
}

setup.getSideBarButton = function()
{
	var corruptionTier = setup.getCorruptionTier(State.variables.CharacterSheet_Player)
	if(UIBar.isStowed())
	{
		switch(corruptionTier)
		{
			case 0:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_expand_corrupt0.png";
			case 1:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_expand_corrupt25.png";
			case 2:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_expand_corrupt50.png";
			case 3:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_expand_corrupt75.png";
			case 4:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_expand_corrupt100.png";
			default:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_expand_corrupt100.png";
		}
	}
	else
	{
		switch(corruptionTier)
		{
			case 0:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_collapse_corrupt0.png";
			case 1:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_collapse_corrupt25.png";
			case 2:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_collapse_corrupt50.png";
			case 3:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_collapse_corrupt75.png";
			case 4:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_collapse_corrupt100.png";
			default:
				return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/ui_button_collapse_corrupt100.png";
		}
	}
}

setup.getBorderTop = function()
{
	switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_top_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_top_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_top_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_top_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_top_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_top_100.png";
	}
}

setup.getBordeBottom = function()
{
	switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_bottom_0.png";
		case 1:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_bottom_25.png";
		case 2:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_bottom_50.png";
		case 3:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_bottom_75.png";
		case 4:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_bottom_100.png";
		default:
			return "https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_bottom_100.png";
	}
}

setup.onVillageEnterCallback = function()
{
	//save file hack
    if(State.variables.VolumeControls == undefined)
    {
        State.variables.VolumeControls =
        {
            master:
            {
                volume: 0.2,
            },
            music:
            {
                volume: 0.2,
                list: [],
            },
            voices:
            {
                volume: 0.8,
                list: [],
            },
            sfx:
            {
                volume: 1,
                list: [],
            },
        };
    }

	var currentPassage = Story.get(State.peek().title);

	if(State.variables.InNyxDungeon == false && currentPassage.tags && currentPassage.tags.includes("NyxCastle"))
	{
		//enter dungeon
		State.variables.InNyxDungeon = true;

		if(!Save.slots.has(7) || Save.slots.get(7).title == "Autosave")
		{
			Save.slots.save(7, "Autosave");
		}

		var aList = SimpleAudio.lists.get("nyx_dungeon_theme");
		if(aList.isPlaying() == false)
		{
			State.variables.VolumeControls.music.list = [];

			console.log('NyxCastle start')
			console.log(State.variables.VolumeControls.music.volume)
			aList.stop();
			aList.shuffle(true);
			aList.loop(true);
			aList.volume(State.variables.VolumeControls.music.volume);
			aList.play();

			State.variables.VolumeControls.music.list.push("nyx_dungeon_theme");
		}
	}
	else if(State.variables.InNyxDungeon == true && (!currentPassage.tags || !currentPassage.tags.includes("NyxCastle")))
	{
		//exit dungeon
		State.variables.InNyxDungeon = false;
		State.variables.VolumeControls.music.list = [];

		if(SimpleAudio.lists.get("nyx_dungeon_theme").isPlaying())
		{
			console.log('NyxCastle end')
			//leaving overworld
			SimpleAudio.lists.get("nyx_dungeon_theme").fadeOut(2);
		}
	}

    if(currentPassage.tags && currentPassage.tags.includes("Overworld"))
    {
        if(State.variables.InOverworld == false || State.variables.InOverworld == undefined)
        {
            State.variables.InOverworld = true;
			if (State.variables.NoTimePasses != true)
			{
				setup.addDays(1);
			}
			State.variables.NoTimePasses = false;

			switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
			{
				case 0:
					State.variables.PlayingVillageTheme = "village_bgm1";
					break;
				case 1:
					State.variables.PlayingVillageTheme = "village_bgm2";
					break;
				case 2:
					State.variables.PlayingVillageTheme = "village_bgm3";
					break;
				case 3:
					State.variables.PlayingVillageTheme = "village_bgm4";
					break;
				default:
					State.variables.PlayingVillageTheme = "village_bgm4";
					break;
			}

			console.log(State.variables.PlayingVillageTheme);
			console.log(setup.getCorruptionTier(State.variables.CharacterSheet_Player));

			var aList = SimpleAudio.lists.get(State.variables.PlayingVillageTheme);
			if(aList.isPlaying() == false)
			{
				State.variables.VolumeControls.music.list = [];

				console.log('village start')
				console.log(State.variables.VolumeControls.music.volume)
				aList.stop();
				aList.shuffle(true);
				aList.loop(true);
				aList.volume(State.variables.VolumeControls.music.volume);
				aList.play();

				State.variables.VolumeControls.music.list.push(State.variables.PlayingVillageTheme);
			}
        }
    }
    else
    {
		if(State.variables.InOverworld == true && State.variables.PlayingVillageTheme != undefined)
		{
			if(SimpleAudio.lists.get(State.variables.PlayingVillageTheme).isPlaying())
			{
				//leaving overworld
				SimpleAudio.lists.get(State.variables.PlayingVillageTheme).fadeOut(2);
			}
		}

        State.variables.InOverworld = false;
    }
};

setup.saveFightAttributes = function(character)
{
	character.fight.variables = State.variables.FightVariables;
	State.variables[character.id].info = character.info;
	State.variables[character.id].fight = character.fight;

	SimpleAudio.lists.get(setup.getBattleTheme(character)).fadeOut(2);
}

setup.getBattleTheme = function(character)
{
	if(character.id == "CharacterSheet_Apothus_2nd_Form")
	{
		return "final_boss_bgm"
	}

	if(character.id == "CharacterSheet_MQ002_NyxParasite" || character.id == "CharacterSheet_Doppleganger" || character.id == "CharacterSheet_MQ002_DragonMonk")
	{
		return "nyx_dungeon_battle"
	}

	if(character.id == "CharacterSheet_Ethrex")
	{
		return "battle_bgm_hard"
	}

	if(character.id == "CharacterSheet_Imp")
	{
		return "battle_bgm"
	}

	if(character.fight.fightReward >= setup.RewardTier.HIGH)
	{
		return "battle_bgm_hard"
	}
	else
	{
		return "battle_bgm"
	}
}

setup.applyGrowth = function(character, type, amount)
{
    switch(type)
    {
        case "cock":
            if(!setup.hasLimb(character, "cocks"))
            {
                return 0;
            }
            break;
        case "muscles":
            if(!setup.hasLimb(character, "arms") &&
               !setup.hasLimb(character, "pecs") &&
               !setup.hasLimb(character, "abdominals") &&
               !setup.hasLimb(character, "legs"))
            {
                return 0;
            }
            break;
        case "balls":
            if(!setup.hasLimb(character, "balls"))
            {
                return 0;
            }
            break;
	}

    var multiplier = setup.getStatValue(character, "growthMultiplier");

	amount *= multiplier;

	if(amount > 0)
	{
        switch(type)
        {
            case "cock":
                amount += setup.getStatValue(character, "bonusGrowthCock");
                break;
            case "muscles":
                amount += setup.getStatValue(character, "bonusGrowthMuscles");
                break;
            case "height":
                amount += setup.getStatValue(character, "bonusGrowthHeight");
                break;
            case "balls":
                amount += setup.getStatValue(character, "bonusGrowthBalls");
                break;
        }
	}

	//because .tofixed turns it into a string lmao what a joke
	var growth = Math.round(amount * 100) / 100;

	switch(type)
	{
		case "cock":
            setup.addToBaseStatValue(character, "cock", growth);
			break;
		case "muscles":
            setup.addToBaseStatValue(character, "muscles", growth);
			break;
		case "height":
            setup.addToBaseStatValue(character, "height", growth);
			break;
		case "balls":
            setup.addToBaseStatValue(character, "balls", growth);
			break;
	}

    var params =
    {
        trigger: setup.AbilityTrigger.ON_APPLY_GROWTH,
        self: character,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, params);

	return growth;
}

setup.displayCorruptSidebar = function(character)
{
	var displayString = "";

	displayString +=  "<span class='corruptText100'>";
	displayString +=  "<span class='glitch nyx fucked' data-text='̶̱̍̔ɟ̷͓͔̌ı̴͕͇͎̊ɹ̴̗͇͂͑̀ͅs̴̰͖̆ʇ̷̴͇͕͛́͘Ṫ̶̖Ḩ̵̰̈Ȅ̷̥̄ ̴̛̣̟̃Ā̸͜G̴͇̗̅͝Ḙ̴͋͐ ̶̪̖̑O̸̙͛̀F̴̡̖̊͆ ̸̠̥̇͐N̴̬͑Y̸̰̔X̴͚́ɟ̷͓͔̌ı̴͕͇͎̊ɹ̴̗͇͂͑̀ͅs̴̰͖̆ʇ̷͇͛ '>̶̱̍̔ɟ̷͓͔̌ı̴͕͇͎̊ɹ̴̗͇͂͑̀ͅs̴̰͖̆ʇ̷͇͛ THE AGE OF NYXɟ̷͓͔̌ı̴͕͇͎̊ɹ̴̗͇͂͑̀ͅs̴̰͖̆ʇ̷͇͛ </span> \n";
	displayString +=  "<div id='SidebarDivisionTop'>"+setup.getCorruptSidebarDividerTop()+"</div>";
	displayString += "<div class='stat-window-offset'>"
	displayString += 	"<div class='info-row'>"
    displayString += 	   "<div class='info-column1 corruptText100'>"
    displayString += 	       "CORRUPTION\n"
    displayString += 	       "CORRUPTION\n"
    displayString += 	       "CORRUPTION\n"
    displayString += 	   "</div>";
    displayString += 	   "<div class='info-column2'>"
    displayString += 	       "ɥ̸̡̌̆͒̕͠ƃ̶̤͔̦̳̰͋͊̐͐̂ı̴̛͎̠̂́͝ɥ̶̲̜̎̏̐́̚ ̷̟͉̮͑͜ʎ̷̧̺͎͉̘̻̒̈́̍͗̿ן̶̛̲̝̱̈́́͘ן̵̖̣̖͇̘̈́̀̾̾͘ɐ̸̨͈͌̅ı̸̻͔͕̩̓̄̇̒͠ʇ̵̤̠̠͖̈̉͌̊͛͝͝u̸͔̰̟̖͐̎̏ͅǝ̷̧̭̗̰̱̜̩̀̄̆̋̊͆ͅu̸͙̼̜̭̺̓͛͌͆̏̕͜ȍ̵̭͓̼̑̿d̸̙̜̺͙̓͑̂͝x̵̬̣͇̍́̎̉̇̅ǝ̸͋̒̃̋͗̓͊͜͠\n"
    displayString += 	       "̷̺͖̻̟̫̱̹͐̎̿͑̅̔͘ȋ̶̤͎͓͇̪̪͚̂ᴎ̸̥͉͎͈̳̏̃̆͜ꟻ̶̡͍̯͙̪͙̋̈́̏͐̎̎ì̴̢̡͚̜̭̳̭̫͓̉̕ᴎ̶̈́̄̃ͅͅi̶̻̜͓̘̗̯̊͗̔̍͒́̉͝T̸̩̭͈̞̣̳͆ɘ̵̳̥̲͖̳̈́̌̓́̍̚͜͠͝\n"
    displayString += 	       "̸̧̻͎͔̗̪́͝A̴̧̯̪̬̘̙̝̿̌͊l̷͍͎͆̒̔̅̄̒͛̄͠l̴͇͚̾̂ ̸̰̼̟͇͍̮̙̤̰̊Ↄ̵̢̘̺̪̮̙͖͙̞̉͊͐ô̵̖̦͍̯͇̫͙̠̒͐̄̈̾͒̚ᴎ̷̲͈̘͔̞̙̪̰͋ꙅ̴̦̟͔̂̓͂̃U̸̫̞̻͉̝͔͕̠͕̇m̸̙̬͎̻͕͔͙̓͗̂͗̃̓̕͝ị̷̧̧̡̛͈̝͖͓̙̀̄̃̆̕ᴎ̸̛̹̻̃̾̔͛̿̂̂͝g̶̢̞̪͐̓͛̀̋́̈́́̕\n"
    displayString += 	   "</div>";
	displayString += 	"</div>";
	displayString += "<div class='statBarContainer'>";
	displayString += 	setup.displayStatProgressBar(character, "Arousal", 99999999, 99999999, "ArousalProgress");
	displayString += 	"<div class='stat-perturn'>";
	displayString += 		setup.displaySign(setup.getArousalGain(character)) +  setup.displayStatValue(character, "arousalGain");
	displayString +=		" <span style='color:#d600b2'>per turn </span></div>";
	displayString += 	"</div>";
	displayString += "</div>";
	displayString += "<div class='statBarContainer'>";
	displayString += 	setup.displayStatProgressBar(character, "Arousal", 99999999, 99999999, "ArousalProgress");
	displayString += 	"<div class='stat-perturn'>";
	displayString += 		setup.displaySign(setup.getArousalGain(character)) +  setup.displayStatValue(character, "arousalGain");
	displayString +=		" <span style='color:#d600b2'>per turn </span></div>";
	displayString += 	"</div>";
	displayString += "</div>";
	displayString += "<div class='statBarContainer'>";
	displayString += 	setup.displayStatProgressBar(character, "Arousal", undefined, 99999999999, "ArousalProgress");
	displayString += 	"<div class='stat-perturn'>";
	displayString += 		setup.displaySign(setup.getArousalGain(character)) +  setup.displayStatValue(character, "arousalGain");
	displayString +=		" <span style='color:#d600b2'>per turn </span></div>";
	displayString += 	"</div>";
	displayString += "</div>";
	displayString += "</span>";

	return displayString;
}

setup.displayInfoStats = function(character)
{
	var cycle = State.variables.Cycle;
	var expedition = State.variables.Expedition;
	var displayString = "";

	displayString +=  "<span class='DateText'>"+setup.ordinal_suffix(expedition) +" Expedition of the "+ setup.ordinal_suffix(cycle) +" Cycle</span>";
	displayString +=  "<div id='SidebarDivisionTop'>"+setup.getCorruptSidebarDividerTop()+"</div>";
	displayString +=  "<div class='PlayerDescriptor'>";
	displayString +=  "<span class='PlayerName'>"+State.variables.CharacterSheet_Player.info.name.toUpperCase() +"</span>\n";
	displayString +=  "<span class='LevelText'>Lvl "+State.variables.Level+"</span> <span class='PlayerRace'>"+setup.getRaceName(State.variables.CharacterSheet_Player)+"</span>\n";
	displayString +=  "</div>";
	displayString += "<div id='LevelBarContainer'>";
	displayString += "<div class='ProgressBarRow'>"
    displayString +=    "<div class='ProgressBarColumn1'>"
    displayString +=        "Next"
    displayString +=    "</div>";
	displayString +=    "<div class='ProgressBarColumn2'>"

	if(State.variables.Exp >= setup.getXPRequirement(State.variables.Level))
	{
		displayString += 0;
	}
	else
	{
		displayString += (setup.getXPRequirement(State.variables.Level) - State.variables.Exp).toFixed(2).replace(/\.00$/, '');
	}

    displayString +=    "</div>";
	displayString += "</div>";
	displayString += 	"<div id='LevelBarContent'>";
	displayString += 		"<progress id='LevelProgress' @value='"+(State.variables.Exp - setup.getXPRequirement(State.variables.Level - 1))+"' @max='"+setup.getXPRequirement(State.variables.Level)+"'></progress>";
	displayString += 	"</div>";
	displayString += 	"<div id='LevelBarBorder'><img src='"+setup.getEXPBarImage(character)+"'></div>";
	displayString += 	"<div class='ProgressBarBackground'><img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_bar_level_empty.png'></div>";
	displayString += "</div>";
	displayString += 	"<div class='info-container'>"
    displayString += 	   "<div class='info-row "+setup.getCorruptTextClass(character)+"'>"
    displayString += 	       "<dt>ESSENCE</dt>"
	displayString += 	       "<dd>"+State.variables.Essence.toFixed(2).replace(/\.00$/, '') + "</dd>"
    displayString += 	   "</div>";
	displayString += 	   "<div class='info-row "+setup.getCorruptTextClass(character)+"'>"
	displayString += 	       "<dt>CORRUPTION</dt>"

	if(State.variables.CharacterSheet_Player.info.accumulatedCorruption > 0)
	{
		let perDay = State.variables.CharacterSheet_Player.info.accumulatedCorruption;
		displayString += "<dd>" + setup.displayStatValue(State.variables.CharacterSheet_Player, "corruption") + " + "+perDay+" daily</dd>"
	}
	else
	{
		displayString += 	   "<dd>"+setup.displayStatValue(State.variables.CharacterSheet_Player, "corruption")+"</dd>"
	}
	displayString += 	   "</div>";
	displayString += 	"</div>";

	return displayString;
}

setup.ordinal_suffix = function(i) {
    var j = i % 10,
        k = i % 100;
    if (j == 1 && k != 11) {
        return i + "st";
    }
    if (j == 2 && k != 12) {
        return i + "nd";
    }
    if (j == 3 && k != 13) {
        return i + "rd";
    }
    return i + "th";
}

setup.displayFightStats = function(character)
{
	var displayString = "";

	displayString += "<div class='fightStatContainer'>"
	displayString += "<div class='statBarContainer'>";
    if(character.fight.variables.currentHP != undefined)
    {
		displayString += setup.displayStatProgressBar(character, "Health", "currentHP", setup.getMaxHP(character), "HPProgress");
    }
    else
    {
		displayString += setup.displayStatProgressBar(character, "Health", undefined, setup.getMaxHP(character), "HPProgress");
    }
    displayString += "<div class='stat-perturn'>";
	displayString +=    "&nbsp;";
	displayString += "</div>";
	displayString += "</div>";

	if(setup.AbiHndlr.hasAbility(character, "Ability_HostOfEcho"))
	{
		displayString += "<div class='statBarContainer'>";
		if(character.fight.variables.currentStamina != undefined)
		{
			displayString += setup.displayStatProgressBar(character, "Arousal", "currentArousal", 100, "ArousalProgress");
		}
		else
		{
			displayString += setup.displayStatProgressBar(character, "Arousal", undefined, 100, "ArousalProgress");
		}

		displayString += "<div class='stat-perturn'>";
		displayString += setup.displaySign(setup.getArousalGain(character)) +  setup.displayStatValue(character, "arousalGain");
		displayString +=" <span style='color:#d600b2'>per turn </span></div>";
		displayString += "</div>";
	}
	displayString += "</div>";

	displayString +="<div class='fight-stat-window-offset'>";
	displayString +="<div id='stat-container'>";
	displayString +=	"<div id='stat-container-row' class='"+setup.getCorruptionUIClassName(setup.getCorruptTextClass(character), setup.getStatValue(character, "corruption"))+"'>";
	displayString +=	    "<img id='stat-container-row-logo' src='"+setup.getStatWindowLogo(character)+"'>";

	if(State.variables.DisplayStatWindow)
	{
		displayString +=	    	"<div id='statButtonText' class='stat-container-column-active'>";
	}
	else
	{
		displayString +=	    	"<div id='statButtonText'>";
	}

    displayString +=	    	"<<click '<span>STATS</span>'>>";
	displayString +=	  		   "<<if $DisplayStatWindow == false>>";
	displayString +=	  		      "<<toggleclass '#StatsWindow' 'hidden'>>";
	displayString +=	  		      "<<toggleclass '#statButtonText' 'stat-container-column-active'>>";
	displayString +=	  		      "<<toggleclass '#abilitiesButtonText' 'stat-container-column-active'>>";
	displayString +=	  		      "<<toggleclass '#AbilitiesWindow' 'hidden'>>";
	displayString +=	  		   "<</if>>";
	displayString +=	  		   "<<set $DisplayStatWindow = true>>";
	displayString +=			"<</click>>";
	displayString +=	    	"</div>";

	if(State.variables.DisplayStatWindow)
	{
		displayString +=	    	"<div id='abilitiesButtonText'>";
	}
	else
	{
		displayString +=	    	"<div id='abilitiesButtonText' class='stat-container-column-active'>";
	}

	displayString +=			"<<click '<span>ABILITIES</span>'>>";
	displayString +=	   		   "<<if $DisplayStatWindow == true>>";
	displayString +=	   		      "<<toggleclass '#StatsWindow' 'hidden'>>";
	displayString +=	  		      "<<toggleclass '#statButtonText' 'stat-container-column-active'>>";
	displayString +=	   		      "<<toggleclass '#abilitiesButtonText' 'stat-container-column-active'>>";
	displayString +=	   		      "<<toggleclass '#AbilitiesWindow' 'hidden'>>";
	displayString +=	   		   "<</if>>";
	displayString +=	   		   "<<set $DisplayStatWindow = false>>";
	displayString +=			"<</click>>";
	displayString +=	    	"</div>";
    displayString +=	    "</div>";
	displayString +=	"</div>";

	displayString +="<div class='"+setup.getCorruptionUIClassName("stat-container", setup.getStatValue(character, "corruption"))+"'>";

	if(State.variables.DisplayStatWindow)
	{
		displayString +=	"<div id='StatsWindow'>";
	}
	else
	{
		displayString +=	"<div id='StatsWindow' class='hidden'>";
	}
	displayString +=		"<div class='stats-combat'>";
    displayString +=			"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=			        "<dt data-short='STR'><span>STRENGTH</span></dt>";
	displayString +=			        "<dd>"+setup.displayStatValue(character, "strength")+ "</dd>";
	displayString +=			 "</div>";
	displayString +=			"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=			        "<dt data-short='PRO'><span>PROWESS</span></dt>";
	displayString +=			        "<dd>"+setup.displayStatValue(character, "stamina")+ "</dd>";
	displayString +=			 "</div>";
	displayString +=			"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=			        "<dt data-short='CRIT'><span>CRIT %</span></dt>";
	displayString +=			        "<dd>"+setup.displayStatValue(character, "critChance") + "%</dd>";
	displayString +=			 "</div>";
	displayString +=			"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=			        "<dt data-short=''><span>CRIT DMG</span></dt>";
	displayString +=			        "<dd>× "+setup.displayStatValue(character, "critDamage")+ "</dd>";
	displayString +=			 "</div>";
	displayString +=  			"<div class='SidebarDivisionMid'>"+setup.getCorruptSidebarDividerMid()+"</div>";
	displayString +=		"</div>";
	displayString += 		setup.displayBodyStats(character);
	displayString +=	"</div>";

	var classname = setup.getCorruptionUIClassName("dummy", setup.getStatValue(character, "corruption"));
	if(!State.variables.DisplayStatWindow)
	{
		displayString +=	"<div id='AbilitiesWindow' class='"+classname+"'>";
	}
	else
	{
		displayString +=	"<div id='AbilitiesWindow' class='hidden "+classname+"'>";
	}
	displayString +=		"<div id='AbilitiesWindowContentList'>";
	displayString += 			setup.displayAbilityCategoryIcons(character);
	displayString += 			setup.displayPersistentAbilities(character);
	displayString +=		"</div>";
	displayString +=	"</div>";

    displayString +="</div>";
	displayString +="</div>";

	return displayString;
};

setup.displayStatProgressBar = function(character, statName, currentStatVariable, statValue, statStyle)
{
	var displayString = "";

	console.log(statValue)
	var statValueString = statValue.toFixed(0);

	var statNameColor = undefined;
	var statValueName = "";

	switch(statName)
	{
		case "Health":
			statNameColor = "#ff6767"
			statValueName = "hp"
		break;
		case "Stamina":
			statNameColor = "#42ff87"
			statValueName = "stamina"
		break;
		case "Arousal":
			statNameColor = "#ff5ae3"

		break;
	}

	displayString += "<div class='ProgressBarContainer'>";
	displayString += 	"<div class='ProgressBarContent'>";

	if(statNameColor == undefined)
	{
		displayString += 	"<div class='ProgressBarName'>";
	}
	else
	{
		displayString += 	"<div class='ProgressBarName' style='color:"+statNameColor+"'>";
	}

	displayString += 			statName;
	displayString += 		"</div>";

	if(currentStatVariable == undefined)
	{
		if(statName == "Arousal")
		{
			displayString += 	"<progress id='"+statStyle+"' @value=\""+0+"\" @max=\"" + statValueString + "\"></progress>";
		}
		else
		{
			displayString += 	"<progress id='"+statStyle+"' @value=\""+statValueString+"\" @max=\"" + statValueString + "\"></progress>";
		}
	}
	else
	{
		displayString += 		"<progress id='"+statStyle+"' @value=\"$CharacterSheet_Player.fight.variables."+currentStatVariable+"\" @max=\"" + statValueString + "\"></progress>";
	}

	displayString += 	"</div>";
	displayString += 	"<div class='ProgressBarBackground'><img src='"+setup.getProgressBarBackground(statName)+"'></div>";
	displayString += 	"<div class='ProgressBarBorder'><img src='"+setup.getProgressBarImage(character)+"'>";
	displayString += 		"<div class='ProgressBarText'>";

	if(currentStatVariable == undefined)
	{
		if(statName == "Arousal")
		{
			if(State.variables.CorruptSidebar)
			{
				displayString += statValueString+" / "+statValueString;
			}
			else
			{
				displayString += "0 / "+statValueString;
			}
		}
		else
		{
			displayString += statValueString +" / "+setup.displayStatValue(character, statValueName);
		}
	}
	else
	{
		if(statName == "Arousal")
		{
			displayString +="$CharacterSheet_Player.fight.variables."+currentStatVariable + " / " + statValueString;
		}
		else
		{
			displayString +="$CharacterSheet_Player.fight.variables."+currentStatVariable + " / " + setup.displayStatValue(character, statValueName);
		}

	}

	displayString += 		"</div>";
	displayString += 	"</div>";

	displayString += "</div>";

	return displayString;
}

setup.displayBodyStats = function(character)
{
    var displayString = "";
	displayString += "<div class='stats-body'>";
    displayString +=	"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=        "<dt><span>BODY TYPE</span></dt>";
	displayString +=		"<dd>"+"<<nobr>>"+setup.getMusclesDescriptor(character)+"&nbsp;("+ setup.displayStatValue(character, "muscles")+")<</nobr>></dd>";
	displayString +=    "</div>";
	displayString +=	"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=        "<dt><span>HEIGHT</span></dt>";
	displayString +=		"<dd>"+setup.displayStatValue(character, "height", true)+"</dd>";
	displayString +=    "</div>";
	displayString +=	"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=        "<dt><span>COCK SIZE</span></dt>";
	displayString +=   		"<dd>"+setup.displayStatValue(character, "cock", true)+"</dd>";
	displayString +=    "</div>";
	displayString +=	"<div class='info-row "+setup.getCorruptTextClass(character)+"'>";
    displayString +=        "<dt><span>BALLS SIZE</span></dt>";
	displayString +=		"<dd>"+setup.displayStatValue(character, "balls", true)+"</dd>";
	displayString +=    "</div>";
	displayString +="</div>";

    return displayString;
}

setup.getCorruptTextClass = function(character)
{
    switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "corruptText0";
		case 1:
			return "corruptText25";
		case 2:
			return "corruptText50";
		case 3:
			return "corruptText75";
		case 4:
			return "corruptText100";
		default:
			return "corruptText100";
	}
}

setup.getCorruptBackgroundClass = function(character)
{
    switch(setup.getCorruptionTier(character))
	{
		case 0:
			return "corruptBackground0";
		case 1:
			return "corruptBackground25";
		case 2:
			return "corruptBackground50";
		case 3:
			return "corruptBackground75";
		case 4:
			return "corruptBackground100";
		default:
			return "corruptBackground100";
	}
}

setup.getCorruptSidebarDividerMid = function()
{
    switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_mid_0.png'>";
		case 1:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_mid_25.png'>";
		case 2:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_mid_50.png'>";
		case 3:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_mid_75.png'>";
		case 4:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_mid_100.png'>";
		default:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_mid_100.png'>";
	}
}

setup.getCorruptSidebarDividerTop = function()
{
    switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_top_0.png'>";
		case 1:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_top_25.png'>";
		case 2:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_top_50.png'>";
		case 3:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_top_75.png'>";
		case 4:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_top_100.png'>";
		default:
			return "<img src='https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/side_bar/ui_sidebar_division_top_100.png'>";
	}
}

setup.getAbilitiesPowerIcon = function()
{
    switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return '<img title="Perks" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_power_corrupt0.png">';
		case 1:
			return '<img title="Perks" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_power_corrupt25.png">';
		case 2:
			return '<img title="Perks" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_power_corrupt50.png">';
		case 3:
			return '<img title="Perks" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_power_corrupt75.png">';
		case 4:
			return '<img title="Perks" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_power_corrupt100.png">';
		default:
			return '<img title="Perks" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_power_corrupt100.png">';
	}
}

setup.getAbilitiesAlterationIcon = function()
{
    switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_alteration_corrupt0.png">';
		case 1:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_alteration_corrupt25.png">';
		case 2:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_alteration_corrupt50.png">';
		case 3:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_alteration_corrupt75.png">';
		case 4:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_alteration_corrupt100.png">';
		default:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_alteration_corrupt100.png">';
	}
}

setup.getAbilitiesStatusEffectsIcon = function()
{
    switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_statuseffect_corrupt0.png">';
		case 1:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_statuseffect_corrupt25.png">';
		case 2:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_statuseffect_corrupt50.png">';
		case 3:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_statuseffect_corrupt75.png">';
		case 4:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_statuseffect_corrupt100.png">';
		default:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_statuseffect_corrupt100.png">';
	}
}

setup.getAbilitiesGlobalIcon = function()
{
    switch(setup.getCorruptionTier(State.variables.CharacterSheet_Player))
	{
		case 0:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_global_corrupt0.png">';
		case 1:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_global_corrupt25.png">';
		case 2:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_global_corrupt50.png">';
		case 3:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_global_corrupt75.png">';
		case 4:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_global_corrupt100.png">';
		default:
			return '<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/Abilities/ui_abilities_global_corrupt100.png">';
	}
}

setup.getAbilityCategoryIcon = function(category)
{
	var displayString = "";

	switch(category)
	{
		case 0:
			displayString += setup.getAbilitiesPowerIcon();
			break;
		case 1:
			displayString += setup.getAbilitiesAlterationIcon();
			break;
		case 2:
			displayString += setup.getAbilitiesStatusEffectsIcon();
			break;
		case 3:
			displayString += setup.getAbilitiesGlobalIcon();
			break;
		default:
			displayString += setup.getAbilitiesGlobalIcon();
			break;
	}

	displayString += setup.getUnseenAbilitiesAmount(category);

	console.log("displayAbilityCategoryIcons")
	console.log(category)

	displayString += "<<link \"<div "+setup.displayAbilityCategoryTitleElement(category)+" class='AbilityCategoryHighlight"+setup.isAbilityCategorySelected(category)+"'></div>\">>";
	displayString += '<<replace "#AbilitiesWindowContentList">>';
	displayString += '<<set $SelectedAbilityFilter = '+category+'>>';
	displayString += '<<print setup.displayAbilityCategoryIcons(State.variables.CharacterSheet_Player)>>';
	displayString += '<<print setup.displayPersistentAbilities(State.variables.CharacterSheet_Player)>>';
	displayString += '<</replace>>';
	displayString += '<</link>>';

	return displayString
}

setup.displayAbilityCategoryTitleElement = function(category)
{
	var displayString = "";

	switch(category)
	{
		case 0:
			displayString += "title='Perks'";
			break;
		case 1:
			displayString += "title='Alterations'";
			break;
		case 2:
			displayString += "title='Status Effects'";
			break;
		case 3:
			displayString += "title='Global Effects'";
			break;
		default:
			displayString += "title='Global Effects'";
			break;
	}

	return displayString;
}

setup.displayAbilityCategoryIcons = function(character)
{
	var displayString = "";

	displayString += '<div class="AbilityCategoryIconsContainer">';
	displayString += '<div class="AbilityCategoryIconsContainerInternal">';
	displayString += 	'<div class="AbilityCategoryIconButton Powers">';
	displayString += 		setup.getAbilityCategoryIcon(0);
	displayString += 	'</div>';
	displayString += 	'<div class="AbilityCategoryIconButton Alteration">';
	displayString += 		setup.getAbilityCategoryIcon(1);
	displayString += 	'</div>';
	displayString += 	'<div class="AbilityCategoryIconButton StatusEffects">';
	displayString += 		setup.getAbilityCategoryIcon(2);
	displayString += 	'</div>';
	displayString += 	'<div class="AbilityCategoryIconButton Global">';
	displayString += 		setup.getAbilityCategoryIcon(3);
	displayString += 	'</div>';
	displayString += '</div>';
	displayString += '</div>';

	return displayString;
}

setup.isAbilityCategorySelected = function(category)
{
	var displayString = "";

	if(category == State.variables.SelectedAbilityFilter)
	{
		displayString += " selected"

		console.log("selected")
	}


	return displayString;
}

setup.displayPersistentAbilities = function(character)
{
	let displayString = "";
    let abilities = character.abilityRuntimeDatas;

    let activeAbi = [];
    abilities.forEach( abilityData => {
        if(!abilityData.isActive) {
            return;
        };
        let ability = setup.getAbilityByIndex(abilityData.abilityDataIndex);
        if(ability.filter != State.variables.SelectedAbilityFilter){
            return;
        };

        activeAbi.push([abilityData, ability]);
    });

    activeAbi.sort( ([a,abilityA], [b, abilityB]) => {
        return Ability.sort(abilityA, abilityB);
    });

    activeAbi.forEach( ([abilityData, ability]) =>
	{
        var modifier = abilityData.modifier;
        var rankString  = setup.displayRankText(abilityData);

		displayString += "<span class='AbilityContainer'>"
		if(abilityData.seen == false)
		{
			abilityData.seen = true;
			displayString += "<div class='AbilityNotificationBlipContainer'>"
			displayString += "<div class='AbilityHeaderNotificationBlip'></div>"
			displayString += "</div>"
		}

		displayString += "<details class='PassiveAbility'>";

		displayString += "<summary class='"+setup.getCorruptionUIClassName("PassiveAbilityHeader", setup.getStatValue(character, "corruption"))+"'>" + ability.name + " "+rankString+"</summary>";
		displayString += 	"<p class='PassiveAbilityBody' >";

		displayString += setup.displayModifiers(modifier);

        if(ability.description != undefined || ability.description(character, abilityData) != "")
        {
            displayString += ability.description(character, abilityData);
            displayString += "\n"
        }

		displayString += 	"</p>";
		displayString += "</details>";
		displayString += "</span>";
    });

	return displayString;
}

setup.displayModifiers = function(modifiers)
{
	var displayString = "";
	for(var [propertyName, modDef] of Object.entries(modifiers))
	{
		var modifiersList = Array.isArray(modDef) ? modDef: [modDef];
		modifiersList.forEach( mod=>  {
            if( setup.isModifierEmpty(mod))
            {
                // Don't display modifiers that don't do anything
                // (There are a few edge cases that can cause this)
                return;
            }

			if(propertyName == "maxHPMods")
			{
				displayString += setup.displayModifierText(mod, "Max HP");
				displayString += "<br>"
			}

			if(propertyName == "maxStaminaMods")
			{
				displayString += setup.displayModifierText(mod, "Prowess");
				displayString += "<br>"
			}

			if(propertyName == "strengthMods")
			{
				displayString +=  setup.displayModifierText(mod, "Strength");
				displayString += "<br>"
			}

			if(propertyName == "critChanceMods")
			{
				displayString += setup.displayModifierText(mod, "Crit Chance");
				displayString += "<br>"
			}

			if(propertyName == "critDamageMods")
			{
				displayString += setup.displayModifierText(mod, "Crit Damage Multiplier");
				displayString += "<br>"
			}

			if(propertyName == "essenceMultiplierMods")
			{
				displayString += setup.displayModifierText(mod, "Essence Gain Multiplier");
				displayString += "<br>"
			}

			if(propertyName == "actionSlotsMods")
			{
				displayString += setup.displayModifierText(mod, "Action Slots");
				displayString += "<br>"
			}

			if(propertyName == "comboMovesPerTurnMods")
			{
				displayString += setup.displayModifierText(mod, "Combo Moves Per Turn");
				displayString += "<br>"
			}

			if(propertyName == "arousalGainMods")
			{
				displayString += setup.displayModifierText(mod, "Arousal Gain");
				displayString += "<br>"
			}

			if(propertyName == "minArousalMods")
			{
				displayString += setup.displayModifierText(mod, "Min Arousal");
				displayString += "<br>"
			}

			if(propertyName == "staminaRecoveryMods")
			{
				displayString += setup.displayModifierText(mod, "Stamina Recovery");
				displayString += "<br>"
			}

			if(propertyName == "corruptionMods")
			{
				displayString += setup.displayModifierText(mod, "Corruption");
				displayString += "<br>"
			}

			if(propertyName == "cockMods")
			{
				displayString += setup.displayModifierText(mod, "Cock Size", true);
				displayString += "<br>"
			}

			if(propertyName == "ballsMods")
			{
				displayString += setup.displayModifierText(mod, "Balls Size", true);
				displayString += "<br>"
			}

			if(propertyName == "heightMods")
			{
				displayString += setup.displayModifierText(mod, "Body Size", true);
				displayString += "<br>"
			}

			if(propertyName == "musclesMods")
			{
				displayString += setup.displayModifierText(mod, "Muscles");
				displayString += "<br>"
			}

			if(propertyName == "growthMods")
			{
				displayString += setup.displayModifierText(mod, "Growth Multiplier");
				displayString += "<br>"
			}

			if(propertyName == "xpMultiplierMods")
			{
				displayString += setup.displayModifierText(mod, "XP Multiplier");
				displayString += "<br>"
			}

			if(propertyName == "corruptionPerDayMods")
			{
				displayString += setup.displayModifierText(mod, "Corruption Per Day");
				displayString += "<br>"
			}
		});
	}

	return displayString;
}

setup.displayRankText = function(abilityRuntimeData)
{
    var rankString = "";
	let ability = setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex);

    if(ability.maxRank > 1)
    {
        rankString += "["+abilityRuntimeData.rank+"]";
    }

    return rankString;
}

setup.isModifierEmpty = function(modifier)
{
    switch (modifier.mod)
    {
        case setup.mod.MULTIPLYPOS:
            return (modifier.value == 1);
        case setup.mod.MULTIPLYNEG:
            return (modifier.value == -1);
        case setup.mod.ADD:
        case setup.mod.REMOVE:
            return (modifier.value == 0);
        case setup.mod.IGNORE:
            return true;
        default:
            return false;
    }
}

setup.displayModifierText = function(modifier, propertyName, asLength = false)
{
	var displayString = propertyName + setup.displayModifierTypeText(modifier) +" ";
	if(modifier.mod == setup.mod.MULTIPLYPOS || modifier.mod == setup.mod.MULTIPLYNEG)
	{
		displayString += (modifier.value * 100).toFixed(2).replace(/\.00$/, '') +"%";
	}
	else
	{
		if(asLength)
		{
			displayString += setup.getLength(modifier.value);
		}
		else
		{
			displayString += modifier.value.toFixed(2).replace(/\.00$/, '');
		}
	}
	return displayString;
}

setup.displayModifierTypeText = function(modifier)
{
	var displayString = "";

	if(modifier.mod == setup.mod.ADD || modifier.mod == setup.mod.MULTIPLYPOS)
	{
		displayString += " + ";
	}
	else if(modifier.mod == setup.mod.REMOVE || modifier.mod == setup.mod.MULTIPLYNEG)
	{
		displayString += " - ";
	}
	else if(modifier.mod == setup.mod.REPLACE)
	{
		displayString += " becomes ";
	}

	return displayString;
}

setup.displayChanceToHit = function(character, fightMove)
{
    var displayString = "";

	if(fightMove.critMod != undefined)
	{
		displayString += "<div class='"+setup.getCorruptionUIClassName("FightSkillCardCritChance", setup.getStatValue(character, "corruption"))+"'>";

        var statValue = setup.getStatValue(character, "critChance");
		var critChance = statValue + fightMove.critMod;

        displayString += " <span class='tooltip' id=";
        if(statValue < 0)
        {
            displayString += "'StatModifierNegative'";
        }
        else
        {
            displayString += "'StatModifierPositive'";
        }

		displayString += ">"+ critChance;
		displayString += "<span class='tooltipContainer'>";
        displayString += "<span class='tooltiptext'>";

		displayString += "Critical Hit Chance<br><br>"
		displayString += "Modifiers:<br>";

        var statValue = setup.getStatValue(character, "critChance");
        var damageMod = {mod: setup.mod.ADD, value: statValue};

        displayString += setup.displayModifierText(damageMod, "Crit Chance Stat ");

        displayString += "</span>";
        displayString += "</span>";
        displayString += "</span>";

		displayString += "</div>"
    }

    return displayString;
}

setup.displaySign = function(number)
{
	if(number >= 0)
	{
		return "+";
	}

	return "";
}

setup.getModifiers = function(character)
{
    var modifiers = [];
    var runtimeAbilityDatas = character.abilityRuntimeDatas;
    for(let i = 0; i < runtimeAbilityDatas.length; i++)
	{
        if(runtimeAbilityDatas[i].modifier != undefined && runtimeAbilityDatas[i].isActive == true)
        {
			let abilityModifiers = Array.isArray(runtimeAbilityDatas[i].modifier) ?
					runtimeAbilityDatas[i].modifier : [runtimeAbilityDatas[i].modifier];

			abilityModifiers.forEach( mod => {
				modifiers.push(mod);
			});
        }
    }

	return modifiers;
}

setup.getModifiersForStat = function(character, statName)
{
	var baseModifiers = setup.getModifiers(character);
	var statInfo = setup.getStatModifierPropertyName(statName);

	var modifiers = [];
	var i;
	for(i = 0; i < baseModifiers.length; i++)
	{
		for(var propertyName in baseModifiers[i])
		{
			if(propertyName == statInfo.modifierProperty)
			{
				modifiers.push(baseModifiers[i]);
			}
		}
	}

	return modifiers;
}

setup.getStatModifierPropertyName = function(stat)
{
	var statInfo = {name: stat, modifier: undefined};

	switch(stat)
	{
		case "hp":
			statInfo.modifierProperty = "maxHPMods";
			break;
		case "stamina":
			statInfo.modifierProperty = "maxStaminaMods";
			break;
		case "strength":
			statInfo.modifierProperty = "strengthMods";
			break;
		case "critChance":
			statInfo.modifierProperty = "critChanceMods";
			break;
		case "critDamage":
			statInfo.modifierProperty = "critDamageMods";
			break;
		case "essenceMultiplier":
			statInfo.modifierProperty = "essenceMultiplierMods";
			break;
		case "actionSlots":
			statInfo.modifierProperty = "actionSlotsMods";
			break;
		case "comboMovesPerTurn":
			statInfo.modifierProperty = "comboMovesPerTurnMods";
			break;
		case "arousalGain":
			statInfo.modifierProperty = "arousalGainMods";
			break;
		case "minArousal":
			statInfo.modifierProperty = "minArousalMods";
			break;
		case "growthMultiplier":
			statInfo.modifierProperty = "growthMods";
			break;
		case "xpMultiplier":
			statInfo.modifierProperty = "xpMultiplierMods";
			break;
		case "corruptionPerDay":
			statInfo.modifierProperty = "corruptionPerDayMods";
			break;
		case "staminaRecovery":
			statInfo.modifierProperty = "staminaRecoveryMods";
			break;
		case "corruption":
			statInfo.modifierProperty = "corruptionMods";
			break;
		case "muscles":
			statInfo.modifierProperty = "musclesMods";
			break;
		case "height":
			statInfo.modifierProperty = "heightMods";
			break;
		case "cock":
			statInfo.modifierProperty = "cockMods";
			break;
		case "balls":
			statInfo.modifierProperty = "ballsMods";
            break;
        default:
            alert(stat +" not handled by getStatModifierPropertyName")
            break;
	}

	return statInfo;
};

setup.getStatValue = function(character, stat, ignoreAbility)
{
	switch(stat)
	{
		case "hp":
			return setup.getMaxHP(character, ignoreAbility);
		case "stamina":
			return setup.getMaxStamina(character, ignoreAbility);
		case "strength":
			return setup.getStrength(character, ignoreAbility);
		case "critChance":
			return setup.getCritChance(character, ignoreAbility);
		case "critDamage":
			return setup.getCritDamage(character, ignoreAbility);
		case "essenceMultiplier":
			return setup.getEssenceMultiplier(character, ignoreAbility);
		case "actionSlots":
			return setup.getActionSlots(character, ignoreAbility);
		case "comboMovesPerTurn":
			return setup.getComboMovesPerTurn(character, ignoreAbility);
		case "arousalGain":
            return setup.getArousalGain(character, ignoreAbility);
        case "minArousal":
            return setup.getMinArousal(character, ignoreAbility);
		case "growthMultiplier":
			return setup.getGrowthMultiplier(character, ignoreAbility);
		case "xpMultiplier":
			return setup.getXpMultiplier(character, ignoreAbility);
		case "corruptionPerDay":
			return setup.getCorruptionPerDay(character, ignoreAbility);
		case "bonusGrowthBalls":
			return setup.getBonusGrowth(character, "balls", ignoreAbility);
		case "bonusGrowthHeight":
			return setup.getBonusGrowth(character, "height", ignoreAbility);
		case "bonusGrowthMuscles":
			return setup.getBonusGrowth(character, "muscles", ignoreAbility);
		case "bonusGrowthCock":
			return setup.getBonusGrowth(character, "cock", ignoreAbility);
		case "staminaRecovery":
			return setup.getStaminaRecovery(character, ignoreAbility);
		case "corruption":
			return setup.getCorruption(character, ignoreAbility);
		case "muscles":
			return setup.getMuscles(character, ignoreAbility);
		case "height":
			return setup.getHeight(character, ignoreAbility);
        case "cocks":
		case "cock":
			return setup.getCock(character, ignoreAbility);
		case "balls":
			return setup.getBalls(character, ignoreAbility);
	}

	return undefined;
};

setup.setBaseStatValue = function(character, stat, value)
{
    //hook hook - Hook hook
	switch(stat)
	{
		case "hp":
        case "stamina":
        case "strength":
        case "critChance":
        case "critDamage":
        case "essenceMultiplier":
        case "actionSlots":
        case "comboMovesPerTurn":
        case "arousalGain":
        case "minArousal":
		case "growthMultiplier":
        case "staminaRecovery":
            character.fight[stat] = value;
            break;
        case "muscles":
        case "corruption":
        case "height":
        case "cock":
        case "balls":
        case "corruptionPerDay":
            character.info[stat] = value;
            break;
		case "bonusGrowthBalls":
            character.fight.bonusGrowth.balls = value;
            break;
		case "bonusGrowthHeight":
            character.fight.bonusGrowth.height = value;
            break;
		case "bonusGrowthMuscles":
            character.fight.bonusGrowth.muscles = value;
            break;
		case "bonusGrowthCock":
            character.fight.bonusGrowth.cock = value;
            break;
    }

    var params =
    {
        trigger: setup.AbilityTrigger.ON_STAT_CHANGE,
        self: character,
    }
    return setup.AbiHndlr.broadcastAbilityTrigger(character, params);
};

setup.addToBaseStatValue = function(character, stat, value)
{
	let baseValue = setup.getStatValueNoModifiers(character, stat)
	let newValue = baseValue + value;

	if(character.id == "CharacterSheet_Player")
	{
		let cap = undefined;
		switch (stat) {
			case "muscles":
				cap = setup.getStatSizeCap("muscles", character.info.limitBreaks.cap.muscles);
				break;
			case "height":
				cap = setup.getStatSizeCap("height", character.info.limitBreaks.cap.height);
				break;
			case "cock":
				cap = setup.getStatSizeCap("cock", character.info.limitBreaks.cap.cock);
				break;
			case "balls":
				cap = setup.getStatSizeCap("balls", character.info.limitBreaks.cap.balls);
				break;
			default:
				break;
		}

		if(cap != undefined)
		{
			if(cap < newValue)
			{
				//Add difference to overgrowth
				let overgrowth = newValue - cap;
				character.info.overgrowth[stat] += Math.ceil(overgrowth);
			}

			newValue = Math.min(newValue, cap);
		}
	}

	if (newValue >= 9007199254740992){
		setup.setBaseStatValue(character, stat, 9007199254740992);
	}else{
		setup.setBaseStatValue(character, stat, newValue);
	}
};

setup.getStatValueNoModifiers = function(character, stat)
{
	switch(stat)
	{
		case "hp":
		case "stamina":
		case "strength":
		case "critChance":
		case "critDamage":
		case "essenceMultiplier":
		case "actionSlots":
		case "comboMovesPerTurn":
		case "arousalGain":
		case "minArousal":
        case "growthMultiplier":
        case "staminaRecovery":
			return character.fight[stat];
		case "corruption":
        case "muscles":
		case "height":
		case "cock":
		case "balls":
		case "corruptionPerDay":
			return character.info[stat];
        case "bonusGrowthBalls":
            return character.info.bonusGrowth.balls;
        case "bonusGrowthHeight":
            return character.info.bonusGrowth.height;
        case "bonusGrowthMuscles":
            return character.info.bonusGrowth.muscles;
        case "bonusGrowthCock":
            return character.info.bonusGrowth.cock;
    }

    alert(stat +" not handled by getStatValueNoModifiers")
};

setup.getMaxHP = function(character, ignoreAbility)
{
	var maxHP = character.fight.hp;
	maxHP = setup.getValueWithModifier(character, maxHP, "maxHPMods", ignoreAbility);

	return maxHP;
};

setup.getMaxStamina = function(character, ignoreAbility)
{
	var maxStam = character.fight.stamina;
	maxStam = setup.getValueWithModifier(character, maxStam, "maxStaminaMods", ignoreAbility);
	return maxStam;
};

setup.getStrength = function(character, ignoreAbility)
{
	var strength = character.fight.strength;
	return setup.getValueWithModifier(character, strength, "strengthMods", ignoreAbility);
};

setup.getCritChance = function(character, ignoreAbility)
{
	var critChance = character.fight.critChance;
	return setup.getValueWithModifier(character, critChance, "critChanceMods", ignoreAbility);
};

setup.getCritDamage = function(character, ignoreAbility)
{
	var critDamage = character.fight.critDamage;
	return setup.getValueWithModifier(character, critDamage, "critDamageMods", ignoreAbility);
};

setup.getEssenceMultiplier = function(character, ignoreAbility)
{
	var essenceMultiplier = character.fight.essenceModifierToAdd;
	return setup.getValueWithModifier(character, essenceMultiplier, "essenceMultiplierMods", ignoreAbility);
};

setup.getActionSlots = function(character, ignoreAbility)
{
	var actionSlots = character.fight.actionSlots;
	return setup.getValueWithModifier(character, actionSlots, "actionSlotsMods", ignoreAbility);
};

setup.getComboMovesPerTurn = function(character, ignoreAbility)
{
	var comboMovesPerTurn = character.fight.comboMovesPerTurn;
	return setup.getValueWithModifier(character, comboMovesPerTurn, "comboMovesPerTurnMods", ignoreAbility);
};

setup.getArousalGain = function(character, ignoreAbility)
{
	var arousalGain = character.fight.arousalGain;
	return setup.getValueWithModifier(character, arousalGain, "arousalGainMods", ignoreAbility);
};

setup.getGrowthMultiplier = function(character, ignoreAbility)
{
    var growthMultiplier = character.fight.growthMultiplier;
    var stuff = setup.getValueWithModifier(character, growthMultiplier, "growthMods", ignoreAbility);
	return stuff
};

setup.getXpMultiplier = function(character, ignoreAbility)
{
    var xpMultiplier = character.fight.xpMultiplier;
	return setup.getValueWithModifier(character, xpMultiplier, "xpMultiplierMods", ignoreAbility);
};

setup.getCorruptionPerDay = function(character, ignoreAbility)
{
    var corruptionPerDay = character.info.corruptionPerDay;

	if(corruptionPerDay != undefined)
	{
		return setup.getValueWithModifier(character, corruptionPerDay, "corruptionPerDayMods", ignoreAbility);
	}

	return 0;
};


setup.resetDailies = function()
{
	if(State.variables.CharacterSheet_Player.info.tags == undefined)
		return;

	State.variables.CharacterSheet_Player.info.tags.partnerSparExhaustion = false;
	State.variables.CharacterSheet_Player.info.tags.partnerRecentSex  = false;
	State.variables.NoTimePasses = false;
}

setup.flagTimePasses = function(value)
{
	if(State.variables.CharacterSheet_Player.info.tags == undefined)
	return;

	State.variables.NoTimePasses = false;
	if(State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes(value.id))
	{
		if (State.variables.CharacterSheet_Player.info.tags.partnerSparExhaustion == false
			&& State.variables.CharacterSheet_Player.info.tags.partnerRecentSex == false)
		{
			State.variables.NoTimePasses = true;
		}
	}
}

setup.addDays = function(value,
	{updateDailies, resetCharacters, autosave}={updateDailies:true, resetCharacters:true, autosave:true})
{
	setup.applyDailyCorruption(State.variables.CharacterSheet_Player);
	setup.Stars.advanceStarsByDays(value);

	if(State.variables.CharacterSheet_MQ002_Guard.quest.movedToCastle == true)
	{
		State.variables.CharacterSheet_MQ002_Guard.quest.lustIncrease = true;
	}
	setup.resetDailies();

	if (updateDailies)
	{
		setup.updateDailies();
	}
	if (resetCharacters)
	{
		setup.resetCharacters();
	}
	if (autosave)
	{
		if(!Save.slots.has(7) || Save.slots.get(7).title == "Autosave")
		{
			Save.slots.save(7, "Autosave");
		}
	}
    return setup.setDays(State.variables.Expedition + value)
};

setup.updateDailies = function()
{
	/* Update Lost Entity (Must be before updating encounters) */
	setup.setRandomRace(State.variables.CharacterSheet_Lost_Entity);
	State.variables.CharacterSheet_Lost_Entity.info.name = "The lost " + setup.getRaceName(State.variables.CharacterSheet_Lost_Entity);

	/* Update Encounters */
	State.variables.NorthRandomEncounters = setup.getEncounterList(setup.LOCATIONS.NORTH);
	State.variables.EastRandomEncounters = setup.getEncounterList(setup.LOCATIONS.EAST);

	State.variables.Explore_Destination_North = setup.getExploreDestination(setup.LOCATIONS.NORTH);
	State.variables.Explore_Destination_East = setup.getExploreDestination(setup.LOCATIONS.EAST);

	if(State.variables.CharacterSheet_Abel.quest.deepCorruption == true)
	{
		State.variables.CharacterSheet_Player.quest.available_enterVillage_exiled_AbelReturn_RemainingExpedition--;
	}
	
	if(State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Start_Available == false)
	{
		State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Update_DayPassed = true;
	}
}

setup.resetCharacters = function()
{
	State.variables.CharacterSheet_Shard_Ring.quest.cockOut = false;
	State.variables.CharacterSheet_Lost_Naga.quest.cockOut = false;

	State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_sexMaxRela_daily = true;

	if(State.variables.CharacterSheet_Player.quest.lostPrisonerUntied == true && State.variables.CharacterSheet_Player.quest.lostPrisonerEscaped == false)
	{
		State.variables.CharacterSheet_Player.quest.lostPrisonerEscaped = true;
		State.variables.CharacterSheet_Lost_Prisoner.quest.locked = false;
		State.variables.CharacterSheet_Lost_Prisoner.quest.tentaclesOut = false;
	}

	State.variables.CharacterSheet_Player.quest.lostPrisonerRelaxed = false;
}

setup.setDays = function(value)
{
    State.variables.Expedition = value;

	var displayString = "";
    var params =
    {
        trigger: setup.AbilityTrigger.ON_DAY_CHANGE,
        self: State.variables.CharacterSheet_Player,
	}
    displayString += setup.AbiHndlr.broadcastAbilityTrigger(State.variables.CharacterSheet_Player, params);

    return displayString;
}

setup.getBonusGrowth = function(character, type, ignoreAbility)
{
    switch(type)
    {
        case "balls":
            var value = character.fight.bonusGrowth.balls;
	        return setup.getValueWithModifier(character, value, "bonusGrowthBalls", ignoreAbility);
        case "cock":
            var value = character.fight.bonusGrowth.cock;
	        return setup.getValueWithModifier(character, value, "bonusGrowthCock", ignoreAbility);
        case "muscles":
            var value = character.fight.bonusGrowth.muscles;
	        return setup.getValueWithModifier(character, value, "bonusGrowthMuscles", ignoreAbility);
        case "height":
            var value = character.fight.bonusGrowth.height;
	        return setup.getValueWithModifier(character, value, "bonusGrowthHeight", ignoreAbility);
    }
};

setup.getMinArousal = function(character, ignoreAbility)
{
    var value = character.fight.minArousal;
	return setup.getValueWithModifier(character, value, "minArousalMods", ignoreAbility);
}

setup.getStaminaRecovery = function(character, ignoreAbility)
{
	var staminaRecovery = character.fight.staminaRecovery;
	return setup.getValueWithModifier(character, staminaRecovery, "staminaRecoveryMods", ignoreAbility);
};

setup.getCorruption = function(character, ignoreAbility)
{
	var corruption = character.info.corruption;
	return setup.getValueWithModifier(character, corruption, "corruptionMods", ignoreAbility);
}

setup.getMuscles = function(character, ignoreAbility)
{
	let value = setup.getValueWithModifier(character, character.info.muscles, "musclesMods", ignoreAbility);

	if(character.id == "CharacterSheet_Player")
	{
		let cap = setup.getStatSizeCap("muscles", character.info.limitBreaks.cap.muscles);

		if(cap != undefined)
		{
			value = Math.min(value, cap);
		}
	}

	return value;
}

setup.getHeight = function(character, ignoreAbility)
{
	let value = setup.getValueWithModifier(character, character.info.height, "heightMods", ignoreAbility);

	if(character.id == "CharacterSheet_Player")
	{
		let cap = setup.getStatSizeCap("height", character.info.limitBreaks.cap.height);

		if(cap != undefined)
		{
			value = Math.min(value, cap);
		}
	}

	return value;
}

setup.getCock = function(character, ignoreAbility)
{
	let value = setup.getValueWithModifier(character, character.info.cock, "cockMods", ignoreAbility);

	if(character.id == "CharacterSheet_Player")
	{
		let cap = setup.getStatSizeCap("cock", character.info.limitBreaks.cap.cock);

		if(cap != undefined)
		{
			value = Math.min(value, cap);
		}
	}

	return value;
}

setup.getBalls = function(character, ignoreAbility)
{
	let value = setup.getValueWithModifier(character, character.info.balls, "ballsMods", ignoreAbility);

	if(character.id == "CharacterSheet_Player")
	{
		let cap = setup.getStatSizeCap("balls", character.info.limitBreaks.cap.balls);

		if(cap != undefined)
		{
			value = Math.min(value, cap);
		}
	}

	return value;
}

setup.getFightMovesWithAddons = function(character, ignoreAbility)
{
	var fightMoveIDs = [...character.fight.fightMoveIDs];

	fightMoveIDs = setup.getValueWithModifier(character, fightMoveIDs, "fightMoveIDsMods", ignoreAbility);

    var fightMoveIDsNoDup = [];

    let idCount = {};
    for(let i = 0; i < fightMoveIDs.length; i++)
    {
        if(idCount[fightMoveIDs[i]] == undefined)
        {
            fightMoveIDsNoDup.push(fightMoveIDs[i])
            idCount[fightMoveIDs] = true;
        }
    }

    return fightMoveIDsNoDup;
};

setup.canLevelUp = function(level)
{
	return State.variables.Exp >= setup.getXPRequirement(level);
};

setup.canExplore = function()
{
	return State.variables.Quest_CanExplore;
};

setup.getXPRequirement = function(level)
{
	if(level <= 0)
		return 0;

	if(level <= setup.LevelUpTable.length)
	{
		return setup.LevelUpTable[level - 1];
	}
	else
	{
		var lastLevelXP =  setup.LevelUpTable[setup.LevelUpTable.length -1];
		var secondToLastLevelXP =  setup.LevelUpTable[setup.LevelUpTable.length -2];

		var endlessTier = lastLevelXP - secondToLastLevelXP;

		return lastLevelXP + endlessTier * (level - setup.LevelUpTable.length);
	}
};

setup.gainEssence= function(amount)
{
    State.variables.Essence += setup.getEssenceGain(amount);

    var displayString = "";
    var params =
    {
        trigger: setup.AbilityTrigger.ON_GAIN_ESSENCE,
        self: State.variables.CharacterSheet_Player,
    }
    displayString += setup.AbiHndlr.broadcastAbilityTrigger(State.variables.CharacterSheet_Player, params);

    return displayString;
}

setup.getEssenceGain= function(amount)
{
	return amount + Math.ceil(amount * setup.getStatValue(State.variables.CharacterSheet_Player, "essenceMultiplier"));
}

setup.getProportionalCockSize = function(height)
{
	return height / 3;
}

setup.getProportionalBallsSize = function(height)
{
	return height / 9;
}

setup.getProportionalMuscles = function(height)
{
	return height / 4.5;
}

setup.playRealizationPackage = function(actorsList, arousalLevel)
{
	for(var characterID of actorsList)
	{
		console.log(characterID)
		var characterAudioSheet = State.variables[characterID].info.audioSheet;
		if(characterAudioSheet != null)
		{
			console.log(setup[characterAudioSheet])

			var voiceObject = setup[characterAudioSheet].voice;
			if(voiceObject != null)
			{
				console.log(voiceObject)
				var playlistObject = voiceObject.playlist;

				if(playlistObject != null)
				{
					console.log(playlistObject)
					var bestPlaylistID = setup.evaluateBestAudioTrack(characterID, playlistObject, arousalLevel);

					if(bestPlaylistID != null)
					{
						for(var trackProperty in playlistObject.tracks)
						{
							console.log(trackProperty)
							var aList = SimpleAudio.lists.get(playlistObject.tracks[trackProperty].track);
							if(playlistObject.tracks[trackProperty].track == bestPlaylistID)
							{
								console.log(aList)
								aList.shuffle(true);
								aList.loop(true);
								aList.volume(State.variables.VolumeControls.voices.volume);
								aList.play();
							}
							else
							{
								aList.stop();
							}
						}

						State.variables.VolumeControls.voices.list.push(bestPlaylistID);
						State.variables.PlayingAudio = true;
					}
				}
			}
		}
	}

	//todo rework that
}

setup.playSoundActionParams = function(actionParams, loop)
{
	setup.stopSoundActions();

	if(actionParams != undefined)
	{
		for(var param of actionParams)
		{
			var aList = SimpleAudio.lists.get(param);

			if(aList != null)
			{
				aList.shuffle(true);
				aList.loop(loop);
				aList.volume(State.variables.VolumeControls.sfx.volume);
				aList.play();

				State.variables.VolumeControls.sfx.list.push(param);
			}
		}
	}
}

setup.stopSoundActions = function()
{
	for(var param of setup.AllSoundActions)
	{
		var aList = SimpleAudio.lists.get(param);

		if(aList != null)
		{
			if(aList.isPlaying() && aList.volume() >= 0)
			{
				aList.fadeOut(2, aList.volume());
			}
			else
			{
				aList.stop();
			}
		}
	}

	State.variables.VolumeControls.sfx.list = [];
}

setup.stopRealizationPackages = function(actorsList)
{
	for(var characterID of actorsList)
	{
		var characterAudioSheet = State.variables[characterID].info.audioSheet;
		if(characterAudioSheet != null)
		{
			var voiceObject = setup[characterAudioSheet].voice;
			if(voiceObject != null)
			{
				console.log(voiceObject)
				var playlistObject = voiceObject.playlist;

				if(playlistObject != null)
				{
					for(var trackProperty in playlistObject.tracks)
					{
						var aList = SimpleAudio.lists.get(playlistObject.tracks[trackProperty].track);

						console.log("alist")
						console.log(aList)
						console.log(SimpleAudio.lists)
						console.log(trackProperty)
						if(aList.isPlaying() && aList.volume() >= 0)
						{
							aList.fadeOut(2, aList.volume());
						}
						else
						{
							aList.stop();
						}

						State.variables.VolumeControls.voices.list = State.variables.VolumeControls.voices.list.filter(function(e) { return e !== playlistObject.tracks[trackProperty].track })
					}
				}

				State.variables.PlayingAudio = false;
			}
		}
	}
}

setup.stopAllRealizationPackages = function()
{
	setup.stopRealizationPackages(["CharacterSheet_Player", "CharacterSheet_Lost_Naga", "CharacterSheet_Imp", "CharacterSheet_Torgar", "CharacterSheet_Shard_Ring"]);
}

setup.evaluateBestAudioTrack = function(characterID, playlistObject, arousalLevel)
{
	var tracks = playlistObject.tracks;
	var bestScoring = -1;
	var bestPlaylistProperty = null;

	var size = setup.Size.compare(State.variables[characterID], 'height');

	for(var trackProperty in tracks)
	{
		var scoring = 0;

		var tags = tracks[trackProperty].tags;

		console.log("tags")
		console.log(tags)

		if(setup.hasArousalTag(tags, arousalLevel) == true)
		{
			scoring++;
		}

		if(setup.hasSizeTag(tags, size))
		{
			scoring++;
		}

		if(setup.hasTorgarTag(tags))
		{
			scoring++;
		}

		if(setup.hasBindTag(tags))
		{
			scoring++;
		}

		if(scoring > bestScoring)
		{
			console.log("best scoring")
			console.log(trackProperty)

			bestScoring = scoring;
			bestPlaylistProperty = tracks[trackProperty].track;
		}
	}

	return bestPlaylistProperty;
}

setup.hasTorgarTag = function(tagsArray)
{
	let torgarState = State.variables.CharacterSheet_Torgar.quest.progress;
	let states = setup.TorgarProgress;

	if(torgarState == states.INFECTED)
	{
		torgarState = "Torgar_Infected";
	}
	else if(torgarState == states.LOST || torgarState == states.LOST_TEAMMATE || torgarState == states.ASCENDED)
	{
		torgarState = "Torgar_Lost";
	}
	else
	{
		torgarState = "Torgar_Normal";
	}

	for(var tag of tagsArray)
	{
		if(tag == torgarState)
		{
			return true;
		}
	}

	return false;
}

setup.hasBindTag = function(tagsArray)
{
	let bindState = "";
	setup.BodyVisualSheet_Shard_Ring.bodyList

	if(setup.BodyVisualSheet_Shard_Ring.bodyList.normal.condition(State.variables.CharacterSheet_Shard_Ring))
	{
		bindState = "Bind_Big";
	}
	else if(setup.BodyVisualSheet_Shard_Ring.bodyList.dom.condition(State.variables.CharacterSheet_Shard_Ring))
	{
		bindState = "Bind_Huge";
	}
	else
	{
		bindState = "Bind_Normal";
	}

	for(var tag of tagsArray)
	{
		if(tag == bindState)
		{
			return true;
		}
	}

	return false;
}

setup.hasSizeTag = function(tagsArray, size)
{
	let sizeTag = ""
	if(size <= setup.Size.Comparators.SLIGHTLY_BIGGER)
	{
		sizeTag = "Size_1";
	}
	else if(size <= setup.Size.Comparators.MASSIVE)
	{
		sizeTag = "Size_2";
	}
	else if(size <= setup.Size.Comparators.GIANT)
	{
		sizeTag = "Size_3";
	}
	else if(size >= setup.Size.Comparators.MACRO)
	{
		sizeTag = "Size_4";
	}

	for(var tag of tagsArray)
	{
		if(tag == sizeTag)
		{
			return true;
		}
	}

	return false;
}

setup.hasArousalTag = function(tagsArray, arousalLevel)
{
	for(var tag of tagsArray)
	{
		switch(arousalLevel)
		{
			case 1:
				if(tag == "arousal_1")
				{
					return true;
				}
				break;
			case 2:
				if(tag == "arousal_2")
				{
					return true;
				}
				break;
			case 3:
				if(tag == "arousal_3")
				{
					return true;
				}
				break;
			case 4:
				if(tag == "arousal_4")
				{
					return true;
				}
				break;
		}
	}
}

setup.printActiveSound = function()
{
	console.log(SimpleAudio.volume);
	var displayString = "";
	if(SimpleAudio.volume() <= 0.02 && State.variables.PlayingAudio == true)
	{
		displayString = '<span class = "VolumeWarning">This passage features audio. You can adjust the volume with the slider at the bottom left.</span>'
	}

	return displayString;
}

setup.displayVoiceRadio = function(character, voiceIDs)
{
	var displayString = "";

	for(let i = 0; i < voiceIDs.length; ++i)
	{
		displayString += '<label><<radiobutton "$'+character.id+'.info.audioSheet" '+voiceIDs[i]+' checked>>  Voice '+ (i+1) +'  </label>'

		displayString += '<span class="'+setup.getCorruptBackgroundClass(character)+'">'
		displayString += '<<button "Test Voice">><<run setup.playRandomVoiceClip('+i+')>><</button>>';
		displayString += '</span>'
		displayString += '\n'
	}

	return displayString;
}

setup.playRandomVoiceClip = function(index)
{
	let testVoices = setup.TestVoices;

	setup.stopTestVoices();

	var randomAList = SimpleAudio.lists.get(testVoices[index]);
	randomAList.shuffle(true);
	randomAList.loop(false);
	randomAList.volume(State.variables.VolumeControls.voices.volume);
	randomAList.play();

}

setup.stopTestVoices = function()
{
	let testVoices = setup.TestVoices;

	for(let i = 0; i < testVoices.length; ++i)
	{
		var aList = SimpleAudio.lists.get(testVoices[i]);
		aList.stop();
	}
}

setup.getSpentLimitBreaks = function()
{
	let cap = State.variables.CharacterSheet_Player.info.limitBreaks.cap;
	let count = 0;

	for(var propertyName in cap)
	{
		count += cap[propertyName];
	}

	return count;
}

setup.getStatSizeCap = function(stat, limit)
{
	let musclesCap = [30, 50, 80, 120, 200, 300, 500, 1000]
	let heightCap = [12 * 7.5, 12 * 9, 12 * 12, 12 * 15.5, 12 * 20, 12 * 32, 12 * 60, 12 * 102]

	let cap = 8;
	let overCap = limit >= cap;
	let multiplierExponent = 0;

	if(overCap == true)
	{
		multiplierExponent = (limit + 1) - cap;
	}

	let value = 0;

	switch (stat) {
		case "muscles":
			value = musclesCap[Math.min(cap - 1, limit)]
			break;
		case "height":
			value = heightCap[Math.min(cap - 1, limit)]
			break;
		case "cock":
			value = heightCap[Math.min(cap - 1, limit)] / 11
			break;
		case "balls":
			value = heightCap[Math.min(cap - 1, limit)] / 11 / 3
			break;
		default:
			break;
	}

	value *= Math.pow(2, multiplierExponent);

	return value;
}

setup.Metabolism= {};

const Metabolism_MAX_CAP = 50;
const METAB_TBL = {
	TBLNAME: "MetabolismChangeTable",
	PRE_: "MetabolismTbl_",
	_HDRPOINT: "_HeaderPoints",
	_HDRINSTR: "_HeaderInstructions",
	_HDRESS: "_HeaderEssence",
	_BREAKLIMIT: "_BreakLimit",
	_NAME: "_name",
	_STAT: "_stat",
	_ADD: "_add",
    _SUB: "_sub",
	_CAP: "_cap",
}

const METABOLISM_LIST = ["muscles", "height", "cock", "balls"];


setup.Metabolism.initMetabolismParams = function()
{
	State.temporary.ModifyMetabolismParams =
	{
		points : State.variables.CharacterSheet_Player.info.limitBreaks.points,
		essence : State.variables.Essence,
		cap : {
			height: State.variables.CharacterSheet_Player.info.limitBreaks.cap.height,
			muscles: State.variables.CharacterSheet_Player.info.limitBreaks.cap.muscles,
			balls: State.variables.CharacterSheet_Player.info.limitBreaks.cap.balls,
			cock: State.variables.CharacterSheet_Player.info.limitBreaks.cap.cock,
		},
		min : {
			height: State.variables.CharacterSheet_Player.info.limitBreaks.cap.height,
			muscles: State.variables.CharacterSheet_Player.info.limitBreaks.cap.muscles,
			balls: State.variables.CharacterSheet_Player.info.limitBreaks.cap.balls,
			cock: State.variables.CharacterSheet_Player.info.limitBreaks.cap.cock,
		}
	}
}

setup.Metabolism.applyMetabolismParams = function(character)
{
	let params = State.temporary.ModifyMetabolismParams;

	State.variables.Essence = params.essence;
	character.info.limitBreaks = params;

	//update for lowered caps
	setup.addToBaseStatValue(character, "muscles", 0);
	setup.addToBaseStatValue(character, "height", 0);
	setup.addToBaseStatValue(character, "cock", 0);
	setup.addToBaseStatValue(character, "balls", 0);
}

function updateMetabolismChangeTableDisplay(fullRefresh=false)
{
	let params = State.temporary.ModifyMetabolismParams;
	let character = State.variables.CharacterSheet_Player;

	let tbl = document.getElementById(METAB_TBL.TBLNAME);
	if (!params || !character || !tbl) {return;}

	let essCost = setup.getLimitBreakEssenceCost();

	// Update the headers
	let pointsEle = tbl.querySelector(`[id$=`+ METAB_TBL._HDRPOINT+`]`);
	let instrEle = tbl.querySelector(`[id$=`+ METAB_TBL._HDRINSTR+`]`);
	let essEle = tbl.querySelector(`[id$=`+ METAB_TBL._HDRESS+`]`);
	let breakLimBtn = tbl.querySelector(`[id$=`+ METAB_TBL._BREAKLIMIT+`]`);


	pointsEle.innerHTML = "You can break your limits "+params.points+" times."
	instrEle.innerHTML = 'Gain extra Limit Break for '+essCost+' Essence.';
	essEle.innerHTML =  '(' + params.essence + ' Ess.)';
	breakLimBtn.innerHTML = "BREAK LIMIT";

	if (params.essence >= setup.getLimitBreakEssenceCost())
		{breakLimBtn.classList.remove("inactive");}
	else
		{breakLimBtn.classList.add("inactive");}

	for (let row of tbl.tBodies[0].rows)
	{
		let valueName = row.metabolismValue;
		if (!valueName) {continue;}

		let statEle = row.querySelector(`[id$=`+METAB_TBL._STAT+`]`);
		let capEle = row.querySelector(`[id$=`+METAB_TBL._CAP+`]`);

        if (valueName == "muscles")
        {
            let statVal = setup.getStatSizeCap(valueName, params.cap[valueName]);
            statEle.innerHTML =  `${setup.getMusclesDescriptorForValue(statVal)} (${statVal})`;
        }
        else
        {
            statEle.innerHTML = setup.getLength(setup.getStatSizeCap(valueName, params.cap[valueName]));
        }
		capEle.innerHTML = params.cap[valueName];

		/* disable/enable buttons */
		let addEle =  row.querySelector(`[id$=`+METAB_TBL._ADD+`]`);
		let subEle =  row.querySelector(`[id$=`+METAB_TBL._SUB+`]`);

		if (params.cap[valueName] < Metabolism_MAX_CAP && params.points > 0)
			{addEle.classList.remove("inactive");}
		else
			{addEle.classList.add("inactive");}

		if (params.cap[valueName] > params.min[valueName])
			{subEle.classList.remove("inactive");}
		else
			{subEle.classList.add("inactive");}

		if(fullRefresh)
		{
			let nameEle = row.querySelector(`[id$=`+METAB_TBL._NAME+`]`);

			nameEle.innerHTML = "Maximum " + setup.autoCap(valueName) + " Size";
			addEle.innerHTML = "+";
			subEle.innerHTML = "-";
		}
	}
}
function onClickMetabolismBreakLimit()
{
	let params = State.temporary.ModifyMetabolismParams;
	let essCost = setup.getLimitBreakEssenceCost();
	let changeVal = 1;

	if (params.essence*changeVal < essCost)
	{
		changeVal = 0;
	}

	params.points += changeVal;
	params.essence -= changeVal*essCost;

	updateMetabolismChangeTableDisplay(false);
}

function onClickMetabolismChange(mod, valueName)
{
	let params = State.temporary.ModifyMetabolismParams;
	let changeVal = 1;

	/* Boundry protections */
	switch (mod)
	{
		default:
		case setup.mod.ADD:
			if (params.points < changeVal)
				{changeVal = params.points;}
			else if(params.cap[valueName] + changeVal >= Metabolism_MAX_CAP)
				{changeVal = Math.max(0,Metabolism_MAX_CAP - params.cap[valueName]);}
			else
				{changeVal *= 1;}
			break;

		case setup.mod.REMOVE:
			if (params.cap[valueName] <= params.min[valueName])
				{changeVal *= 0;}
			else
				{changeVal *= -1;}
			break;
	}

	params.cap[valueName] += changeVal;
	params.points -= changeVal;

	updateMetabolismChangeTableDisplay(false);
}


setup.Metabolism.getTable = function(divId)
{
	// Root div to attach the table to
	var div = document.getElementById(divId);
	if (!div) {return;}

	var tbl = document.createElement("TABLE");
	tbl.id = METAB_TBL.TBLNAME;
	tbl.classList.add("ModifyMetabolismTable");

	div.appendChild(tbl);

	// Header
	var header = tbl.createTHead();
	var pointsRow = header.insertRow(-1);


	let tBody = tbl.createTBody();
	var instRow = tBody.insertRow(-1);

	instRow.style["border-bottom"] = "1px solid gray";

	pointsRow.insertCell(-1).id = METAB_TBL.PRE_ + METAB_TBL._HDRPOINT;
	let essNameEle = instRow.insertCell(-1);
	essNameEle.id = METAB_TBL.PRE_ + METAB_TBL._HDRINSTR;
	essNameEle.classList.add("ModifyMetabolismElementStatName");

	let instEssEle = instRow.insertCell(-1);
	instEssEle.classList.add("ModifyMetabolismElementStatValue");
	instEssEle.id =   METAB_TBL.PRE_ + METAB_TBL._HDRESS;

	let breakLimEle = instRow.insertCell(-1);

	let breakLimBtn = document.createElement("BUTTON");
	breakLimBtn.id = METAB_TBL.PRE_ + METAB_TBL._BREAKLIMIT;
	breakLimBtn.classList.add("ModifyMetabolismElementRight");
	breakLimBtn.onclick = function(){onClickMetabolismBreakLimit();};

	breakLimEle.appendChild(breakLimBtn);

	METABOLISM_LIST.forEach((valueName) =>{
		var row = tBody.insertRow(-1);

		row.classList.add("ModifyMetabolismRow");
		row.metabolismValue = valueName;
		// Add the named column cells (in order)
		var nameEle = row.insertCell(-1);
		var statEle = row.insertCell(-1);
		var subEle = row.insertCell(-1);
		var addEle = row.insertCell(-1);
		var capEle = row.insertCell(-1);

		nameEle.classList.add("ModifyMetabolismElementStatName");
		nameEle.id = METAB_TBL.PRE_ + valueName + METAB_TBL._NAME;

		statEle.classList.add("ModifyMetabolismElementStatValue");
		statEle.id = METAB_TBL.PRE_ + valueName + METAB_TBL._STAT;

		var subBtn = document.createElement("BUTTON");
		subBtn.id = METAB_TBL.PRE_ + valueName + METAB_TBL._SUB;
		subBtn.onclick = function(){onClickMetabolismChange(setup.mod.REMOVE, valueName)};

		subEle.classList.add("ModifyMetabolismElementRight");
		subEle.appendChild(subBtn);

		var addBtn = document.createElement("BUTTON");
		addBtn.id = METAB_TBL.PRE_ + valueName + METAB_TBL._ADD;
		addBtn.onclick = function(){onClickMetabolismChange(setup.mod.ADD, valueName)};

		addEle.classList.add("ModifyMetabolismElementRight");
		addEle.appendChild(addBtn);

		capEle.classList.add("ModifyMetabolismElementRight");
		capEle.id = METAB_TBL.PRE_ + valueName + METAB_TBL._CAP;
	});

	updateMetabolismChangeTableDisplay(true);
}



setup.onClickActiveStarDaysChange = function(link, script)
{
	let displayString = "";

	displayString += "<<link '"+link+"'>>";
	displayString += '<<replace "#ModifyActiveStarContent">>';
	displayString += '<<nobr>>';
	displayString += '<<run '+script+'>>';
	displayString += '<</nobr>>';
	displayString += '<<include Modify_ActiveStar_Show>>';
	displayString += '<</replace>>';
	displayString += '<</link>>';

	return displayString;
}

setup.onClickStarBonusChange = function(link, script)
{
	let displayString = "";

	displayString += "<<link '"+link+"'>>";
	displayString += '<<replace "#ModifyStarBonusContent">>';
	displayString += '<<nobr>>';
	displayString += '<<run '+script+'>>';
	displayString += '<</nobr>>';
	displayString += '<<include Modify_StarBonus_Show>>';
	displayString += '<</replace>>';
	displayString += '<</link>>';

	return displayString;
}

setup.ActiveStarInitializeParams = function()
{
	State.variables.ModifyActiveStarParams =
	{
		star: setup.Stars.Types.NONE_STAR,
		max: [],
		days: [],
	}

	for (let i0 = 0; i0 < setup.Stars.NUM_STARS; i0++)
	{
		let max_time = setup.Stars.getOverrideStarMaxTime(i0);
		State.variables.ModifyActiveStarParams.max.push(max_time);
		State.variables.ModifyActiveStarParams.days.push(max_time);
	}
}

setup.returnStarsTable = function()
{
	let displayString = `
	<<nobr>>
	<div class="ModifyActiveStarTable">
	`

	for (let i0 = 0; i0 < setup.Stars.NUM_STARS; i0++)
	{
		displayString +=
		`<div class="ModifyActiveStarRow">
			<<if 0 == setup.Stars.getOverrideStarMaxTime(`+i0+`)>>
				<div class="ModifyActiveStarElementStatName">
				<span class='inactive'>[[setup.Stars.getStarName(`+i0+`)->Stars_changeStar_outro]]</span>
				</div>
				<div class="ModifyActiveStarElementStatType">
				<<print setup.Stars.getStarStatUpperStr(`+i0+`)>>
				</div>
				<div class="ModifyActiveStarElementStatValue">
				<<print setup.Stars.getPickReason(`+i0+`)>>
				</div>
			<<else>>
				<div class="ModifyActiveStarElementStatName">
				[[setup.Stars.getStarName(`+i0+`)->Stars_changeStar_outro][setup.Stars.setOverrideStar(`+i0+`,$ModifyActiveStarParams.days[`+i0+`])]]
				</div>
				<div class="ModifyActiveStarElementStatType">
				<<print setup.Stars.getStarStatUpperStr(`+i0+`)>>
				</div>
				<div class="ModifyActiveStarElementStatValue">
				<<print setup.Stars.getOverrideStarCost($ModifyActiveStarParams.days[`+i0+`])>> Ess
				</div>
			<</if>>
			<div class="ModifyActiveStarElementSymbolRight">
			<<print setup.onClickActiveStarDaysChange("-", "if($ModifyActiveStarParams.days[`+i0+`] > 0) {$ModifyActiveStarParams.days[`+i0+`]--;}")>>
			</div>
			<div class="ModifyActiveStarElementSymbolRight">
			<<print setup.onClickActiveStarDaysChange("+", "if($ModifyActiveStarParams.days[`+i0+`] > 0 && $ModifyActiveStarParams.days[`+i0+`] < $ModifyActiveStarParams.max[`+i0+`]) {$ModifyActiveStarParams.days[`+i0+`]++;}")>>
			</div>
			<div class="ModifyActiveStarElementRight">
			$ModifyActiveStarParams.days[`+i0+`] Days
			</div>
		</div>`
	}
	displayString +=`</div>
	<</nobr>>`;
	return displayString;
}

setup.applyStoryContainer = function()
{
    // `element` is the element you want to wrap
    var story = document.getElementById("story")
    var parent = story.parentNode;
    var wrapper = document.createElement('div');
    wrapper.setAttribute("id","StoryContainer");

    // set the wrapper as child (instead of the element)
    parent.replaceChild(wrapper, story);
    // set element as child of wrapper
    wrapper.appendChild(story);
}

setup.getOvergrowthToEssence = function()
{
	var overgrowth = State.variables.CharacterSheet_Player.info.overgrowth;
	let baseMultiplier = 0.3;

	let essence = 0;

	essence += Math.ceil(overgrowth.balls * baseMultiplier);
	essence += Math.ceil(overgrowth.cock * 0.3 * baseMultiplier);
	essence += Math.ceil(overgrowth.height * 0.027 * baseMultiplier);
	essence += overgrowth.muscles;

	return essence;
}

setup.convertOvergrowthToEssence = function()
{
	State.variables.Essence += setup.getOvergrowthToEssence();

	var overgrowth = State.variables.CharacterSheet_Player.info.overgrowth;

	overgrowth.balls = 0;
	overgrowth.cock = 0;
	overgrowth.height = 0;
	overgrowth.muscles = 0;
}
/* twine-user-script #220: "abilityHandler.js" */
/* Declare globals for Eslint */
/* global setup, State */

LNG.en.l10nStrings.AbilityActivate = "{Name}'s {AbiName} activates!";

// DATA needs to be placed into the character sheet (State.variables)
// While any FUNCTIONS or CLASSES need to be in setup.
// DATA needs to be persistent between game reboots and upgrades at all stages

const DEFAULT_ABILITY_EXCLUDE_COPY_LIST = [
    "Ability_EchoForm",
    "Ability_HostOfEcho",
    "Ability_VampiricLust",
    "Ability_CodexPassion"
];

setup.AbiHndlr = {

    getAbilityRank: function(character, abilityID)
    {
        let rank = this.getAbilityRuntimeDataValue(character,abilityID, "rank");
        if (!rank)
        {
            rank = 0;
        }
        return rank;
    },

    // Adds an ability, adds another rank, or upgrades along its chain
    addAbility: function(character, abilityDef, {blackboard=undefined}={})
    {
        if (typeof abilityDef === 'string')
        {
            abilityDef = setup[abilityDef];
        }
        if (!abilityDef)
        {
            setup.logErr("Ability Definition is undefined!");
            return;
        }
        console.log(`Adding ability rank ${abilityDef.id} to ${character.name}`);

        /* Do we already have this ability? */
        let abilityRuntimeData = character.abilityRuntimeDatas.find( abi => (abi.id == abilityDef.id && abi.rank > 0));
        if (!abilityRuntimeData)
        {
            // Check to see if we already have upgrades
            if(this.checkAbilityRuntimeDataExists(character, abilityDef.id, {includeUpgrades:true}))
            {
                // Add to the existing upgrade path
                this.addAbility(character, setup[abilityDef.nextAbilityID], {blackboard});
                return;
            }
            else
            {
                // Initialize and give
                this.initRuntimeData(character, abilityDef, {blackboard});
                abilityRuntimeData = character.abilityRuntimeDatas[character.abilityRuntimeDatas.length - 1];
            }
        }
        else if (setup.canRank(abilityRuntimeData))
        {
            // Add a rank
            setup.addRank(abilityRuntimeData);
        }
        else if (abilityDef.upgradeConditionFunction(abilityRuntimeData, character))
        {
            if(abilityDef.upgradeExclusive)
            {
                // Remove this ability
                this.removeAbilityRuntimeData(character, abilityRuntimeData);
            }
            // Upgrade to the next ability
            this.addAbility(character, setup[abilityDef.nextAbilityID], {blackboard});
            return
        }
        else
        {
            // DO NOTHING AND RETURN
            console.log(`Could not add rank to ${abilityDef.id}!`)
            return;
        }

        // Give this ability an ACQUIRE signal
        let params =
        {
            trigger: setup.AbilityTrigger.ON_ACQUIRE,
            self: character,
        };
        this.handleAbilityTrigger(abilityRuntimeData, params);
    },

    // Sets an ability to a specific rank
    setAbilityRank: function(character, abilityDef, rank, {blackboard=undefined}={})
    {
        if (typeof abilityDef === 'string')
        {
            abilityDef = setup[abilityDef];
        }
        if (!abilityDef)
        {
            setup.logErr("Ability Definition is undefined!");
            return;
        }

        console.log(`Setting ability ${abilityDef.id} of ${character.name} to rank ${rank}`);
        if (rank == 'max')
        {
            rank = abilityDef.maxRank;
        }

        /* Do we already have this ability? */
        let abilityRuntimeData = character.abilityRuntimeDatas.find( abi => (abi.id == abilityDef.id && abi.rank > 0));

        if (!abilityRuntimeData)
        {
            // If exclusive, remove any previous or existing abilities along its chain.
            if (abilityDef.upgradeExclusive)
            {
                let chainList = this.getUpgradeList(abilityDef.id);
                chainList = chainList.concat(this.getPreviousList(abilityDef.id));

                // Reverse iterate since we are (potentially) deleting
                for (let i0 = character.abilityRuntimeDatas.length - 1; i0 >= 0; --i0)
                {
                    if (chainList.includes(character.abilityRuntimeDatas[i0].id))
                    {
                        this.removeAbilityRuntimeData(character, character.abilityRuntimeDatas[i0]);
                    }
                }
            }

            // Initialize and give
            this.initRuntimeData(character, abilityDef, {rank, blackboard});
            abilityRuntimeData = character.abilityRuntimeDatas[character.abilityRuntimeDatas.length - 1];
        }
        else
        {
            setup.setRank(abilityRuntimeData,rank);
        }

        // Give this ability an ACQUIRE signal
        let params =
        {
            trigger: setup.AbilityTrigger.ON_ACQUIRE,
            self: character,
        };
        this.handleAbilityTrigger(abilityRuntimeData, params);
    },

    broadcastAbilityTrigger: function(character, abilityParams)
    {
        let displayString = "";

        /* Reverse iterate to ensure removal does not mess with indicies */
        for(let i = (character.abilityRuntimeDatas.length - 1); i >= 0; --i)
        {
            let ability = setup.getAbilityByIndex(character.abilityRuntimeDatas[i].abilityDataIndex);

            let returnString = this.handleAbilityTrigger(character.abilityRuntimeDatas[i], abilityParams);
            if (returnString)
            {
                let args = {
                    Name: character.info.name,
                    AbiName: ability.name,
                };
                displayString += "∇: " +LNG.LocaleCap('AbilityActivate', args) + " " + returnString + "\n";
            }
        }

        return displayString;
    },

    runBehaviour: function(abilityRuntimeData, abilityParams, behaviourInstructions, phase)
    {
        var behaviourInstructionsLength = behaviourInstructions.length;
        var displayString = "";

        if (behaviourInstructionsLength != 0)
        {
            behaviourInstructions.forEach(behaviour =>{
                let behaviourTriggers = behaviour.triggers;
                if ((behaviourTriggers & abilityParams.trigger) == abilityParams.trigger){
                    switch(phase){
                        case "start":
                            abilityRuntimeData.isActive = true;
                            abilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
                            {
                                abilityIndex: abilityRuntimeData.abilityDataIndex
                            });
                            break;
                        case "update":
                            break;
                        case "end":
                            break;
                        case "remove":
                            break;
                    }

                    let behaviourFunction = behaviour.triggerFunction;
                    if (behaviourFunction != undefined){
                        displayString += behaviour.triggerFunction(abilityRuntimeData, abilityParams);
                    }

                    switch(phase){
                        case "start":
                            break;
                        case "update":
                            break;
                        case "end":
                            abilityRuntimeData.isActive = false;
                            break;
                        case "remove":
                            /* Allow any remaining behaviours to be executed before removing */
                            abilityRuntimeData.isScheduledForRemoval = true;
                            break;
                    }
                }
            });

            if(abilityRuntimeData.isScheduledForRemoval == true)
            {
                abilityRuntimeData.isScheduledForRemoval = undefined;
                this.removeAbilityRuntimeData(abilityParams.self, setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex))
            }
        }
        return displayString;
    },

    handleAbilityTrigger: function(abilityRuntimeData, abilityParams)
    {
        let displayString = "";
        let ability = setup.getAbilityByIndex(abilityRuntimeData.abilityDataIndex);

        switch (abilityRuntimeData.isActive){
            case true:
                displayString += this.runBehaviour(
                    abilityRuntimeData,
                    abilityParams,
                    ability.updateBehaviourInstructions,
                    "update"
                )

                displayString += this.runBehaviour(
                    abilityRuntimeData,
                    abilityParams,
                    ability.endBehaviourInstructions,
                    "end"
                )
                break;
            case false:
                displayString += this.runBehaviour(
                    abilityRuntimeData,
                    abilityParams,
                    ability.startBehaviourInstructions,
                    "start"
                )

                displayString += this.runBehaviour(
                    abilityRuntimeData,
                    abilityParams,
                    ability.updateBehaviourInstructions,
                    "update"
                )
                break;
        }

        displayString += this.runBehaviour(
            abilityRuntimeData,
            abilityParams,
            ability.removeBehaviourInstructions,
            "remove"
        )

        return displayString;
    },

    getUpgradeList: function(abilityID)
    {
        let upgradeList = [];
        let abi = setup.UpgradeAbilityMap[abilityID];
        while (abi && abi.next)
        {
            upgradeList.push(abi.next);
            abi = setup.UpgradeAbilityMap[abi.next];
        }
        return upgradeList;
    },

    getPreviousList: function(abilityID)
    {
        let previousList = [];
        let abi = setup.UpgradeAbilityMap[abilityID];
        while (abi && abi.previous)
        {
            previousList.push(abi.previous);
            abi = setup.UpgradeAbilityMap[abi.previous];
        }
        return previousList;
    },

    getAbilityUpgradeData: function(character, abilityID)
    {
        let abiList = this.getUpgradeList(abilityID);
        if (abiList)
        {
            return character.abilityRuntimeDatas.find(abi =>{
                return(abiList.includes(abi.id) && (abi.isActive));
            });
        }
        else
        {
            return undefined;
        }
    },

    checkAbilityUpgradeDataExists: function(character, abilityID,
        {includeInactive=false}={})
    {
        let abiList = this.getUpgradeList(abilityID);
        if (abiList)
        {
            return undefined != character.abilityRuntimeDatas.find(abi =>{
                return(abiList.includes(abi.id) && (includeInactive || abi.isActive));
            });
        }
        else {
            return false;
        }
    },

    checkAbilityRuntimeDataExists: function(character, abilityID,
        {includeInactive=false, includeUpgrades=true}={})
    {
        let retVal = character.abilityRuntimeDatas.find(abi =>{
            return(abilityID == abi.id && (includeInactive || abi.isActive));
        });

        if(retVal)
        {
            return true;
        }
        else if (includeUpgrades)
        {
            return this.checkAbilityUpgradeDataExists(character, abilityID, {includeInactive});
        }
        else
        {
            return false;
        }
    },

    getAbilityRuntimeDataValue: function(character, abilityID, value, includeInactive=false)
    {
        let retVal = undefined;
        let abi = character.abilityRuntimeDatas.find( abi => {
            return (abi.id == abilityID && (includeInactive || abi.isActive));
        });
        if (abi)
        {
            retVal = abi[value];
        }
        return retVal;
    },

    removeAbilityRuntimeData: function(character, abilityData)
    {
        console.log(`removeAbilityRuntimeData ${abilityData.id}`)
        let index = character.abilityRuntimeDatas.findIndex( abi => abi.id == abilityData.id);
        if (index >= 0)
        {
            character.abilityRuntimeDatas.splice(index,1);
        }
    },

    clearAllAbilityRuntimeData: function(character)
    {
        character.abilityRuntimeDatas = [];
    },

    copyAbilityRuntimeData: function(tgtChar, srcChar, excludeList=DEFAULT_ABILITY_EXCLUDE_COPY_LIST)
    {
        console.log(`copyAbilityRuntimeData from ${srcChar.name} to ${tgtChar.name}`);

        srcChar.abilityRuntimeDatas.forEach( abi => {
            if (!excludeList.includes(abi.id))
            {
                let abilityDef = setup.getAbilityByIndex(abi.abilityDataIndex);
                this.addAbility(tgtChar, abilityDef, {rank:abi.rank});
            }
        });
    },

    initRuntimeData: function(character, abilityDef,
        {rank=1, blackboard=undefined}={})
    {
        console.log(`Initializing ${abilityDef.id}`);

        character.abilityRuntimeDatas.push(
            {
                rank,
                blackboard,

                isActive: false,
                seen: false,

                id: abilityDef.id,
                abilityDataIndex: setup.AbilityIndexCache[abilityDef.id],
                isAchievement: abilityDef.isAchievement,
                achievementState: abilityDef.achievementState,

            }
        )
    },

    // Used on loading/upgrading saves
    reIndexRuntimeDatas: function(character)
    {
        character.abilityRuntimeDatas.forEach(abi =>
        {
            abi.abilityDataIndex = setup.AbilityIndexCache[abi.id];
        });
    },

    hasAbility: function(character, abilityID, {includeInactive=false, includeUpgrades=true}={})
    {
        abilityID = (typeof abilityID === 'object')? abilityID.id : abilityID;
        return this.checkAbilityRuntimeDataExists(character, abilityID, {includeInactive, includeUpgrades})
    },

    hasAchievement: function(character, achieveID)
    {
        // just another name for "has ability"
        // At least for now
        return this.hasAbility(character, achieveID, undefined, false);
    },
}

/*-------------------------------------------------------*/
// TODO: I'm not sure this is needed past version 10807?
//this fucking sucks but it's part of the save file upgrade flow now (0.8.6.1), please keep don't delete it
setup.FixedaddAbility0861 = function(abilityData, blackboard = undefined, setRank = undefined)
{
    console.log("addAbility")
    console.log(abilityData)

    var runtimeData;
    var character = State.variables[this.ownerID];
    let learned = false;
    let applied = false;

    var baseID = abilityData.baseID;

    console.log("heyhey")
    console.log(this.abilityRuntimeDatas)

    //check if already learned, try to level it up in that case
    for(let i = 0; i < this.abilityRuntimeDatas.length; ++i)
    {
        let ability = setup.getAbilityByIndex(this.abilityRuntimeDatas[i].abilityDataIndex);
        if(ability.baseID == baseID)
        {
            learned = true;
            applied = true;
            if(setRank)
            {
                this.abilityRuntimeDatas[i].rank = setRank;
                runtimeData = this.abilityRuntimeDatas[i];
                if(blackboard != undefined)
                {
                    setup.deepMerge(runtimeData.blackboard, blackboard);
                }
            }
            else if(setup.canRank(this.abilityRuntimeDatas[i])){
                setup.addRank(this.abilityRuntimeDatas[i]);
                runtimeData = this.abilityRuntimeDatas[i];
                if(blackboard != undefined)
                {
                    setup.deepMerge(runtimeData.blackboard, blackboard);
                }
            }
            else if(ability.upgradeConditionFunction(this.abilityRuntimeDatas[i], character))
            {
                if(blackboard != undefined)
                {
                    this.abilityRuntimeDatas[i] = setup.AbilityRuntimeDataFactory.createAbilityRuntimeData({
                        abilityData: setup[ability.nextAbilityID],
                        blackboard: blackboard,
                    });
                }
                else
                {
                    this.abilityRuntimeDatas[i] = setup.AbilityRuntimeDataFactory.createAbilityRuntimeData({
                        abilityData: setup[ability.nextAbilityID],
                    });
                }
                runtimeData = this.abilityRuntimeDatas[i];
            }
            else
            {
                runtimeData = this.abilityRuntimeDatas[i];
            }
        }
    }
}
/* twine-user-script #221: "abilityRuntimeData.js" */
/* Declare globals for Eslint */
/* global setup */
setup.AbilityRuntimeDataFactory =
{
    createAbilityRuntimeData : function(param)
    {
        console.log("createAbilityRuntimeData")
        console.log(setup.AbilityIndexCache[param.abilityData.id])
        var newAbilityRuntimeData = {};

        newAbilityRuntimeData.abilityDataIndex = setup.AbilityIndexCache[param.abilityData.id];
        newAbilityRuntimeData.id = param.abilityData.id;

        if(param.blackboard != undefined)
        {
            newAbilityRuntimeData.blackboard = param.blackboard;
        }

        newAbilityRuntimeData.isActive = false;

        if(param.abilityData.isAchievement == true)
        {
            newAbilityRuntimeData.achievementState = param.abilityData.achievementState;
        }

        newAbilityRuntimeData.rank = (param.rank ) ? param.rank : 1;
        newAbilityRuntimeData.modifier = setup.ModifierFactory.createModifier(
        {
            abilityIndex: newAbilityRuntimeData.abilityDataIndex
        });
        newAbilityRuntimeData.seen = false;

        return newAbilityRuntimeData;
    }
}
/* twine-user-script #222: "anatomyClass.js" */
/* Declare globals for Eslint */
/* global setup */

class LimbDef {
    name = "";
    namePlural = "";
    naturalPair = false;
	raceId = undefined;
	baseIsPlural = false;
	sizeCompType = "height";
    synonyms = {
		singular: [],
		plural: [],
	};
    adjectives= {
        pure: [],
        corrupt: [],

        small: [],
        medium: [],
        large: [],
        huge: [],
    };
	mutant = {
		pointCost: 2,
		unpairLevel: 0, // Assume everything is not paired.

		// Limits tells you the maximum number of limbs you can gain per point of Mutant
		// (level 6 is Abomination)
		// Index #1 = Total Willing Cap, Total Actual Cap
		// Note: this is GAIN, not TOTAL--remember base amount!
		//      You MUST have 6 levels specified!
		//		1 for Mutant 0, 5 for Mutant 1-5,
		// Example:
		limits: [
			[0,0],
			[0,0],
			[0,0],
			[0,0],
			[0,0],
			[0,0],
		],
	};
	// What status each individual limb gives
    // Example list of those available and a typical value/modifier.
    // This would be for 2 paired limbs, or 1 naturally single limb, so half this for pairs
    // max_value -- max that can be added from any total of limbs
    status = [
    ];
    constructor (kwargs)
    {
		if (!kwargs.mutant.limits || kwargs.mutant.limits.length != (setup.Ability_Mutant.maxRank + 1))
        {
            var errString = "Invalid mutant limits specified in limb: "+kwargs.name + "!";
            throw errString + " " + JSON.stringify(kwargs);
        }
        // Get rid of the examples
        this.mutant.limits = [];
        this.status = [];

        setup.deepMerge(this, kwargs);
    }
}

/* Default Number: Based on human
 * Per Parent: Defines the limb to a parent limb, multiplying the description
 * 		based on the parent limb. e.g. if you have 4 eyes, it is 4 eyes *per* head,
 * 	 	not 4 eyes total across all heads.
 *
 * 		If both the child and parent are "natural pairs", they are assumed to be equally
 *		distributed. e.g. 2 hands per 2 arms = 1 hand per 1 arm.
 */
setup.addLimbToRef = function(key, params)
{
	/* Check if a different entry exists */
	if(setup.Anatomy.LIMB_REF[key])
	{
		throw "Limb " +key + " is already defined!";
	}

	setup.Anatomy.LIMB_REF[key] = new LimbDef(params);
	setup.Anatomy.LIMB_ORDERED_KV.push([key,setup.Anatomy.LIMB_REF[key]]);
}

setup.getLimbPerLimbString = function(character, limbKey)
{
	var displayString = "";
	var LIMB = setup.Anatomy.LIMB_REF[limbKey];
	if (LIMB.perParent)
	{
		var parentLimb = setup.Anatomy.LIMB_REF[LIMB.perParent];
		if (character.info.anatomy[LIMB.perParent].number > 1)
		{
			if(parentLimb.naturalPair)
			{
				displayString += "per pair of " + setup.autoCap(parentLimb.namePlural);
			}
			else
			{
				displayString += "per " + setup.autoCap(parentLimb.name);
			}
		}
	}
	return displayString;
}


setup.colourLimbs = function(character, limbs, newColour)
{
	var limbArr = (Array.isArray(limbs))? limbs : [limbs];
	limbArr.forEach(limb => character.info.anatomy[limb].colour = newColour);

	var triggerParams =
    {
        trigger: setup.AbilityTrigger.ON_ANATOMY_CHANGE,
        self: character,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, triggerParams);
}

// You can specify a list of limb with the same number
// If you supply a list of dictionaries in the limb, "number" and "mod" are ignored

setup.changeLimbsNumber = function(character, limbs, number, mod=setup.mod.ADD)
{
	var limbList = Array.isArray(limbs) ? limbs : [limbs];

	let ca = character.info.anatomy;
	limbList.forEach( limb =>
	{
		// Check to see if it's a dictionary definition
		var lmb;
		var md;
		var num;
		if(limb.constructor == Object)
		{
			lmb = limb.limbKey;
			md = limb.mod;
			num = limb.number;
		}
		else
		{
			lmb = limb;
			md = mod;
			num = number;
		}
		switch(md)
		{
			default:
			case setup.mod.ADD:
				ca[lmb].number += num;
				break;
			case setup.mod.REMOVE:
				ca[lmb].number = Math.max(0, ca[lmb].number-num);
				break;
			case setup.mod.MULTIPLYPOS:
				ca[lmb].number = Math.round(num*ca[lmb].number);
				break;
			case setup.mod.MULTIPLYNEG:
				ca[lmb].number = Math.round((1-num)*ca[lmb].number);
				break;
			case setup.mod.EQUAL:
				ca[lmb].number = num;
				break;
			case setup.mod.MAX:
				ca[lmb].number = Math.min(num, ca[lmb].number);
				break;
			case setup.mod.MIN:
				ca[lmb].number = Math.max(num, ca[lmb].number);
				break;
		}
	});

	var triggerParams =
    {
        trigger: setup.AbilityTrigger.ON_ANATOMY_CHANGE,
        self: character,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, triggerParams);
}

setup.colourAllLimbs = function(character, color)
{
	var limbList = Object.keys(character.info.anatomy);
    limbList.forEach(limb => character.info.anatomy[limb].colour = color);

	var triggerParams =
    {
        trigger: setup.AbilityTrigger.ON_ANATOMY_CHANGE,
        self: character,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, triggerParams);
}

setup.resetAllColours = function(character)
{
	setup.colourAllLimbs(character, setup.ColourPool.DEFAULT);
}

setup.isLimbPlural = function(limb)
{
	return setup.Anatomy.LIMB_REF[limb].baseIsPlural;
}

setup.hasLimb = function(character, limb)
{
    let anatomy = (character.info)? character.info.anatomy : character;
    return anatomy[limb] != undefined && anatomy[limb]["number"] != 0;
}
/* twine-user-script #223: "characterClass.js" */
/* Declare globals for Eslint: */
/* global setup, State */
setup.createAnatomy = function(race)
{
    var anatomy = {};
    if (!isNaN(race))
    {
        race = setup.RacePool[race];
    }

    for (let key of Object.keys(setup.Anatomy.LIMB_REF))
    {
        anatomy[key] = {
            number: race.anatomy[key].defaultNumber,
            raceId: race.id,
            colour: setup.ColourPool.DEFAULT
        };
    }
    return anatomy;
}

/* Constructor factory. We need to store as little in character sheets as possible
 * (so no classes :c)*/

setup.createCharacterInfoSheet = function(params)
{
    const BaseCharacterSheet = {
        name : "",
        gender : "MASC",
        bodyVisual : undefined,
        corruption : 0,
        muscles : setup.Size.REF.muscles,
        height : setup.Size.REF.height,
        cock : setup.Size.REF.cock,
        balls : setup.Size.REF.balls,
        known : setup.EncounterKnownState.UNKNOWN,
        raceId : setup.RacePool.DEFAULT.id,
        isGeneralCharacter : false,
        startingAbilities: [],
        anatomy : {},
    }

    var infoSheet = {};
    setup.deepMerge(infoSheet, BaseCharacterSheet);
    /* Populate the anatomy details from the provided race */
    var race = setup.RacePool[params.raceId];
    if (race == undefined)
    {
        race = setup.RacePool.DEFAULT;
    }
    infoSheet.anatomy = setup.createAnatomy(race);

    setup.deepMerge(infoSheet, params);
    return infoSheet;
}


setup.CharHndlr =
{
    createFlavourEvent: function(character, eventName){
        if(character.text[eventName] == undefined)
        {
            character.text[eventName] = {};
        }
    },

    addHeightFlavourText: function(character, eventName, sizeLevel, flavourText)
    {
        var sizeKey = ""
        switch(sizeLevel){
            case 1:
                sizeKey = "small";
                break;
            case 2:
                sizeKey = "medium";
                break;
            case 3:
                sizeKey = "large";
                break;
            case 4:
                sizeKey = "huge";
                break;
        }

        this.createFlavourEvent(character, eventName)

        if(character.text[eventName]['heightFlavour'] == undefined)
        {
            let innerDict = {
                "small": [],
                "medium": [],
                "large": [],
                "huge": []
            }
            innerDict[sizeKey] = [flavourText]
            character.text[eventName]['heightFlavour'] = innerDict
        }else{
            character.text[eventName]['heightFlavour'][sizeKey].push(flavourText)
        }
    },

    addCorruptionFlavourText: function(character, eventName, corruptionLevel, flavourText)
    {
        let corruptionKey = ""
        switch(corruptionLevel){
            case 1:
                corruptionKey = "corrupt25";
                break;
            case 2:
                corruptionKey = "corrupt50";
                break;
            case 3:
                corruptionKey = "corrupt75";
                break;
            case 4:
                corruptionKey = "corrupt100";
                break;
        }

        this.createFlavourEvent(eventName)

        if(character.text[eventName]['corruptionFlavour'] == undefined)
        {
            var innerDict = {
                "corrupt25": [],
                "corrupt50": [],
                "corrupt75": [],
                "corrupt100": []
            }
            innerDict[corruptionKey] = [flavourText]
            character.text[eventName]['corruptionFlavour'] = innerDict
        }else{
            character.text[eventName]['corruptionFlavour'][corruptionKey].push(flavourText)
        }
    },

}

setup.CharacterFactory =
{
    createCharacter : function(param)
    {
        var newCharacter = {};
        console.log("Starting character creation " +param.id);
        newCharacter.id = param.id;
        newCharacter.info = setup.createCharacterInfoSheet(param.info);
        console.log("Logging character:" +JSON.stringify(newCharacter.info ,null,4));
        newCharacter.symbiote = param.symbiote;
        newCharacter.fight = param.fight;
        newCharacter.quest = param.quest;
        newCharacter.text = param.text;

        if(!setup.allCharacters.includes(param.id))
        {
            setup.allCharacters.push(param.id);
        }

        /* Create ability data structure */
        newCharacter.abilityRuntimeDatas = [];

        for(let i = 0; i < setup.GlobalAbilities.length; i++)
        {
            setup.AbiHndlr.addAbility(newCharacter, setup.GlobalAbilities[i]);
        }

        newCharacter.info.startingAbilities.forEach(obj => {
            let rank = (obj.rank)? obj.rank : 1;
            setup.AbiHndlr.setAbilityRank(newCharacter, obj.abi, rank, {blackboard: obj.blackboard});
        });

        newCharacter.info.startingAbilities = [];

        console.log("Finished character creation " +param.id);

        setup.CharacterList.push(newCharacter.id)
        setup.CharacterList.sort();
        return newCharacter;
    },
}
/* twine-user-script #224: "modifier.js" */
/* Declare globals for Eslint */
/* global setup, State */

setup.ModifierFactory =
{
    createModifier : function(param)
    {
        var newModifier = {};
        newModifier.abilityIndex = param.abilityIndex;

        return newModifier;
    }
}
/* twine-user-script #225: "raceClass.js" */
/* Declare globals for Eslint */
/* global setup, State */

class RaceDef {
	id = 0;
    name = "";
    namePlural = "";
	adjective = "";
    description = "";
    anatomy = {};
	racialBonus = [];

    constructor (kwargs) {
        /* Initialize the anatomy list */
        for (const [key, limb] of Object.entries(setup.Anatomy.LIMB_REF))
        {
            this.anatomy[key] = {
                defaultNumber: limb.defaultNumber,
                raceTexture: [],
            }
        }
		/* Make the character-specific alterations */
        setup.deepMerge(this, kwargs);
		console.log(this);
    }
}


/* Default number of anatomy is based on human. Only specifify what is different */
/* IMPORTANT: Ids must be unique! That's what we store in saves!
 * 		They also shouldn't change once made, or else it can (mildly) corrupt saves!
 * 		0-99 - Player start races
 *      100+ - NPC/unlockable races
 * 		999  - Custom race
 */
setup.addRaceToPool = function(key, params)
{
	/* Check if a different entry exists */
	if(setup.RacePool[key] != setup.RacePool[params.id])
	{
		throw "Race " + key + " is duplicating id " + params.id;
	}

	setup.RacePool[key] = new RaceDef(params);
	/* Double Reference so we can access by key or id */
	setup.RacePool[params.id] = setup.RacePool[key];
	/* Add to the ordered list for user presentation */
	setup.RacePool.Ordered.push(setup.RacePool[key]);
}


setup.getBaseRacesOrdered = function()
{
	return setup.RacePool.Ordered.filter(race => race.id >= 0 && race.id < 100);
}

setup.getUnlockedRacesOrdered = function(includeBase=true)
{
	var unlockedRaces = State.variables.CharacterSheet_Player.info.unlockedRaces;
	return setup.RacePool.Ordered.filter(race => {
		return (includeBase && (race.id >= 0 && race.id < 100))
				|| (unlockedRaces.includes(race.id));
	})
}

setup.setRandomRace = function(character)
{
	let playerRacesId = Object.keys(setup.RacePool).filter((key) => !isNaN(key) && key >= 0 && key < 100);
    let raceId = playerRacesId.random();

    setup.setRace(character, setup.RacePool[raceId]);
}
setup.unlockRace = function(race)
{
	var unlockedRaces = State.variables.CharacterSheet_Player.info.unlockedRaces;
	if (race.id >= 100 && !unlockedRaces.includes(race.id ))
	{
		unlockedRaces.push(race.id );
		unlockedRaces.sort();
	}
}
setup.lockRace = function(race)
{
	var unlockedRaces = State.variables.CharacterSheet_Player.info.unlockedRaces;
	if (race.id  >= 100 && unlockedRaces.includes(race.id ))
	{
		var index = unlockedRaces.indexOf(race.id );
		unlockedRaces.splice(index,1);
	}
}

// Internal helper function
// New Limb may or may not be part of info
// So don't mess with it until the very end
function setLimbKeepExtras(info, newLimb, limbKey, newRaceId)
{
	let tempLimb = {};
	let oldLimb = info.anatomy[limbKey]
	let oldRaceId = (oldLimb.raceId) ? oldLimb.raceId : info.raceId;
	let oldRaceLimbDef = setup.RacePool[oldRaceId].anatomy[limbKey];
	let newRaceLimbDef = setup.RacePool[newRaceId].anatomy[limbKey];

    let limbDiff = newRaceLimbDef.defaultNumber - oldRaceLimbDef.defaultNumber;
	tempLimb.number =  Math.max(0,oldLimb.number + limbDiff);
	/* Keep the race of the limb if the default does not have this limb. e.g. demon horns on human */
	if (newRaceLimbDef.defaultNumber == 0)
	{
		tempLimb.raceId = oldRaceId;
	}

	setup.deepMerge(newLimb, tempLimb);
}

// Internal helper function
// Scans through the limbs and sees what race you are from it.
function updateRace(character)
{
	var info = character.info;
	// Give priority to the existing race
	var originalCount = 1;
	var totalCount = 1;
	var otherRaces = {};

	for (let limb of Object.values(info.anatomy))
	{
		if (limb.number == 0)
		{
			continue;
		}
		totalCount++;
		if(!limb.raceId || limb.raceId == info.raceId)
		{
			originalCount++;
		}
		else
		{
			otherRaces[limb.raceId] = (otherRaces[limb.raceId]) ? otherRaces[limb.raceId] + 1 : 1;
		}
	}
	otherRaces[info.raceId] = originalCount;
	var raceList = Object.entries(otherRaces).sort( (a, b) => {
		// Sort by the count: index #1
		return (b[1] - a[1]);
	});

	const mixThreshold = Math.ceil(totalCount / 4);
	/* Check for a mostly-pure race */
	if (raceList.length < 2 || raceList[0][1] >= 2.5*mixThreshold)
	{
		info.raceId = raceList[0][0];
		info.secondaryRaceId = undefined;
	}
	/* Check to see if we are a hybrid */
	else if (raceList[0][1] < mixThreshold)
	{
		info.raceId = setup.RacePool.HYBRID.id;
		info.secondaryRaceId = raceList[0][0];
	}
	/* We have secondary/primary */
	else
	{
		info.raceId = raceList[0][0];
		info.secondaryRaceId = raceList[1][0];
	}

	/* Bump everything around if we have an Override Race */
	if (info.overrideRaceId)
	{
		if(info.overrideNoSec)
		{
			info.secondaryRaceId = undefined;
		}
		else
		{
			if( info.raceId != info.overrideRaceId)
			{
				info.secondaryRaceId = info.raceId;
			}
		}
		info.raceId = info.overrideRaceId;
	}
}

// keepExtras -- keep any (non-mutant) limbs beyond the normal amount for the old race
// keepAllLimbs -- keep the number of limbs you have, regardless of the default number
//					of the new race (overrides keepExtras)
setup.setRaceLimbs = function(character, limbs, newRace,
	{keepExtras=true, keepAllLimbs=false}={})
{
	let limbList = (Array.isArray(limbs))? limbs : [limbs];
	let raceId = (isNaN(newRace))? newRace.id : newRace;

	limbList.forEach(limbKey => {
		let charLimb = character.info.anatomy[limbKey];
		if (!charLimb)
		{
			throw "Limb does not exist! " + limbKey;
		}

        if (!keepAllLimbs)
        {
            if (keepExtras)
            {
                setLimbKeepExtras(character.info, charLimb, limbKey, raceId);
            }
            else
            {
                charLimb.number = setup.RacePool[raceId].anatomy[limbKey].defaultNumber;
            }
        }

		// Unset limb id if it matches main character
		charLimb.raceId = (character.info.raceId == raceId) ? undefined : raceId;
	});
	updateRace(character);

	var triggerParams =
    {
        trigger: setup.AbilityTrigger.ON_ANATOMY_CHANGE,
        self: character,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, triggerParams);
}
// No Secondary -- Locks you to this race and this race only, no secondary options allowed.
// SetRace --	Also sets and changes your race to this override race.
//				Surprisingly, there are times when we want this false.
setup.setOverrideRace = function(character, newRace, {noSecondary,setRace,keepExtras, keepColours, keepNonRaceLimbs, keepAll, raceRemainsLocked}={noSecondary:false, setRace:true})
{
	let info = character.info;
	info.overrideRaceId = newRace.id;
	info.overrideNoSec = noSecondary;
	if(setRace)
	{
		setup.setRace(character, newRace, {keepExtras, keepColours, keepNonRaceLimbs, keepAll, raceRemainsLocked});
	}
}

// Optional Args:
// keepExtras--Will calculate any extra anatomy (or lack thereof) from the default race
// 		and keep the difference. e.g. If you have 2 horns as a human, you will gain +2 horns
//		in the new Race
// keepColours--Will keep any specified colors of your race that do not match default.
// keepNonRaceLimbs -- Will keep any limbs that are already explicitly specified
// keepAll -- Keeps all of the above
// raceRemainsLocked -- Normally, if Character_Player transforms into a race, you "unlock" it, allowing access to it.
//		through shapeshifting or other means. Setting this to true will keep that race locked.
//		Does nothing with base races.
// overrideRace -- Sets this race to be your override race, which cannot be changed by anything but a new override.
setup.setRace = function(character, newRace, {keepExtras, keepColours, keepNonRaceLimbs, keepAll, raceRemainsLocked}={})
{
	let info = character.info;
	if (!isNaN(newRace))
    {
        newRace = setup.RacePool[newRace];
    }
	let newAnatomy = setup.createAnatomy(newRace);

	for (const [key, newLimb] of Object.entries(newAnatomy))
	{
		if(keepColours || keepAll)
		{
			newLimb.colour = info.anatomy[key].colour;
		}
		if(keepExtras || keepAll)
		{
			setLimbKeepExtras(character.info, newLimb, key, newRace.id)
			/* Keep the race of the limb if the default does not have this limb. e.g. demon horns on human */
			if (setup.RacePool[newRace.id].anatomy[key].defaultNumber == 0)
			{
				newLimb.raceId = info.anatomy[key].raceId;
			}
		}

		if((keepNonRaceLimbs || keepAll) && info.anatomy[key].raceId != info.raceId)
		{
			// Keep the old limb id as long as it is different from the old race
			newLimb.raceId = (info.anatomy[key].raceId == newRace.id) ? undefined : info.anatomy[key].raceId ;
		}
	}
	if (!raceRemainsLocked && character == State.variables.CharacterSheet_Player)
	{
		setup.unlockRace(newRace)
	}
	info.anatomy = newAnatomy;
	info.raceId = newRace.id;
	updateRace(character);

	var triggerParams =
    {
        trigger: setup.AbilityTrigger.ON_ANATOMY_CHANGE,
        self: character,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(character, triggerParams);
}

setup.getRaceName = function(character, capitalize=true)
{
	var raceId = character.info.raceId;
	var race = setup.RacePool[raceId];
	if (!race)
	{
		console.log("No race found for "+character.info.name);
		return "";
	}
	var displayString = ((capitalize) ? setup.autoCap(race.name) : race.name);
	if (character.info.secondaryRaceId)
	{
		var secRace = setup.RacePool[character.info.secondaryRaceId];
		displayString += "-";
		displayString += ((capitalize) ? setup.autoCap(secRace.name) : secRace.name);
	}
	return displayString;
}

setup.getRaceDescription = function(character)
{
	var raceId = character.info.raceId;
	var race = setup.RacePool[raceId];
	if (!race)
	{
		console.log("No race found for "+character.info.name);
		return "";
	}
	var displayString = race.description;
	if (character.info.secondaryRaceId)
	{
		var secRace = setup.RacePool[character.info.secondaryRaceId];
		displayString += "\nThere is a blend of other racial features from the " + setup.autoCap(secRace.name) + " race.";
		displayString += "\n"+secRace.description;
	}
	return displayString;
}

setup.getAnatomyStatsTable = function(character)
{
	var tbl = document.createElement("TABLE");
	tbl.id = "AntatomyViewTable";

	var header = tbl.createTHead();
	var name_row = header.insertRow(-1);
	name_row.insertCell(-1).innerHTML = character.info.name;

	var race_row = header.insertRow(-1);
	race_row.insertCell(-1).innerHTML = setup.getRaceName(character);

	setup.Anatomy.LIMB_ORDERED_KV.forEach(  keyVal =>
	{
		let key = keyVal[0];
		let limb = keyVal[1];
		console.log("Table log, key: "+key + " limb: "+limb);
		var row = tbl.insertRow(-1);
		var limbCount = character.info.anatomy[key].number;
		if (limbCount > 0)
		{
			row.insertCell(0).innerHTML = limbCount;
			row.insertCell(1).innerHTML = setup.DESC.getAdjectives(character, key);
			row.insertCell(2).innerHTML = (limbCount > 1) ? setup.autoCap(limb.namePlural) : setup.autoCap(limb.name);
		}
	});

	return tbl.outerHTML;
}

setup.getRaceSelect = function()
{
	var unlockedRaces = setup.getUnlockedRacesOrdered();
	let outerDiv = document.getElementById("Setup_Race_Select_div");
	unlockedRaces.forEach( race => {
		let innerDiv = document.createElement("DIV");
		outerDiv.appendChild(innerDiv);
		let outerSpan = document.createElement("SPAN");

		let navText = "[["+setup.autoCap(race.name)+"->$Intro_Passage][setup.setRace($CharacterSheet_Player,"+race.id+"); setup.stopTestVoices();]]";
		$(outerSpan).wiki(navText);

		innerDiv.appendChild(outerSpan);

		let titleSpan = document.createElement("SPAN");
		titleSpan.title = '"Click for more info"';
		let titleText = '<<click "🛈">><<toggleclass "#'+race.name+'description" "hidden">><</click>>';
		$(titleSpan).wiki(titleText);

		innerDiv.appendChild(titleSpan);

		let descriptionDiv = document.createElement("DIV");
		descriptionDiv.id = race.name+"description";
		descriptionDiv.classList.add("hidden");
		descriptionDiv.classList.add("expandInfo");
		let descTbl = setup.getRaceDescriptorTbl(race, true);

		descriptionDiv.appendChild(descTbl);

		innerDiv.appendChild(descriptionDiv);
	});
}

/* twine-user-script #226: "DescriptionHelper.js" */
/* Declare globals for Eslint */
/* global setup, State, Dialog */

setup.displayStatValue = function(character, statName, asLength = false, useDoubleLineBreak = false)
{
	var statValue = setup.getStatValue(character, statName);
    var statInfo = setup.getStatModifierPropertyName(statName);

    var tooltipStrings = [];
    var runtimeAbilityDatas = character.abilityRuntimeDatas;
    for(i = 0; i < runtimeAbilityDatas.length; i++)
	{
		if(runtimeAbilityDatas[i].modifier[statInfo.modifierProperty] != undefined)
		{
			if(!runtimeAbilityDatas[i].isActive)
				continue;
			var rankString = setup.displayRankText(runtimeAbilityDatas[i]);

			let ability = setup.getAbilityByIndex(runtimeAbilityDatas[i].abilityDataIndex);

			let modList = Array.isArray(runtimeAbilityDatas[i].modifier[statInfo.modifierProperty]) ?
				runtimeAbilityDatas[i].modifier[statInfo.modifierProperty] : [runtimeAbilityDatas[i].modifier[statInfo.modifierProperty]];

			modList.forEach( mod =>
			{
                if(setup.isModifierEmpty(mod))
                {
                    return;
                }
				tooltipStrings.push(
					setup.displayModifierText(mod,
						ability.name + rankString + ":",
						asLength)
					);
			});
		}
    }

    var displayString = [];

    if(tooltipStrings.length > 0)
    {
        displayString.push("<span class='tooltip' id=");
        if(statValue - setup.getStatValueNoModifiers(character, statName) < 0)
        {
            displayString.push("'StatModifierNegative'");
        }
        else
        {
            displayString.push("'StatModifierPositive'");
        }

        displayString.push(">");
    }

    if(asLength)
    {
        displayString.push(setup.getLength(statValue));
    }
    else
    {
		if(statValue > 1000000000000)
		{
			displayString.push((statValue / 1000000000000).toFixed(0).replace(/\.00$/, '') + "b");
		}
		else if(statValue > 1000000000)
		{
			displayString.push((statValue / 1000000000).toFixed(0).replace(/\.00$/, '') + "m");
		}
		else if(statValue > 1000000)
		{
			displayString.push((statValue / 1000000).toFixed(0).replace(/\.00$/, '') + "k");
		}
		else
		{
			displayString.push(statValue.toFixed(2).replace(/\.00$/, '') + "");
		}
    }


    if(tooltipStrings.length > 0)
    {

		displayString.push("<span class='tooltipContainer'>");
		displayString.push("<span class='tooltiptext'>");

        var i;
        for(i = 0; i < tooltipStrings.length; i++)
        {
            displayString.push(tooltipStrings[i]);

            if(useDoubleLineBreak)
            {
                displayString.push("\\n");
            }
            else
            {
                displayString.push("\n");
            }
        }

        displayString.push("</span>");
        displayString.push("</span>");

        displayString.push("</span>");
    }

	return displayString.join("");
};


setup.renderGraph = function()
{
	var allEncounters = setup.allCharacters;
	var sizeList = [];
	allEncounters.forEach( (charId) => {
		var character = State.variables[charId];
		// Filter out unmet characters
		if(!character.quest || !character.quest.met)
		{
			return;
		}
		sizeList.push({
			height: setup.getStatValue(character, 'height'),
			character: character,
		});
	});
	if (sizeList.length < 1)
		{return;}

	// Sort largest to smallest
	sizeList.sort( (a,b) =>{
		return (b.height - a.height);
	});

	let maxHeight = Math.max(75,sizeList[0].height);
	var chartItems = "";
	for (let i0 = 0; i0 < sizeList.length; ++i0)
	{
		// Normalize the size number based on the maximum value
		var character = sizeList[i0].character;
		var normalizedSize = Math.ceil((sizeList[i0].height*100.0/maxHeight)/2)*2;
		var nameText = '<span style="color:#99C8E2">' + character.info.name + '</span><span>: (' + setup.getLength(setup.getStatValue(character, "height"))+ ')</span>';
		chartItems += nameText + '<li class="chart-bar ' + setup.getCorruptBackgroundClass(character) + '" data-skill="' + normalizedSize + '"></li>';
	}

	var chart = '<ul class="chart-horizontal">' + chartItems + '</ul>';
	var displayString = "<div><h2>Size Chart:</h2></div>"
	displayString += '<div><section class="chart-wrapper">' + chart + '</section></div>';
	return displayString;
}

setup.getRaceDescriptorTbl = function(race, excludeNameRow=false)
{
	var tbl = document.createElement("TABLE");
	tbl.id = race.name.toUpperCase() + "_DESC_TBL";
	tbl.classList.add("BaseTable");

	var header = tbl.createTHead();
	if (!excludeNameRow)
	{
		var nameRow = header.insertRow(-1);
		var nameCell = nameRow.insertCell(-1);
		nameCell.innerHTML =setup.autoCap(race.name);
	}
	var descRow = header.insertRow(-1);
	var descCell = descRow.insertCell(-1);
	descCell.innerHTML = setup.autoCap(race.description);

	var numFullWidthRows = tbl.rows.length;

	// Display the racial bonuses
	if (race.racialBonus)
	{
		var boonsRow = tbl.insertRow(-1);
		var boonsNameCell = boonsRow.insertCell(-1);
		boonsNameCell.innerHTML = "Racial Boons";
		var boonsCell = boonsRow.insertCell(-1);

		var modifier = {};
		race.racialBonus.forEach( bonus =>
		{
			setup.AbilityScripts.Form.addModifierStat(modifier, bonus);
		});
        boonsCell.innerHTML = setup.displayModifiers(modifier);
	}

	var body = tbl.createTBody();

	// Display the limb count and bonuses
	// Only how they are different from DEFAULT
	if (race.id != setup.RacePool.DEFAULT.id)
	{
		setup.Anatomy.LIMB_ORDERED_KV.forEach(  keyVal => {
			let key = keyVal[0];
			let limb = keyVal[1];

			let raceLimb = race.anatomy[key];
			// Skip if the limb matches default
			if (raceLimb.defaultNumber == setup.RacePool.DEFAULT.anatomy[key].defaultNumber)
			{
				return;
			}

			var limbRow = body.insertRow(-1);
			var cntCell = limbRow.insertCell(-1);
			var nameCell = limbRow.insertCell(-1);
			var statCell = limbRow.insertCell(-1);

			cntCell.innerHTML = raceLimb.defaultNumber + "x";
			cntCell.style.width  = "5%";

			nameCell.innerHTML = (raceLimb.defaultNumber > 1) ? setup.autoCap(limb.namePlural) : setup.autoCap(limb.name);
			nameCell.style.width = "10%";

			var modPart = {};
			setup.AbilityScripts.Form.appendLimbModifier(modPart, key, raceLimb.defaultNumber);
			statCell.innerHTML = setup.displayModifiers(modPart);
		});
	}
	var numCols = tbl.rows[tbl.rows.length - 1].cells.length;

	// Make the header rows span all cells
	for (let i0 = 0; i0 < numFullWidthRows; ++i0)
	{
		tbl.rows[i0].cells[0].colSpan = numCols;
	}
	// Make the boons cell span width -1
	boonsNameCell.colSpan = numCols - 1;
	return tbl;
}


setup.getMusclesDescriptorForValue = function(value)
{
	let mObj = setup.Size.MUSCLES.findLast( (obj) => (obj.limit <= value));
	if (mObj)
	{
		return setup.autoCap(mObj.name);
	}
	else
	{
		return "";
	}
}

setup.getMusclesDescriptor = function(character)
{
	var displayString = "";

	var value = setup.getMuscles(character);

	displayString += setup.getMusclesDescriptorForValue(value);

	return displayString;
}

setup.getLength = function(value)
{
	var displayString = "";
	var shownUnits = 2;

	if(State.variables.Measurement == setup.Units.METRIC)
	{
		var cm = Math.floor(value * 2.54);
		if(cm / 100000 >= 1 && shownUnits != 0)
		{
			var km = Math.floor(cm / 100000);
			cm -= km * 100000;

			if(km > 1000000000)
			{
				displayString += (km / 1000000000).toFixed(0).replace(/\.00$/, '') + "m km&nbsp;";
				shownUnits = 0
			}
			else if(km > 1000000)
			{
				displayString += (km / 1000000).toFixed(0).replace(/\.00$/, '') + "k km&nbsp;";
				shownUnits = 0;
			}
			else
			{
				displayString += km.toFixed(2).replace(/\.00$/, '') + "km&nbsp;" ;
				shownUnits--;
			}
		}

		if(cm / 100 >= 1 && shownUnits != 0)
		{
            if(cm > 0)
            {
                var m = Math.floor(cm / 100);
                cm -= m * 100;

                displayString += m.toFixed(2).replace(/\.00$/, '') + "m&nbsp;" ;
            }

			shownUnits--;
		}

		if(cm < 100 && shownUnits != 0)
		{
            if(cm > 0)
            {
                displayString += cm.toFixed(2).replace(/\.00$/, '') % 100+"cm";
            }

			shownUnits--;
		}
	}
	else
	{
		if(value / 63360 >= 1 && shownUnits != 0)
		{
			var miles = Math.floor(value / 63360);
			value -= miles * 63360;

			if(miles > 1000000000)
			{
				displayString += (miles / 1000000000).toFixed(0).replace(/\.00$/, '') + "m miles&nbsp;";
				shownUnits = 0
			}
			else if(miles > 1000000)
			{
				displayString += (miles / 1000000).toFixed(0).replace(/\.00$/, '') + "k miles&nbsp;";
				shownUnits = 0;
			}
			else
			{
				displayString += miles.toFixed(2).replace(/\.00$/, '') + "miles&nbsp;" ;
				shownUnits--;
			}
		}

		if(value / 12 >= 1 && shownUnits != 0)
		{
            if(value > 0)
            {
                var ft = Math.floor(value / 12);
                value -= ft * 12;

                displayString += ft.toFixed(2).replace(/\.00$/, '') + "ft&nbsp;";
            }

			shownUnits--;
		}

		if(value < 12 && shownUnits != 0)
		{
            if(value > 0)
            {
                displayString += (value % 12).toFixed(2).replace(/\.00$/, '') +"in";
            }

			shownUnits--;
		}
	}

	return displayString;
};

setup.getHornsSize = function(character)
{
    return setup.getLength(Math.floor(setup.getStatValue(character, "height") / 7));
}

setup.getRandomColor = function()
{
    return setup.Colors.random();
}

setup.getMuscleGrowthSequenceText = function(character, pronoun="Your", minimal)
{
	var displayString = "";
	var muscleGrowthFlavourText = setup.getFlavourBasedDescription(character, "MuscleGrowthFlavourText");
	var muscleDescriptor = setup.getMusclesDescriptor(character);
	var muscleStatValue = setup.displayStatValue(character, "muscles");

	if(minimal != true)
	{
		displayString += pronoun + " " + muscleGrowthFlavourText + " \n\n";
	}

	displayString += pronoun + " muscles have increased in size! They are now " + muscleDescriptor + "(" + muscleStatValue + ")";
	return displayString;
}

setup.getFlavourBasedDescription = function(character, eventKey, minFlavourAmount=4, comparingCharacter=undefined, useSymbiote=false)
{
	var descriptorObjectArray = [];
	var specificDescriptors = undefined;
	var gender = undefined;

	var textSheet = setup[character['text']];
	if(textSheet != undefined)
	{
		var eventValue = textSheet[eventKey];
		if(eventValue != undefined)
		{
			specificDescriptors = eventValue;
		}
	}

	if(specificDescriptors != undefined)
	{
		descriptorObjectArray = specificDescriptors;
	}

	var univesalFlavourObject = setup.UniversalFlavour;

	var universalFlavourObjects = univesalFlavourObject[eventKey];

	if(universalFlavourObjects != undefined)
	{
		//fill descriptors from the universal list if we are missing some.

		for(var flavourObjectpropertyName in universalFlavourObjects)
		{
			if(descriptorObjectArray[flavourObjectpropertyName] == undefined)
			{
				descriptorObjectArray[flavourObjectpropertyName] = {};
			}

			//Overkill since we'll still parse the category we want later lmao, I'm sure this is dumb but it's 2AM.
			for(var flavourObjectCategoryName in universalFlavourObjects[flavourObjectpropertyName])
			{
				if(descriptorObjectArray[flavourObjectpropertyName][flavourObjectCategoryName] == undefined)
				{
					descriptorObjectArray[flavourObjectpropertyName][flavourObjectCategoryName] = [];
				}

				var universalFlavourValueCopy = [...universalFlavourObjects[flavourObjectpropertyName][flavourObjectCategoryName]];
				while(descriptorObjectArray[flavourObjectpropertyName][flavourObjectCategoryName].length < minFlavourAmount && universalFlavourValueCopy.length > 0)
				{
					var flavour = universalFlavourValueCopy.random();

					descriptorObjectArray[flavourObjectpropertyName][flavourObjectCategoryName].push(flavour);

					let spliceIndex = universalFlavourValueCopy.indexOf(flavour);
					universalFlavourValueCopy.splice(spliceIndex, 1);
				}
			}
		}
	}

	let displayString = "";

	for(var propertyName in descriptorObjectArray)
	{
		//build a sequence of randomly picked flavour text from all available types

		let flavourTextList = undefined;
		switch(propertyName)
		{
			case "heightFlavour":
				flavourTextList = setup.Size.getEventFromSize(character, descriptorObjectArray[propertyName], 'height', comparingCharacter);
				break;
			case "corruptionFlavour":
				flavourTextList = setup.getEventValueCorruption(character, descriptorObjectArray[propertyName]);
				break;
			case "musclesFlavour":
				flavourTextList = setup.Size.getEventFromSize(character, descriptorObjectArray[propertyName], 'muscles',comparingCharacter);
				break;
			case "cockSizeFlavour":
				flavourTextList = setup.Size.getEventFromSize(character, descriptorObjectArray[propertyName], 'cock');
				break;
		}

		if(flavourTextList != undefined)
		{
			var flavourPassage = Story.get(flavourTextList.random());
			if(flavourPassage != undefined)
			{
				displayString += setup.processFlavours(character, flavourPassage.processText() + " ", useSymbiote);
			}
		}
	}

	return displayString;
}

setup.getEventValueCorruption = function(character, eventValue)
{
	var arr = undefined;
	var corruptionComparitors = setup.CorruptionComparators;
	var	corruption = setup.getStatValue(character, "corruption");

	if(corruption <= corruptionComparitors.PURE){
		arr = eventValue['corrupt25'];
	}else if(corruption <= corruptionComparitors.NEUTRAL){
		arr = eventValue['corrupt50'];
	}else if(corruption <= corruptionComparitors.TAINTED){
		arr = eventValue['corrupt75'];
	}else if(corruption >= corruptionComparitors.TAINTED){
		arr = eventValue['corrupt100'];
	}

	return arr
}

setup.getCurrentBodyVisual = function(character)
{
	var bodyVisual = setup[character.info.bodyVisual];

	for(var propertyName in bodyVisual.bodyList)
	{
		if(bodyVisual.bodyList[propertyName].condition(character) == true)
		{
			return propertyName;
		}
	}
}

setup.getCurrentCockVisual = function(character)
{
	var bodyVisual = setup[character.info.bodyVisual];
	var permittedCocks = bodyVisual.bodyList[setup.getCurrentBodyVisual(character)].permittedCocks;

	for(let i = 0; i < permittedCocks.length; ++i)
	{
		if(permittedCocks[i].condition(character) == true)
		{
			return permittedCocks[i].cock;
		}
	}
}

setup.setAndDisplayBodyVisual = function(character, emote, useCum)
{
	var bodyVisual = setup[character.info.bodyVisual];

	if(emote != undefined)
	{
		character.info.currentEmote = bodyVisual.emoteList[emote];
	}
	else if(bodyVisual.emoteList != undefined)
	{
		character.info.currentEmote = bodyVisual.emoteList[Object.keys(bodyVisual.emoteList)[0]];
	}

	let currentEmote = character.info.currentEmote;
	let currentBody = "";
	let currentCock = "";
	let headClass = "";
	let cockClass = "";
	var permittedAccessories = [];

	//set body by size
	if(bodyVisual != undefined)
	{
		if(bodyVisual.bodyList != undefined)
		{
			for(var bodyProperty in bodyVisual.bodyList)
			{
				if(bodyVisual.bodyList[bodyProperty].condition(character) == true)
				{
					currentBody = bodyVisual.bodyList[bodyProperty];
					headClass = bodyVisual.bodyList[bodyProperty].headClass;

					console.log("limbs check")
					console.log(bodyVisual.bodyList[bodyProperty].permittedCocks)

					if(bodyVisual.bodyList[bodyProperty].permittedAccessories != undefined)
					{
						for(let i = 0; i < bodyVisual.bodyList[bodyProperty].permittedAccessories.length; ++i)
						{
							if(bodyVisual.bodyList[bodyProperty].permittedAccessories[i].condition(character) == true)
							{
								console.log("accessory win")
								permittedAccessories.push(bodyVisual.bodyList[bodyProperty].permittedAccessories[i])
							}
						}
					}

					//get our associated limbs
					for(let i = 0; i < bodyVisual.bodyList[bodyProperty].permittedCocks.length; ++i)
					{
						if(bodyVisual.bodyList[bodyProperty].permittedCocks[i].condition(character) == true)
						{
							console.log("check win")
							currentCock = bodyVisual.cockList[bodyVisual.bodyList[bodyProperty].permittedCocks[i].cock];
							cockClass = bodyVisual.bodyList[bodyProperty].permittedCocks[i].cockClass;

							break;
						}
					}

					break;
				}
			}
		}
	}

	var portrait = "";

	if(window.innerHeight > window.innerWidth)
	{
		portrait = " PortraitMode";
	}

	var displayString = '<div class="BodyVisualEnemyImage '+character.id + portrait +'">';

	if(useCum == true && currentBody.cumVisual != undefined)
	{
		displayString += '<div class="BodyCumClass">';
		displayString += '<img src="'+currentBody.cumVisual+'">';
		displayString += '</div>';
	}

	if(currentEmote != undefined)
	{
		var corruption = setup.getStatValue(character, "corruption");

		displayString += '<div class="'+headClass+'">';

		if(corruption >= 150 && currentEmote.corruptedVisual != undefined)
		{
			displayString += '<img src="'+currentEmote.corruptedVisual+'">';
		}
		else
		{
			displayString += '<img src="'+currentEmote.visual+'">';
		}
		displayString += '</div>';


		if(useCum == true && currentEmote.cumVisual != undefined)
		{
			displayString += '<div class="'+headClass+'">';
			displayString += '<img src="'+currentEmote.cumVisual+'">';
			displayString += '</div>';
		}
	}

	for(let i = 0; i < permittedAccessories.length; ++i)
	{
		console.log("accessory print")
		console.log(permittedAccessories[i])

		displayString += '<div class="'+permittedAccessories[i].accessoryClass+'">';
		displayString += '<img src="'+permittedAccessories[i].visual+'">';
		displayString += '</div>';

		console.log("post print")
	}

	if(currentCock != "")
	{
		displayString += '<div class="'+cockClass+'">';
		displayString += '<img src="'+currentCock.visual+'">';
		displayString += '</div>';

		if(useCum == true && currentCock.cumVisual != undefined)
		{
			displayString += '<div class="'+cockClass+'">';
			displayString += '<img src="'+currentCock.cumVisual+'">';
			displayString += '</div>';
		}
	}

	console.log("dasdddddddddd")
	console.log(currentBody)

	if(currentBody != "")
	{
		displayString += '<img src="'+currentBody.visual+'">';
	}

	displayString += '</div>';

    return displayString;
}

setup.displayPlaceholderImage = function(previewPath, fullCGPath, currentEmote, useBorder)
{
	var displayString = setup.displayEncounterImage(previewPath, fullCGPath, currentEmote, useBorder)

	displayString += '<div class="PlaceholderHeader">';
	displayString += 'Placeholder generated art.';
	displayString += '</div>';

    return displayString;
}

setup.displayVideo = function(path, useBorder)
{
	var displayString = '<div class="EnemyImage">';

	if(useBorder == true)
	{
		displayString += 	"<div class='ImageContainer'>";
		displayString += 		"<div class='"+setup.getCorruptionUIClassName("MobileBorder FillWidth", setup.getStatValue(State.variables.CharacterSheet_Player, "corruption"))+"'><video autoplay muted><source src='"+path+"' type='video/mp4'></video></div>";
		displayString += 	'</div>';
	}
	else
	{
		displayString += "<video autoplay muted loop><source src='"+path+"' type='video/mp4'></video>";
	}

	displayString += '</div>';

	return displayString;
}

setup.displayEncounterImage = function(previewPath, fullCGPath, currentEmote, useBorder)
{
    var displayString = '<div class="EnemyImage">';

	if(currentEmote != undefined)
	{
		displayString += '<div class="EmotePortrait">';
		displayString += '<img src="'+currentEmote+'">';
		displayString += '</div>';
	}

	if(fullCGPath != undefined)
	{
		if(useBorder == true)
		{
			displayString +="<<link \"<div class='ImageContainer'><div class='"+setup.getCorruptionUIClassName("MobileBorder FillWidth", setup.getStatValue(State.variables.CharacterSheet_Player, "corruption"))+"'></div><img src='"+previewPath+"'></div>\" >>";
		}
		else
		{
			displayString += '<img src="'+previewPath+'">';
		}

		displayString +='<<run setup.showImagePopup("'+fullCGPath+'")>>';

		displayString +='<</link>>';
	}
	else
	{
		displayString += "<div class='ImageContainer'>";
		if(useBorder == true)
		{
			displayString +='<div class="'+setup.getCorruptionUIClassName("MobileBorder FillWidth", setup.getStatValue(State.variables.CharacterSheet_Player, "corruption"))+'"></div>';
		}

		displayString += '<img src="'+previewPath+'">';
		displayString += '</div>';
	}

    displayString += '</div>';

    return displayString;
}

setup.showImagePopup = function(path)
{
	Dialog.setup("");

	var displayString = '<div class="EnemyImage">'
    displayString += '<img src="'+path+'">'
	displayString += '</div>'

	Dialog.append(displayString);
	Dialog.open();
}

setup.displayAttackTimingDescription = function(character)
{
	var displayString = "";

	switch (character.fight.teammateSettings.attackTiming) {
		case setup.AttackTiming.BEFORE_PLAYER:
			displayString += character.info.name + " currently attacks before you.";
			break;
		case setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY:
			displayString += character.info.name + " currently attacks between you and your enemy.";
			break;
		case setup.AttackTiming.AFTER_ENEMY:
			displayString += character.info.name + " currently attacks after you and your enemy.";
			break;

		default:
			displayString += "TeammateSettings is not valid";
			break;
	}

	return displayString;
}

setup.clickChoiceContainer = function(choiceIndex)
{
	var choiceElement = document.getElementById('choice' + choiceIndex);

	if(choiceElement)
	{
		document.getElementById('choice' + choiceIndex).querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
	}
}

setup.inlineChoice = function(text, isActive=true, inactiveHint="")
{
	var corruption = setup.getStatValue(State.variables.CharacterSheet_Player, "corruption");
	let _windowClass = setup.getCorruptionUIClassName("choiceWindowElement", corruption);

	let lb = document.createElement("label");
	lb.className = _windowClass;

	/* Parse all the the sugarcube macros in the text*/
	$(lb).wiki(text);
	if (!isActive)
	{
		lb.classList.add("inactive");
	}

	return lb.outerHTML;
}

setup.choice = function(text, isActive=true, inactiveHint="")
{
	setup.choiceCount++;
	var corruption = setup.getStatValue(State.variables.CharacterSheet_Player, "corruption");
	let _windowClass = setup.getCorruptionUIClassName("choiceWindowElement", corruption)
	let _choiceClass = setup.getCorruptionUIClassName("choiceIndex", corruption)

	console.log('<div class="'+_windowClass+'"></div>')


	let lb = document.createElement("label");
	lb.id = "choice"+setup.choiceCount;
	lb.className = _windowClass;

	/* Create the "badge" span */
	let spn = document.createElement("span");
	spn.className = _choiceClass;
	spn.innerHTML = setup.choiceCount;
	lb.appendChild(spn);

	/* Modify the label as needed */
	if (!isActive)
	{
		lb.classList.add("inactive");
		//spn.classList.add("inactive"); unecessary if attached as a child to label
	}

	/* Parse all the the sugarcube macros in the text*/
	$(lb).wiki(text);

	if(State.variables.ChoicesWindow)
	{
		let chc = document.getElementById("choiceWindow");
		if (!chc)
		{
			chc = document.createElement("div");
			chc.id = "choiceWindow";
			document.getElementById("StoryContainer").appendChild(chc);
		}
		chc.appendChild(lb);
	}
	setup.choices.push(lb);
}

setup.createInternalChoiceWindow = function(elementId)
{
	let chc = document.getElementById(elementId);
	for (var i0 = 0; i0 < setup.choices.length; i0++)
	{
		var choiceElement = setup.choices[i0];
		/* Make sure it fills in the boundaries */
		choiceElement.style.width = "100%";
		chc.appendChild(setup.choices[i0]);
		chc.appendChild(document.createElement('br'));
	}
}

setup.deleteRecursive = function(element)
{
	/* Deleting in reverse order is better for processing time. */
	for (var i0 = element.children.length - 1; i0 >= 0; i0--)
	{
		setup.deleteRecursive(element.children[i0]);
		element.remove(element.children[i0]);
	}
}

setup.clearChoices = function()
{
	for (var i0 = setup.choices.length-1; i0 >= 0; i0--)
	{
		setup.deleteRecursive(setup.choices[i0]);
	}

	var choiceElement = document.getElementById("choiceWindow");
	if(choiceElement)
	{
		setup.deleteRecursive(choiceElement);
		choiceElement.remove();
	}
	var internalChoiceElement = document.getElementById("internalChoiceElement");
	if(internalChoiceElement)
	{
		setup.deleteRecursive(internalChoiceElement);
		internalChoiceElement.remove();
	}
	setup.choices = [];
    setup.choiceCount = 0;
}

/* CREATE DOM HOOK
 *
 * Sometimes it is easier to just make a DOM Element with javascript, this fascilitates that.
 * This creates a placeholder hook in the page that we will later populate during the PassageDone phase.
 *
 * It creates \<div id="elementId"></div>  now
 * Then later calls the function you provide it.
 *
 * The function that is called should take that id and populate it. E.g.:
 *
 * #twee file
 * <<print setup.addJsHook("testId", setup.createDynamicSpan)>>
 *
 * .js file
 * setup.createDynamicSpan = function(elementId) {
 * 	   var element = document.getElementById(elementId);
 *     element.classList.add("Dynamic class");
 *     // Dynamically create and add a table
 *     var tableElement = (.....);
 *     element.addChild(tableElement);
 * }
 *
 * NOTE: Since this js function is called after processing, you will have to
 * 		manually call for a twee processing function. e.g.:
 *

 *  { var text = [[Leave->Village]];
 *    // This needs to be called, or else it will just print the literal string.
 *    $(element).wiki(text);
 *  }
 *
 * Args:
 * 	elementId: String name of an element.
 *
 *  func:  The function to be called during the PassageDone phase.
 * 			The function MUST Have at least one argument: elementID
 *
 * 			If you need arguments in your function, use a closure function, e.g.:
 * 				.js file
 * 				setup.createDynamicSpan2 = function(elementId, arg1, arg2){...}
 * 				.twee file
 * 				<<print setup.addDOMHook(elementId, function(elementId){setup.createDynamicSpan2(elementId, arg1, arg2);})>>
 *
 * 		NOTE: Remember that you are passing the **function** as object. Not calling the function: i.e.
 * 	    USE "setup.functionName"  not "setup.functionName()"!
 *
 *  createElement: Whether to create a new div element with the elementId at this position.
 *
 *		If you set this to false, you can hook into existing elements, or an element multiple times.
 *      Only set this to false if you *know* the element already exists.
 * 		We can't detect if an element already exists when the add DOM Hook function is called, sadly.
 * 		If false, you can call <<run>> instead of <<print>. Both will work.
 *
 * 		Usage:
 * 		.twee
 * 		<div id='test_div' div>Stuff and things</div>
 * 		// Add table 1
 * 		<<run setup.addDOMHook("test_div", setup.createDynamicSpan, false)>>
 * 		// Add table 2
 * 		<<run setup.addDOMHook("test_div", function(elementId){setup.createDynamicSpan2(elementId, arg1, arg2);}, false)>>
 * */
setup.addDOMHook = function(elementId, func, createElement=true)
{
	let displayString = "\\"; // We don't want random spaces being introduced.
	if (createElement)
	{
		displayString += "<div id="+elementId+"></div>";
	}

    DOMQueue.push([elementId, func]);
	return displayString;
}

/* Runs through the outstanding DOM Hooks. Must be called during the PassageDone phase */
setup.populateDOMHooks = function()
{
	for (var i0 = 0; i0 < DOMQueue.length ; i0++)
	{
		let elementId = DOMQueue[i0][0];
		let func = DOMQueue[i0][1];
		let element = document.getElementById(elementId);
		if (!element)
		{
			console.log("Could not find "+elementId+" while populating DOM Hooks. Did you remember to use <<print>>?");
			continue;
		}
		if (!func)
		{
			console.log("No function to populate "+elementId+" found!");
			continue;
		}
		func(elementId);
	}

	DOMQueue = [];
}


setup.highlightChoice = function(text, isHighlighted)
{
	let lb = document.createElement("span");

	$(lb).wiki(text);
	if (isHighlighted)
	{
		// We have to have a shape to back glow off of
		lb.classList.add("backGlow");
	}
	return lb.outerHTML;
}

setup.flagHighlightChoice = function(highlightKey)
{
	if (State.variables.CharacterSheet_Player.info.choiceHighlight)
		{State.variables.CharacterSheet_Player.info.choiceHighlight[highlightKey] = true;}
}
/* twine-user-script #227: "Description_Base.js" */
/* Declare globals for Eslint */
/* global setup, State */
class LangDescDef {
    code = 'en';
    constructor (code)
    {
        this.code = code;
    };

    // Declare REQUIRED virtual functions, their parameters, and return value
    getIntStr(number)
    {
        // Console.error is not standard
        (console.error || console.log).call(console, `LANG ERROR: ${this.code}, function getIntStr not defined!`)
        return "";
    };

    getLimbDesc(character, limb)
    {
        // Console.error is not standard
        (console.error || console.log).call(console, `LANG ERROR: ${this.code}, function getLimbDesc not defined!`)
        return "";
    };

    getLocaleArgs(character, target=undefined)
    {
        let args = {};
        args.p = setup.PRONOUN.get(character);
        args.Race = setup.getRaceName(character);
        args.RaceAdj = setup.RacePool[character.info.raceId].adjective;

        if (target)
        {
            args.Tp = setup.PRONOUN.get(target);
            args.TRace = setup.getRaceName(target);
            args.TRaceAdj = setup.RacePool[target.info.raceId].adjective;
        };
        return args;
    };

    getCumDesc = function(character, {colour=true}={})
    {
        return "white cum";
    };

    joinList = function(list)
    {
        return list.join(", ");
    };

    getAdjectives = function(character, limb)
    {
        return "";
    };
}


/* TODO: File this with languages? */
setup.Size.MUSCLES = [
	{'limit': 0, 'name': 'slim'},
	{'limit': 15, 'name': 'fit'},
	{'limit': 30, 'name': 'athletic'},
	{'limit': 70, 'name': 'ripped'},
	{'limit': 100, 'name': 'brawny'},
	{'limit': 200, 'name': 'powerful'},
	{'limit': 300, 'name': 'hulking'},
	{'limit': 500, 'name': 'hyper'},
	{'limit': 800, 'name': 'gigantic'},
	{'limit': 1250, 'name': 'monumental'},
	{'limit': 2000, 'name': 'mountainous'},
	{'limit': 3000, 'name': 'godlike'},
]

/* NOTE: REF is REQUIRED to not be 0 */
setup.Size.REF = {
    "muscles": 30,
    "height": 75,
    "cock" : 8,
    "balls" : 3
}

setup.Size.RANK = [
    'small',
    'medium',
    'large',
    'huge',
]

setup.Size.OrderedComp = [
    {'name': "GIGA",            "ratio": 13.0, 'rank': 'huge' },
    {'name': "MACRO",           "ratio": 8.00, 'rank': 'huge' },
    {'name': "GIANT",           "ratio": 4.25, 'rank': 'huge' },
    {'name': "MASSIVE",         "ratio": 2.80, 'rank': 'large' },
    {'name': "MUCH_BIGGER",     "ratio": 1.40, 'rank': 'large' },
    {'name': "BIGGER",          "ratio": 1.15, 'rank': 'large' },
    {'name': "SLIGHTLY_BIGGER", "ratio": 1.05, 'rank': 'medium'},
    {'name': "EQUAL",           "ratio": 0.95, 'rank': 'medium'},
    {'name': "SLIGHTLY_SMALLER","ratio": 0.85, 'rank': 'small' },
    {'name': "SMALLER",         "ratio": 0.70, 'rank': 'small' },
    {'name': "MUCH_SMALLER",    "ratio": 0.55, 'rank': 'small' },
    {'name': "MICRO",           "ratio": 0.10, 'rank': 'small' },
]
setup.Size.OrderedComp = setup.Size.OrderedComp.sort( (objA, objB) => {return objA.ratio - objB.ratio} );
setup.Size.Comparators = {};
setup.Size.OrderedComp.forEach( (obj, index) => {
    setup.Size.Comparators[obj.name] = index;
})

function getLastIndex(ratio)
{
    let index = setup.Size.OrderedComp.findLastIndex( ele => ele.ratio <= ratio );
    if (index < 0)
    {
        // Default to MICRO
        index = 0;
    }
    return index;
}

function getLastObj(ratio)
{
    let obj = setup.Size.OrderedComp.findLast( ele => ele.ratio <= ratio );
    if (!obj)
    {
        // Default to MICRO
        obj = setup.Size.OrderedComp[0];
    }
    return obj;
}

setup.Size.getRatioRank = function(ratio)
{
    return getLastObj(ratio).rank;
}

/* size_type:   height, muscles, cock, balls
 * charB:       (character) # undefined  -- undefined resorts to the Reference size. # allows specifying a hard-coded size
 * size_typeB:  Allows specifying a size type for Character B. Defaults to size_type.  Not used when charB is a #
 *          Note, when comparing two different size types ('balls' to 'height'), the SECOND comparator will be used
 *          To normalize, since you are comparing "to"
 *
 * Usage Examples:
 *   Get a normal height comparison against REF:  compare(Player)
 *   Get a normal cock size comparison against REF: compare(Player, 'cock')
 *   Compare cock sizes:    compare(Player, 'cock', Target)
 *   Compare ball size to Target's height:  compare(Player, 'balls', Target, 'balls')
 *   Compare cock size against a static value:  compare(Player, 'cock', 40)
 * */
setup.Size.compare = function(character, size_type='height', char2=undefined, size_type2=undefined)
{
    /* Math note: setup.Size.Comparators.EQUAL  is considered "0" for size tiering.
     *          But that doesn't work well with array indicies, so everything is shifted.
     *          final tier: (t1 - pivot_shift) - (t2 - pivot_shift) + pivot_shift
     *                      = (t1 - t2) + pivot_shift
     */

    // Default the second size type to the first if not provided
    if (!size_type2)
    {
        size_type2 = size_type;
    }
    let determinerType = size_type2;
    let determiner =  setup.Size.REF[determinerType];

    // Get the character's tier related to REFERENCE with the same type
    let char1Tier = getLastIndex(character.info[size_type] / determiner);
    /* If we get too large, we should award "bonus points" based on how outside of the norm we go */
    char1Tier += getBonusBoundryCompare(character.info[size_type], determinerType)

    // Get the comparator's relation to REFERENCE
    let char2Tier;
    if (!char2)
    {
        // Char2 is REFERENCE
        char2Tier = setup.Size.Comparators.EQUAL;
    }
    else if (!isNaN(char2))
    {
        // We were provided a flat number
        char2Tier = getLastIndex( char2 / determiner);
        char2Tier += getBonusBoundryCompare(char2, determinerType);
    }
    else
    {
        // Provided a character
        char2Tier = getLastIndex( char2.info[size_type2] / determiner);
        char2Tier += getBonusBoundryCompare(char2.info[size_type2], determinerType);
    }

    // Take the difference in tier levels, capped on both extremes
    return Math.min(setup.Size.OrderedComp.length - 1, Math.max(0, char1Tier - char2Tier + setup.Size.Comparators.EQUAL));
}

function getBonusBoundryCompare(size, type)
{
    let refSize = setup.Size.REF[type];

    let lastIndex = setup.Size.OrderedComp.length - 1;
    let maxSize = setup.Size.OrderedComp[lastIndex].ratio * refSize;
    let extraRanks = 0;

    // Add for every 10x extra
    // For log10, we need it > 1
    if (size > (maxSize+refSize))
    {
        extraRanks = Math.floor(Math.log10( (size-maxSize) / refSize));
    }
    return extraRanks;
}

// Simple wrapper for when character A == Character B
setup.Size.compareSelf = function(character, size_type, size_type2)
{
    return setup.Size.compare(character, size_type, character, size_type2);
}

/* ObjDict is any object dictionary with at least one of the setup.Size.RANK.
 * Small is the 'default' and should always be present.
 */
setup.Size.getEventFromSize = function(character, eventDict, size_type='height', charB=undefined, size_typeB=undefined)
{
    let index = setup.Size.compare(character, size_type, charB, size_typeB);
    let rank = setup.Size.OrderedComp[index].rank;

    /* Get the highest ranked event that exists */
    for (let i0 = setup.Size.RANK.indexOf(rank); i0 >= 0; --i0)
    {
        if (eventDict[setup.Size.RANK[i0]])
        {
            return eventDict[setup.Size.RANK[i0]];
        }
    }
}
/* twine-user-script #228: "Description_en.js" */
/* Declare globals for Eslint */
/* global setup, State  */
LNG.en.DESC = new LangDescDef('en');


/* BIG NOTE: Access everything in here in twee through setup.DESC, not LNG.en.DESC! */
LNG.en.VOWELS = ['a','e','i','o','u']; // And sometimes Y?
LNG.en.NUM_STR = [
    "zero",
    "one",
	"two",
	"three",
	"four",
	"five",
	"six",
	"seven",
	"eight",
	"nine",
	"ten",
	"eleven",
	"twelve",
	"thirteen",
	"fourteen",
	"fifteen",
	"sixteen",
	"seventeen",
	"eighteen",
	"nineteen",
	"twenty",
	"twenty one",
	"twenty two",
	"twenty three",
	"twenty four",
	"twenty five",
	"twenty six",
	"twenty seven",
	"twenty eight",
	"twenty nine",
	"thirty",
	"thirty one",
	"thirty two",
	"thirty three",
	"thirty four",
	"thirty five",
	"thirty six",
	"thirty seven",
	"thirty eight",
	"thirty nine",
	"forty"
]
LNG.en.DESC.NUM_STR_SYN = [
    ['none', 'no'],
    ['single'],
    ['duo', 'pair', 'set', 'couple'],
    ['trio', 'triad', 'few'],
    ['quad', 'quartet'],
    ['quintet'],
]
LNG.en.DESC.NUM_STR_SYN_MAX = [
    "forest",
    "cluster",
    "egregious collection",
    'hoard',
    'agglomeration',
    'excessive group'
] // more+


LNG.en.DESC.getIntStr = function(number, use_syn=true)
{
    let displayString = "";
    // Sanity Check
    if (!Number.isInteger(number))
    {
        setup.logErr(`Called getIntStr with ${number}`);
        return `${number}`;
    }

    // Get pure number as string
    if (number >= 0 && number < LNG.en.NUM_STR.length)
    {
        displayString = LNG.en.NUM_STR[number];
    }
    else
    {
        displayString = `${number}`;
    }

    // Detailed synonyms
    if (use_syn && number >= 0)
    {
        if (number < LNG.en.DESC.NUM_STR_SYN.length)
        {
            // Give a chance for specified synonm
            let synArr = LNG.en.DESC.NUM_STR_SYN[number];

            let rolledNum = setup.getRandomInt(0, synArr.length);
            if (rolledNum < synArr.length)
            {
                displayString = `${synArr[rolledNum]} of`;
            }
        }
        else
        {
            // Absolutely use a max synonym
            displayString = `${LNG.en.DESC.NUM_STR_SYN_MAX.random()} of`;
        }
    }

    return displayString;
}

LNG.en.DESC.getLimbRaceAdj = function(character, limb)
{
    let limbRaceId = character.info.anatomy[limb].raceId;
    if (!limbRaceId)
    {
        limbRaceId = character.info.raceId;
    }

    let displayString = "";

    let raceLimb = setup.RacePool[limbRaceId].anatomy[limb];
    if (raceLimb.raceTexture.length > 0)
    {
        displayString = raceLimb.raceTexture.random();
    }
    return displayString;
}

LNG.en.DESC.getLimbSizeAdj = function(character, limb)
{
    let refLimb = setup.Anatomy.LIMB_REF[limb];
    let sizeRef = refLimb.sizeCompType;

    let displayString = "";

    /* Iterate down the comparator list until we get something less than the comparator */
    let arr = setup.Size.getEventFromSize(character, refLimb.adjectives, sizeRef);
    if (arr)
    {
        displayString = arr.random();
    }
    return displayString;
}

LNG.en.DESC.getLimbCorAdj = function(character, limb)
{
    let refLimb = setup.Anatomy.LIMB_REF[limb];
    let corruption = setup.getStatValue(character, "corruption");

    let displayString = "";

    let corruptionCategory;
    if(corruption <= setup.CorruptionComparators.NEUTRAL){
        corruptionCategory = "pure";
    }else{
        corruptionCategory = "corrupt"
    }

    if (refLimb.adjectives[corruptionCategory].length > 0)
    {
        displayString = refLimb.adjectives[corruptionCategory].random();
    }

    return displayString;
}

LNG.en.DESC.getAdjectives = function(character, limb,
    {colour=true, race_adj=0.50, size_adj=0.80,
    cor_adj=0.60, cust_adj=undefined, adj_limit=3} = {})
{
    // English ajective order is actually strictly defined:
    // Adjs: Opinion, size, physical quality, shape, age, colour, origin, material, type, purpose

    // Problem is race adj, which can be physical quality and/or material?
    // What is the least bad spot....

    // large, veiny, mottled, flat-tipped penis
    // hyper, glowing, red, rocket-shaped penis
    // world-breaking, leaking, crimson, wolven penis
    //
    // floor-dragging, virile, blue, furred balls

    // Seems to be material/type
    let adjArr = [];
    let no_adj = (adj_limit == 0);
    let charLimb = character.info.anatomy[limb];

    // Size Adjective
    if (!no_adj && size_adj)
    {
        if (size_adj == true || Math.random() < size_adj)
        {
            let adjStr = LNG.en.DESC.getLimbSizeAdj(character, limb);
            if(adjStr)
            {
                adjArr.push(adjStr);
            }
        }
    }

    // Corrupt Adjective
    if (!no_adj && cor_adj)
    {
        if (cor_adj == true || Math.random() < cor_adj)
        {
            let adjStr = LNG.en.DESC.getLimbCorAdj(character, limb);
            if (adjStr)
            {
                adjArr.push(adjStr);
            }
        }
    }

    // Colour
    if (!no_adj && colour)
    {
        let retColour = "";
        // If boolean, use the limb's colour
        if (typeof colour == 'boolean')
        {
            retColour = getColour(charLimb.colour);
        }
        // Otherwise, decompose what was given
        else
        {
            retColour = getColour(colour);
        }

        if (retColour)
        {
            adjArr.push(retColour);
        }
    }

    // Racial Adjective
    if (!no_adj && race_adj)
    {
        if (race_adj == true || Math.random() < race_adj)
        {
            let adjStr = LNG.en.DESC.getLimbRaceAdj(character, limb);
            if (adjStr)
            {
                adjArr.push(adjStr);
            }
        }
    }

    /* Limit adjectives */
    if (adj_limit >= 0)
    {
        // Since the adjective list is < 10,  We don't need to optimize this
        while(adjArr.length > adj_limit)
        {
            // Randomly get rid of ajectives
            adjArr.splice(setup.getRandomInt(0, adjArr.length - 1),1);
        }
    }

    // Custom Adjectives
    if (cust_adj)
    {
        adjArr.push(cust_adj);
    }

    // English rule: if multiple adjectives, append commas
    if (adjArr.length > 0)
    {
        return adjArr.join(", ");
    }
    else
    {
        return undefined;
    }
}


/*  article: prepend the article "a/an"
    num:      (true, false, #, 'all') Return number of limbs the character has, a specified number, or a phrase
    num_syn:  (true, false)           Use number synonyms, if available
    size_adj: (true, false, %)    return a random size-base adjective
    race_adj: (true, false, %)    race-based adjective
    cor_adj:  (true, false, %)    return a pure/corrupt adjective
    cust_adj:  Add a custom adjective. Does NOT count toward the Adjective limit!
    colour:   (true, false, 'blue', setup.ColourPool.BLUE)  Colour
    adj_limit:(#)                 Sets a maximum limit on the number of adjectives -- including colour-- that can be included
                                    (-1 for no limit)
    limb_syn: (true, false)       use a synonym for the limb, if available
    verb:     [singular, plural] or 'singular~plural'  2-length array that designates the singular/plural version.
    split_rtn: (true, false)       If true, will return a dictionary with the keys: {phrase, pronoun, verb}.
                        This is used if you need to split up the limb phrase, refer back to the limb as a pronoun, and the verb.
                        False will return a string
*/
LNG.en.DESC.getLimbDesc = function(character, limb,
    {article=false, num=true, num_syn=true,
     limb_syn=true, split_rtn=false, verb=[],
     colour, race_adj, size_adj,
     cor_adj, cust_adj, adj_limit}={})
{
    let displayArr = [];

    let limbRef = setup.Anatomy.LIMB_REF[limb];
    // Check to see if we were given character id and get the object.
    character = (typeof character === 'object') ? character : State.variables[character];
    let charLimb = character.info.anatomy[limb];
    let number = (typeof num == 'boolean' || isNaN(num)) ? charLimb.number : num;

    // Verb
    // Sugarcube doesn't like declaring arrays in its macros, so we use the
    // ~ seperator
    if (!verb)
    {
        verb = verb.split("~").trim();
    }



    // Sentence order:
    // (article) (number) (size adjective) (pure/corrupt adjective) (color) (race adj) (limbName) (verb)


    // Number
    if (num == true || !isNaN(num))
    {
        if (number > 1)
        {
            if (number == 2 && limbRef.naturalPair)
            {
                displayArr.push("pair of");
            }
            else
            {
                displayArr.push(LNG.en.DESC.getIntStr(number, num_syn));
            }
        }
    }
    else if (num != false)
    {
        displayArr.push(num);
    }

    // Get Adjectives
    let adj = LNG.en.DESC.getAdjectives(character, limb, {colour, race_adj, size_adj,
        cor_adj, cust_adj, adj_limit})
    if (adj)
    {
        displayArr.push(adj);
    }

    // LimbName
    if (number == 1)
    {
        if (limb_syn)
        {
            displayArr.push(limbRef.synonyms.singular.concat([limbRef.name]).random());
        }
        else
        {
            displayArr.push(limbRef.name);
        }
    }
    else
    {
        if (limb_syn)
        {
            displayArr.push(limbRef.synonyms.plural.concat([limbRef.namePlural]).random());
        }
        else
        {
            displayArr.push(limbRef.namePlural);
        }
    }

    /* Prepend the article, if needed */
    if (article && displayArr.length > 0)
    {
        if(LNG.en.VOWELS.includes(displayArr[0].substring(0,1)))
        {
            displayArr.unshift("an");
        }
        else
        {
            displayArr.unshift("a");
        }
    }

    // Verb
    let retVerb=undefined;
    if (verb && verb.length >= 2)
    {
        retVerb = (number == 1 && !limbRef.baseIsPlural) ? verb[0] : verb[1];
    }

    // Provide either a string or dictionary
    if (split_rtn)
    {
        let pronouns = (number == 1 && !limbRef.baseIsPlural) ? setup.PRONOUN.get(["THIRD","SINGULAR","OBJ"]) : setup.PRONOUN.get(["THIRD","PLURAL"]);
        let retDict = {
            phrase: displayArr.join(" "),
            p: pronouns,
            v: retVerb,
        }
        return retDict;
    }
    else
    {
        if (retVerb)
        {
            displayArr.push(retVerb);
        }
        return displayArr.join(" ");
    }
}

function getColour(colour)
{
    let displayString = "";

    // Select a colour if provided a selection
    if (Array.isArray(colour))
    {
        colour = colour.random();
    }

    // Decompose to colour string, if provided code
    if (Number.isInteger(colour))
    {
        if(colour >= 0 && colour < setup.ColourPool.length)
        {
            displayString = setup.ColourPool[colour];
        }
    }
    else
    {
        displayString = colour;
    }
    return displayString;
}

/* TODO? */
const CUM_SYN = ['cum', 'seed', 'fluid'];
const CUM_COLOUR = ['alabaster', 'white'];

/* colour:   (true, false, 'blue', setup.ColourPool.BLUE)  Colour
 * */
LNG.en.DESC.getCumDesc = function(character, {colour=true}={})
{
    let displayArr = [];

    if (colour)
    {
        let retColour = "";
        // If boolean, use the default list
        if (typeof colour == 'boolean')
        {
            retColour = getColour(CUM_COLOUR);
        }
        // Otherwise, decompose what was given
        else
        {
            retColour = getColour(colour);
        }

        if (retColour)
        {
            displayArr.push(retColour);
        }
    }

    displayArr.push(CUM_SYN.random());
    return displayArr.join(" ");
}

LNG.en.DESC.getGeneralName = function(character)
{
    if(character.info.name.trim().toLowerCase().startsWith("the"))
    {
        return character.info.name;
    }
    else
    {
        return "the "+character.info.name;
    }
}

LNG.en.DESC.getLocaleArgs = function(character, target=undefined, useNamePronoun=true)
{
    let args = {};
    args.p = setup.PRONOUN.get(character);
    args.Race = setup.getRaceName(character);
    args.RaceAdj = setup.RacePool[character.info.raceId].adjective;
    args.s = (setup.PRONOUN.hasSVerb(args.p.SUBJ)) ? "s" : "";
    args.es = (setup.PRONOUN.hasSVerb(args.p.SUBJ)) ? "es" : "";
    if (character.info.isGeneralCharacter)
    {
        args.Name = LNG.en.DESC.getGeneralName(character);
    }
    else
    {
        args.Name = character.info.name;
    }

    if (target)
    {
        args.Tp = setup.PRONOUN.get(target);
        args.TRace = setup.getRaceName(target);
        args.TRaceAdj = setup.RacePool[target.info.raceId].adjective;
        args.Ts = (setup.PRONOUN.hasSVerb(args.Tp.SUBJ)) ? "s" : "";
        args.Tes = (setup.PRONOUN.hasSVerb(args.Tp.SUBJ)) ? "es" : "";
        if (target.info.isGeneralCharacter)
        {
            args.TName = LNG.en.DESC.getGeneralName(target);
        }
        else
        {
            args.TName = target.info.name;
        }

    };
    return args;
}


LNG.en.DESC.joinList = function(list, conj="and")
{
    switch (list.length)
    {
        case 0:
            return "";
        case 1:
            return list[0];
        case 2:
            return `${list[0]} ${conj} ${list[1]}`;
        default:
            return `${list.slice(0,-1).join(", ")}, ${conj} ${list.slice(-1)}`;
    }
}

/* twine-user-script #229: "Description_es.js" */
/* Declare globals for Eslint */
/* global setup, State  */
LNG.es.DESC = new LangDescDef('es');

LNG.es.PRONOUN.get = function(character, conj=undefined)
{
    // TODO
    LNG.en.PRONOUN.get(character, conj);
}
/* twine-user-script #230: "Description_fr.js" */
/* Declare globals for Eslint */
/* global setup, State  */
LNG.fr.DESC = new LangDescDef('fr');

LNG.fr.PRONOUN.get = function(character, conj=undefined)
{
    // TODO
    LNG.en.PRONOUN.get(character, conj);
}
/* twine-user-script #231: "FlavourFactory.js" */
/* Declare globals for Eslint */
/* global setup, State, Dialog */
setup.processFlavours = function(character, flavourText)
{
    // @[Number | limb | verb]
    // @[Number | adjs | limb | verb]
    // verb: <singular verb>~<plural verb>
    var tagRegex = /\B@\[([^\]]*)\]/g;


    return flavourText.replaceAll(tagRegex, function(match, p1, string){
        let arr = p1.split("|").map((item => item.trim()));

        let num;
        let adj;
        let limb;
        let verbs;

        switch (arr.length)
        {
            case 4:
                num = arr[0];
                adj = arr[1];
                limb = arr[2];
                verbs = arr[3];
                break;
            case 3:
                num = arr[0];
                limb = arr[1];
                verbs = arr[2];
                break;
            default:
                return `<Bad match: ${match}>`;
        }
        if(verbs)
        {
            verbs = verbs.split("~");
            if (verbs.length != 2)
            {
                verbs = undefined;
            }
        }

        if(Number.isInteger(num))
        {
            num = Number(num);
        }
        else
        {
            num = undefined;
        }

        return setup.DESC.getLimbDesc(character, limb, {verb:verbs, cust_adj:adj});
    });
}

/* twine-user-script #232: "MathHelper.js" */
/* Declare globals for Eslint */
/* global setup */

/* Box-Muller transform for quick random standard deviation calculations.
https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform
Where 0 is the mean and 1 is a standard deviation
 */

/* Provide a mean and unit deviation. You can change (or remove) the min and max value sanity checks */
setup.getHeightCalc = function(meanValue, devValue, minValue=1, maxValue=null)
{
    var u = Math.random();
    var v = Math.random();
    var x = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);

    var value = meanValue + devValue*x;
    if (maxValue)
    {
        value = Math.min(maxValue, value);
    }
    if (minValue)
    {
        value = Math.max(minValue, value);
    }
    return value;
}

setup.getRandom = function(min, max){
    return Math.random() * (max - min) + min;
}

setup.getRandomInt = function(min, max){
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random()*(max-min+1)) + min;
}
/* twine-user-script #233: "Pronouns_en.js" */
/* Declare globals for Eslint */
/* global setup, State */

LNG.en.PRONOUN.DICT = {
    'FIRST' :{
        'SINGULAR': {
            'SUBJ': "I",
            'OBJ': 'me',
            'POSS': "my",
            'DET': 'mine',
            'REF': 'myself',
            'NOUN': 'me',
        },
        'PLURAL': {
            'SUBJ': "we",
            'OBJ': 'us',
            'POSS': "ours",
            'DET': 'our',
            'REF': 'ourselves',
            'NOUN': 'us',
        },
    },
    'SECOND' : {
        'SINGULAR': {
            'SUBJ': "you",
            'OBJ': 'you',
            'POSS': "your",
            'DET': 'yours',
            'REF': 'yourself',
            'NOUN': 'you',
        },
        'PLURAL': {
            'SUBJ': "you",
            'OBJ': 'you',
            'POSS': "your",
            'DET': 'yours',
            'REF': 'yourselves',
            'NOUN': 'you',
        },
    },
    'THIRD' : {
        'SINGULAR': {
            'MASC': {
                'SUBJ': "he",
                'OBJ': 'him',
                'POSS': "his",
                'DET': 'his',
                'REF': 'himself',
                'NOUN': 'man',
            },
            'FEM': {
                'SUBJ': "she",
                'OBJ': 'her',
                'POSS': "hers",
                'DET': 'her',
                'REF': 'herself',
                'NOUN': 'woman',
            },
            'NEUT': {
                'SUBJ': "they",
                'OBJ': 'them',
                'POSS': "theirs",
                'DET': 'their',
                'REF': 'themself',
                'NOUN': 'person',
            },
            'OBJ': {
                'SUBJ': "it",
                'OBJ': 'it',
                'POSS': "its",
                'DET': 'its',
                'REF': 'itself',
                'NOUN': 'thing',
            }
        },
        'PLURAL': {
            'SUBJ': "they",
            'OBJ': 'them',
            'POSS': "theirs",
            'DET': 'their',
            'REF': 'themselves',
            'NOUN': 'people',
        },
    }
}


/* Either pass a character
 * Or an array traversing down the table:
 * e.g. ['THIRD','PLURAL']
 *
 * If you leave the conjugation undefined, you get the dict
 */
LNG.en.PRONOUN.get = function(character, conj=undefined)
{
    let retVal = undefined;
    if (character.id)
    {
        if (character == State.variables.CharacterSheet_Player)
        {
            retVal= LNG.en.PRONOUN.DICT.SECOND.SINGULAR;
        }
        else
        {
            retVal = LNG.en.PRONOUN.DICT.THIRD.SINGULAR[character.info.gender];
        }

    }
    else if (Array.isArray(character))
    {
        retVal = LNG.en.PRONOUN.DICT;
        character.forEach( key => {
            if (retVal[key])
            {
                retVal = retVal[key]
            }
        });
    }

    if (retVal && conj && retVal[conj])
    {
        retVal = retVal[conj];
    }

    return retVal;
}

// Because, of course,  it's not as simple as "is the pronoun singular or plural"
// e.g. "I work vs he works"
LNG.en.PRONOUN.hasSVerb = function(subj)
{
    switch(subj)
    {
        default:
        case "you":
        case "I":
        case "we":
        case "they":
            return false;
        case 'it':
        case 'she':
        case 'he':
            return true;
    }
}
LNG.en.PRONOUN.getSVerb = function(pronouns, suffix='s')
{
    let s = ((LNG.en.PRONOUN.hasSVerb(pronouns.SUBJ)) ? suffix : '');
    return s;
}

setup.isPlayer = function(character)
{
    if (character)
    {
        return (character.id == "CharacterSheet_Player");
    }
    return false;
}
/* twine-user-script #234: "QuestHelper.js" */
/* Declare globals for Eslint */
/* global setup, State, Story */

setup.getVillagePassages = function()
{
    var displayString = "";
    var i;

    for(i = 0; i < State.variables.Quest_InProgress.length; i++)
    {
        if(State.variables.Quest_InProgress[i].villagePassage)
        {
            displayString += State.variables.Quest_InProgress[i].villagePassage + "\n";
        }
    }

    return displayString;
}

setup.getNarativeEventActiveInactive = function(inactiveCond, text, inactiveReason=undefined)
{
    let displayString = "";
    if(inactiveCond && inactiveCond())
    {
        displayString = "<span class = 'inactive'>" + text + "</span>";
        /* TODO: Figure out how to set inactive Hints. Hoverover text?" */

        // if(narativeEventPackage[propertyName].inactivepassage != undefined &&
        //     narativeEventPackage[propertyName].inactivepassage != "")
        // {
        //     element.style.setProperty("text-decoration",narativeEventPackage[propertyName].inactivepassage);
        // }
    }
    else
    {
        displayString = text;
    }
    return displayString;
}

setup.getNextNarativeEventPassageListText = function(narativeEventPackage, amount)
{

    var displayString = "";
    var count = 0;
    for(var propertyName in narativeEventPackage)
    {
        if(narativeEventPackage[propertyName].available() == true &&
            narativeEventPackage[propertyName].condition() == true)
        {
            //displayString += Story.get(narativeEventPackage[propertyName].passage).text +"\n";
            let text = Story.get(narativeEventPackage[propertyName].passage).text;
            displayString += setup.getNarativeEventActiveInactive(narativeEventPackage[propertyName].inactive,
                    text,
                    narativeEventPackage[propertyName].inactiveReason) + "\n";

            count++;
            if(count >= amount)
            {
                return displayString;
            }
        }
    }

    console.log("fffffffffff")

    return displayString;
}

setup.getNextNarativeEventPassage = function(narativeEventPackage)
{

    for(var propertyName in narativeEventPackage)
    {
        console.log(propertyName)
        if(narativeEventPackage[propertyName].available() == true &&
            narativeEventPackage[propertyName].condition() == true)
        {
            //return narativeEventPackage[propertyName].passage;
            return setup.getNarativeEventActiveInactive(narativeEventPackage[propertyName].inactive,
                narativeEventPackage[propertyName].passage,
                narativeEventPackage[propertyName].inactiveReason);
        }
    }
    console.log("fffffffffff")
}

setup.hasAvailableNarativeEvent = function(narativeEventPackage)
{
    for(var propertyName in narativeEventPackage)
    {
        if(narativeEventPackage[propertyName].available() == true &&
            narativeEventPackage[propertyName].condition() == true)
        {
            if (narativeEventPackage[propertyName].inactive)
            {
                return !narativeEventPackage[propertyName].inactive();
            }
            else
            {
                return true;
            }
        }
    }

    return false
}

setup.completeQuest = function(quest)
{
    quest.onComplete();

    var i;
    for(i = 0; i < State.variables.Quest_InProgress.length; i++)
    {
        if(State.variables.Quest_InProgress[i].id === quest.id)
        {
            State.variables.Quest_InProgress.splice(i, 1);
            return;
        }
    }
}

setup.removeExplorationDestination = function(quest)
{
    var i;

    for(i = 0; i < State.variables.Explore_Destinations.length; i++)
    {
        if(State.variables.Explore_Destinations[i] == quest)
        {
            State.variables.Explore_Destinations.splice(i, 1);
            break;
        }
    }
}


setup.getVillageDescriptor = function()
{
    var displayString = "";

    var i;
    for(i = 0; i < State.variables.Quest_InProgress.length; i++)
    {
        if(State.variables.Quest_InProgress[i].villageDescriptor)
        {
            displayString += State.variables.Quest_InProgress[i].villageDescriptor +"\n\n";
        }
    }

    if(State.variables.CharacterSheet_Player.quest.corruptionVillageExiled == true)
    {
        //TODO
    }
    else
    {
        displayString += setup.displayVillageCorruptionDescriptor();
    }

    return displayString;
}

setup.upgradeEthrexStats = function(level)
{
    switch(level)
    {
        case 1:
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "hp", 320)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "stamina", 60)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "strength", 60)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "critChance", 20)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "staminaRecovery", 10)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "corruption", 50)
            State.variables.CharacterSheet_Ethrex.quest.progress = setup.EthraxProgress.MINOR_DEMON;
            break;

        case 2:
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "hp", 500)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "stamina", 95)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "strength", 70)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "critChance", 40)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "staminaRecovery", 25)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "corruption", 70)
            State.variables.CharacterSheet_Ethrex.fight.fightReward = setup.RewardTier.HIGH;
            State.variables.CharacterSheet_Ethrex.quest.progress = setup.EthraxProgress.MAJOR_DEMON;
            State.variables.CharacterSheet_Ethrex.info.bodyVisual = "BodyVisualSheet_Ethrex_2";
            break;

        case 3:
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "hp", 800)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "stamina", 210)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "strength", 140)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "critChance", 80)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "staminaRecovery", 50)
            setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "corruption", 95)
            State.variables.CharacterSheet_Ethrex.fight.fightReward = setup.RewardTier.VERY_HIGH;
            State.variables.CharacterSheet_Ethrex.quest.progress = setup.EthraxProgress.LORD_OF_LUST;
            State.variables.CharacterSheet_Ethrex.info.bodyVisual = "BodyVisualSheet_Ethrex_3";
            break;
    }
}

setup.boostNyxEthrexStats = function()
{
    setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "hp", State.variables.CharacterSheet_Ethrex.fight.hp * 10)
    setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "stamina", State.variables.CharacterSheet_Ethrex.fight.stamina * 10)
    setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "strength", State.variables.CharacterSheet_Ethrex.fight.strength * 10)
    setup.setBaseStatValue(State.variables.CharacterSheet_Ethrex, "corruption", State.variables.CharacterSheet_Ethrex.info.corruption * 10)
}

setup.growNyxEthrexStats = function()
{
    var growParams = {};

    var growthMod = 1.5;

    growParams.height = setup.getStatValue(State.variables.CharacterSheet_Ethrex, "height") * growthMod;
    growParams.muscles = setup.getStatValue(State.variables.CharacterSheet_Ethrex, "muscles") * growthMod;
    growParams.cock = setup.getStatValue(State.variables.CharacterSheet_Ethrex, "cock") * growthMod;
    growParams.balls = setup.getStatValue(State.variables.CharacterSheet_Ethrex, "balls") * growthMod;

	var cockGrowth = setup.applyGrowth(State.variables.CharacterSheet_Ethrex, "cock", growParams.cock);
	var ballsGrowth = setup.applyGrowth(State.variables.CharacterSheet_Ethrex, "balls", growParams.balls);
	var muscleGrowth = setup.applyGrowth(State.variables.CharacterSheet_Ethrex, "muscles", growParams.muscles);
	var sizeGrowth = setup.applyGrowth(State.variables.CharacterSheet_Ethrex, "height", growParams.height);

	var displayString = "";

	displayString += setup.growthFlavourDescriptors(State.variables.CharacterSheet_Ethrex, State.variables.CharacterSheet_Player, cockGrowth, ballsGrowth, muscleGrowth, sizeGrowth, true);

	return displayString;
}

setup.displayVillageCorruptionDescriptor = function()
{
    var displayString = "";
    var corruption = setup.getStatValue(State.variables.CharacterSheet_Player, "corruption");
    //TODO upgrade with new tiers

    if(corruption >= 150)
    {
        displayString += "Terrifying roars and monstrous moans constantly boom across the Golden Bastion.";
    }
    else if(corruption >= 100)
    {
        displayString += "The Golden Bastion is eerily quiet. People can barely handle the lustful aura radiating from your body.";
    }
    else if(corruption >= 75)
    {
        displayString += "The Golden Bastion's soil is darkened and corrupted. Whispers and schemes softly ring behind your back.";
    }
    else if(corruption >= 50)
    {
        displayString += "People give you worrying looks. You are not the same as before...";
    }
    else
    {
        displayString += "Life is not easy for the people here, but together they do their best to make it work. Every scrap fills a purpose. Everyone has a role to play.";
    }

    return displayString;
}

setup.initialJormSetup = function()
{
    var corruption = setup.getStatValue(State.variables.CharacterSheet_Player, "corruption");
    if(corruption >= setup.CorruptionComparators.NEUTRAL)
    {
        State.variables.CharacterSheet_Jorm.info.height = 5230 * 12;
        State.variables.CharacterSheet_Jorm.info.cock = setup.getProportionalCockSize(5230 * 12);
        State.variables.CharacterSheet_Jorm.info.balls = setup.getProportionalBallsSize(5230 * 12);
        State.variables.CharacterSheet_Jorm.info.muscles = setup.getProportionalMuscles(5230 * 12) * 2;
    }
    else if(corruption >= setup.CorruptionComparators.PURE)
    {
        State.variables.CharacterSheet_Jorm.info.height = 461 * 12;
        State.variables.CharacterSheet_Jorm.info.cock = setup.getProportionalCockSize(461 * 12);
        State.variables.CharacterSheet_Jorm.info.balls = setup.getProportionalBallsSize(461 * 12);
        State.variables.CharacterSheet_Jorm.info.muscles = setup.getProportionalMuscles(461 * 12) * 2;
    }
    else
    {
        State.variables.CharacterSheet_Jorm.info.height = 120 * 12;
        State.variables.CharacterSheet_Jorm.info.cock = setup.getProportionalCockSize(120 * 12);
        State.variables.CharacterSheet_Jorm.info.balls = setup.getProportionalBallsSize(120 * 12);
        State.variables.CharacterSheet_Jorm.info.muscles= setup.getProportionalMuscles(120 * 12) * 2;
    }
}

setup.getInitialJormSizeDiffPassage = function()
{
    var sizeComp = setup.Size.compare(State.variables.CharacterSheet_Jorm, 'height', State.variables.CharacterSheet_Player);

    if(sizeComp > setup.Size.Comparators.BIGGER)
    {
        return "Jorm_JormDescriptions_LargerThanPlayer";
    }
    else if(sizeComp < setup.Size.Comparators.SMALLER)
    {
        return "Jorm_JormDescriptions_SmallerThanPlayer";
    }
    else
    {
        return "Jorm_JormDescriptions_EvenToPlayer";
    }
}

setup.getSecondJormSizeDiffPassage = function()
{
    var sizeComp = setup.Size.compare(State.variables.CharacterSheet_Jorm, 'height', State.variables.CharacterSheet_Player);

    if(sizeComp > setup.Size.Comparators.MUCH_BIGGER)
    {
        return "Jorm_PostNamingPrompt_PlayerSmaller";
    }
    else if(sizeComp < setup.Size.Comparators.MUCH_SMALLER)
    {
        return "Jorm_PostNamingPrompt_PlayerBigger";
    }
    else
    {
        return "Jorm_PostNamingPrompt_PlayerEven";
    }
}

setup.getJormIntroductionPassage = function()
{
    if(State.variables.CharacterSheet_Lost_Naga.quest.hasBeenVored)
    {
        return "Jorm_NamingDialogue_VoredNaga"
    }
    else if(State.variables.CharacterSheet_Lost_Naga.quest.fuckedByPlayer)
    {
        return "Jorm_NamingDialogue_FuckedNaga"
    }
    else
    {
        return "Jorm_NamingDialogue_GotFuckedByNaga"
    }
}

setup.displayJournal = function(quest)
{
    var displayString = "";

    var i;
    for(i = 0; i < State.variables.Quest_InProgress.length; i++)
    {
        displayString += State.variables.Quest_InProgress[i].description + "\n\n";
    }

    if(displayString == "")
    {
        displayString +="Your journal is turned to a blank page"
    }

    return displayString;
}

setup.MQ002_Manor_IsMassiveInManor = function(character)
{
    let manorSize = 12 * 12;

    var isMassive = setup.Size.compare(character, "height", manorSize) >= setup.Size.Comparators.BIGGER;
    return isMassive;
}

setup.MQ002_Manor_IsCockMassiveInManor = function(character)
{
    let manorSize = 2 * 12;

    var isMassive = setup.Size.compare(character, "cock", manorSize) >= setup.Size.Comparators.BIGGER;
    return isMassive;
}

setup.MQ002_Manor_IsGiganticInManor = function(character)
{
    let giganticSize = 12 * 18;

    var isMassive = setup.Size.compare(character, "height", giganticSize) >= setup.Size.Comparators.BIGGER;
    return isMassive;
}

setup.MQ002_Manor_IsCockGiganticInManor = function(character)
{
    let giganticSize = 4 * 12;

    var isMassive = setup.Size.compare(character, "cock", giganticSize) >= setup.Size.Comparators.BIGGER;
    return isMassive;
}

setup.MQ002_Manor_IsCorruptedInManor = function(character)
{
    return setup.getStatValue(character, "corruption") > 200;
}

setup.MQ002_Manor_HasBrokenPartOfManor = function()
{
    var manorAreaState = State.variables.WorldState.cultManor;

    for(var propertyName in manorAreaState)
    {
        if(manorAreaState[propertyName].isBroken)
        {
            return true;
        }
    }

    return false;
}

setup.MQ002_Manor_RandomEncounter = function()
{
    return random(0,100) > 10;
}

setup.MQ002_GiveNyxLightAbility = function()
{
    if(!setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, "Ability_TouchedByNyxsLight"))
    {
        setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, setup.Ability.TouchedByNyxsLight);
    }
}

setup.MQ002_AddNyxParasiteInfection = function()
{
    setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, setup.Ability.NyxParasiteInfection);

    ++State.variables.CharacterSheet_Player.quest.nyxParasiteInfections;
}

setup.MQ002_LeavingManor = function(character)
{
    if(setup.AbiHndlr.hasAbility(character, "Ability_TouchedByNyxsLight"))
    {
        setup.AbiHndlr.removeAbilityRuntimeData(character, setup.Ability.TouchedByNyxsLight);
    }
}

setup.MQ002_HasBrokenSeal = function()
{
    return State.variables.CharacterSheet_MQ002_DragonMonk.quest.infected == true ||
    State.variables.CharacterSheet_Player.quest.oaths.drenth == setup.Oath.BROKEN ||
    State.variables.CharacterSheet_MQ002_DragonMonk.quest.beaten == true
}

setup.MQ002_HasIntactOath = function()
{
    return State.variables.CharacterSheet_Player.quest.oaths.drenth == setup.Oath.ACTIVE;
}

setup.breakOath = function(oath)
{
    switch(oath)
    {
        case "drenth":
            if(State.variables.CharacterSheet_Player.quest.oaths.drenth == setup.Oath.ACTIVE)
            {
                setup.AbiHndlr.removeAbilityRuntimeData(State.variables.CharacterSheet_Player, setup.Ability.Oath_Containment);
                State.variables.CharacterSheet_Player.quest.oaths.drenth = setup.Oath.BROKEN;

                if(!setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, "Ability_Oathbreaker"))
                {
                    setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, setup.Ability.Oathbreaker);
                }
            }
            break;
    }
}

setup.triggerCompleteGame = function()
{
    var params =
    {
        trigger: setup.AbilityTrigger.ON_COMPLETE_GAME,
        self: State.variables.CharacterSheet_Player,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(State.variables.CharacterSheet_Player, params);
}

setup.backupEndingAbilities = function()
{
    var abilities = State.variables.CharacterSheet_Player.abilityRuntimeDatas;

    State.variables.achievementsBackup = [];

    for(let i = 0; i < abilities.length; ++i)
    {
        if(abilities[i].achievementState == setup.AchievementState.COMPLETE || abilities[i].achievementState == setup.AchievementState.ACTIVATED)
        {
            let ability = setup.getAbilityByIndex(abilities[i].abilityDataIndex);
            State.variables.achievementsBackup.push(ability.id)
        }
    }
}

setup.triggerEndingsPostWorldCallbacks = function()
{
    var abilities = State.variables.CharacterSheet_Player.abilityRuntimeDatas;
    var achivementBackups = State.variables.achievementsBackup;
    for(let i = 0; i < abilities.length; ++i)
    {
        let ability = setup.getAbilityByIndex(abilities[i].abilityDataIndex);

        for(let j = 0; j < achivementBackups.length; ++j)
        {
            if(ability.id == achivementBackups[j])
            {
                abilities[i].achievementState = setup.AchievementState.ACTIVATED;
            }
        }
    }

    var params =
    {
        trigger: setup.AbilityTrigger.ON_NEW_GAME_PLUS,
        self: State.variables.CharacterSheet_Player,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(State.variables.CharacterSheet_Player, params);

    State.variables.achievementsBackup = null;

    setup.updateStaticCorruptionUI(State.variables.CharacterSheet_Player);
}

setup.displayRandomNyxGibberish  = function(amount)
{
    var displayString = "";
    for(let i = 0; i < amount; ++i)
    {
        var randomLine = setup.getRandomInt(0,2);
        var randomStyle = setup.getRandomInt(0,1);

        var style = "";

        if(randomStyle == 0)
        {
            style = " fucked"
        }

        switch(randomLine)
        {
            case 0:
                displayString += '<span class="glitch nyx'+style+'" data-text="S̶͔̣͈͕̥̆̎̔͑́́̈̿̾̆͝͝ͅP̶̼̺̪̘͚̱͓̙̭̙͐̇̄̐̍̋̅̅̆̕͘͘͠R̴̦̩͕̙̿͆͌̾̈́̏͐̕E̶̡̧̝̭̩̪̜͙͋̓̿̓͝A̴̜̘͚̜͕̜̙̺͎̤͋̀̓̀̊̂̔̿͑̾̐̀̃͐̑̾͜͜ͅD̶̢̘͚̹̦̟̈́͒͐͆́͘">[[AHHHH->Ending][State.variables.CorruptSidebar = undefined]]</span>'
            break;
            case 1:
                displayString += '<span class="glitch nyx'+style+'" data-text="G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠">[[HHHH->Ending][State.variables.CorruptSidebar = undefined]]</span>'
            break;
            case 2:
                displayString += '<span class="glitch nyx'+style+'" data-text="C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ">[[HHHH->Ending][State.variables.CorruptSidebar = undefined]]</span>'
            break;
        }
    }

    return displayString;
}

setup.isWithinStoryProgress = function(range, amount)
{
    return amount >= range[0] && amount <= range[1];
}

setup.buffImpEncounter = function()
{
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "hp", State.variables.CharacterSheet_Imp.fight.hp + 3)
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "strength", State.variables.CharacterSheet_Imp.fight.strength + 2)

    if(State.variables.CharacterSheet_Imp.quest.relationshipScoring >= 7)
    {
        State.variables.CharacterSheet_Imp.fight.fightReward = setup.RewardTier.MEDIUM;
    }
    else if(State.variables.CharacterSheet_Imp.quest.relationshipScoring >= 4)
    {
        State.variables.CharacterSheet_Imp.fight.fightReward = setup.RewardTier.LOW;
    }
}

setup.impJoinsPlayer = function()
{
    State.variables.CharacterSheet_Imp.quest.storylineProgress = setup.StorylineProgress_Imp.MASTER;
    State.variables.CharacterSheet_Imp.fight.fightReward = setup.RewardTier.NONE;
    State.variables.CharacterSheet_Player.fight.teammate = "CharacterSheet_Imp";

    if(!State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes("CharacterSheet_Imp"))
    {
        State.variables.CharacterSheet_Player.fight.unlockedTeammates.push("CharacterSheet_Imp");
    }
}

setup.ferroJoinsPlayer = function()
{
    State.variables.CharacterSheet_Lost_Prisoner.fight.fightReward = setup.RewardTier.NONE;
    State.variables.CharacterSheet_Player.fight.teammate = "CharacterSheet_Lost_Prisoner";

    if(!State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes("CharacterSheet_Lost_Prisoner"))
    {
        State.variables.CharacterSheet_Player.fight.unlockedTeammates.push("CharacterSheet_Lost_Prisoner");
    }
}

setup.abelJoinsPlayer = function()
{
    State.variables.CharacterSheet_Lost_Prisoner.fight.fightReward = setup.RewardTier.NONE;
    State.variables.CharacterSheet_Player.fight.teammate = "CharacterSheet_Abel";

    if(!State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes("CharacterSheet_Abel"))
    {
        State.variables.CharacterSheet_Player.fight.unlockedTeammates.push("CharacterSheet_Abel");
    }
}

setup.torgarJoinsPlayer = function()
{
    State.variables.CharacterSheet_Player.fight.teammate = "CharacterSheet_Torgar";

    if(!State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes("CharacterSheet_Torgar"))
    {
        State.variables.CharacterSheet_Player.fight.unlockedTeammates.push("CharacterSheet_Torgar");
    }
}

setup.tiadaneJoinsPlayer = function()
{
    State.variables.CharacterSheet_Player.fight.teammate = "CharacterSheet_MQ002_Guard";

    if(!State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes("CharacterSheet_MQ002_Guard"))
    {
        State.variables.CharacterSheet_Player.fight.unlockedTeammates.push("CharacterSheet_MQ002_Guard");
    }
}

setup.ethrexJoinsPlayer = function()
{
    State.variables.CharacterSheet_Ethrex.fight.fightReward = setup.RewardTier.NONE;
    State.variables.CharacterSheet_Player.fight.teammate = "CharacterSheet_Ethrex";

    if(!State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes("CharacterSheet_Ethrex"))
    {
        State.variables.CharacterSheet_Player.fight.unlockedTeammates.push("CharacterSheet_Ethrex");
    }
}

setup.setupDebugCastleRoom = function()
{
    State.variables.MQ002_Manor_Destinations = ["DebugMenu"];
}

setup.levelUpImp = function()
{
	var levelUpParams = {};

    levelUpParams.hp = 45;
    levelUpParams.stamina = 30;
    levelUpParams.staminaRecovery = 6;
    levelUpParams.strength = 25;
    levelUpParams.critChance = 10;
    levelUpParams.critDamage = 0.02;
    levelUpParams.growthMultiplier = 0.2;

	setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "hp", State.variables.CharacterSheet_Imp.fight.hp + levelUpParams.hp)
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "stamina", State.variables.CharacterSheet_Imp.fight.stamina + levelUpParams.stamina)
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "staminaRecovery", State.variables.CharacterSheet_Imp.fight.staminaRecovery + levelUpParams.staminaRecovery)
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "strength", State.variables.CharacterSheet_Imp.fight.strength + levelUpParams.strength)
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "critChance", State.variables.CharacterSheet_Imp.fight.critChance + levelUpParams.critChance)
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "critDamage", State.variables.CharacterSheet_Imp.fight.critDamage + levelUpParams.critDamage)
    setup.setBaseStatValue(State.variables.CharacterSheet_Imp, "growthMultiplier", State.variables.CharacterSheet_Imp.fight.growthMultiplier + levelUpParams.growthMultiplier)

	return levelUpParams;
}

setup.growImp = function()
{
    var growParams = {};

    var growthMod = 0.25;

    growParams.height = setup.getStatValue(State.variables.CharacterSheet_Imp, "height") * growthMod;
    growParams.muscles = setup.getStatValue(State.variables.CharacterSheet_Imp, "muscles") * growthMod;
    growParams.cock = setup.getStatValue(State.variables.CharacterSheet_Imp, "cock") * growthMod;
    growParams.balls = setup.getStatValue(State.variables.CharacterSheet_Imp, "balls") * growthMod;

	var cockGrowth = setup.applyGrowth(State.variables.CharacterSheet_Imp, "cock", growParams.cock);
	var ballsGrowth = setup.applyGrowth(State.variables.CharacterSheet_Imp, "balls", growParams.balls);
	var muscleGrowth = setup.applyGrowth(State.variables.CharacterSheet_Imp, "muscles", growParams.muscles);
	var sizeGrowth = setup.applyGrowth(State.variables.CharacterSheet_Imp, "height", growParams.height);

	var displayString = "";

	displayString += setup.growthFlavourDescriptors(State.variables.CharacterSheet_Imp, State.variables.CharacterSheet_Player, cockGrowth, ballsGrowth, muscleGrowth, sizeGrowth, true);

	return displayString;
}

setup.displayImpModsPassages = function()
{
    var displayString = "";

    var essenceCost = State.variables.CharacterSheet_Imp.quest.growthMultiplier * 600;

    if(State.variables.Essence < essenceCost)
    {
        displayString += "<span class = 'inactive'>";
    }

    displayString += "[[Grant him power and size ["+essenceCost+" Essence]->Teammate_Imp_GrowHim][$Essence -= "+essenceCost+"; State.variables.CharacterSheet_Imp.quest.growthMultiplier++]]";

    if(State.variables.Essence < essenceCost)
    {
        displayString += "</span>";
    }

    displayString += "\n";

    return displayString;
}

setup.displayTorgarConverse = function()
{
    var displayString = "";

    if(State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_GotBig == true)
    {
        displayString += "[[Ask him how he got so big->Torgar_Low_Rela_EncounterStart_GotBig]]\n"
    }

    if(State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_Carry == true)
    {
        displayString += "[[Ask him what he is carrying on his back->Torgar_Low_Rela_EncounterStart_Carry]]\n"
    }

    if(State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_Origin == true)
    {
        displayString += "[[Ask him where he is from->Torgar_Low_Rela_EncounterStart_Origin]]\n"
    }

    return displayString;
}

setup.evaluateTorgarPath = function()
{
    if(State.variables.CharacterSheet_Torgar.quest.relationshipScoring < 4)
    {
        return setup.TorgarProgress.NORMAL;
    }

    var quest = State.variables.CharacterSheet_Torgar.quest;
    if(quest.lostScoring >= quest.pureScoring)
    {
        return setup.TorgarProgress.LOST;
    }
    else
    {
        return setup.TorgarProgress.REDEEMED;
    }

    /*if(quest.pureScoring >= quest.ascendedScoring && quest.pureScoring >= quest.lostScoring)
    {
        return setup.TorgarProgress.REDEEMED;
    }

    return setup.TorgarProgress.ASCENDED;*/
}

setup.debug_SetTorgarState = function(state)
{
    switch(state)
    {
        case setup.TorgarProgress.LOST:
            State.variables.CharacterSheet_Torgar.quest.progress = setup.TorgarProgress.LOST;
            State.variables.CharacterSheet_Torgar.quest.relationshipScoring = 4;
        break;
    }

}

setup.displaySelectTeammate = function()
{
    var displayString = "";
    var unlockedTeammates = State.variables.CharacterSheet_Player.fight.unlockedTeammates;
    for(let i = 0; i < unlockedTeammates.length; i++)
    {
        displayString += "[["+State.variables[unlockedTeammates[i]].info.name + "->Village][$CharacterSheet_Player.fight.teammate = '"+unlockedTeammates[i]+"']]\n";
    }

    displayString += "[[None->Village][$CharacterSheet_Player.fight.teammate = undefined]]";

    return displayString;
}

setup.getTorgarVersionEndMessage = function()
{
    var displayString = "";
    switch(setup.evaluateTorgarPath())
    {
        case setup.TorgarProgress.LOST:
            displayString += "(Based on your current choices, you currently lead Torgar towards embracing the pleasure and power of Corruption)\n";
        break;
        case setup.TorgarProgress.REDEEMED:
            displayString += "(Based on your current choices, you currently lead Torgar towards giving up on Corruption completely)\n";
        break;
        case setup.TorgarProgress.ASCENDED:
            displayString += "(Based on your current choices, you currently lead Torgar towards achieving mastery over his changes)\n";
        break;
    }

    return displayString;
}

setup.getMinoPromptPassage = function(param)
{
    param = param.toLowerCase();

    if (typeof param === 'string' || param instanceof String)
    {
        console.log("loolol")
        console.log(param)
        switch(param)
        {
            case "nyx":
                return "Quest_MQ002_Entrance_Answer_Nyx";
            case "cray":
                return "Quest_MQ002_Entrance_Answer_Cray";
            case "kanathar":
                return "Quest_MQ002_Entrance_Answer_Kanathar";
            case "tiadane":
                return "Quest_MQ002_Entrance_Answer_Tiadane";
            case "apothus":
                return "Quest_MQ002_Entrance_Answer_Apothus";
            case "sombreve":
                return "Quest_MQ002_Entrance_Answer_Sombreve";
        }
    }

    return "Quest_MQ002_Entrance_Answer_Invalid";
}

setup.getAbelMenuMenuPassage = function()
{
    if(State.variables.CharacterSheet_Abel.quest.deepCorruption == true && State.variables.CharacterSheet_Player.quest.available_enterVillage_exiled_AbelReturn_RemainingExpedition <= 0)
    {
        return "[[Continue->Village_AbelHouse]]";
    }

    return "[[Continue->Village_AbelHouse]]";
}

setup.getMinoTalkMenuPassage = function()
{
    if(State.variables.CharacterSheet_MQ002_Guard.quest.nyxPromise == true)
    {
        return "Quest_MQ002_Manor_MainHall_TalkMinotaur_PromisedMenu"
    }

    switch(State.variables.CharacterSheet_MQ002_Guard.quest.lustLevel)
    {
        case 1:
            return "Quest_MQ002_Manor_MainHall_TalkMinotaur_Lust1";
        case 2:
            return "Quest_MQ002_Manor_MainHall_TalkMinotaur_Lust2";
        case 3:
            return "Quest_MQ002_Manor_MainHall_TalkMinotaur_Lust3";
    }

    return "Quest_MQ002_Manor_MainHall_TalkMinotaur_Lust3";
}

setup.updateMinoLust = function()
{
    if(State.variables.CharacterSheet_MQ002_Guard.quest.lustIncrease == true)
    {
        State.variables.CharacterSheet_MQ002_Guard.quest.lustIncrease = false;
        State.variables.CharacterSheet_MQ002_Guard.quest.lustLevel++;

        if(State.variables.CharacterSheet_MQ002_Guard.quest.lustLevel >= 3)
        {
            State.variables.CharacterSheet_MQ002_Guard.info.bodyVisual = "BodyVisualSheet_MQ002_Guard_Corrupted";
        }
    }
}

setup.setDopplegangerStats = function()
{
    if(State.variables.CharacterSheet_Player.info.audioSheet == "AudioSheet_Voice1_Player")
    {
        State.variables.CharacterSheet_Doppleganger.info.audioSheet = "AudioSheet_Voice2_Player";
    }
    else
    {
        State.variables.CharacterSheet_Doppleganger.info.audioSheet = "AudioSheet_Voice1_Player";
    }

    if(setup.MQ002_Manor_IsCorruptedInManor(State.variables.CharacterSheet_Player))
    {
        State.variables.CharacterSheet_Doppleganger.info.corruption = 0;
    }
    else
    {
        State.variables.CharacterSheet_Doppleganger.info.corruption = 1500;
    }

    State.variables.CharacterSheet_Doppleganger.info.muscles = State.variables.CharacterSheet_Player.info.muscles;
    State.variables.CharacterSheet_Doppleganger.info.height = State.variables.CharacterSheet_Player.info.height;
    State.variables.CharacterSheet_Doppleganger.info.cock = State.variables.CharacterSheet_Player.info.cock;
    State.variables.CharacterSheet_Doppleganger.info.balls = State.variables.CharacterSheet_Player.info.balls;
    State.variables.CharacterSheet_Doppleganger.info.anatomy = State.variables.CharacterSheet_Player.info.anatomy;

    State.variables.CharacterSheet_Doppleganger.fight.hp = State.variables.CharacterSheet_Player.fight.hp;
    State.variables.CharacterSheet_Doppleganger.fight.stamina = State.variables.CharacterSheet_Player.fight.stamina;
    State.variables.CharacterSheet_Doppleganger.fight.strength = State.variables.CharacterSheet_Player.fight.strength;
    State.variables.CharacterSheet_Doppleganger.fight.critChance = State.variables.CharacterSheet_Player.fight.critChance;
    State.variables.CharacterSheet_Doppleganger.fight.critDamage = State.variables.CharacterSheet_Player.fight.critDamage;
    State.variables.CharacterSheet_Doppleganger.fight.arousalGain = State.variables.CharacterSheet_Player.fight.arousalGain;
    State.variables.CharacterSheet_Doppleganger.fight.growthMultiplier = State.variables.CharacterSheet_Player.fight.growthMultiplier;
    State.variables.CharacterSheet_Doppleganger.fight.bonusGrowth = State.variables.CharacterSheet_Player.fight.bonusGrowth;
    State.variables.CharacterSheet_Doppleganger.fight.minArousal = State.variables.CharacterSheet_Player.fight.minArousal;
    State.variables.CharacterSheet_Doppleganger.fight.staminaRecovery = State.variables.CharacterSheet_Player.fight.staminaRecovery;
    State.variables.CharacterSheet_Doppleganger.fight.fightMoveIDs = State.variables.CharacterSheet_Player.fight.fightMoveIDs.filter(function(val) {
        if(setup[val].skillType == "demon" ||
        setup[val].skillType == "symbiote" ||
        setup[val].skillType == "offensive")
        {
            return true;
        }
        return false;
    });



    setup.AbiHndlr.clearAllAbilityRuntimeData(State.variables.CharacterSheet_Doppleganger);
    setup.AbiHndlr.copyAbilityRuntimeData(State.variables.CharacterSheet_Doppleganger, State.variables.CharacterSheet_Player);
}
/* twine-user-script #235: "RewardHelper.js" */
/* Declare globals for Eslint */
/* global setup, State */
setup.getFightReward = function(beatenCharacter, loss)
{
    var essence = 0;
    var xp = 0;
    if(beatenCharacter.fight.fightReward == setup.RewardTier.NONE)
    {
        return "";
    }
    else
    {
        if(beatenCharacter == undefined || loss == true)
        {
            xp = setup.getRandomInt(75, 100);
        }
        else
        {
            if(beatenCharacter.fight.fightReward == setup.RewardTier.VERY_LOW)
            {
                essence = setup.getRandomInt(15,30);
                xp = setup.getRandomInt(150, 250);
            }
            else if(beatenCharacter.fight.fightReward == setup.RewardTier.LOW)
            {
                essence = setup.getRandomInt(25,50);
                xp = setup.getRandomInt(350, 500);
            }
            else if(beatenCharacter.fight.fightReward == setup.RewardTier.MEDIUM)
            {
                essence = setup.getRandomInt(75,100);
                xp = setup.getRandomInt(750, 900);
            }
            else if(beatenCharacter.fight.fightReward == setup.RewardTier.HIGH)
            {
                essence = setup.getRandomInt(125,150);
                xp = setup.getRandomInt(1100, 1400);
            }
            else if(beatenCharacter.fight.fightReward == setup.RewardTier.VERY_HIGH)
            {
                essence = setup.getRandomInt(200,300);
                xp = setup.getRandomInt(1700, 2100);
            }
        }

        var essenceGain = setup.getEssenceGain(essence);
        var gainEssenceString = setup.gainEssence(essence);
        State.variables.Exp += xp * setup.getStatValue(State.variables.CharacterSheet_Player, "xpMultiplier");

        return gainEssenceString + "You gain " + essenceGain + " Essence of Power and " + xp + " XP!";
    }
};

setup.getRandomInt = function(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
};
/* twine-user-script #236: "0_JSInit.js" */
$('body').append('<canvas id="forceRefreshCanvas" class="steamOverlayCanvasFix"></canvas>');

function forceRefresh() {
	var canvas = document.getElementById("forceRefreshCanvas");
	var ctx = canvas.getContext("2d");
	ctx.clearRect(0, 0, canvas.width, canvas.height);
	window.requestAnimationFrame(forceRefresh);
};

function getTwineLinks() {
    var links = Array.from(document.querySelectorAll('.choiceWindowElement'));
    return links;
};

// Mobile support scaler, disabled after putting in 2_dynamic_layout.css
function deviceAspectRatioFix()
{
    var mvp = document.getElementById('myViewport');

    if ((window.innerWidth <= 1080 || window.screen.width <= 1080))
    {
        if(window.innerWidth > 570 || window.screen.width > 570)
        {
            console.log("smoll window")
            if(window.innerHeight > window.innerWidth)
            {
                console.log("portrait")
                mvp.setAttribute('content','width=800');
            }
            else
            {
                console.log("landscape")
                mvp.setAttribute('content','width=1500');
            }
        }
    }
    else
    {
        console.log("big window")
        mvp.setAttribute('content','width=device-width');
    }
};

(function () {
	if (typeof(greenworks) !== 'undefined')
	{
		if(greenworks.init())
		{
			console.log('Steam API has been initalized.');
		}

		forceRefresh();
	}

	State.variables.SpecialBuild = $("tw-storydata")
		.attr("options")
		.splitOrEmpty(/\s+/)
		.includes("debug");

	UIBar.unstow();
	$('#ui-bar-toggle').remove();

	window.screenClass = "LargeBorder";
})();

(function () {
	var debug = $("tw-storydata")
	.attr("options")
	.splitOrEmpty(/\s+/)
	.includes("debug");

	if(debug)
	{
		return;
	}

	// Duration of the splash image's fade in.
	var fadeIn  = 3000; // in milliseconds

	// Delay before the splash screen begins to fade out.
	var linger  = 4000; // in milliseconds

	// Duration of the splash screen's fade out.
	var fadeOut = 3000; // in milliseconds

	// Splash image.
	var $image  = $('<img src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/full_logo/full_logo_color_bg_fire_small.png">').hide();

	// Display the splash screen.
	$(document.body)
		.append('<div id="splash-screen"></div>')
		.find('#splash-screen')
			.append($image)
			.find('img')
				.fadeIn(fadeIn)
				.end()
			.delay(linger)
			.fadeOut(fadeOut);

	// Set up the removal of the splash screen.
	setTimeout(function () {
		$('#splash-screen').remove();
	}, fadeIn + linger + fadeOut + 1000);
})();

(function () {
    var vol = {};

    // options object
    var options = {
        current  : 0.1,
        rangeMax : 1,
        step     : 0.01,
        setting  : true
    };

    vol.last = options.current;
    vol.start = vol.last / options.rangeMax;

    function setVolume (val, type) {
        // fix for SugarCube 2.28 and higher
        if (typeof val !== 'number') {
            val = Number(val);
        }
        if (Number.isNaN(val) || val < 0) {
            val = 0;
        }
        if (val > 1) {
            val = 1;
        }

        console.log('setting '+ type)

        try {
            if(State.variables.VolumeControls == undefined)
            {
                console.log('no SV oh no!')
            }
            else if (SimpleAudio)
            {
                if(type == 'master')
                {
                    console.log('doin masterrrrr')
                    if (typeof SimpleAudio.volume === 'function')
                    {
                        SimpleAudio.volume(State.variables.VolumeControls.master.volume);
                    }
                    else
                    {
                        SimpleAudio.volume = State.variables.VolumeControls.master.volume;
                    }

                    //hack to fight a bug in simpleaudio
                    for(let propertyName in State.variables.VolumeControls)
                    {
                        if(propertyName != undefined && State.variables.VolumeControls[propertyName].list != undefined)
                        {
                            for(let playlist of State.variables.VolumeControls[propertyName].list)
                            {
                                var aList = SimpleAudio.lists.get(playlist);
                                if(aList != undefined)
                                {
                                    aList.volume(State.variables.VolumeControls[propertyName].volume);
                                }
                            }
                        }
                    }
                }
                else
                {
                    var control = State.variables.VolumeControls[type];

                    if(control != undefined)
                    {
                        control.volume = val;
                        for(let playlist of control.list)
                        {
                            var aList = SimpleAudio.lists.get(playlist);
                            if(aList != undefined)
                            {
                                aList.volume(val);
                            }
                        }
                    }
                }
            }
            else
            {
                throw new Error('Cannot access audio API.');
            }
        } catch (err) {
            // fall back to the wikifier if we have to
            console.error(err.message, err);
            $.wiki('<<masteraudio volume ' + val + '>>');
        } finally {
            return val;
        }
    }

    postdisplay['volume-task'] = function (taskName) {
        console.log('volume-task')
        delete postdisplay[taskName];
        setVolume(vol.start.toFixed(2), 'master');
    }

    $(document).on('input', 'input[name=volume]', function() {
        // grab new volume from input
        var change      = Number($('input[name=volume]').val());
        var newVol      = change / options.rangeMax;
        let current = newVol;

        // change volume; set slider position
        State.variables.VolumeControls.master.volume = current;
        vol.last = change;
        console.log('input master')
        setVolume(current, 'master');
    });

    $(document).on('input', 'input[name=volumeMusic]', function() {
        // grab new volume from input
        var change      = Number($('input[name=volumeMusic]').val());
        var newVol      = change / options.rangeMax;
        let current = newVol;

        // change volume; set slider position
        State.variables.VolumeControls.music.volume = current;
        setVolume(current, 'music');
    });

    $(document).on('input', 'input[name=volumeVoices]', function() {
        // grab new volume from input
        var change      = Number($('input[name=volumeVoices]').val());
        var newVol      = change / options.rangeMax;
        let current = newVol;

        // change volume; set slider position
        State.variables.VolumeControls.voices.volume = current;
        console.log('input voices')
        setVolume(current, 'voices');
    });

    $(document).on('input', 'input[name=volumeSFX]', function() {
        // grab new volume from input
        var change      = Number($('input[name=volumeSFX]').val());
        var newVol      = change / options.rangeMax;
        let current = newVol;

        // change volume; set slider position
        State.variables.VolumeControls.sfx.volume = current;
        setVolume(current, 'sfx');
    });

    Macro.add('volume', {
        handler : function () {

            // set up variables
            var $wrapper  = $(document.createElement('span'));
            var $slider   = $(document.createElement('input'));
            var className = 'macro-' + this.name;

			var corruption = setup.getStatValue(State.variables.CharacterSheet_Player, "corruption");
			var sliderClass = setup.getCorruptionUIClassName("dummy", corruption);

            // create range input
            $slider
                .attr({
                    id    : 'volume-control',
				    class : sliderClass,
                    type  : 'range',
                    name  : 'volume',
                    min   : '0',
                    max   : options.rangeMax,
                    step  : options.step,
                    value : vol.last
                });
            // class '.macro-volume' and id '#volume-control' for styling

            // output
            $wrapper
                .append($slider)
                .addClass(className)
                .appendTo(this.output);
        }
    });

    if (options.setting)
    {
        // settings API integration, for SugarCube 2.26 and higher
        if (Setting && Setting.addRange && typeof Setting.addRange === 'function') {

            function settingsVol () {
                var newVol = settings.volume / options.rangeMax;
                options.current = newVol.toFixed(2);
                setVolume(options.current, 'master');
            }

            Setting.addRange('volume', {
                label : 'Volume: ',
                min : 0,
                max : options.rangeMax,
                step : options.step,
                default : options.current,
                onInit : settingsVol,
                onChange : settingsVol
            });
        } else {
            console.error('This version of SugarCube does not include the `Settings.addRange()` method; please try updating to the latest version of SugarCube.')
        }
    }
})();

//$('#story').prepend('<div id="topBorder"><img id="topBorderImage" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_top_0.png"></div>');
//$('#story').append('<div id="bottomBorder"><img id="bottomBorderImage" src="https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/general/ui_borderlarge_corrupt_middle_bottom_0.png"></div>');

(function () {
    setup.allCharacters = [];

    setup.applyStoryContainer();

    window.matchMedia("(orientation: portrait)").addEventListener("change", e => {
        const portrait = e.matches;

        deviceAspectRatioFix()
    });
})();

/* twine-user-script #237: "DebugTools.js" */
/* Declare globals for Eslint */
/* global setup, State, Dialog */
setup.debug_LearnAllMoves = function()
{
	State.variables.CharacterSheet_Player.fight.fightMoveIDs = setup.FightMoveIDs;
};

setup.debug_SetHeight = function(character, comparator)
{
	let ratio = setup.Size.OrderedComp[comparator].ratio;
	setup.setBaseStatValue(character, 'height', Math.round(setup.Size.REF.height*ratio));
};

setup.debug_GodStats = function()
{
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "strength", 99999)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "hp", 99999)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "stamina", 99999)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "critChance", 100)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "arousalGain", 20)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "staminaRecovery", 20)
};

setup.debug_ResetSize = function()
{
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "height", 68)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "cock", 6)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "balls", 2)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "muscles", 0)
};

setup.debug_GodSize = function()
{
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "height", 99999)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "cock", 9999)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "balls", 3333)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "muscles", 9999)
};

setup.debug_GreatSize = function()
{
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "height", 240)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "cock", 70)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "balls", 24)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "muscles", 70)
};

setup.debug_BigSize = function()
{
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "height", 96)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "cock", 24)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "balls", 8)
    setup.setBaseStatValue(State.variables.CharacterSheet_Player, "muscles", 25)
};

setup.debug_ApplyTinyGrowth = function()
{
	setup.applyGrowth(State.variables.CharacterSheet_Player, "cock", 0.01);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "balls", 0.01);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "muscles", 0.01);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "height", 0.01);
};

setup.debug_ApplyMaxGrowth = function()
{
	setup.applyGrowth(State.variables.CharacterSheet_Player, "cock", 9007199254740992);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "balls", 9007199254740992);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "muscles", 9007199254740992);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "height", 9007199254740992);
};

setup.debug_ApplyOverflowGrowth = function()
{
	setup.applyGrowth(State.variables.CharacterSheet_Player, "cock", 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 * 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "balls", 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 * 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "muscles", 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 * 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);
	setup.applyGrowth(State.variables.CharacterSheet_Player, "height", 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 * 9007199254740992000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);
};

setup.debug_ApplyBunchOfAbilities = function()
{
    for( const [key,abi] of Object.entries(setup.Ability) )
    {
        if (abi.filter != setup.AbilityFilter.STATUSEFFECT
            && abi.filter != setup.AbilityCategory.DISABLED
            && abi.filter != setup.AbilityFilter.GLOBAL
            && abi.nextAbilityID == undefined)
        {
            setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, setup.Ability[key]);
        }
    }
};

setup.debug_GetEssence = function()
{
    setup.gainEssence(999999);
};

setup.debug_GetExp = function()
{
	State.variables.Exp += 99999999999;
};

setup.debug_GetLevels = function()
{
	State.variables.Level += 999;
};

setup.debug_GetLimitBreaks = function()
{
	State.variables.CharacterSheet_Player.info.limitBreaks.points = 99999;
};

setup.debug_GetCorruption = function()
{
	setup.applyCorruption(State.variables.CharacterSheet_Player, 25);
};

setup.debug_ResetCorruption = function()
{
	setup.applyCorruption(State.variables.CharacterSheet_Player, setup.getStatValue(State.variables.CharacterSheet_Player, "corruption") * -1);
	State.variables.CharacterSheet_Player.info.corruption = 0;
};

setup.debug_SetCanExplore = function()
{
	State.variables.Quest_CanExplore = true;
};

setup.debug_DebugStarter_MQ001 = function()
{
	State.variables.Quest_InProgress = [State.variables.Quest_MQ001_01];
};

setup.debug_DebugStarter_MQ002 = function()
{
	State.variables.Quest_InProgress = [State.variables.Quest_MQ002];
};


setup.debug_DebugStarter_JoinedApothus = function()
{
	State.variables.Quest_InProgress = [State.variables.Quest_MQ002];
	State.variables.CharacterSheet_Apothus.quest.askedAboutHim = true;
	State.variables.CharacterSheet_Player.quest.apothusRealmStatus = setup.ApothusRealmStatus.JOINED;
	State.variables.CharacterSheet_Player.quest.apothusRealmFirstTime = false;
};

setup.debug_DebugStarter_MQ003 = function()
{
	State.variables.WorldState.cultManor.monolithBroken = true;
	State.variables.DeathText = setup.DeathTextEnum.POST_APOTHUS
setup.AbiHndlr.removeAbilityRuntimeData(	State.variables.CharacterSheet_Player, setup.Ability.EmbracedByNyxsLight);
};

setup.setTorgarProgressHigh = function()
{
	State.variables.CharacterSheet_Torgar.quest.relationshipScoring = 6;
	State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lowRelaMidRelaTrigger = false;
	State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaMidRelaTrigger = false;
	State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_lowRelaMidRelaTrigger = false;
};

setup.setTorgarProgressVeryHigh = function()
{
	setup.setTorgarProgressHigh();
	State.variables.CharacterSheet_Torgar.quest.relationshipScoring = 13;
	State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lostPathTrigger = false;
	State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lostPathTrigger = false;
	State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_lostPathTrigger = false;
};

setup.toggleDebugMode = function()
{
	State.variables.Debug = !State.variables.Debug;
	state.display(state.active.title, null, "back");
};

setup.saves = function()
{
	UI.saves();
};

setup.achievements = function()
{
	Dialog.setup("Achievements");

	var displayString = '<div class="AchievementWindow">'

	var character = State.variables.CharacterSheet_Player;
	var abilities = character.abilityRuntimeDatas;

    let hiddenAchievements = abilities.filter( abi => abi.achievementState == setup.AchievementState.HIDDEN);
    let idleAchievements = abilities.filter( abi => abi.achievementState == setup.AchievementState.IDLE);
    let completeAchievements = abilities.filter( abi => abi.achievementState == setup.AchievementState.COMPLETE);
    let activatedAchievements = abilities.filter( abi => abi.achievementState == setup.AchievementState.ACTIVATED);

	if(activatedAchievements.length > 0)
	{
		displayString += '<div class="AchievementWindowContentContainer">';
		displayString += '<div class="AchievementWindowHeader"><h2 class="AchievementWindowHeaderTitle">Awarded Achievements</h2>Your feats have been noticed and have brought you boons that transcend time itself.</div>'

		displayString += '<div class="AchievementCardsContainer">';
		for(let i = 0; i < activatedAchievements.length; i++)
		{
			displayString += setup.displayAchievement(activatedAchievements[i]);
		}
		displayString += '</div>';

		displayString += '</div>';
	}


	if(completeAchievements.length > 0)
	{
		displayString += '<div class="AchievementWindowContentContainer">';
		displayString += '<div class="AchievementWindowHeader"><h2 class="AchievementWindowHeaderTitle">Completed Achievements</h2>You have accomplished great deeds that will bring upon rewards to your next life.</div>'

		displayString += '<div class="AchievementCardsContainer">';
		for(let i = 0; i < completeAchievements.length; i++)
		{
			displayString += setup.displayAchievement(completeAchievements[i]);
		}
		displayString += '</div>';

		displayString += '</div>';
	}

	if(idleAchievements.length > 0)
	{
		displayString += '<div class="AchievementWindowContentContainer">';
		displayString += '<div class="AchievementWindowHeader"><h2 class="AchievementWindowHeaderTitle">Locked Achievements</h2>Silent gods watch upon you expectantly.</div>'

		displayString += '<div class="AchievementCardsContainer">';
		for(let i = 0; i < idleAchievements.length; i++)
		{
			displayString += setup.displayAchievement(idleAchievements[i]);
		}
		displayString += '</div>';

		displayString += '</div>';
	}

    if(hiddenAchievements.length > 0)
	{
		displayString += '<div class="AchievementWindowContentContainer">';
		displayString += '<div class="AchievementWindowHeader"><h2 class="AchievementWindowHeaderTitle">Hidden Achievements</h2>The gods hide power from you...</div>'

		displayString += '<div class="AchievementCardsContainer">';
		for(let i = 0; i < hiddenAchievements.length; i++)
		{
			displayString += "<div class='AchievementAbility Hidden'>";
            displayString += "<div class='AchievementAbilityHeader'> ... </div>";
            displayString += 	"<div class='AchievementAbilityBody Idle' >";

            displayString += "<div class='AchievementAbilityBodyRow'>";
            displayString += setup.corruptText("Turn back...");
            displayString += "</div>";

            displayString += 	"</div>";
            displayString += "</div>";
		}
		displayString += '</div>';

		displayString += '</div>';
	}

	displayString += '</div>'

	Dialog.append(displayString);
	Dialog.open();
};

setup.displayAchievement = function(runtimeAbility)
{
	var character = State.variables.CharacterSheet_Player;
	var displayString = ''
	let ability = setup.getAbilityByIndex(runtimeAbility.abilityDataIndex);

	var stateClass = "";

	switch (runtimeAbility.achievementState) {
		case setup.AchievementState.IDLE:
			stateClass = "Idle"
			break;
		case setup.AchievementState.COMPLETE:
			stateClass = "Complete"
			break;
		case setup.AchievementState.ACTIVATED:
			stateClass = "Activated"
			break;

		default:
			stateClass = "Idle"
			break;
	}

	displayString += "<div class='AchievementAbility "+ability.id+"'>";
	displayString += "<div class='AchievementAbilityHeader'>" + ability.name + " </div>";
	displayString += 	"<div class='AchievementAbilityBody "+stateClass+"' >";

	displayString += "<div class='AchievementAbilityBodyRow'>";
	displayString += ability.achievementInfo;
	displayString += "</div>";

	if(runtimeAbility.achievementState != setup.AchievementState.IDLE)
	{
		if(ability.description != undefined || ability.description(character, runtimeAbility) != "")
		{
			displayString += "<div class='AchievementAbilityBodyRow'>";
			displayString += ability.description(character, runtimeAbility);
			displayString += "</div>";
		}

		if(runtimeAbility.achievementState == setup.AchievementState.ACTIVATED)
		{
			displayString += "<div class='AchievementAbilityBodyRow'>";
			displayString += setup.displayModifiers(runtimeAbility.modifier)
			displayString += "</div>";
		}
		else
		{
			//new game lock
			displayString += "<div class='AchievementAbilityBodyNewGameLock'>";
			displayString += "Reach an Ending to earn a Transcendent Ability in your next playthrough.";
			displayString += "</div>";
		}
	}
	else
	{
		//complete lock
		displayString += "<div class='AchievementAbilityBodyCompleteLock'>";
		displayString += "Locked";
		displayString += "</div>";
	}



	displayString += 	"</div>";
	displayString += "</div>";


	return displayString;
};

setup.completeAchievement = function(abilityID)
{
	var abilities = State.variables.CharacterSheet_Player.abilityRuntimeDatas;

	for(let i = 0; i < abilities.length; i++)
	{
		let ability = setup.getAbilityByIndex(abilities[i].abilityDataIndex);

		if(ability.id == abilityID)
		{
			if(abilities[i].achievementState == setup.AchievementState.IDLE
                || abilities[i].achievementState == setup.AchievementState.HIDDEN)
			{
				setup.notify("Achievement Unlocked: " + setup[abilityID].name);
				abilities[i].achievementState = setup.AchievementState.COMPLETE;
			}
		}
	}
}

setup.restart = function()
{
	Dialog.setup("Jump to another cycle");
	Dialog.wiki(Story.get("RestartScreen").processText());
	Dialog.open();
};

setup.volumeMenu = function()
{
	Dialog.setup("Audio Settings");

	var displayString = '<div class="VolumeMenuWindow">'

	var corruption = setup.getStatValue(State.variables.CharacterSheet_Player, "corruption");
	var sliderClass = setup.getCorruptionUIClassName("dummy", corruption);

	displayString += '<div class="VolumeMenu">';
	displayString += 	'<div class="VolumeMenuTitle">Music</div>';
	displayString += 		'<div class="VolumeMenuSlider">';
	displayString += 			'<span class="macro-volume">';
	displayString += 			'<input id="volume-control" class="'+sliderClass+'" type="range" name="volumeMusic" min="0" max="1" step="0.01" value="'+State.variables.VolumeControls.music.volume+'">';
	displayString += 		'</span>';
	displayString += 	'</div>';
	displayString += '</div>';

	displayString += '<div class="VolumeMenu">';
	displayString += 	'<div class="VolumeMenuTitle">SFX</div>';
	displayString += 		'<div class="VolumeMenuSlider">';
	displayString += 			'<span class="macro-volume">';
	displayString += 			'<input id="volume-control" class="'+sliderClass+'" type="range" name="volumeSFX" min="0" max="1" step="0.01" value="'+State.variables.VolumeControls.sfx.volume+'">';
	displayString += 		'</span>';
	displayString += 	'</div>';
	displayString += '</div>';

	displayString += '<div class="VolumeMenu">';
	displayString += 	'<div class="VolumeMenuTitle">Voices</div>';
	displayString += 		'<div class="VolumeMenuSlider">';
	displayString += 			'<span class="macro-volume">';
	displayString += 			'<input id="volume-control" class="'+sliderClass+'" type="range" name="volumeVoices" min="0" max="1" step="0.01" value="'+State.variables.VolumeControls.voices.volume+'">';
	displayString += 		'</span>';
	displayString += 	'</div>';
	displayString += '</div>';

	displayString += '</div>'

	Dialog.append(displayString);
	Dialog.open();
};


setup.backupAchievements = function()
{
	var abilities = State.variables.CharacterSheet_Player.abilityRuntimeDatas;
	State.variables.AchievementBackup = [];

	for(var i = 0; i < abilities.length; i++)
	{
		var abilityData = setup.getAbilityByIndex(abilities[i].abilityDataIndex);

		if(abilityData.isAchievement == true && abilities[i].achievementState > setup.AchievementState.IDLE)
		{
			let achievement = {
                id: abilityData.id,
                achievementState: abilities[i].achievementState,
            };
			State.variables.AchievementBackup.push(achievement);
		}
	}
};

setup.loadBackedUpAchievements = function(activateComplete=true)
{
	var abilities = State.variables.CharacterSheet_Player.abilityRuntimeDatas;
	var backup = State.variables.AchievementBackup;

    if (backup)
    {
        abilities.forEach( abiRuntimeData => {
            let abilityDef = setup.getAbilityByIndex(abiRuntimeData.abilityDataIndex);
            if (abilityDef.isAchievement)
            {
                // The indicies may have changed from the backup, so compare to ids only
                let backupAbi = backup.find( abi => abi.id == abilityDef.id);
                if (backupAbi)
                {
                    // Set the current runtime to match the state
                    if (!activateComplete && backupAbi.achievementState)
                    {
                        abiRuntimeData.achievementState = backupAbi.achievementState;
                    }
                    else
                    {
                        abiRuntimeData.achievementState = setup.AchievementState.ACTIVATED;
                    }
                }
            }
        });
    }

	var params =
    {
        trigger: setup.AbilityTrigger.ON_NEW_GAME_PLUS,
        self: State.variables.CharacterSheet_Player,
    }
    setup.AbiHndlr.broadcastAbilityTrigger(State.variables.CharacterSheet_Player, params);

    setup.updateStaticCorruptionUI(State.variables.CharacterSheet_Player);

	State.variables.AchievementBackup = undefined;
};

setup.parseIntStats = function()
{
	State.variables.CharacterSheet_Player.info.muscles = parseInt(State.variables.CharacterSheet_Player.info.muscles);
	State.variables.CharacterSheet_Player.info.height = parseInt(State.variables.CharacterSheet_Player.info.height);
	State.variables.CharacterSheet_Player.info.cock = parseInt(State.variables.CharacterSheet_Player.info.cock);
	State.variables.CharacterSheet_Player.info.balls = parseInt(State.variables.CharacterSheet_Player.info.balls);
};


setup.debugGetAllAbilities = function(divID)
{
    debugGetAbilities(divID, false);
};

setup.debugGetAllAchievementAbilities = function(divID)
{
    debugGetAbilities(divID, true);
};

function debugGetAbilities(divID, isAchievement)
{
    let div = document.getElementById(divID);
    var corruption = setup.getStatValue(State.variables.CharacterSheet_Player, "corruption");
    let _windowClass = setup.getCorruptionUIClassName("choiceWindowElement", corruption);

    let abiList = Object.entries(setup.Ability).filter( ([key,obj]) =>{
        return obj.isAchievement == isAchievement;
    })

    abiList.sort((a,b) => {
        if (a[1].name < b[1].name) {
            return -1;
        }
        if (a[1].name > b[1].name) {
            return 1;
        }
        return 0;
    });


    let collapseButton = document.createElement("BUTTON");
    collapseButton.classList.add('collapsible');
    collapseButton.innerHTML = (isAchievement) ? "Complete Achievement" : "Learn Abilities";
    collapseButton.onclick = collapseToggle;

    div.appendChild(collapseButton);

    let innerDiv = document.createElement("DIV");
    innerDiv.style.display = "none"; // Start collapsed
    div.appendChild(innerDiv);

    abiList.forEach( ([key,obj]) => {
        let lb = document.createElement("label");
        lb.className = _windowClass;

        if (isAchievement)
        {
            $(lb).wiki(`[[Learn ${obj.name}->DebugMenu][setup.completeAchievement("${obj.id}")]]`);
        }
        else
        {
            $(lb).wiki(`[[Learn ${obj.name}->DebugMenu][setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.${key})]]`);
        }

        // let learnBtn = document.createElement("BUTTON");
        // learnBtn.classname =_windowClass;
        // learnBtn.classList.add("interal-button");
        // learnBtn.innerHTML = key;
        // learnBtn.onclick = function()
        // {
        //     setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, obj);
        // }

        innerDiv.appendChild(lb);
        innerDiv.appendChild(document.createElement("BR"));
    })
};

function collapseToggle()
{
    this.classList.toggle("active");
    let content = this.nextElementSibling;
    if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
};

setup.printAchievements = function()
{
    let abilities = State.variables.CharacterSheet_Player.abilityRuntimeDatas;

    abilities.forEach( abi => {
        if (abi.achivemementState)
        {
            let ability = setup.getAbilityByIndex(abi.abilityDataIndex);
            console.log(`Achiev ID: ${ability.id}, index: ${abi.abilityDataIndex}`);
        }
    })
};

/* twine-user-script #238: "Gamepad.js" */
/*
 * Copyright 2012 Priit Kallas <kallaspriit@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

(function(exports) {
	'use strict';

	/**
	 * A null function - does nothing, returns nothing
	 */
	var nullFunction = function() {};

	/**
	 * The null platform, which doesn't support anything
	 */
	var nullPlatform = {
		getType: function() {
			return 'null';
		},
		isSupported: function() {
			return false;
		},
		update: nullFunction
	};

	/**
	 * This strategy uses a timer function to call an update function.
	 * The timer (re)start function can be provided or the strategy reverts to
	 * one of the window.*requestAnimationFrame variants.
	 *
	 * @class AnimFrameUpdateStrategy
	 * @constructor
	 * @param {Function} [requestAnimationFrame] function to use for timer creation
	 * @module Gamepad
	 */
	var AnimFrameUpdateStrategy = function(requestAnimationFrame) {
		var that = this;
		var win = window;

		this.update = nullFunction;

		this.requestAnimationFrame = requestAnimationFrame || win.requestAnimationFrame ||
			win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame;

		/**
		 * This method calls the (user) update and restarts itself
		 * @method tickFunction
		 */
		this.tickFunction = function() {
			that.update();
			that.startTicker();
		};

		/**
		 * (Re)Starts the ticker
		 * @method startTicker
		 */
		this.startTicker = function() {
			that.requestAnimationFrame.apply(win, [that.tickFunction]);
		};
	};

	/**
	 * Starts the update strategy using the given function
	 *
	 * @method start
	 * @param {Function} updateFunction the function to call at each update
	 */
	AnimFrameUpdateStrategy.prototype.start = function(updateFunction) {
		this.update = updateFunction || nullFunction;
		this.startTicker();
	};

	/**
	 * This strategy gives the user the ability to call the library internal
	 * update function on request. Use this strategy if you already have a
	 * timer function running by requestAnimationFrame and you need fine control
	 * over when the gamepads are updated.
	 *
	 * @class ManualUpdateStrategy
	 * @constructor
	 * @module Gamepad
	 */
	var ManualUpdateStrategy = function() {

	};

	/**
	 * Calls the update function in the started state. Does nothing otherwise.
	 * @method update
	 */
	ManualUpdateStrategy.prototype.update = nullFunction;

	/**
	 * Starts the update strategy using the given function
	 *
	 * @method start
	 * @param {Function} updateFunction the function to call at each update
	 */
	ManualUpdateStrategy.prototype.start = function(updateFunction) {
		this.update = updateFunction || nullFunction;
	};

	/**
	 * This platform is for webkit based environments that need to be polled
	 * for updates.
	 *
	 * @class WebKitPlatform
	 * @constructor
	 * @param {Object} listener the listener to provide _connect and _disconnect callbacks
	 * @param {Function} gamepadGetter the poll function to return an array of connected gamepads
	 * @module Gamepad
	 */
	var WebKitPlatform = function(listener, gamepadGetter) {
		this.listener = listener;
		this.gamepadGetter = gamepadGetter;
		this.knownGamepads = [];
	};

	/**
	 * Provides a platform object that returns true for isSupported() if valid.
	 * @method factory
	 * @static
	 * @param {Object} listener the listener to use
	 * @return {Object} a platform object
	 */
	WebKitPlatform.factory = function(listener) {
		var platform = nullPlatform;
		var navigator = window && window.navigator;

		if (navigator) {
			if (typeof(navigator.getGamepads) !== 'undefined') {
				platform = new WebKitPlatform(listener, function() {
					return navigator.getGamepads();
				});
			} else if (typeof(navigator.webkitGamepads) !== 'undefined') {
				platform = new WebKitPlatform(listener, function() {
					return navigator.webkitGamepads();
				});
			} else if (typeof(navigator.webkitGetGamepads) !== 'undefined') {
				platform = new WebKitPlatform(listener, function() {
					return navigator.webkitGetGamepads();
				});
			}
		}

		return platform;
	};

	/**
	 * @method getType()
	 * @static
	 * @return {String} 'WebKit'
	 */
	WebKitPlatform.getType = function() {
		return 'WebKit';
	},

	/**
	 * @method getType()
	 * @return {String} 'WebKit'
	 */
	WebKitPlatform.prototype.getType = function() {
		return WebKitPlatform.getType();
	},

	/**
	 * @method isSupported
	 * @return {Boolean} true
	 */
	WebKitPlatform.prototype.isSupported = function() {
		return true;
	};

	/**
	 * Queries the currently connected gamepads and reports any changes.
	 * @method update
	 */
	WebKitPlatform.prototype.update = function() {
		var that = this;
		var gamepads = Array.prototype.slice.call(this.gamepadGetter(), 0);
		var gamepad;
		var i;

		for (i = this.knownGamepads.length - 1; i >= 0; i--) {
			gamepad = this.knownGamepads[i];
			if (gamepads.indexOf(gamepad) < 0) {
				this.knownGamepads.splice(i, 1);
				this.listener._disconnect(gamepad);
			}
		}

		for (i = 0; i < gamepads.length; i++) {
			gamepad = gamepads[i];
			if (gamepad && (that.knownGamepads.indexOf(gamepad) < 0)) {
				that.knownGamepads.push(gamepad);
				that.listener._connect(gamepad);
			}
		}
	};

	/**
	 * This platform is for mozilla based environments that provide gamepad
	 * updates via events.
	 *
	 * @class FirefoxPlatform
	 * @constructor
	 * @module Gamepad
	 */
	var FirefoxPlatform = function(listener) {
		this.listener = listener;

		window.addEventListener('gamepadconnected', function(e) {
			listener._connect(e.gamepad);
		});
		window.addEventListener('gamepaddisconnected', function(e) {
			listener._disconnect(e.gamepad);
		});
	};

	/**
	 * Provides a platform object that returns true for isSupported() if valid.
	 * @method factory
	 * @static
	 * @param {Object} listener the listener to use
	 * @return {Object} a platform object
	 */
	FirefoxPlatform.factory = function(listener) {
		var platform = nullPlatform;

		if (window && (typeof(window.addEventListener) !== 'undefined')) {
			platform = new FirefoxPlatform(listener);
		}

		return platform;
	};

	/**
	 * @method getType()
	 * @static
	 * @return {String} 'Firefox'
	 */
	FirefoxPlatform.getType = function() {
		return 'Firefox';
	},

	/**
	 * @method getType()
	 * @return {String} 'Firefox'
	 */
	FirefoxPlatform.prototype.getType = function() {
		return FirefoxPlatform.getType();
	},

	/**
	 * @method isSupported
	 * @return {Boolean} true
	 */
	FirefoxPlatform.prototype.isSupported = function() {
		var navigator = window && window.navigator;
		return navigator.userAgent.indexOf('Firefox') !== -1;
	};

	/**
	 * Does nothing on the Firefox platform
	 * @method update
	 */
	FirefoxPlatform.prototype.update = nullFunction;

	/**
	 * Provides simple interface and multi-platform support for the gamepad API.
	 *
	 * You can change the deadzone and maximizeThreshold parameters to suit your
	 * taste but the defaults should generally work fine.
	 *
	 * @class Gamepad
	 * @constructor
	 * @param {Object} [updateStrategy] an update strategy, defaulting to
	 *		{{#crossLink "AnimFrameUpdateStrategy"}}{{/crossLink}}
	 * @module Gamepad
	 * @author Priit Kallas <kallaspriit@gmail.com>
	 */
	var Gamepad = function(updateStrategy) {
		this.updateStrategy = updateStrategy || new AnimFrameUpdateStrategy();
		this.gamepads = [];
		this.listeners = {};
		this.platform = nullPlatform;
		this.deadzone = 0.03;
		this.maximizeThreshold = 0.97;
	};

	/**
	 * The available update strategies
	 * @property UpdateStrategies
	 * @param {AnimFrameUpdateStrategy} AnimFrameUpdateStrategy
	 * @param {ManualUpdateStrategy} ManualUpdateStrategy
	 */
	Gamepad.UpdateStrategies = {
		AnimFrameUpdateStrategy: AnimFrameUpdateStrategy,
		ManualUpdateStrategy: ManualUpdateStrategy
	};

	/**
	 * List of factories of supported platforms. Currently available platforms:
	 * {{#crossLink "WebKitPlatform"}}{{/crossLink}},
	 * {{#crossLink "FirefoxPlatform"}}{{/crossLink}},
	 * @property PlatformFactories
	 * @type {Array}
	 */
	Gamepad.PlatformFactories = [FirefoxPlatform.factory, WebKitPlatform.factory];

	/**
	 * List of supported controller types.
	 *
	 * @property Type
	 * @param {String} Type.N64 Retrolink N64 controller
	 * @param {String} Type.PLAYSTATION Playstation controller
	 * @param {String} Type.LOGITECH Logitech controller
	 * @param {String} Type.XBOX XBOX controller
	 * @param {String} Type.UNKNOWN Unknown controller
	 */
	Gamepad.Type = {
		N64: 'n64',
		PLAYSTATION: 'playstation',
		LOGITECH: 'logitech',
		XBOX: 'xbox',
		UNKNOWN: 'unknown'
	};

	/*
	 * List of events you can expect from the library.
	 *
	 * CONNECTED, DISCONNECTED and UNSUPPORTED events include the gamepad in
	 * question and tick provides the list of all connected gamepads.
	 *
	 * BUTTON_DOWN and BUTTON_UP events provide an alternative to polling button states at each tick.
	 *
	 * AXIS_CHANGED is called if a value of some specific axis changes.
	 */
	Gamepad.Event = {
		/**
		 * Triggered when a new controller connects.
		 *
		 * @event connected
		 * @param {Object} device
		 */
		CONNECTED: 'connected',

		/**
		 * Called when an unsupported controller connects.
		 *
		 * @event unsupported
		 * @param {Object} device
		 * @deprecated not used anymore. Any controller is supported.
		 */
		UNSUPPORTED: 'unsupported',

		/**
		 * Triggered when a controller disconnects.
		 *
		 * @event disconnected
		 * @param {Object} device
		 */
		DISCONNECTED: 'disconnected',

		/**
		 * Called regularly with the latest controllers info.
		 *
		 * @event tick
		 * @param {Array} gamepads
		 */
		TICK: 'tick',

		/**
		 * Called when a gamepad button is pressed down.
		 *
		 * @event button-down
		 * @param {Object} event
		 * @param {Object} event.gamepad The gamepad object
		 * @param {String} event.control Control name
		 */
		BUTTON_DOWN: 'button-down',

		/**
		 * Called when a gamepad button is released.
		 *
		 * @event button-up
		 * @param {Object} event
		 * @param {Object} event.gamepad The gamepad object
		 * @param {String} event.control Control name
		 */
		BUTTON_UP: 'button-up',

		/**
		 * Called when gamepad axis value changed.
		 *
		 * @event axis-changed
		 * @param {Object} event
		 * @param {Object} event.gamepad The gamepad object
		 * @param {String} event.axis Axis name
		 * @param {Number} event.value New axis value
		 */
		AXIS_CHANGED: 'axis-changed'
	};

	/**
	 * List of standard button names. The index is the according standard button
	 * index as per standard.
	 *
	 * @property StandardButtons
	 */
	Gamepad.StandardButtons = [
		'FACE_1', 'FACE_2', 'FACE_3', 'FACE_4',
		'LEFT_TOP_SHOULDER', 'RIGHT_TOP_SHOULDER', 'LEFT_BOTTOM_SHOULDER', 'RIGHT_BOTTOM_SHOULDER',
		'SELECT_BACK', 'START_FORWARD', 'LEFT_STICK', 'RIGHT_STICK',
		'DPAD_UP', 'DPAD_DOWN', 'DPAD_LEFT', 'DPAD_RIGHT',
		'HOME'
	];

	/**
	 * List of standard axis names. The index is the according standard axis
	 * index as per standard.
	 *
	 * @property StandardAxes
	 */
	Gamepad.StandardAxes = ['LEFT_STICK_X', 'LEFT_STICK_Y', 'RIGHT_STICK_X', 'RIGHT_STICK_Y'];

	var getControlName = function(names, index, extraPrefix) {
		return (index < names.length) ? names[index] : extraPrefix + (index - names.length + 1);
	};

	/**
	 * The standard mapping that represents the mapping as per definition.
	 * Each button and axis map to the same index.
	 *
	 * @property StandardMapping
	 */
	Gamepad.StandardMapping = {
		env: {},
		buttons: {
			byButton: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]
		},
		axes: {
			byAxis: [0, 1, 2, 3]
		}
	};

	/**
	 * Mapping of various gamepads that differ from the standard mapping on
	 * different platforms too unify their buttons and axes.
	 *
	 * Each mapping should have an 'env' object, which describes the environment
	 * in which the mapping is active. The more entries such an environment has,
	 * the more specific it is.
	 *
	 * Mappings are expressed for both buttons and axes. Buttons might refer to
	 * axes if they are notified as such.
	 *
	 * @property Mappings
	 */
	Gamepad.Mappings = [
		// Retrolink N64 controller on Firefox
		{
			env: {
				platform: FirefoxPlatform.getType(),
				type: Gamepad.Type.N64
			},
			buttons: {
				byButton: [
					// TODO: Figure out which buttons to map A and Z buttons to.
					2, // FACE_1 -- C-down button
					1, // FACE_2 -- C-right button
					3, // FACE_3 -- C-left button
					0, // FACE_4 -- C-down button
					4, // LEFT_TOP_SHOULDER -- L button
					5, // RIGHT_TOP_SHOULDER -- R button
					-1, // LEFT_BOTTOM_SHOULDER -- missing on controller
					-1, // RIGHT_BOTTOM_SHOULDER -- missing on controller
					8, // SELECT_BACK -- B button (is this right?)
					9, // START_FORWARD -- START button
					-1, // LEFT_STICK -- missing on controller
					-1, // RIGHT_STICK -- missing on controller
					12, // DPAD_UP -- not supported by API (but may eventually)
					13, // DPAD_DOWN -- not supported by API (but may eventually)
					14, // DPAD_LEFT -- not supported by API (but may eventually)
					15, // DPAD_RIGHT -- not supported by API (but may eventually)
					-1 // HOME -- missing on controller (could be START/B?)
				]
			},
			axes: {
				byAxis: [
					1, // LEFT_STICK_X
					2, // LEFT_STICK_Y
					-1, // RIGHT_STICK_X
					-1 // RIGHT_STICK_Y
				]
			}
		},
		// Retrolink N64 controller on WebKit
		{
			env: {
				platform: WebKitPlatform.getType(),
				type: Gamepad.Type.N64
			},
			buttons: {
				byButton: [
					// TODO: Figure out which buttons to map A and Z buttons to.
					2, // FACE_1 -- C-down button
					1, // FACE_2 -- C-right button
					3, // FACE_3 -- C-left button
					0, // FACE_4 -- C-down button
					4, // LEFT_TOP_SHOULDER -- L button
					5, // RIGHT_TOP_SHOULDER -- R button
					-1, // LEFT_BOTTOM_SHOULDER -- missing on controller
					-1, // RIGHT_BOTTOM_SHOULDER -- missing on controller
					8, // SELECT_BACK -- B button (is this right?)
					9, // START_FORWARD -- START button
					-1, // LEFT_STICK -- missing on controller
					-1, // RIGHT_STICK -- missing on controller
					12, // DPAD_UP -- D-Pad-up button
					13, // DPAD_DOWN -- D-Pad-down button
					14, // DPAD_LEFT -- D-Pad-left button
					15, // DPAD_RIGHT -- D-Pad-right button
					-1 // HOME -- missing on controller (could be START/B?)
				]
			},
			axes: {
				byAxis: [
					0, // LEFT_STICK_X
					1, // LEFT_STICK_Y
					-1, // RIGHT_STICK_X
					-1 // RIGHT_STICK_Y
				]
			}
		},
		// XBOX360 controller on Firefox
		{
			env: {
				platform: FirefoxPlatform.getType(),
				type: Gamepad.Type.XBOX
			},
			buttons: {
				byButton: [0, 1, 2, 3, 4, 5, 15, 16, 9, 8, 6, 7, 11, 12, 13, 14, 10]
			},
			axes: {
				byAxis: [0, 1, 2, 3]
			}
		},
		// PS3 controller on Firefox
		{
			env: {
				platform: FirefoxPlatform.getType(),
				type: Gamepad.Type.PLAYSTATION
			},
			buttons: {
				byButton: [14, 13, 15, 12, 10, 11, 8, 9, 0, 3, 1, 2, 4, 6, 7, 5, 16]
			},
			axes: {
				byAxis: [0, 1, 2, 3]
			}
		},
		// Logitech gamepad on WebKit
		{
			env: {
				platform: WebKitPlatform.getType(),
				type: Gamepad.Type.LOGITECH
			},
			buttons: { // TODO: This can't be right - LEFT/RIGHT_STICK have same mappings as HOME/DPAD_UP
				byButton: [1, 2, 0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 11, 12, 13, 14, 10]
			},
			axes: {
				byAxis: [0, 1, 2, 3]
			}
		},
		// Logitech gamepad on Firefox
		{
			env: {
				platform: FirefoxPlatform.getType(),
				type: Gamepad.Type.LOGITECH
			},
			buttons: {
				byButton: [0, 1, 2, 3, 4, 5, -1, -1, 6, 7, 8, 9, 11, 12, 13, 14, 10],
				byAxis: [-1, -1, -1, -1, -1, -1, [2, 0, 1],
					[2, 0, -1]
				]
			},
			axes: {
				byAxis: [0, 1, 3, 4]
			}
		}
	];

	/**
	 * Initializes the gamepad.
	 *
	 * You usually want to bind to the events first and then initialize it.
	 *
	 * @method init
	 * @return {Boolean} true if a supporting platform was detected, false otherwise.
	 */
	Gamepad.prototype.init = function() {
		var platform = Gamepad.resolvePlatform(this);
		var that = this;

		this.platform = platform;
		this.updateStrategy.start(function() {
			that._update();
		});

		return platform.isSupported();
	};

	/**
	 * Binds a listener to a gamepad event.
	 *
	 * @method bind
	 * @param {String} event Event to bind to, one of Gamepad.Event..
	 * @param {Function} listener Listener to call when given event occurs
	 * @return {Gamepad} Self
	 */
	Gamepad.prototype.bind = function(event, listener) {
		if (typeof(this.listeners[event]) === 'undefined') {
			this.listeners[event] = [];
		}

		this.listeners[event].push(listener);

		return this;
	};

	/**
	 * Removes listener of given type.
	 *
	 * If no type is given, all listeners are removed. If no listener is given, all
	 * listeners of given type are removed.
	 *
	 * @method unbind
	 * @param {String} [type] Type of listener to remove
	 * @param {Function} [listener] The listener function to remove
	 * @return {Boolean} Was unbinding the listener successful
	 */
	Gamepad.prototype.unbind = function(type, listener) {
		if (typeof(type) === 'undefined') {
			this.listeners = {};

			return;
		}

		if (typeof(listener) === 'undefined') {
			this.listeners[type] = [];

			return;
		}

		if (typeof(this.listeners[type]) === 'undefined') {
			return false;
		}

		for (var i = 0; i < this.listeners[type].length; i++) {
			if (this.listeners[type][i] === listener) {
				this.listeners[type].splice(i, 1);

				return true;
			}
		}

		return false;
	};

	/**
	 * Returns the number of connected gamepads.
	 *
	 * @method count
	 * @return {Number}
	 */
	Gamepad.prototype.count = function() {
		return this.gamepads.length;
	};

	/**
	 * Fires an internal event with given data.
	 *
	 * @method _fire
	 * @param {String} event Event to fire, one of Gamepad.Event..
	 * @param {*} data Data to pass to the listener
	 * @private
	 */
	Gamepad.prototype._fire = function(event, data) {
		if (typeof(this.listeners[event]) === 'undefined') {
			return;
		}

		for (var i = 0; i < this.listeners[event].length; i++) {
			this.listeners[event][i].apply(this.listeners[event][i], [data]);
		}
	};

	/**
	 * @method getNullPlatform
	 * @static
	 * @return {Object} a platform that does not support anything
	 */
	Gamepad.getNullPlatform = function() {
		return Object.create(nullPlatform);
	};

	/**
	 * Resolves platform.
	 *
	 * @method resolvePlatform
	 * @static
	 * @param listener {Object} the listener to handle _connect() or _disconnect() calls
	 * @return {Object} A platform instance
	 */
	Gamepad.resolvePlatform = function(listener) {
		var platform = nullPlatform;
		var i;

		for (i = 0; !platform.isSupported() && (i < Gamepad.PlatformFactories.length); i++) {
			platform = Gamepad.PlatformFactories[i](listener);
		}

		return platform;
	};

	/**
	 * Registers given gamepad.
	 *
	 * @method _connect
	 * @param {Object} gamepad Gamepad to connect to
	 * @private
	 */
	Gamepad.prototype._connect = function(gamepad) {
		var mapping = this._resolveMapping(gamepad);
		var count;
		var i;

		//gamepad.mapping = this._resolveMapping(gamepad);
		gamepad.state = {};
		gamepad.lastState = {};
		gamepad.updater = [];

		count = mapping.buttons.byButton.length;
		for (i = 0; i < count; i++) {
			this._addButtonUpdater(gamepad, mapping, i);
		}

		count = mapping.axes.byAxis.length;
		for (i = 0; i < count; i++) {
			this._addAxisUpdater(gamepad, mapping, i);
		}

		this.gamepads[gamepad.index] = gamepad;

		this._fire(Gamepad.Event.CONNECTED, gamepad);
	};

	/**
	 * Adds an updater for a button control
	 *
	 * @method _addButtonUpdater
	 * @private
	 * @param {Object} gamepad the gamepad for which to create the updater
	 * @param {Object} mapping the mapping on which to work on
	 * @param {Number} index button index
	 */
	Gamepad.prototype._addButtonUpdater = function(gamepad, mapping, index) {
		var updater = nullFunction;
		var controlName = getControlName(Gamepad.StandardButtons, index, 'EXTRA_BUTTON_');
		var getter = this._createButtonGetter(gamepad, mapping.buttons, index);
		var that = this;
		var buttonEventData = {
			gamepad: gamepad,
			control: controlName
		};

		gamepad.state[controlName] = 0;
		gamepad.lastState[controlName] = 0;

		updater = function() {
			var value = getter();
			var lastValue = gamepad.lastState[controlName];
			var isDown = value > 0.5;
			var wasDown = lastValue > 0.5;

			gamepad.state[controlName] = value;

			if (isDown && !wasDown) {
				that._fire(Gamepad.Event.BUTTON_DOWN, Object.create(buttonEventData));
			} else if (!isDown && wasDown) {
				that._fire(Gamepad.Event.BUTTON_UP, Object.create(buttonEventData));
			}

			if ((value !== 0) && (value !== 1) && (value !== lastValue)) {
				that._fireAxisChangedEvent(gamepad, controlName, value);
			}

			gamepad.lastState[controlName] = value;
		};

		gamepad.updater.push(updater);
	};

	/**
	 * Adds an updater for an axis control
	 *
	 * @method _addAxisUpdater
	 * @private
	 * @param {Object} gamepad the gamepad for which to create the updater
	 * @param {Object} mapping the mapping on which to work on
	 * @param {Number} index axis index
	 */
	Gamepad.prototype._addAxisUpdater = function(gamepad, mapping, index) {
		var updater = nullFunction;
		var controlName = getControlName(Gamepad.StandardAxes, index, 'EXTRA_AXIS_');
		var getter = this._createAxisGetter(gamepad, mapping.axes, index);
		var that = this;

		gamepad.state[controlName] = 0;
		gamepad.lastState[controlName] = 0;

		updater = function() {
			var value = getter();
			var lastValue = gamepad.lastState[controlName];

			gamepad.state[controlName] = value;

			if ((value !== lastValue)) {
				that._fireAxisChangedEvent(gamepad, controlName, value);
			}

			gamepad.lastState[controlName] = value;
		};

		gamepad.updater.push(updater);
	};

	/**
	 * Fires an AXIS_CHANGED event
	 * @method _fireAxisChangedEvent
	 * @private
	 * @param {Object} gamepad the gamepad to notify for
	 * @param {String} controlName name of the control that changes its value
	 * @param {Number} value the new value
	 */
	Gamepad.prototype._fireAxisChangedEvent = function(gamepad, controlName, value) {
		var eventData = {
			gamepad: gamepad,
			axis: controlName,
			value: value
		};

		this._fire(Gamepad.Event.AXIS_CHANGED, eventData);
	};

	/**
	 * Creates a getter according to the mapping entry for the specific index.
	 * Currently supported entries:
	 *
	 * buttons.byButton[index]: Number := Index into gamepad.buttons; -1 tests byAxis
	 * buttons.byAxis[index]: Array := [Index into gamepad.axes; Zero Value, One Value]
	 *
	 * @method _createButtonGetter
	 * @private
	 * @param {Object} gamepad the gamepad for which to create a getter
	 * @param {Object} buttons the mappings entry for the buttons
	 * @param {Number} index the specific button entry
	 * @return {Function} a getter returning the value for the requested button
	 */
	Gamepad.prototype._createButtonGetter = (function() {
		var nullGetter = function() {
			return 0;
		};

		var createRangeGetter = function(valueGetter, from, to) {
			var getter = nullGetter;

			if (from < to) {
				getter = function() {
					var range = to - from;
					var value = valueGetter();

					value = (value - from) / range;

					return (value < 0) ? 0 : value;
				};
			} else if (to < from) {
				getter = function() {
					var range = from - to;
					var value = valueGetter();

					value = (value - to) / range;

					return (value > 1) ? 0 : (1 - value);
				};
			}

			return getter;
		};

		var isArray = function(thing) {
			return Object.prototype.toString.call(thing) === '[object Array]';
		};

		return function(gamepad, buttons, index) {
			var getter = nullGetter;
			var entry;
			var that = this;

			entry = buttons.byButton[index];
			if (entry !== -1) {
				if ((typeof(entry) === 'number') && (entry < gamepad.buttons.length)) {
					getter = function() {
						var value = gamepad.buttons[entry];

						if (typeof value === 'number') {
							return value;
						}

						if (typeof value.value === 'number') {
							return value.value;
						}

						return 0;
					};
				}
			} else if (buttons.byAxis && (index < buttons.byAxis.length)) {
				entry = buttons.byAxis[index];
				if (isArray(entry) && (entry.length == 3) && (entry[0] < gamepad.axes.length)) {
					getter = function() {
						var value = gamepad.axes[entry[0]];

						return that._applyDeadzoneMaximize(value);
					};

					getter = createRangeGetter(getter, entry[1], entry[2]);
				}
			}

			return getter;
		};
	})();

	/**
	 * Creates a getter according to the mapping entry for the specific index.
	 * Currently supported entries:
	 *
	 * axes.byAxis[index]: Number := Index into gamepad.axes; -1 ignored
	 *
	 * @method _createAxisGetter
	 * @private
	 * @param {Object} gamepad the gamepad for which to create a getter
	 * @param {Object} axes the mappings entry for the axes
	 * @param {Number} index the specific axis entry
	 * @return {Function} a getter returning the value for the requested axis
	 */
	Gamepad.prototype._createAxisGetter = (function() {
		var nullGetter = function() {
			return 0;
		};

		return function(gamepad, axes, index) {
			var getter = nullGetter;
			var entry;
			var that = this;

			entry = axes.byAxis[index];
			if (entry !== -1) {
				if ((typeof(entry) === 'number') && (entry < gamepad.axes.length)) {
					getter = function() {
						var value = gamepad.axes[entry];

						return that._applyDeadzoneMaximize(value);
					};
				}
			}

			return getter;
		};
	})();

	/**
	 * Disconnects from given gamepad.
	 *
	 * @method _disconnect
	 * @param {Object} gamepad Gamepad to disconnect
	 * @private
	 */
	Gamepad.prototype._disconnect = function(gamepad) {
		var newGamepads = [],
			i;

		if (typeof(this.gamepads[gamepad.index]) !== 'undefined') {
			delete this.gamepads[gamepad.index];
		}

		for (i = 0; i < this.gamepads.length; i++) {
			if (typeof(this.gamepads[i]) !== 'undefined') {
				newGamepads[i] = this.gamepads[i];
			}
		}

		this.gamepads = newGamepads;

		this._fire(Gamepad.Event.DISCONNECTED, gamepad);
	};

	/**
	 * Resolves controller type from its id.
	 *
	 * @method _resolveControllerType
	 * @param {String} id Controller id
	 * @return {String} Controller type, one of Gamepad.Type
	 * @private
	 */
	Gamepad.prototype._resolveControllerType = function(id) {
		// Lowercase and strip all extra whitespace.
		id = id.toLowerCase().replace(/\s+/g, ' ').replace(/^\s+|\s+$/g, '');

		if (id.indexOf('playstation') !== -1) {
			return Gamepad.Type.PLAYSTATION;
		} else if (
			id.indexOf('logitech') !== -1 || id.indexOf('wireless gamepad') !== -1) {
			return Gamepad.Type.LOGITECH;
		} else if (id.indexOf('xbox') !== -1 || id.indexOf('360') !== -1) {
			return Gamepad.Type.XBOX;
		} else if ((id.indexOf('79-6-generic') !== -1 && id.indexOf('joystick') !== -1) ||
			(id.indexOf('vendor: 0079 product: 0006') !== -1 &&
				id.indexOf('generic usb joystick') !== -1)) {
			return Gamepad.Type.N64;
		} else {
			return Gamepad.Type.UNKNOWN;
		}
	};

	/**
	 * @method _resolveMapping
	 * @private
	 * @param {Object} gamepad the gamepad for which to resolve the mapping
	 * @return {Object} a mapping object for the given gamepad
	 */
	Gamepad.prototype._resolveMapping = function(gamepad) {
		var mappings = Gamepad.Mappings;
		var mapping = null;
		var env = {
			platform: this.platform.getType(),
			type: this._resolveControllerType(gamepad.id)
		};
		var i;
		var test;

		for (i = 0; !mapping && (i < mappings.length); i++) {
			test = mappings[i];
			if (Gamepad.envMatchesFilter(test.env, env)) {
				mapping = test;
			}
		}

		return mapping || Gamepad.StandardMapping;
	};

	/**
	 * @method envMatchesFilter
	 * @static
	 * @param {Object} filter the filter object describing properties to match
	 * @param {Object} env the environment object that is matched against filter
	 * @return {Boolean} true if env is covered by filter
	 */
	Gamepad.envMatchesFilter = function(filter, env) {
		var result = true;
		var field;

		for (field in filter) {
			if (filter[field] !== env[field]) {
				result = false;
			}
		}

		return result;
	};

	/**
	 * Updates the controllers, triggering TICK events.
	 *
	 * @method _update
	 * @private
	 */
	Gamepad.prototype._update = function() {
		this.platform.update();

		this.gamepads.forEach(function(gamepad) {
			if (gamepad) {
				gamepad.updater.forEach(function(updater) {
					updater();
				});
			}
		});

		if (this.gamepads.length > 0) {
			this._fire(Gamepad.Event.TICK, this.gamepads);
		}
	},

	/**
	 * Applies deadzone and maximization.
	 *
	 * You can change the thresholds via deadzone and maximizeThreshold members.
	 *
	 * @method _applyDeadzoneMaximize
	 * @param {Number} value Value to modify
	 * @param {Number} [deadzone] Deadzone to apply
	 * @param {Number} [maximizeThreshold] From which value to maximize value
	 * @private
	 */
	Gamepad.prototype._applyDeadzoneMaximize = function(
		value,
		deadzone,
		maximizeThreshold) {
		deadzone = typeof(deadzone) !== 'undefined' ? deadzone : this.deadzone;
		maximizeThreshold = typeof(maximizeThreshold) !== 'undefined' ? maximizeThreshold : this.maximizeThreshold;

		if (value >= 0) {
			if (value < deadzone) {
				value = 0;
			} else if (value > maximizeThreshold) {
				value = 1;
			}
		} else {
			if (value > -deadzone) {
				value = 0;
			} else if (value < -maximizeThreshold) {
				value = -1;
			}
		}

		return value;
	};

	exports.Gamepad = Gamepad;

})(((typeof(module) !== 'undefined') && module.exports) || window);
/* twine-user-script #239: "Gamepad_Twine.js" */
(function(exports) {
    var Gamepad = window.Gamepad;
  
    // Removed until it's tested with node-webkit.
    // if ((typeof(module) !== 'undefined') && module.exports) {
    //   Gamepad = require('gamepad');
    // } else {
    //   Gamepad = window.Gamepad;
    // }
  
    var gamepad = new Gamepad();
    var axes = { LEFT_STICK_X: 0, LEFT_STICK_Y: 0 };
    var DEADZONE = 0.5;
  
    gamepad.bind(Gamepad.Event.CONNECTED, function(_device) {
      console.log('Gamepad connected.');
    });
  
    gamepad.bind(Gamepad.Event.DISCONNECTED, function(_device) {
      console.log('Gamepad disconnected.');
    });
  
    gamepad.bind(Gamepad.Event.BUTTON_DOWN, function(e) {
      switch(e.control) {
        case 'DPAD_DOWN':
        case 'DPAD_RIGHT':
          nextLink();
          break;
        case 'DPAD_UP':
        case 'DPAD_LEFT':
          prevLink();
          break;
        case 'FACE_1':
          var selected = document.querySelector('.gamepadSelected');
          if (selected) {
            removeClass(selected, 'gamepadSelected');
            selected.dispatchEvent(new MouseEvent('click'));
          }
          break;
        case 'FACE_2':
          var selected = document.querySelector('#ClearButton');
          if (selected) {
            selected.querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
          }
          break;
        case 'FACE_3':
          var selected = document.querySelector('#MulliganButton');
          if (selected) {
            selected.querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
          }
          break;
        case 'FACE_4':
          var selected = document.querySelector('#AttackButton');
          if (selected) {
            selected.querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
          }
          break;
        case 'RIGHT_BOTTOM_SHOULDER':

          break;
        case 'RIGHT_TOP_SHOULDER':
          break;
        case 'LEFT_BOTTOM_SHOULDER':
          var stat = document.getElementById('statButtonText');
          
          if(stat)
          {
            stat.querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
          }
          break;
        case 'LEFT_TOP_SHOULDER':
          var stat = document.getElementById('abilitiesButtonText');
          
          if(stat)
          {
            stat.querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
          }
          break;
      }
    });
  
    // Treat axes as buttons; register presses and releases.
    gamepad.bind(Gamepad.Event.AXIS_CHANGED, function(data) 
    {
      var newValue = 0;
      if (Math.abs(data.value) > DEADZONE) 
      {
        newValue = data.value < 0 ? -1 : 1;
        if (axes[data.axis] !== newValue) 
        {
          if (data.axis === 'LEFT_STICK_X') 
          {
            console.log("indexsdasddas")
            let index = State.variables.SelectedAbilityFilter;
            if (newValue === 1) 
            {
              index = Math.min(index + 1, 3);
            } 
            else 
            {
              index = Math.max(index - 1, 0);
            }

            console.log(index);

            let pickedClass = ".AbilityCategoryIconButton";
            
            switch (index) {
              case 0:
                pickedClass += ".Powers";
                break;
              case 1:
                pickedClass += ".Alteration";
                break;
              case 2:
                pickedClass += ".StatusEffects";
                break;
              case 3:
                pickedClass += ".Global";
                break;
            
              default:
                break;
            }

            var selected = document.querySelector(pickedClass);
            if(selected)
            {
              selected.querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
            }
          }

          if (data.axis === 'LEFT_STICK_Y') 
          {
            if (newValue === 1) 
            {
              document.getElementById('ui-bar-body').scrollBy(0, 350);
            } 
            else 
            {
              document.getElementById('ui-bar-body').scrollBy(0, -350);
            }
          }

          if (data.axis === 'RIGHT_STICK_Y') 
          {
            if (newValue === 1) 
            {
              window.scrollBy(0, 350)
            } 
            else 
            {
              window.scrollBy(0, -350)
            }
          }
        }
      }
      axes[data.axis] = newValue;
    });
  
    gamepad.init();
  
    function nextLink() {
      var links = getTwineLinks();
      if (links === null) return;
      var selectedIndex = findSelectedIndex(links);
      var newIndex = 0;
      if (selectedIndex !== null) {
        removeClass(links[selectedIndex], 'gamepadSelected');
        newIndex = (selectedIndex + 1) % links.length
      }
      addClass(links[newIndex], 'gamepadSelected');
      showLink();
    }
  
    function prevLink() {
      var links = getTwineLinks();
      if (links === null) return;
      var selectedIndex = findSelectedIndex(links);
      var newIndex = 0;
      if (selectedIndex !== null) {
        removeClass(links[selectedIndex], 'gamepadSelected');
        newIndex = selectedIndex > 0 ? selectedIndex - 1 : links.length - 1;
      }
      addClass(links[newIndex], 'gamepadSelected');
      showLink();
    }
  
    function showLink() {
      var selected = document.querySelector('.gamepadSelected');
      if (selected && !isVisible(selected)) {
        var position = isAboveViewport(selected)
        selected.scrollIntoView(position);
      }
    }
  
    function findSelectedIndex(links) {
      for (var i = 0; i < links.length; i++) {
        if (hasClass(links[i], 'gamepadSelected')) {
          return i;
        }
      }
      return null;
    }
  
    function isVisible(el) {
      var offset = el.getBoundingClientRect();
      if (offset.left < 0 || offset.top < 0){
        return false;
      }
      if (offset.left > window.innerWidth || offset.top > window.innerHeight){
        return false;
      }
      return true;
    }
  
    function isAboveViewport(el) {
      return el.getBoundingClientRect().top < 0;
    }
  
    // From youmightnotneedjquery.com
    function hasClass(el, className) {
      if (el.classList)
        return el.classList.contains(className);
      else
        return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);
    }
  
    // From youmightnotneedjquery.com
    function removeClass(el, className) {
      if (el.classList)
        el.classList.remove(className);
      else
        el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
    }
  
    // From youmightnotneedjquery.com
    function addClass(el, className) {
      if (el.classList)
        el.classList.add(className);
      else
        el.className += ' ' + className;
    }
  
  })(((typeof(module) !== 'undefined') && module.exports) || window);
/* twine-user-script #240: "KeyboardEvents.js" */
$(document).on("keydown.keygame", function(evt) {
    setup.handleExit(evt.which);
    setup.handleChoices(evt.which);
    setup.handleFightHotkeys(evt.which);
    setup.handleSecretCheats(evt.which);
});

setup.handleChoices = function(keypress)
{
    let _links = getTwineLinks();
    let hotkeys = ["1","2","3","4","5","6","7","8","9"];
    let numpad = [97,98,99,100,101,102,103,104,105];
    for(let i = 0; i < hotkeys.length && i < hotkeys.length; ++i)
    {
        console.log("jytjty")
        console.log(numpad[i])
        console.log(keypress)
        if(hotkeys[i].charCodeAt(0) == keypress || numpad[i] == keypress)
        {
            console.log("ggggg")
            if(i < setup.choiceCount)
            {
                console.log("dasdasdasds")
                console.log(i)
                console.log(_links)
                _links[i].querySelector('.link-internal').dispatchEvent(new MouseEvent('click'));
            }
        }
    }
};

setup.handleFightHotkeys = function(keypress)
{
    if(State.variables.FightSkills == undefined)
        return;

    var fightHotkeys = setup.FightHotkeys;
    for(let i = 0; i < fightHotkeys.length && i < State.variables.FightSkills.length; ++i)
    {
        if(fightHotkeys[i].charCodeAt(0) == keypress)
        {
            if(State.variables.FightSkills[i].comboCost == undefined)
            {
                setup.attackPressedLogic(i);
            }
            return;
        }
    }
};

setup.handleSecretCheats = function(keypress)
{
    if(keypress == 68)
    {
        State.variables.SecretCheat++;
    }
};

setup.handleExit = function(keypress)
{
    console.log("keypress "+keypress)
    if(keypress == 27 && !Dialog.isOpen())
    {
        Dialog.setup("");
        Dialog.wiki(Story.get("Exit_Popup").processText());
        Dialog.open();
    }
};
/* twine-user-script #241: "PassageStart.js" */

$(document).on(':passagestart', function (ev) {
    setup.onVillageEnterCallback();

    console.log(window.innerWidth)
    $(document.head).append('<meta id="myViewport" name="viewport" content="width=device-width, initial-scale=1" />');

    deviceAspectRatioFix();

    //var isWide = window.innerWidth > 1200;
    var isWide = true;
    console.log("screen")
    console.log(window.screen)

    if(isWide && window.screenClass == "MobileBorder")
    {
        console.log("wide")
        window.screenClass = "LargeBorder";

        var story = document.getElementById("story");
        story.className = setup.getCorruptionUIClassName(window.screenClass, setup.getStatValue(State.variables.CharacterSheet_Player, "corruption"));

        //var topBorder = document.getElementById("topBorder");
        //topBorder.className = "";

        //var bottomBorder = document.getElementById("bottomBorder");
        //bottomBorder.className = "";
        
    }
    else if(!isWide && window.screenClass == "LargeBorder")
    {
        console.log("smoll")
        window.screenClass = "MobileBorder";

        var story = document.getElementById("story");
        story.className = setup.getCorruptionUIClassName(window.screenClass, setup.getStatValue(State.variables.CharacterSheet_Player, "corruption"));

        //var topBorder = document.getElementById("topBorder");
        //topBorder.className = "hidden";
        
        //var bottomBorder = document.getElementById("bottomBorder");
        //bottomBorder.className = "hidden";
    }

    setup.clearChoices();
});
/* twine-user-script #242: "Pronouns.js" */
(function () {
    'use strict';
    // v1.1.0; by Chapel, for SugarCube 2 (>= v2.29.0)

    if (!Template || !Template.add || typeof Template.add !== 'function') {
        alert('Warning, this version of SugarCube does not include the Template API. Please upgrade to v2.29.0 or higher.');
        return;
    }

    // DOCUMENTATION LINK: https://twinelab.net/custom-macros-for-sugarcube-2/#/./pronoun-templates

    // CONFIGURATION

    var config = {
        name : 'gender',
        showSetting : true,
        label : 'Gender',
        desc : '',
        storyVar : '%%gender',
        default : 'female' // female, male, or other
    };

    // DATA

    // the point-replace id
    var settingID = '#setting-control-' + config.name;

    // preset pornoun map
    var genderMap = {
        subjective : ['she', 'he', 'you', 'they'],
        objective : ['her', 'him', 'you', 'them'],
        possessive : ['hers', 'his', 'yours', 'theirs'],
        determiner : ['her', 'his', 'your', 'their'],
        reflexive : ['herself', 'himself', 'yourself', 'themself'],
        noun : ['woman', 'man', 'you', 'person']
    };

    // INTERNAL FUNCTIONS

    // custom dialog function
    function createDialog (name, element, classes) {
        var reopen = false;
        if (Dialog.isOpen() && $('#ui-dialog-body').hasClass('settings')) {
            reopen = true;
        }
        Dialog.close();
        Dialog.setup(name, (reopen) ? classes + ' reopen' : classes);
        Dialog.append(element);
        Dialog.open();
    }

    function genderForm () { // create a form for users to configure their pronouns
        var $wrapper = $(document.createElement('div'));

        function createInput (label, name, def) { // create text inputs
            return $(document.createElement('label'))
                .append(label)
                .css('display', 'block')
                .append($(document.createElement('input'))
                    .attr({
                        type : 'text',
                        name : name
                    })
                    .css({
                        float : 'right',
                        'margin-left' : '0.2em'
                    })
                    .val(def)
                );
        }

        function createDropdown (label, name, list) { // create dropdowns
            var $select = $(document.createElement('select'))
                .attr('name', name)
                .css('float', 'right');
            list.forEach( function (opt, idx) {
                $(document.createElement('option'))
                    .attr('value', String(idx))
                    .append(opt)
                    .appendTo($select);
            });
            return $(document.createElement('label')).css('display', 'block').append(label, $select);
        }

        var $inputs = Object.keys(genderMap).map( function (key) {
            // create an input for each type of pronoun
            var idx = 3;
            if (config.default === 'male') {
                idx = 1;
            } else if (config.default === 'female') {
                idx = 0;
            } else if (config.default === 'you') {
                idx = 2;
            }
            var sv = State.variables;
            var def = genderMap[key][idx];
            if (sv[config.storyVar] && sv[config.storyVar][key]) {
                def = sv[config.storyVar][key];
            }
            return createInput(key.toUpperFirst() + ': ', 'gender-' + key, def);
        });

        var $presets = createDropdown('Presets: ', 'gender-preset', ['She/Her', 'He/Him', 'They/Them'])
            .on('change', function () {
                // auto-fill text inputs when the preset is changed
                var value = Number($(this).find('select').val());
                if (!Number.isNaN(value)) {
                    $inputs.forEach( function ($input) {
                        var $text = $input.find('input');
                        var type = $text.attr('name').split('-')[1];
                        $text.val(genderMap[type][value]);
                    });
                }
            });

        var $select = $presets.find('select');
        if (!State.variables[config.storyVar]) {
            // set defaults
            if (config.default === 'male') {
                $select.val('1');
            } else if (config.default === 'female') {
                $select.val('0');
            } else if (config.default === 'you'){
                $select.val('2');
            } else {
                $select.val('3');
            }
        } else {
            $select.val(''); // custom config, no preset
        }

        var $confirm = $(document.createElement('button'))
            .wiki('Confirm')
            .addClass('gender-confirm')
            .ariaClick({ label : 'Confirm pronoun selection.' }, function () {
                // this button saves the pronoun config settings
                var sv = State.variables;
                sv[config.storyVar] = {};
                $inputs.forEach( function ($input) {
                    var $text = $input.find('input');
                    var type = $text.attr('name').split('-')[1];
                    sv[config.storyVar][type] = $text.val().trim().toLowerCase();
                });
                // reopen the settings modal or close the modal
                if ($('#ui-dialog-body').hasClass('reopen')) {
                    UI.settings();
                }
                Dialog.close();
            });

        var $form = (function () {
            // add some line breaks to the generated form
            var $els = [$presets, '<br>'];
            $inputs.forEach( function ($input) {
                $els.push($input);
                $els.push('<br>');
            });
            $els.push($confirm);
            return $els;
        }());

        return $wrapper.append($form);

    }

    // CORE FUNCTIONS

    function handleGender () {
        // this function opens the custom modal
        createDialog('Customize Gender', genderForm(), 'custom-gender');
    }

    function getFromPreset (n) {
        // default
        if (typeof n !== "number" || Number.isNaN(n) || n > 3 || n < 0) {
            n = 0;
        }
        var ret = {};
        Object.keys(genderMap).forEach( function (key) {
            ret[key] = genderMap[key][n];
        });
        return ret;
    }

    function getGender () {
        // get the player's gender (custom or grab the default)
        // custom
        if (State.variables[config.storyVar] && State.variables[config.storyVar].subjective) {
            return State.variables[config.storyVar];
        }
        // default
        return getFromPreset(config.default === 'male' ? 1 : 0);
    }

    function setPreset (gender) {
        var pn;
        switch (gender) {
            case 'female':
                pn = getFromPreset(0);
                break;
            case 'male':
                pn = getFromPreset(1);
                break;
            case 'you':
                pn = getFromPreset(2);
                break;
            default:
                pn = getFromPreset(3);
        }
        State.variables[config.storyVar] = clone(pn);
        return pn;
    }

    function setPronouns (obj) {
        if (typeof obj !== 'object') {
            return;
        }
        State.variables[config.storyVar] = setPreset(config.default === 'male' ? 1 : 0);
        return Object.assign(State.variables[config.storyVar], obj);
    }

    // SETTINGS API

    /* Disabled Pronoun selection */
    // if (config.showSetting) {
    //     Setting.addToggle(config.name, {
    //         label : config.label,
    //         desc : (config.desc && typeof config.desc === 'string' && config.desc.trim()) ?
    //             config.desc.trim() : undefined
    //     });

    //     $(document).on(':dialogopen :dialogopened', function () {
    //         if ($('#ui-dialog-body').hasClass('settings')) {
    //             $(settingID).parent('div').empty().append( $(document.createElement('button'))
    //                 .append('Configure...')
    //                 .ariaClick( function () {
    //                     handleGender();
    //                 })
    //             );
    //         }
    //     });
    // }

    // singular endings
    var replaceWith_are = /^is$/i; // is
    var replaceWith_were = /^was$/i; // was
    var replaceWith_have = /^has$/i; // has
    var replaceWith_o = /oes$/i; // does, goes
    var replaceWith_ie = /^[dl]ies$/i; // dies
    var replaceWith_y = /ies$/i; // dries
    var remove_es = /sses$/i; // posesses
    var remove_es2 = /hes$/i; // catches
    var remove_s = /s$/i; // surpises, plays
    // the above are tested in order; if none apply, return singular form (e.g: ran -> ran)

    // test for 'they' pronoun
    var hasThey = /they|you/i;

    function makePlural (singular) {
        if (!singular || typeof singular !== 'string') {
            return singular;
        }
        singular = singular.trim();
        if (replaceWith_are.test(singular)) {
            return singular.replace(replaceWith_are, 'are');
        }
        if (replaceWith_were.test(singular)) {
            return singular.replace(replaceWith_were, 'were');
        }
        if (replaceWith_have.test(singular)) {
            return singular.replace(replaceWith_have, 'have');
        }
        if (replaceWith_o.test(singular)) {
            return singular.replace(replaceWith_o, 'o');
        }
        if (replaceWith_ie.test(singular)) {
            // need to use replaceWith_y regex here.
            return singular.replace(replaceWith_y, 'ie');
        }
        if (replaceWith_y.test(singular)) {
            return singular.replace(replaceWith_y, 'y');
        }
        if (remove_es.test(singular)) {
            return singular.replace(remove_es, 'ss');
        }
        if (remove_es2.test(singular)) {
            return singular.replace(remove_es2, 'h');
        }
        if (remove_s.test(singular)) {
            return singular.replace(remove_s, '');
        }
        return singular;
    }

    function _getPronounsArePlural () {
        return hasThey.test(getGender().subjective.trim());
    }

    // usage: pluralize('dries', null, true) -> dry; pluralize('supresses', 'supress') -> supresses
    function pluralize (singular, plural, forcePlural) {
        if (!forcePlural) {
            return singular;
        }
        if (plural && typeof plural === 'string') {
            return plural;
        }
        return makePlural(singular);
    }

    // TEMPLATES

    function isUpper (name, string) {
        // is name is uppercase, return uppercased string
        if (name.first() === name.first().toUpperCase()) {
            return string.toUpperFirst();
        }
        return string;
    }

    Template.add(['he', 'she', 'you', 'they', 'He', 'She', 'You', 'They'], function () {
        return isUpper(this.name, getGender().subjective);
    });
    Template.add(['him', 'her', 'them', 'Him', 'Her', 'Them', 'you_', 'You_'], function () {
        return isUpper(this.name, getGender().objective);
    });
    Template.add(['his', 'hers', 'theirs', 'His', 'Hers', 'Theirs', 'yours', 'Yours'], function () {
        return isUpper(this.name, getGender().possessive);
    });
    Template.add(['his_', 'her_', 'their', 'His_', 'Her_', 'Their', 'your', 'Your'], function () {
        return isUpper(this.name, getGender().determiner);
    });
    Template.add(['himself', 'herself', 'themself', 'Himself', 'Herself', 'Themself', 'yourself', 'Yourself'], function () {
        return isUpper(this.name, getGender().reflexive);
    });
    Template.add(['man', 'woman', 'person', 'Man', 'Woman', 'Person', 'you__', 'You__'], function () {
        return isUpper(this.name, getGender().noun);
    });
    Template.add(['he-s', 'she-s', 'they-re', 'He-s', 'She-s', 'They-re'], function () {
        return isUpper(this.name, getGender().subjective + pluralize("&apos;s", "&apos;re", _getPronounsArePlural()));
    });

    // MACRO

    // `<<pronouns>>` -> opens the modal for pronoun configuration, probably best paired with a link
    Macro.add('pronouns', {
        skipArgs : true,
        handler : function () {
            handleGender();
        }
    });

    // <<verb singular [plural] [makePlural]>>
    Macro.add('verb', {
        handler: function () {
            var pl = _getPronounsArePlural();

            if (this.args.length < 1) {
                return this.error('Please pass at least a singular third person pronoun to this macro.');
            }

            if (this.args.includes('plural')) {
                pl = true;
            }

            this.output.append(pluralize(String(this.args[0]), (this.args[1]) ? String(this.args[1]) : null, !!pl));
        }
    });

    // JAVASCRIPT API

    setup.gender = {
        // get the pronoun object; `setup.gender.pronouns().subjective` -> get `he`, `she`, etc
        pronouns : getGender,
        // set pronouns from presets or manually
        setPronouns : function (presetOrObj) {
            if (typeof presetOrObj === 'string') {
                return setPreset(presetOrObj);
            }
            if (typeof presetOrObj === 'object') {
                return setPronouns(presetOrObj);
            }
        },
        // open the pronoun config modal from JS; `setup.gender.dialog()`
        dialog : handleGender,
        // pluralizer function
        pluralize : makePlural
    };

    window.gender = window.gender || setup.gender;

}());
/* twine-user-script #243: "SavesManager.js" */
Save.onLoad.add(function () {
    console.log("pre-load save")

    prerender['update-save-file'] = function (_, taskName) {
        delete prerender[taskName];
        new Wikifier(null, Story.get('update-save').text);
    };

    console.log("post-load save")

    SimpleAudio.stop();
});


// TODO Keep the indicies, but update the ID to the current version!
const OLD_ACHIVEMENT_INDEX = {
    42 : "Achievement_OffTheDeepEnd",
    43 : "Achievement_BaptismInCorruption",
    44 : "Achievement_HostOfTheSpawns",
    45 : "Achievement_LordOfTheSpawns",
    46 : "Achievement_SubmissiveFighter",
    47 : "Achievement_MightOfAugwult",
    48 : "Achievement_DamnatoryKnowledge",
    49 : "Achievement_WordOfPower",
    55 : "Achievement_Resolute",
    56 : "Achievement_Redemption",
    57 : "Achievement_MasterOfTheBarrens",
    58 : "Achievement_GodAmongstMen",
    59 : "Achievement_CockRingOfTheBind",
    60 : "Achievement_CollarOfTheBind",
    61 : "Achievement_SafePassage",
    62 : "Achievement_ExplorerOfCorruptedDepths",
    63 : "Achievement_ShiftingIdeals",
    64 : "Achievement_AscendedPrisoner",
    65 : "Achievement_EndlessStruggle",
    68 : "Achievement_Abomination",
    69 : "Achievement_PureOfHeart",
    50 : "Achievement_MemoriesOfKanathar",
    51 : "Achievement_MemoriesOfDemonicAscent",
    52 : "Achievement_MemoriesOfTheLost",
    53 : "Achievement_IncompleteMemories",
    54 : "Achievement_MemoriesOfTheMinotaur",
    66 : "Achievement_MemoriesOfEthrex",
    67 : "Achievement_MemoriesOfFerro",
    118 : "Achievement_MemoriesOfNyx",
    119 : "Achievement_MemoriesOfNyx",
    116 : "Achievement_MemoriesOfCray",
    117 : "Achievement_MemoriesOfCray",
}
// Version check
Save.onLoad.add(function(save){
    console.log("Loading save...")
    // No save data or corrupt
    if(save.state.history.length == 0)
    {
        throw "No history to load!";
    }

    // Ensure we have a version
    let lastSave = save.state.history[save.state.history.length-1];
    if (!lastSave.variables.Version)
    {
        lastSave.variables.Version = 1;
    }
});

// Version 10806
Save.onLoad.add(function(save){
    let lastSave = save.state.history[save.state.history.length-1];
    if(lastSave.variables.Version < 10806)
    {
        console.log("Updating to version 10806");
        let character = lastSave.variables.CharacterSheet_Player;
        let abilities = character.abilityHandler.abilityRuntimeDatas;

        abilities.forEach( abi => {
            // Old typo: achivemementState
            if (abi.achivemementState && !abi.achievementState)
            {
                abi.achievementState =  abi.achivemementState;
            }

            // (Well, it was a typo in those versions)
            if (abi.achievementState)
            {
                // get the ability ID
                let id = OLD_ACHIVEMENT_INDEX[abi.abilityDataIndex];
                if (id)
                {
                    abi.id = id;
                }
                else
                {
                    console.log(`Pre-1806: Could not find Achievement Id: ${abi.abilityDataIndex}`)
                }
            }
        });
    }
});

// Version 10900
Save.onLoad.add(function(save){
    let lastSave = save.state.history[save.state.history.length-1];
    if (lastSave.variables.Version < 10900)
    {
        // Move the ability runtimeDatas
        let character = lastSave.variables.CharacterSheet_Player;
        character.abilityRuntimeDatas = character.abilityHandler.abilityRuntimeDatas;

        console.log("Updating to version 10900");
        // Save achievements and certain values, we're NUKING everything else
        nukeVariables(lastSave);
    }
});


function nukeVariables(lastSave) {
    // Save the achievements as they currently are
    storeAchievements(lastSave);

    let tempStore = {
        AchievementBackup: lastSave.variables.AchievementBackup,
        Name: lastSave.variables.CharacterSheet_Player.info.name,

        Exp: lastSave.variables.Exp,
        Essence: lastSave.variables.Essence,
        Cycle: lastSave.variables.Cycle,
        linkDesc: lastSave.variables.linkDesc,
        linkPath: lastSave.variables.linkPath,
        passageName: lastSave.variables.passageName,
        playtime: lastSave.variables.playtime,

        Version: lastSave.variables.Version,
    }

    // Clear the Save state of everything
    lastSave.variables = {};
    // Reset to what exists now
    setup.deepMerge(lastSave.variables, State.variables);

    // Apply what we wanted saved
    lastSave.variables.AchievementBackup = tempStore.AchievementBackup;
    lastSave.variables.CharacterSheet_Player.info.name = tempStore.Name;

    lastSave.variables.Exp = tempStore.Exp;
    lastSave.variables.Essence = tempStore.Essence;
    lastSave.variables.Cycle = tempStore.Cycle;

    lastSave.variables.linkDesc = tempStore.linkDesc;
    lastSave.variables.linkPath = tempStore.linkPath;
    lastSave.variables.passageName = tempStore.passageName;
    lastSave.variables.playtime = tempStore.playtime;
    lastSave.variables.Version = tempStore.Version;
}

function storeAchievements(lastSave) {
    if (!lastSave.AchievementsAlreadyStored)
    {
        let character = lastSave.variables.CharacterSheet_Player;
        setup.AbiHndlr.reIndexRuntimeDatas(character);

        lastSave.variables.AchievementBackup = [];
        character.abilityRuntimeDatas.forEach( abi =>{
            if(abi.achievementState)
            {
                lastSave.variables.AchievementBackup.push({
                    id: abi.id,
                    achievementState: abi.achievementState
                });
            }
        });
        lastSave.AchievementsAlreadyStored = true;
    }
}


function variableUpdate(lastSave) {
    // We need to ensure that any new variables are added in if missing.
    // That will be in the current State variable
    let defaultState = {};
    // Initialize with defaults
    setup.deepMerge(defaultState, State.variables);

    // Update with what we do have (so we don't lose information)
    setup.deepMerge(defaultState, lastSave.variables);

    // Now push it back
    setup.deepMerge(lastSave.variables, defaultState)
}



// Finally....
Save.onLoad.add(function(save){
    let lastSave = save.state.history[save.state.history.length-1];
    if (lastSave.variables.Version < State.variables.Version)
    {
        if (!lastSave.AchievementsAlreadyStored)
        {
            // Last chance store achievements
            storeAchievements(lastSave);
        }
        lastSave.AchievementsAlreadyStored = undefined;
        variableUpdate(lastSave);
    }

    // I'm going to keep this for every load, just in case
    for (let [key, obj] of Object.entries(lastSave.variables))
    {
        if (key.startsWith("CharacterSheet_"))
        {
            setup.AbiHndlr.reIndexRuntimeDatas(obj);
        }
    }
});

/*-------------------------------------------------------*/
Save.onSave.add(function(save,details){
    // Nothing yet
});
/* twine-user-script #244: "StoryInit_Base_JS.js" */
(function () {
	setup.EncounterKnownState =
    {
        UNKNOWN: 1,
        KNOWN: 2
    };

    setup.TorgarProgress =
    {
        NORMAL: 1,
        INFECTED: 2,
        REDEEMED: 3,
        LOST: 4,
        ASCENDED: 5,
        LOST_TEAMMATE: 6,
        REDEEMED_TEAMMATE: 7,
    };
    setup.SlimeProgress =
    {
        INITIAL: 0,
        HALF_FORMED: 1,
        HUMANOID: 2,
        TEAMMATE: 3,
    };

    setup.EthraxProgress =
    {
        INITIAL: 0,
        MINOR_DEMON: 1,
        MAJOR_DEMON: 2,
        LORD_OF_LUST: 3,
    };
})();
/* twine-user-script #245: "VariableInitializer.js" */
setup.variableInitializer =
{
	initializeFightVariables : function(encounterTarget)
	{
		this.initializeFightCharacter(State.variables.CharacterSheet_Player);

		let teammate = State.variables.CharacterSheet_Player.fight.teammate;
		if(teammate != undefined)
		{
			this.initializeFightCharacter(State.variables[teammate]);
		}

		this.initializeFightCharacter(encounterTarget);
        State.variables.FightTurn = 0;
        State.variables.FightSkillsHand = [];

		console.log("starting fight")
		var aList = SimpleAudio.lists.get(setup.getBattleTheme(encounterTarget));
		console.log(aList)

		if(aList.isPlaying() == false)
		{
			console.log('battle start')
			console.log(State.variables.VolumeControls.music.volume)

			aList.stop();
			aList.shuffle(true);
			aList.loop(true);
			aList.volume(State.variables.VolumeControls.music.volume);
			aList.play();

			State.variables.VolumeControls.music.list.push(setup.getBattleTheme(encounterTarget));
		}
	},
	initializeFightCharacter: function(character)
	{
		character.fight.variables.currentHP = 0;
		character.fight.variables.currentStamina = 0;
		character.fight.variables.currentArousal = setup.getStatValue(character, "minArousal");
		character.fight.variables.stunnedDuration = 0;
		character.fight.variables.hypnotizedMoveIDsList = [];
		character.fight.variables.cooldowns = [];

		character.fight.variables.currentHP = setup.getMaxHP(character);
		character.fight.variables.currentStamina = setup.getMaxStamina(character);
	}
};
/* twine-user-script #246: "lunicode.js" */
/* Sourced from https://github.com/combatwombat/Lunicode.js
 * With minor modifications to update to current javascript
 * and get around twine/sugarcube's stupid restrictions
 **/
function Lunicode() {
  this.tools = {

    // Flip/rotate Text by 180°

    flip: {
      init: function() {

        // invert the map
        for (let i in this.map) {
          this.map[this.map[i]] = i;
        }

      },

      encode: function(text) {
        var ret = [],
            ch;

        for (var i = 0, len = text.length; i < len; i++) {
          ch = text.charAt(i);

          // combining diacritical marks: combine with previous character for ä,ö,ü,...
          if (i > 0 && (ch == '\u0324' ||
                        ch == '\u0317' ||
                        ch == '\u0316' ||
                        ch == '\u032e')) {
            ch = this.map[text.charAt(i-1) + ch];
            ret.pop();

          } else {
            ch = this.map[ch];
            if (typeof(ch) == "undefined") {
              ch = text.charAt(i);
            }
          }

          ret.push(ch);



        }

        return ret.reverse().join("");
      },

      // same as encode(), for now...
      decode: function(text) {
        var ret = [],
            ch;

        for (var i = 0, len = text.length; i < len; i++) {
          ch = text.charAt(i);

          // combining diacritical marks: combine with previous character for ä,ö,ü,...
          if (i > 0 && (ch == '\u0324' ||
                        ch == '\u0317' ||
                        ch == '\u0316' ||
                        ch == '\u032e')) {
            ch = this.map[text.charAt(i-1) + ch];
            ret.pop();

          } else {
            ch = this.map[ch];
            if (typeof(ch) == "undefined") {
              ch = text.charAt(i);
            }
          }

          ret.push(ch);
        }
        return ret.reverse().join("");
      },

      map: {
          // Thanks to
          // - David Faden: http://www.revfad.com/flip.html
          // - http://en.wikipedia.org/wiki/Transformation_of_text
          'a' : '\u0250',
          'b' : 'q',
          'c' : '\u0254',
          'd' : 'p',
          'e' : '\u01DD',
          'f' : '\u025F',
          'g' : '\u0253',
          'h' : '\u0265',
          'i' : '\u0131',
          'j' : '\u027E',
          'k' : '\u029E',
          'l' : '\u006C',
          'm' : '\u026F',
          'n' : 'u',
          'r' : '\u0279',
          't' : '\u0287',
          'v' : '\u028C',
          'w' : '\u028D',
          'y' : '\u028E',
          'A' : '\u2200',
          'B' : 'ᙠ',
          'C' : '\u0186',
          'D' : 'ᗡ',
          'E' : '\u018e',
          'F' : '\u2132',
          'G' : '\u2141',
          'J' : '\u017f',
          'K' : '\u22CA',
          'L' : '\u02e5',
          'M' : 'W',
          'P' : '\u0500',
          'Q' : '\u038C',
          'R' : '\u1D1A',
          'T' : '\u22a5',
          'U' : '\u2229',
          'V' : '\u039B',
          'Y' : '\u2144',
          '1' : '\u21c2',
          '2' : '\u1105',
          '3' : '\u0190',
          '4' : '\u3123',
          '5' : '\u078e',
          '6' : '9',
          '7' : '\u3125',
          '&' : '\u214b',
          '.' : '\u02D9',
          '"' : '\u201e',
          ';' : '\u061b',
          '[' : ']',
          '(' : ')',
          '{' : '}',
          '?' : '\u00BF',
          '!' : '\u00A1',
          "\'" : ',',
          '<' : '>',
          '\u203E' : '_',
          '\u00AF' : '_',
          '\u203F' : '\u2040',
          '\u2045' : '\u2046',
          '\u2234' : '\u2235',
          '\r' : '\n',
          'ß' : 'ᙠ',

          '\u0308':  '\u0324',
          'ä' : 'ɐ'+'\u0324',
          'ö' : 'o'+'\u0324',
          'ü' : 'n'+'\u0324',
          'Ä' : '\u2200'+'\u0324',
          'Ö' : 'O'+'\u0324',
          'Ü' : '\u2229'+'\u0324',

          '´' : ' \u0317',
          'é' : '\u01DD' + '\u0317',
          'á' : '\u0250' + '\u0317',
          'ó' : 'o' + '\u0317',
          'ú' : 'n' + '\u0317',
          'É' : '\u018e' + '\u0317',
          'Á' : '\u2200' + '\u0317',
          'Ó' : 'O' + '\u0317',
          'Ú' : '\u2229' + '\u0317',

          '`' : ' \u0316',
          'è' : '\u01DD' + '\u0316',
          'à' : '\u0250' + '\u0316',
          'ò' : 'o' + '\u0316',
          'ù' : 'n' + '\u0316',
          'È' : '\u018e' + '\u0316',
          'À' : '\u2200' + '\u0316',
          'Ò' : 'O' + '\u0316',
          'Ù' : '\u2229' + '\u0316',

          '^' : ' \u032E',
          'ê' : '\u01DD' + '\u032e',
          'â' : '\u0250' + '\u032e',
          'ô' : 'o' + '\u032e',
          'û' : 'n' + '\u032e',
          'Ê' : '\u018e' + '\u032e',
          'Â' : '\u2200' + '\u032e',
          'Ô' : 'O' + '\u032e',
          'Û' : '\u2229' + '\u032e'
          // TODO: flip more letters with stuff around them. See http://en.wikipedia.org/wiki/Combining_character

      }
    },




    // Mirror text (flip horizontally)
    mirror: {
      init: function() {

        // invert the map
        for (let i in this.map) {
          this.map[this.map[i]] = i;
        }

      },

      encode: function(text) {
        var ret = [],
            ch,
            newLines = [];

        for (var i = 0, len = text.length; i < len; i++) {
          ch = text.charAt(i);

          // combining diacritical marks: combine with previous character for ä,ö,ü,...
          if (i > 0 && (ch == '\u0308' ||
                        ch == '\u0300' ||
                        ch == '\u0301' ||
                        ch == '\u0302')) {
            ch = this.map[text.charAt(i-1) + ch];
            ret.pop();
          } else {
            ch = this.map[ch];
            if (typeof(ch) == "undefined") {
              ch = text.charAt(i);
            }
          }


          if (ch == '\n') {
            newLines.push(ret.reverse().join(""));
            ret = [];
          } else {
            ret.push(ch);
          }


        }
        newLines.push(ret.reverse().join(""));
        return newLines.join("\n");
      },

      decode: function(text) {
        var ret = [],
            ch,
            newLines = [];

        for (var i = 0, len = text.length; i < len; i++) {
          ch = text.charAt(i);

          // combining diacritical marks: combine with previous character for ä,ö,ü,...
          if (i > 0 && (ch == '\u0308' ||
                        ch == '\u0300' ||
                        ch == '\u0301' ||
                        ch == '\u0302')) {
            ch = this.map[text.charAt(i-1) + ch];
            ret.pop();
          } else {
            ch = this.map[ch];
            if (typeof(ch) == "undefined") {
              ch = text.charAt(i);
            }
          }

          if (ch == '\n') {
            newLines.push(ret.reverse().join(""));
            ret = [];
          } else {
            ret.push(ch);
          }
        }

        newLines.push(ret.reverse().join(""));
        return newLines.join("\n");
      },

      // Thanks to http://www.macchiato.com/unicode/mirrored-ascii
      map: {
          'a' : 'ɒ',
          'b' : 'd',
          'c' : 'ɔ',
          'e' : 'ɘ',
          'f' : 'Ꮈ',
          'g' : 'ǫ',
          'h' : 'ʜ',
          'j' : 'ꞁ',
          'k' : 'ʞ',
          'l' : '|',
          'n' : 'ᴎ',
          'p' : 'q',
          'r' : 'ɿ',
          's' : 'ꙅ',
          't' : 'ƚ',
          'y' : 'ʏ',
          'z' : 'ƹ',
          'B' : 'ᙠ',
          'C' : 'Ɔ',
          'D' : 'ᗡ',
          'E' : 'Ǝ',
          'F' : 'ꟻ',
          'G' : 'Ꭾ',
          'J' : 'Ⴑ',
          'K' : '⋊',
          'L' : '⅃',
          'N' : 'Ͷ',
          'P' : 'ꟼ',
          'Q' : 'Ọ',
          'R' : 'Я',
          'S' : 'Ꙅ',
          'Z' : 'Ƹ',
          '1' : '',
          '2' : '',
          '3' : '',
          '4' : '',
          '5' : '',
          '6' : '',
          '7' : '',
          '&' : '',
          ';' : '',
          '[' : ']',
          '(' : ')',
          '{' : '}',
          '?' : '⸮',
          '<' : '>',

          'ä' : 'ɒ'+'\u0308',
          'ß' : 'ᙠ',

          '´' : '`',
          'é' : 'ɘ' + '\u0300',
          'á' : 'ɒ' + '\u0300',
          'ó' : 'ò',
          'ú' : 'ù',
          'É' : 'Ǝ' + '\u0300',
          'Á' : 'À',
          'Ó' : 'Ò',
          'Ú' : 'Ù',

          '`' : '´',
          'è' : 'ɘ' + '\u0301',
          'à' : 'ɒ' + '\u0301',
          'È' : 'Ǝ' + '\u0301',

          'ê' : 'ɘ' + '\u0302',
          'â' : 'ɒ' + '\u0302',
          'Ê' : 'Ǝ' + '\u0302',

          'Ø' : 'ᴓ',
          'ø' : 'ᴓ'

      }
    },

    // Thanks to Michael S. Kaplan: http://blogs.msdn.com/b/michkap/archive/2006/02/17/533929.aspx
    // Creepify.
    creepify: {
      init: function() {

        // Sort diacritics in top, bottom or middle

        for (var i = 768; i <= 789; i++) {
          this.diacriticsTop.push(String.fromCharCode(i));
        }

        for (var i = 790; i <= 819; i++) {
          if (i != 794 && i != 795) {
            this.diacriticsBottom.push(String.fromCharCode(i));
          }
        }
        this.diacriticsTop.push(String.fromCharCode(794));
        this.diacriticsTop.push(String.fromCharCode(795));

        for (var i = 820; i <= 824; i++) {
          this.diacriticsMiddle.push(String.fromCharCode(i));
        }

        for (var i = 825; i <= 828; i++) {
          this.diacriticsBottom.push(String.fromCharCode(i));
        }

        for (var i = 829; i <= 836; i++) {
          this.diacriticsTop.push(String.fromCharCode(i));
        }
        this.diacriticsTop.push(String.fromCharCode(836));
        this.diacriticsBottom.push(String.fromCharCode(837));
        this.diacriticsTop.push(String.fromCharCode(838));
        this.diacriticsBottom.push(String.fromCharCode(839));
        this.diacriticsBottom.push(String.fromCharCode(840));
        this.diacriticsBottom.push(String.fromCharCode(841));
        this.diacriticsTop.push(String.fromCharCode(842));
        this.diacriticsTop.push(String.fromCharCode(843));
        this.diacriticsTop.push(String.fromCharCode(844));
        this.diacriticsBottom.push(String.fromCharCode(845));
        this.diacriticsBottom.push(String.fromCharCode(846));
        // 847 (U+034F) is invisible http://en.wikipedia.org/wiki/Combining_grapheme_joiner
        this.diacriticsTop.push(String.fromCharCode(848));
        this.diacriticsTop.push(String.fromCharCode(849));
        this.diacriticsTop.push(String.fromCharCode(850));
        this.diacriticsBottom.push(String.fromCharCode(851));
        this.diacriticsBottom.push(String.fromCharCode(852));
        this.diacriticsBottom.push(String.fromCharCode(853));
        this.diacriticsBottom.push(String.fromCharCode(854));
        this.diacriticsTop.push(String.fromCharCode(855));
        this.diacriticsTop.push(String.fromCharCode(856));
        this.diacriticsBottom.push(String.fromCharCode(857));
        this.diacriticsBottom.push(String.fromCharCode(858));
        this.diacriticsTop.push(String.fromCharCode(859));
        this.diacriticsBottom.push(String.fromCharCode(860));
        this.diacriticsTop.push(String.fromCharCode(861));
        this.diacriticsTop.push(String.fromCharCode(861));
        this.diacriticsBottom.push(String.fromCharCode(863));
        this.diacriticsTop.push(String.fromCharCode(864));
        this.diacriticsTop.push(String.fromCharCode(865));


      },

      encode: function(text) {
        var newText = '',
            newChar;
        for (let i in text) {
          newChar = text[i];

          // Middle
          // Put just one of the middle characters there, or it gets crowded
          if (this.options.middle) {
              newChar += this.diacriticsMiddle[Math.floor(Math.random()*this.diacriticsMiddle.length)]
          }

          // Top
          if (this.options.top) {

            // Put up to this.options.maxHeight random diacritics on top.
            // optionally fluctuate the number via the randomization value (0-100%)
            // randomization 100%: 0 to maxHeight
            //                30%: 70% of maxHeight to maxHeight
            //                 x%: 100-x% of maxHeight to maxHeight
            var diacriticsTopLength = this.diacriticsTop.length - 1;
            for (var  count = 0,
                      len = this.options.maxHeight - Math.random()*((this.options.randomization/100)*this.options.maxHeight); count < len; count++) {

              newChar += this.diacriticsTop[Math.floor(Math.random()*diacriticsTopLength)]

            }

          }


          // Bottom
          if (this.options.bottom) {

            var diacriticsBottomLength = this.diacriticsBottom.length - 1;
            for (var  count = 0,
                      len = this.options.maxHeight - Math.random()*((this.options.randomization/100)*this.options.maxHeight); count < len; count++) {

              newChar += this.diacriticsBottom[Math.floor(Math.random()*diacriticsBottomLength)]

            }

          }


          newText += newChar;
        }
        return newText;
      },

      decode: function(text) {
        var newText = '',
            charCode;

        for (let i in text) {
          charCode = text[i].charCodeAt(0);
          if (charCode < 768 || charCode > 865) {
            newText += text[i];
          }
        }
        return newText;
      },

      diacriticsTop: [],
      diacriticsMiddle: [],
      diacriticsBottom: [],

      options: {
        top: true,
        middle: true,
        bottom : true,
        maxHeight: 15,   // How many diacritic marks shall we put on top/bottom?
        randomization: 100 // 0-100%. maxHeight 100 and randomization 20%: the height goes from 80 to 100. randomization 70%, height goes from 30 to 100.
      }
    },


    // Circles around Letters. Uses special circle characters for some letters and combining characters for the rest
    // Thanks to
    // - Alan Wood: http://www.alanwood.net/unicode/enclosed_alphanumerics.html
    bubbles: {
      init: function() {



        // Numbers
        for (var i = 49; i <= 57; i++) {
          this.map[String.fromCharCode(i)] = String.fromCharCode(i+9263);
        }
        this.map['0'] = '\u24ea';

        // Capital letters
        for (var i = 65; i <= 90; i++) {
          this.map[String.fromCharCode(i)] = String.fromCharCode(i+9333);
        }

        // Lower letters
        for (var i = 97; i <= 122; i++) {
          this.map[String.fromCharCode(i)] = String.fromCharCode(i+9327);
        }

        // invert the map
        for (let i in this.map) {
          this.mapInverse[this.map[i]] = i;
        }

      },

      encode: function(text) {
        var ret = "",
            ch,
            first = true;

        for (let i in text) {
          ch = this.map[text[i]];

          // No dedicated circled character available? Use a Combining Diacritical Mark surrounded
          // with non-breaking spaces, so it doesn't overlap
          if ((typeof(ch) == "undefined")) {
            if (text[i].charCodeAt(0) >= 33) {
              ch = text[i] + String.fromCharCode(8413);
              if (!first) {
                ch = String.fromCharCode(8239) + String.fromCharCode(160) + String.fromCharCode(160) + String.fromCharCode(8239) + ch;
              }
            } else {
              ch = text[i];
            }
          }
          ret += ch;
          first = (ch == '\n');
        }
        return ret;
      },

      decode: function(text) {
        var ret = "",
            ch,
            newRet = '';

        for (let i in text) {
          ch = this.mapInverse[text[i]];
          ret += ((typeof(ch) == "undefined") ? text[i] : ch);
        }

        for (let i in ret) {
          ch = ret[i].charCodeAt(0);
          if (ch != 160 && ch != 8239 && ch != 8413) {
            newRet += ret[i];
          }
        }

        return newRet;
      },

      map: {},
      mapInverse: {}
    },



    // Puts a Square Combining Character after a letter, thus ensquaring it, squarily.
    squares: {
      init: function() {},

      encode: function(text) {
        var ret = "",
            ch,
            first = true;

        for (let i in text) {
          if (text[i].charCodeAt(0) >= 33) {
            ch = text[i] + String.fromCharCode(8414);
            if (!first) {
              ch = String.fromCharCode(8239) + String.fromCharCode(160) + String.fromCharCode(160) + String.fromCharCode(8239) + ch;
            }
          } else {
            ch = text[i];
          }

          ret += ch;
          first = (ch == '\n');
        }
        return ret;
      },

      decode: function(text) {
        var ret = "",
            ch;

        for (let i in text) {
          ch = text[i].charCodeAt(0);
          if (ch != 160 && ch != 8239 && ch != 8414) {
            ret += text[i];
          }
        }

        return ret;
      }
    },


    // Same as squares, just round.
    roundsquares: {
      init: function() {},

      encode: function(text) {
        var ret = "",
            ch,
            first = true;

        for (let i in text) {
          if (text[i].charCodeAt(0) >= 33) {
            ch = text[i] + String.fromCharCode(8419);
            if (!first) {
              ch = String.fromCharCode(160) + String.fromCharCode(160) + String.fromCharCode(160) + ch;
            }
          } else {
            ch = text[i];
          }

          ret += ch;
          first = (ch == '\n');
        }
        return ret;
      },

      decode: function(text) {
        var ret = "",
            ch;

        for (let i in text) {
          ch = text[i].charCodeAt(0);
          if (ch != 160 && ch != 8239 && ch != 8419) {
            ret += text[i];
          }
        }

        return ret;
      }
    },


    // Weird looking alternatives to most characters
    bent: {
      init: function() {

        // invert the map
        for (let i in this.map) {
          this.map[this.map[i]] = i;
        }

      },

      encode: function(text) {
        var ret = '',
            ch;

        for (var i = 0, len = text.length; i < len; i++) {
          ch = this.map[text.charAt(i)];
          if (typeof(ch) == "undefined") {
            ch = text.charAt(i);
          }
          ret +=  ch;

        }

        return ret;
      },

      decode: function(text) {
        var ret = '',
            ch;

        for (var i = 0, len = text.length; i < len; i++) {
          ch = this.map[text.charAt(i)];
          if (typeof(ch) == "undefined") {
              ch = text.charAt(i);
          }
          ret += ch;
        }
        return ret;
      },

      // Thanks to Eddie Ringle for most lowercase letters: http://funicode.com
      map: {
          'a' : 'ą',
          'b' : 'ҍ',
          'c' : 'ç',
          'd' : 'ժ',
          'e' : 'ҽ',
          'f' : 'ƒ',
          'g' : 'ց',
          'h' : 'հ',
          'i' : 'ì',
          'j' : 'ʝ',
          'k' : 'ҟ',
          'l' : 'Ӏ',
          'm' : 'ʍ',
          'n' : 'ղ',
          'o' : 'օ',
          'p' : 'ք',
          'q' : 'զ',
          'r' : 'ɾ',
          's' : 'ʂ',
          't' : 'է',
          'u' : 'մ',
          'v' : 'ѵ',
          'w' : 'ա',
          'x' : '×',
          'y' : 'վ',
          'z' : 'Հ',
          'A' : 'Ⱥ',
          'B' : 'β',
          'C' : '↻',
          'D' : 'Ꭰ',
          'E' : 'Ɛ',
          'F' : 'Ƒ',
          'G' : 'Ɠ',
          'H' : 'Ƕ',
          'I' : 'į',
          'J' : 'ل',
          'K' : 'Ҡ',
          'L' : 'Ꝉ',
          'M' : 'Ɱ',
          'N' : 'ហ',
          'O' : 'ට',
          'P' : 'φ',
          'Q' : 'Ҩ',
          'R' : 'འ',
          'S' : 'Ϛ',
          'T' : 'Ͳ',
          'U' : 'Ա',
          'V' : 'Ỽ',
          'W' : 'చ',
          'X' : 'ჯ',
          'Y' : 'Ӌ',
          'Z' : 'ɀ',
          '0' : '⊘',
          '1' : '������',
          '2' : 'ϩ',
          '3' : 'Ӡ',
          '4' : '५',
          '5' : 'Ƽ',
          '6' : 'Ϭ',
          '7' : '7',
          '8' : '������',
          '9' : '९',
          '&' : '⅋',
          '(' : '{',
          ')' : '}',
          '{' : '(',
          '}' : ')',

          'ä' : 'ą'+'\u0308',
          'ö' : 'օ'+'\u0308',
          'ü' : 'մ'+'\u0308',
          'Ä' : 'Ⱥ'  + '\u0308',
          'Ö' : 'ට'+'\u0308',
          'Ü' : 'Ա'+'\u0308',

          'é' : 'ҽ' + '\u0301',
          'á' : 'ą' + '\u0301',
          'ó' : 'օ' + '\u0301',
          'ú' : 'մ' + '\u0301',
          'É' : 'Ɛ' + '\u0301',
          'Á' : 'Ⱥ' +  '\u0301',
          'Ó' : 'ට' + '\u0301',
          'Ú' : 'Ա' + '\u0301',

          'è' : 'ҽ' + '\u0300',
          'à' : 'ą' + '\u0300',
          'ò' : 'օ' + '\u0300',
          'ù' : 'մ' + '\u0300',
          'È' : 'Ɛ' + '\u0300',
          'À' : 'Ⱥ'  +  '\u0300',
          'Ò' : 'ට' + '\u0300',
          'Ù' : 'Ա' + '\u0300',

          'ê' : 'ҽ' + '\u0302',
          'â' : 'ą' + '\u0302',
          'ô' : 'օ' + '\u0302',
          'û' : 'մ' + '\u0302',
          'Ê' : 'Ɛ' + '\u0302',
          'Â' : 'Ⱥ'  +  '\u0302',
          'Ô' : 'ට' + '\u0302',
          'Û' : 'Ա' + '\u0302'
      }
    },


    // Tiny Capitals
    tiny: {
      init: function() {

        // invert the map
        for (let i in this.map) {
          this.map[this.map[i]] = i;
        }

      },

      encode: function(text) {
        var ret = '',
            ch;
        text = text.toUpperCase();
        for (var i = 0, len = text.length; i < len; i++) {
          ch = this.map[text.charAt(i)];
          if (typeof(ch) == "undefined") {
            ch = text.charAt(i);
          }
          ret +=  ch;

        }

        return ret;
      },

      decode: function(text) {
        var ret = '',
            ch;

        for (var i = 0, len = text.length; i < len; i++) {
          ch = this.map[text.charAt(i)];
          if (typeof(ch) == "undefined") {
              ch = text.charAt(i);
          }
          ret += ch;
        }
        return ret;
      },

      // TODO: Find small lower case letters
      map: {
          'A' : 'ᴀ',
          'B' : 'ʙ',
          'C' : 'ᴄ',
          'D' : 'ᴅ',
          'E' : 'ᴇ',
          'F' : 'ꜰ',
          'G' : 'ɢ',
          'H' : 'ʜ',
          'I' : 'ɪ',
          'J' : 'ᴊ',
          'K' : 'ᴋ',
          'L' : 'ʟ',
          'M' : 'ᴍ',
          'N' : 'ɴ',
          'O' : 'ᴏ',
          'P' : 'ᴘ',
          'Q' : 'Q',
          'R' : 'ʀ',
          'S' : 'ꜱ',
          'T' : 'ᴛ',
          'U' : 'ᴜ',
          'V' : 'ᴠ',
          'W' : 'ᴡ',
          'X' : 'x',
          'Y' : 'ʏ',
          'Z' : 'ᴢ'
      }
    }




  };



  ////// functions


  // init
  for (var i in this.tools) {
    this.tools[i].init();
  }



  // Encode every character: U+00A0 -> &#x00a0; etc.
  this.getHTML = function(text) {
    var html = '',
        ch,
        lastSpaceWasNonBreaking = true, // for alternating [non-braking] spaces
        highSurrogate = 0,
        codepoint = 0;

    for (var i = 0, len = text.length; i < len; i++) {
      ch = text.charCodeAt(i);

      // line break: add <br>\n
      if (ch == 10 || ch == 13) {
        html += '<br>\n';
        lastSpaceWasNonBreaking = true;

      // space: add alternating space and non-breaking space (U+00A0). Otherwise
      // a series of normal spaces       would collapse to one in the browser
      } else if (ch == 32) {
        if (lastSpaceWasNonBreaking) {
          html += ' ';
          lastSpaceWasNonBreaking = false;
        } else {
          html += '&nbsp;';
          lastSpaceWasNonBreaking = true;
        }

      // Normal character: Decode. Special cases for higher numbers:
      // http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates
      } else {


        // Character is high surrogate: Remember and continue
        if (ch >= 0xD800 && ch <= 0xDBFF) {
          highSurrogate = ch;
          codepoint = 0;

        // last character was high surrogate: Combine with low surrogate
        } else if (highSurrogate > 0) {

          // If char is low surrogate:
          if (ch >= 0xDC00 && ch <= 0xDFFF) {
            codepoint = (highSurrogate-0xD800)*1024 + (ch-0xDC00) + 0x10000;
          }
          highSurrogate = 0;

        // no surrogates: Just take the character
        } else {
          codepoint = ch;
        }

        if (codepoint != 0) {
          html += '&#x' + codepoint.toString(16) + ';';
          lastSpaceWasNonBreaking = true;
        }

      }
    }

    return html;
  }
}


/*------------------------------------------*/
/* Start of custom code */

setup.corruptText = function(text, maxHeight=10, randomization=75, {top, middle, bottom}
  ={top: true, middle: true, bottom: true})
{
  let luni = new Lunicode();

  luni.tools.creepify.options.top = top;
  luni.tools.creepify.options.middle = middle;
  luni.tools.creepify.options.bottom = bottom;

  luni.tools.creepify.options.maxHeight = maxHeight;
  luni.tools.creepify.options.randomization = randomization;

  let encodedText = luni.tools.creepify.encode(text);
  return luni.getHTML(encodedText);
}

setup.corruptSpan = function(text, underText, maxHeight=5, randomization=75, {top, middle, bottom}
  ={top: true, middle: true, bottom: true})
{
  var displayString = '<span class="glitch nyx"';

  displayString += ' data-text="' + setup.corruptText(text, maxHeight, randomization, {top:top, middle:middle, bottom:bottom}) + '"';
  displayString += ">"+underText+"</span>";
  return displayString;
}</script><tw-passagedata pid="1" name="Configuration" tags="twee2" position="100,100" size="100,100">Twee2::build_config.story_ifid = &#39;76585E15-C0E7-4404-A55B-BEFC4CDF112B&#39;</tw-passagedata><tw-passagedata pid="2" name="update-save" tags="" position="225,100" size="100,100">&lt;&lt;include StoryInit_UI&gt;&gt;
/* This happens AFTER OnLoad State variables, and should be used for post-processing data */
&lt;&lt;run console.log(&quot;Started Post-Processing Loading save&quot;)&gt;&gt;

&lt;&lt;set _ForceNGPlus = false;&gt;&gt;

&lt;&lt;if $Version &lt; 10900.1&gt;&gt;
    &lt;&lt;set _ForceNGPlus = true;&gt;&gt;
&lt;&lt;/if&gt;&gt;




/* Keep this section at the end */
&lt;&lt;set _prevVersion = $Version&gt;&gt;
&lt;&lt;include version_set&gt;&gt;
&lt;&lt;if _prevVersion &lt; $Version&gt;&gt;
    &lt;&lt;run setup.loadBackedUpAchievements(false)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if _ForceNGPlus&gt;&gt;
    &lt;&lt;set _ForceNGPlus = false;&gt;&gt;
    &lt;&lt;script&gt;&gt;
    Dialog.setup(&quot;Upgrade save file&quot;);
	Dialog.wiki(Story.get(&quot;UpgradeSave&quot;).processText());
	Dialog.open();
    &lt;&lt;/script&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="3" name="StoryInit" tags="" position="200,0" size="100,100">&lt;&lt;include StoryInit_Base&gt;&gt;
&lt;&lt;include StoryReInit&gt;&gt;</tw-passagedata><tw-passagedata pid="4" name="StoryReInit" tags="" position="475,100" size="100,100">&lt;&lt;include StoryReInit_Base&gt;&gt;
&lt;&lt;include StoryInit_Widgets&gt;&gt;
&lt;&lt;include StoryInit_UniversalFlavour&gt;&gt;
&lt;&lt;include StoryInit_FightVariables&gt;&gt;
&lt;&lt;include StoryInit_FightMoves&gt;&gt;
&lt;&lt;include Quest_MQ001_EchoFirstEncounter&gt;&gt;
&lt;&lt;include Quest_MQ002&gt;&gt;
&lt;&lt;include StoryInit_QuestVariables&gt;&gt;

&lt;&lt;include StoryInit_ExplorationData&gt;&gt;

&lt;&lt;run console.log(&quot;Starting Init Anatomy&quot;)&gt;&gt;
&lt;&lt;include Sheets_Anatomy&gt;&gt;
&lt;&lt;run console.log(&quot;Finished Init Anatomy&quot;)&gt;&gt;

&lt;&lt;run console.log(&quot;Starting Init Races&quot;)&gt;&gt;
&lt;&lt;include Sheets_Races&gt;&gt; /* Must be after Anatomy */
&lt;&lt;run console.log(&quot;Finished Init Races&quot;)&gt;&gt;

&lt;&lt;run console.log(&quot;Starting Init Characters&quot;)&gt;&gt;
&lt;&lt;include Sheets_Characters&gt;&gt; /* Must be after Races */
&lt;&lt;run console.log(&quot;Finished Init Characters&quot;)&gt;&gt;

&lt;&lt;include StoryInit_StateDrivenModifiers&gt;&gt;
&lt;&lt;run console.log(&quot;Finished Init Characters&quot;)&gt;&gt;

&lt;&lt;include StoryInit_WorldState&gt;&gt;
&lt;&lt;run console.log(&quot;Finished Init WorldState&quot;)&gt;&gt;

&lt;&lt;include StoryInit_UI&gt;&gt;
&lt;&lt;run console.log(&quot;Finished Init UI&quot;)&gt;&gt;

&lt;&lt;include StoryInit_Music&gt;&gt;
&lt;&lt;run console.log(&quot;Finished Init Music&quot;)&gt;&gt;s</tw-passagedata><tw-passagedata pid="5" name="StoryInit_Base" tags="" position="600,100" size="100,100">&lt;&lt;include StoryReInit_Base&gt;&gt;</tw-passagedata><tw-passagedata pid="6" name="version_set" tags="" position="725,100" size="100,100">&lt;&lt;set $Version = 10900.1&gt;&gt;
&lt;&lt;set $VersionStr = &#39;0.9.0.1&#39;&gt;&gt;</tw-passagedata><tw-passagedata pid="7" name="StoryReInit_Base" tags="" position="850,100" size="100,100">&lt;&lt;script&gt;&gt;
Config.history.maxStates = 1;
Config.history.controls = false;
Config.ui.stowBarInitially = false;
&lt;&lt;/script&gt;&gt;

&lt;&lt;include version_set&gt;&gt;
&lt;&lt;if $ChoicesWindow == undefined&gt;&gt;
&lt;&lt;set $ChoicesWindow = window.innerWidth &gt; 1080 &amp;&amp; window.screen.width &gt; 1080&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $Volume = 0.7&gt;&gt;

&lt;&lt;set $VolumeControls =
{
	master:
	{
		volume: 0.2,
	},
	music:
	{
		volume: 0.2,
		list: [],
	},
	voices:
	{
		volume: 0.8,
		list: [],
	},
	sfx:
	{
		volume: 1,
		list: [],
	},
}&gt;&gt;

&lt;&lt;set $SelectedAbilityFilter = 0&gt;&gt;

&lt;&lt;set $SecretCheat = 0&gt;&gt;
&lt;&lt;set $InNyxDungeon = false&gt;&gt;

&lt;&lt;set $DisplayStatWindow = true&gt;&gt;
&lt;&lt;set $LastExplorationEnemyEncounter = 0&gt;&gt;
&lt;&lt;set $NoTimePasses = false&gt;&gt;

&lt;&lt;set $DeathText = setup.DeathTextEnum.NORMAL&gt;&gt;

/* TODO: DETANGLE AND REMOVE  */
&lt;&lt;set setup.englishNumbers =
{
	1: &quot;&quot;,
	2: &quot;two&quot;,
	3: &quot;three&quot;,
	4: &quot;four&quot;,
	5: &quot;five&quot;,
	6: &quot;six&quot;,
	7: &quot;seven&quot;,
	8: &quot;eight&quot;,
	9: &quot;nine&quot;,
	10: &quot;ten&quot;,
	11: &quot;eleven&quot;,
	12: &quot;twelve&quot;,
	13: &quot;thirteen&quot;,
	14: &quot;fourteen&quot;,
	15: &quot;fifteen&quot;,
	16: &quot;sixteen&quot;,
	17: &quot;seventeen&quot;,
	18: &quot;eighteen&quot;,
	19: &quot;nineteen&quot;,
	20: &quot;twenty&quot;,
	21: &quot;twenty one&quot;,
	22: &quot;twenty two&quot;,
	23: &quot;twenty three&quot;,
	24: &quot;twenty four&quot;,
	25: &quot;twenty five&quot;,
	26: &quot;twenty six&quot;,
	27: &quot;twenty seven&quot;,
	28: &quot;twenty eight&quot;,
	29: &quot;twenty nine&quot;,
	30: &quot;thirty&quot;,
	31: &quot;thirty one&quot;,
	32: &quot;thirty two&quot;,
	33: &quot;thirty three&quot;,
	34: &quot;thirty four&quot;,
	35: &quot;thirty five&quot;,
	36: &quot;thirty six&quot;,
	37: &quot;thirty seven&quot;,
	38: &quot;thirty eight&quot;,
	39: &quot;thirty nine&quot;,
	40: &quot;forty&quot;
}&gt;&gt;

&lt;&lt;set $Debug = $SpecialBuild&gt;&gt;


&lt;&lt;set $BoughtFightMoves = 0&gt;&gt;
&lt;&lt;set $FightTurn = 0&gt;&gt;

/*Stats -BEGIN*/
&lt;&lt;set $Expedition = 0&gt;&gt;

&lt;&lt;if $Cycle == undefined&gt;&gt;
&lt;&lt;set $Cycle = 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $Essence = 0&gt;&gt;

&lt;&lt;set $Exp = 0&gt;&gt;
&lt;&lt;set $Level = 1&gt;&gt;
/*Stats -END*/

/*Descriptors*/
&lt;&lt;set setup.Fight_HealthDescriptor = function(maxHP, curHP)
{
	if(curHP / maxHP &gt; 0.7)
	{
		return &quot;&lt;span style=&#39;color:#46c546;&#39;&gt;&quot; + &quot;healthy&quot; + &quot;&lt;/span&gt;&quot;;
	}
	else if(curHP / maxHP &gt; 0.5)
	{
		return &quot;&lt;span style=&#39;color:#c5bb46;&#39;&gt;&quot; + &quot;out of breath&quot; + &quot;&lt;/span&gt;&quot;;
	}
	else if(curHP / maxHP &gt; 0.3)
	{
		return &quot;&lt;span style=&#39;color:#ff9840;&#39;&gt;&quot; + &quot;exhausted&quot; + &quot;&lt;/span&gt;&quot;;
	}
	else
	{
		return &quot;&lt;span style=&#39;color:#ff0000;&#39;&gt;&quot; + &quot;nearly defeated&quot; + &quot;&lt;/span&gt;&quot;;
	}
};
&gt;&gt;</tw-passagedata><tw-passagedata pid="8" name="StoryInit_ExplorationData" tags="" position="975,100" size="100,100">&lt;&lt;set setup.LOCATIONS = {
	NONE: -99,
	VILLAGE: -1,
	ANY: 0,
	NORTH: 1,
	EAST: 2,
	CASTLE: 3,
}&gt;&gt;

&lt;&lt;set setup.ExplorationData =
{
	findChasm:
	{
		id: 0,
        highPriority: true,
        passage: &quot;Quest_MQ002_Entrance_FirstTime&quot;,
		condition: function(exploreDifficulty)
		{
			return (setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_GoldenStar&quot;) &amp;&amp; exploreDifficulty == setup.LOCATIONS.EAST) || State.variables.CharacterSheet_Lost_Prisoner.quest.toldNyxEntrance;
		},
	},
}
&gt;&gt;

&lt;&lt;set State.variables.Explore_Destinations = [setup.ExplorationData.findChasm.id];&gt;&gt;</tw-passagedata><tw-passagedata pid="9" name="StoryInit_FightMoves" tags="" position="1100,100" size="100,100">&lt;&lt;include FightMove_Tutorial1&gt;&gt;
&lt;&lt;include FightMove_Tutorial2&gt;&gt;
&lt;&lt;include FightMove_Tutorial3&gt;&gt;


&lt;&lt;include StoryInit_SpecialMoves&gt;&gt;

&lt;&lt;set setup.FightMoveIDs = [
                    setup.FightMove_Tutorial1.id,
                    setup.FightMove_Tutorial2.id,
                    setup.FightMove_Tutorial3.id,
                    ];
&gt;&gt;
&lt;&lt;run
    Object.values(setup.FightMove).forEach( move =&gt; {
        setup.FightMoveIDs.push(move.id);

        // TODO: This needs to be changed at some point I don&#39;t like this at all
        // Once all Fight Moves have been migrated to setup.FightMove, reference that instead
        setup[move.id] = move;
    });
    setup.FightMoveIDs.sort();
&gt;&gt;</tw-passagedata><tw-passagedata pid="10" name="StoryInit_FightVariables" tags="" position="1225,100" size="100,100">&lt;&lt;set $FightVariables = 
{
	currentHP: undefined,
	currentStamina: undefined,
    currentArousal: undefined,
	currentFightMove: undefined,
	stunnedDuration: undefined,
	hypnotizedMoveIDsList: [],
	cooldowns: [],
	surrender: false,
	fightModifiers: [],
	currentFightMoveOutcome: undefined,
	currentTurnAbilityText: undefined,
	persistentEffects: []
}&gt;&gt;</tw-passagedata><tw-passagedata pid="11" name="StoryInit_Music" tags="" position="100,225" size="100,100">&lt;&lt;cacheaudio &quot;manor&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/manor_theme.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;SFX_heartbeat&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/heartbeat.mp3&quot;&gt;&gt;

&lt;&lt;cacheaudio &quot;village1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/village_bgm1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;village2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/village_bgm2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;village3&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/village_bgm3.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;village4&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/village_bgm4.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;village_bgm1&quot;&gt;&gt;
    &lt;&lt;track &quot;village1&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;createplaylist &quot;village_bgm2&quot;&gt;&gt;
    &lt;&lt;track &quot;village2&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;createplaylist &quot;village_bgm3&quot;&gt;&gt;
    &lt;&lt;track &quot;village3&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;createplaylist &quot;village_bgm4&quot;&gt;&gt;
    &lt;&lt;track &quot;village4&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;battle_bgm&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/battle_bgm.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;battle_bgm&quot;&gt;&gt;
    &lt;&lt;track &quot;battle_bgm&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;battle_bgm_hard&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/battle_bgm_hard.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;battle_bgm_hard&quot;&gt;&gt;
    &lt;&lt;track &quot;battle_bgm_hard&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;nyx_dungeon_battle&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/nyx_dungeon_battle.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;nyx_dungeon_battle&quot;&gt;&gt;
    &lt;&lt;track &quot;nyx_dungeon_battle&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;nyx_dungeon_theme&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/nyx_dungeon_theme.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;nyx_dungeon_theme&quot;&gt;&gt;
    &lt;&lt;track &quot;nyx_dungeon_theme&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;final_boss_bgm&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Music/final_boss_bgm.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;final_boss_bgm&quot;&gt;&gt;
    &lt;&lt;track &quot;final_boss_bgm&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;set setup.AllSoundActions = [
    &quot;action_Suck&quot;,
]&gt;&gt;&gt;

&lt;&lt;cacheaudio &quot;action_Suck_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/Actions/Suck/Suck_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;action_Suck_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/Actions/Suck/Suck_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;action_Suck_3&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/Actions/Suck/Suck_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;action_Suck&quot;&gt;&gt;
    &lt;&lt;track &quot;action_Suck_1&quot;&gt;&gt;
    &lt;&lt;track &quot;action_Suck_2&quot;&gt;&gt;
    &lt;&lt;track &quot;action_Suck_3&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;


&lt;&lt;include StoryInit_Voice1&gt;&gt;
&lt;&lt;include StoryInit_Voice2&gt;&gt;
&lt;&lt;include StoryInit_VoiceImp&gt;&gt;
&lt;&lt;include StoryInit_VoiceTorgar&gt;&gt;
&lt;&lt;include StoryInit_VoiceShardRing&gt;&gt;
&lt;&lt;include StoryInit_VoiceLostNaga&gt;&gt;</tw-passagedata><tw-passagedata pid="12" name="StoryInit_QuestVariables" tags="" position="225,225" size="100,100">/*debug*/
/*&lt;&lt;set $Quest_CanExplore = true&gt;&gt;*/
&lt;&lt;set $Quest_CanExplore = true&gt;&gt;

/*debug*/
/*&lt;&lt;set $Quest_InProgress = [$Quest_MQ002]&gt;&gt;*/
&lt;&lt;set $Quest_InProgress = []&gt;&gt;</tw-passagedata><tw-passagedata pid="13" name="StoryInit_SpecialMoves" tags="" position="350,225" size="100,100">&lt;&lt;set setup.FightMove_Stunned =
{
	id: &quot;FightMove_Stunned&quot;,
	name: &quot;Stunned&quot;,
	preparation: function(character, target)
	{
		return character.info.name + &quot; is stunned and cannot move!&quot;
	},
	attackAttemptDesc: function(character, target)
	{
		if(character.fight.variables.stunnedDuration &gt; 0)
		{
			return character.info.name + &quot; tries to snap out of it.&quot;
		}
		else
		{
			return character.info.name + &quot; came back to their senses and is readying their next attack!&quot;
		}
		
	},
	activationCondition: function(character, target)
	{
		return true;
	},
	dmg: function(character, target)
	{
		let damageParam = 
		{
			multiplier: 0,
			addon: 0,
		}

		return damageParam;
	},
	staminaCost: 0,
	critMod: 100,
	skillStatsToDescriptionSpacing: 1,
	skillDescription: &quot;Try to regain your senses.&quot;,
	skillType: &quot;special&quot;,
	skillTheme: &quot;special&quot;,
	additionalEffects: []
}&gt;&gt;</tw-passagedata><tw-passagedata pid="14" name="StoryInit_StateDrivenModifiers" tags="" position="475,225" size="100,100">&lt;&lt;set $FightStateDrivenModifiers = [$Bigger_Than_Target_1, $Bigger_Than_Target_2, $Bigger_Than_Target_3]&gt;&gt;</tw-passagedata><tw-passagedata pid="15" name="StoryInit_UI" tags="" position="600,225" size="100,100">&lt;&lt;run setup.choices = [];&gt;&gt;
&lt;&lt;run setup.updateStaticCorruptionUI(State.variables.CharacterSheet_Player)&gt;&gt;</tw-passagedata><tw-passagedata pid="16" name="StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_small" tags="" position="725,225" size="100,100">The enemy rushes in and attacks.</tw-passagedata><tw-passagedata pid="17" name="StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_medium" tags="" position="850,225" size="100,100">The enemy barrels forward toward you, throwing his weight behind his attack.</tw-passagedata><tw-passagedata pid="18" name="StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_large" tags="" position="975,225" size="100,100">The enemy stomps forward and swings a massive fist.</tw-passagedata><tw-passagedata pid="19" name="StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_huge" tags="" position="1100,225" size="100,100">The enemy&#39;s @[all|huge|arms|noverb] hurtle down toward you.</tw-passagedata><tw-passagedata pid="20" name="StoryInit_UniversalFlavour_basicAttackAttemptFlavour_corruptionFlavour_corrupt75" tags="" position="1225,225" size="100,100">A trail of purple energy flows from his knuckles.</tw-passagedata><tw-passagedata pid="21" name="StoryInit_UniversalFlavour_basicAttackAttemptFlavour_corruptionFlavour_corrupt100" tags="" position="100,350" size="100,100">Each vein in his hand and arm burns with a tainted purple hue, energy rolls off of his skin as tendrils of dark power.</tw-passagedata><tw-passagedata pid="22" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_small_1" tags="" position="225,350" size="100,100">hops between each foot, ready to feint and strike at any moment.</tw-passagedata><tw-passagedata pid="23" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_small_2" tags="" position="350,350" size="100,100">braces himself for the battle.</tw-passagedata><tw-passagedata pid="24" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_medium_1" tags="" position="475,350" size="100,100">rolls his boulder like shoulders, ready to strike.</tw-passagedata><tw-passagedata pid="25" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_medium_2" tags="" position="600,350" size="100,100">is stretching his limbs, ready to wrestle.</tw-passagedata><tw-passagedata pid="26" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_large_1" tags="" position="725,350" size="100,100">rakes his large feet across the ground, ready to charge.</tw-passagedata><tw-passagedata pid="27" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_large_2" tags="" position="850,350" size="100,100">tenses his muscles. His bulky form creaks with strength, with the anticipation of battle.</tw-passagedata><tw-passagedata pid="28" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_huge_1" tags="" position="975,350" size="100,100">flexes gargantuan muscles, ready to put each rolling mountain to use.</tw-passagedata><tw-passagedata pid="29" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_huge_2" tags="" position="1100,350" size="100,100">stomps his massive feet as he readies himself for combat. The earth quivers.</tw-passagedata><tw-passagedata pid="30" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_huge_3" tags="" position="1225,350" size="100,100">cracks his massive knuckles, they sound like thunder across the battlefield.</tw-passagedata><tw-passagedata pid="31" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_corruptionFlavour_corrupt50" tags="" position="100,475" size="100,100">The air feels wrong around this creature.</tw-passagedata><tw-passagedata pid="32" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_corruptionFlavour_corrupt75" tags="" position="225,475" size="100,100">A terrible darkness spreads across the ground from this creature&#39;s feet.</tw-passagedata><tw-passagedata pid="33" name="StoryInit_UniversalFlavour_basicAttackPrepFlavour_corruptionFlavour_corrupt100" tags="" position="350,475" size="100,100">Purple and black tendrils of energy are breaking out from the ground around this creature&#39;s feet.</tw-passagedata><tw-passagedata pid="34" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_1" tags="" position="475,475" size="100,100">tiny</tw-passagedata><tw-passagedata pid="35" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_2" tags="" position="600,475" size="100,100">small</tw-passagedata><tw-passagedata pid="36" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_3" tags="" position="725,475" size="100,100">minute</tw-passagedata><tw-passagedata pid="37" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_4" tags="" position="850,475" size="100,100">little</tw-passagedata><tw-passagedata pid="38" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_1" tags="" position="975,475" size="100,100">large</tw-passagedata><tw-passagedata pid="39" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_2" tags="" position="1100,475" size="100,100">sizeable</tw-passagedata><tw-passagedata pid="40" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_3" tags="" position="1225,475" size="100,100">hefty</tw-passagedata><tw-passagedata pid="41" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_4" tags="" position="100,600" size="100,100">burly</tw-passagedata><tw-passagedata pid="42" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_1" tags="" position="225,600" size="100,100">huge</tw-passagedata><tw-passagedata pid="43" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_2" tags="" position="350,600" size="100,100">massive</tw-passagedata><tw-passagedata pid="44" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_3" tags="" position="475,600" size="100,100">towering</tw-passagedata><tw-passagedata pid="45" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_4" tags="" position="600,600" size="100,100">humongous</tw-passagedata><tw-passagedata pid="46" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_1" tags="" position="725,600" size="100,100">immense</tw-passagedata><tw-passagedata pid="47" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_2" tags="" position="850,600" size="100,100">titanic</tw-passagedata><tw-passagedata pid="48" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_3" tags="" position="975,600" size="100,100">colossal</tw-passagedata><tw-passagedata pid="49" name="StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_4" tags="" position="1100,600" size="100,100">gigantic</tw-passagedata><tw-passagedata pid="50" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_1" tags="" position="1225,600" size="100,100">muscles harden and pulse with increasing strength. His biceps form fair peaks above well defined forearms.
Veins begin peeking through his skin as they spread across his growing shoulders and neck.
His pecs push outwards, his nipples harden and a moan escapes his mouth as the growth tumbles downward like a fresh breath of air through his six pack abs, thighs and calves.</tw-passagedata><tw-passagedata pid="51" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_2" tags="" position="100,725" size="100,100">athletic form hardens as each muscle contracts into picturesque beauty. Every line and crease deepens as the power flowing through him forces his body to adapt.
His laterals spread wider, his abdominal wall pushes outward and his upper body swells with growing, physical pride.</tw-passagedata><tw-passagedata pid="52" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_3" tags="" position="225,725" size="100,100">body convulses as a tingling feeling spreads outwards from his core and to each limb. His body freezes momentarily before a wellspring of growth overtakes him.
Calves bulge, quads expand and the upper body surges with strength to keep up.</tw-passagedata><tw-passagedata pid="53" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_4" tags="" position="350,725" size="100,100">expression shifts into a pleasurable smile. Looking down at his hands, he watches a bubble of growth move from his fingertips across his bulging arms and into his pecs.
Momentarily, it stops. A worried look overtakes his otherwise calm expression.
Suddenly, his cock fires an unattural amount of cum. Every pulse of white, every convulsion of his body propels his body upwards and outwards.</tw-passagedata><tw-passagedata pid="54" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_1" tags="" position="475,725" size="100,100">body shudders and he doubles over. His knees hit the ground as he is assaulted by a wave of intense pleasure.
Every burgeoning muscle flexes, each crest and trough grows into mounds that could only be crafted with years of dedication.
His arms become pillars of strength, his back becomes an atlas of muscles - his pecs begin pushing his growing nipples earthbound and his abdominal wall starts shifting from six to eight bricks of power.</tw-passagedata><tw-passagedata pid="55" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_2" tags="" position="600,725" size="100,100">mouth spreads into a wide grin as a surreal purple glow spins across the edges of his irises as his veins swell over his body. Not moments later, his cock rises as his limbs pack on weight and size.
What was once ample, is now in excess. What was once well chiselled is now barelling. He flexes his bicep, watching it rise higher and higher.

A sinister smile spreads wide across his face - this was only the beginning.</tw-passagedata><tw-passagedata pid="56" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_3" tags="" position="725,725" size="100,100">cock jumps to full mast as a sudden growth spurt overtakes his body. He quickly wraps his arms around his chest to feel his pecs compete with his biceps.
Wave after wave, his arms pushes away from his chest from the sheer size being compressed into them. His legs adopt a wider stance as the war continues below with his quads, expanding glutes and growing calves.</tw-passagedata><tw-passagedata pid="57" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_4" tags="" position="850,725" size="100,100">body spasms as his powerful muscles all flex at once. His bull like neck pulses larger and begins to threaten the sides of his head.
His pecs swell outwards in leaps and bounds over a growing and impressive set of eight abs.
His hands rove across each expanding inch of flesh, feeling the skin stretch tighter against chords of steel that thicken with each passing second.</tw-passagedata><tw-passagedata pid="58" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_1" tags="" position="975,725" size="100,100">body shudders. Every boulder contained within him rumbles with an ominous wave of incoming growth.
It didn&#39;t matter who or what was watching the world stood in stunned silence as his biceps exploded from raw, uncontained power.
They barreled outwards until their pulsing peaks began to reach sizes that were clearly unnatural.
Each pectoral was large enough to be a shelf, and they bounced eagerly as they consumed more and more space in front of him.
Large nipples were forced further sideways and downwards as more and more space was claimed by their hosts.
Thick thighs and glutes became even thicker, pillars that would easily host houses were increasing in size before his very eyes.</tw-passagedata><tw-passagedata pid="59" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_2" tags="" position="1100,725" size="100,100">bones cracked audibly. Growth was upon him yet again, and this wave was even stronger than the last. With a booming thud, his muscles exploded with new size - too much and too fast for his body to contend with.
The growth began running rampant; each second packed on more and more until limbs began to lock and grind against each other from the lack of any space at all.
With a primal roar, he flexes - a beastly mountain of mass - and wills it all to compact inwards.
Control was regained but his body had far from relented his new incredible atlassian size.</tw-passagedata><tw-passagedata pid="60" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_3" tags="" position="1225,725" size="100,100">mouth opens wide as a primordial roar bellows from his growing form.
Bending down, he slams his fist into the ground and a wave of size propells itself upwards from the cracked earth; up his forearm, bicep and into his bullish neck.
His pectorals push further outwards, forcing his center of gravity forward before his waist expands into a pillar of pure power to support his new torso.
Sliding outwards from the ground behind him; his legs push each other apart, massaging and grinding against his immense cock.
The pleasure is too much. With another ear-splitting roar, he arches his back and unleashes a torrential geyser of white.</tw-passagedata><tw-passagedata pid="61" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_4" tags="" position="100,850" size="100,100">jaw lowers into abrupt maniacal laughter as he feels the power within him erupt.
Like waves from the surface of disturbed water, his entire body groans, creaks and shifts as mucles begin to pack onto muscles - chords thicken and roadworks of veins the size of heavy duty pipes spiral across his expanding form.
With a mighty stomp his growing foot hits the ground, forcing a monstrous wave of size upwards through his calves, into his thighs and finally into his bulging muscular rear.
Finally, bringing both of his hands together in a mighty clap, his upper body doubles in strength and pure muscle mass.</tw-passagedata><tw-passagedata pid="62" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_huge_1" tags="" position="225,850" size="100,100">movements halt. A deadly silence overtakes the land that he towers over. A rumbling. The sound of war drums, the sound of the Earth roaring its protest against the impending change.
Then it happened. Mountains that were biceps doubled in size.
Pectorals that quake with every minor shift billow outwards. Nipples - hard, large and sensitive are exiled into the deepening valley between them and an entire canyon of ten inumanely thick abdominal muscles.
Laterals that were wings, were forced wider. Back muscles that rippled with pure power expanded and arms that could crush villages grew into monstrosities that the world could never contend with.
His cock, large and heavy with muscle slowly swings into the air, its growing mass keeping each move sensual to all who would watch.
Another rumble. Another catastrophe. Rivers of white explode from its tip into a deluge that coats you, the ground and every object close enough to suffer the titanic load unleashed from his apocalyptic sized balls.</tw-passagedata><tw-passagedata pid="63" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_huge_2" tags="" position="350,850" size="100,100">gigantic arms fall limp at his side. A loud rumbling, akin to the mighty growl of a beast in heat begins to echo across the land. A dark shadow - the silhouette of this monstrous behemoth begins to shudder.
The Golden Bastion. Those around it will all bear witness as the colossal titan suddenly shivers. A crack, as loud as thunder rockets through the air as the giant grows.
Thunderous booms echo around the land; every one heralding the titan&#39;s bones shifting to create more space. The ground shudders as the shadow in the \
distance grows larger. Higher. Wider. There are no human words to describe the sheer size being displayed to the world, no words that exist to describe the mass being compacted into that singular point.</tw-passagedata><tw-passagedata pid="64" name="StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_huge_3" tags="" position="475,850" size="100,100">cock suddenly stiffens. An unfathomably large spurt of pre jettisons from his cock slit and pools in the lands far below him.
The air suddenly becomes hot as a thick umistakeable aura of power coats the very fabric of reality.
Reality&#39;s will could never stand a chance. To the world&#39;s surprise, the giant shudders and balloons outwards in every direction.
His forearms are perfect spheres of unadulterad power, pushing against growing biceps and triceps that have long since dwarfed their owner&#39;s head.
Their towering masses flex upwards and expand outwards, packing on new muscle groups that are not known to mankind.
His neck surges outward, practically ungulfing what driving force exists behind such a titanic body. His laterals surge outwards, forming an incredibly powerful yet impossible Y-shape.
Legs, as built as the foundations of the world, quickly explode into sizes which put those natural foundations to shame.</tw-passagedata><tw-passagedata pid="65" name="StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_small" tags="" position="600,850" size="100,100">His @[all|cocks|throbs~throb], harder than it ever has. He looks down, feeling each vein engorge with unnatural thickness.
Then it hits him, a wave of pleasure grows from the base of his loin. His shaft pulsates wildly as it expands thicker and longer.
His eyes widen as the growth progresses further up his @[all|cocks|noverb].
It&#39;s so long, so thick. And it keeps growing, pushing his fingers wider apart.</tw-passagedata><tw-passagedata pid="66" name="StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_medium" tags="" position="725,850" size="100,100">A familiar feeling rushes over him. He grins, looking down at his @[all|cocks|noverb], welcoming a wave of incoming growth.
It suddenly hits him, like a rush of adrenaline. His @[all|cocks|jolts~jolt] forward, hard enough to make him lose his balance.
Suddenly, it comes. He screams in pleasure as his loin grows thicker and longer.
Every beat of his heart, every flex of his muscles and every breath feed it with more heavy, throbbing flesh.
He tries to grasp at his @[all|cocks|noverb] with both hands, failing to fully handle his monster as it grows uncontrollably.
He throws his head back, moaning deeply enough to cut his breath short.</tw-passagedata><tw-passagedata pid="67" name="StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_large" tags="" position="850,850" size="100,100">Suddenly, his @[all|cocks|throbs~throb]. The sheer need for attention of his monster overwhelms him.
He tries to grasp the base; he can only tremble in anticipation.

His @[all|cocks|is~are] so hot, so full and thick. He shivers at the thought of growing even bigger.
Jolts of pleasure pulsates from his @[all|cocks|noverb] as it starts growing. He desperately tries to grasp and pleasure the throbbing flesh, but it is too massive for his hands to contain.

He pushes down and thrust his hips along the ground. The sheer mass of his @[all|cocks|noverb] is still incredibly sensitive; he moans in pleasure as it pushes outward, bigger and bigger.

He slides his fingers along his slit and moans passionately. Bolts of pleasure pierce him with every contact,
precum leaks out of his monstrous cock like a damaged dam. His @[all|cocks|grows~grow] bigger than he thought possible.

His loin is gigantic, monstrous even; finding anything that can handle him will be a challenge.</tw-passagedata><tw-passagedata pid="68" name="StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_huge" tags="" position="975,850" size="100,100">He feels something coming, something tremendous... A familiar warmth rushes over him; his loin burns with anticipation.
It keeps building, tingles of pleasure spread from his @[all|cocks|noverb].
This wave of incoming growth is greater than a roaring sea, and it keeps building, threatening to swallow him in its eternal pleasure.
But he welcomes it... He grins madly at his monstrous @[all|cocks|noverb] with an unatural eagerness. And then it happens.
His @[all|cocks|explodes~explode] in size, mountains of sensitive flesh burst upwards along his pecs.
He rubs it passionately, each touch bringing him close to the edge.
His veins grow massive, feeding his @[all|cocks|noverb] with untold power. A roar of triumph bursts out of his as his @[all|cocks|noverb] takes over the scenery.
Everything and everyone gets exposed to the glorious beast he&#39;s packing. They can only stare in awe as the ground rumbles;
his @[all|cocks|strains~strain], the land braces. His roars resound throughout the land as an ocean of potent cum rains down on this world once again.</tw-passagedata><tw-passagedata pid="69" name="StoryInit_UniversalFlavour" tags="" position="1100,850" size="100,100">&lt;&lt;set setup.UniversalFlavour =
{
	basicAttackAttemptFlavour: {
		heightFlavour: {
			small:[
				&quot;StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_small&quot;
			],
			medium:[
				&quot;StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_medium&quot;
			],
			large:[
				&quot;StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_large&quot;
			],
			huge:[
				&quot;StoryInit_UniversalFlavour_basicAttackAttemptFlavour_heightFlavour_huge&quot;
			],
		},
		corruptionFlavour: {
			corrupt75: [
				&quot;StoryInit_UniversalFlavour_basicAttackAttemptFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100: [
				&quot;StoryInit_UniversalFlavour_basicAttackAttemptFlavour_corruptionFlavour_corrupt100&quot;
			],
		},
	},
	basicAttackPrepFlavour :{
		heightFlavour:
		{
			small: [
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_small_1&quot;,
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_small_2&quot;,
			],
			medium: [
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_medium_1&quot;,
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_medium_2&quot;,
			],
			large: [
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_large_1&quot;,
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_large_2&quot;,
			],
			huge: [
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_huge_1&quot;,
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_huge_2&quot;,
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_heightFlavour_huge_3&quot;,
			],
		},
		corruptionFlavour: {
			corrupt50: [
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75: [
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100: [
				&quot;StoryInit_UniversalFlavour_basicAttackPrepFlavour_corruptionFlavour_corrupt100&quot;
			],
		},

	},
	sizeDescriptionFlavour :{
		heightFlavour: {
			small: [
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_1&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_2&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_3&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_small_4&quot;
			],
			medium: [
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_1&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_2&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_3&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_medium_4&quot;
			],
			large: [
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_1&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_2&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_3&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_large_4&quot;
			],
			huge: [
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_1&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_2&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_3&quot;,
				&quot;StoryInit_UniversalFlavour_sizeDescriptionFlavour_heightFlavour_huge_4&quot;
			],
		},
	},
	MuscleGrowthFlavourText :{
		musclesFlavour: {
			small: [
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_1&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_2&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_3&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_small_4&quot;,

			],
			medium: [
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_1&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_2&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_3&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_medium_4&quot;,
			],
			large: [
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_1&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_2&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_3&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_large_4&quot;,
			],
			huge: [
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_huge_1&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_huge_2&quot;,
				&quot;StoryInit_UniversalFlavour_MuscleGrowthFlavourText_musclesFlavour_huge_3&quot;,
			],
		},
	},
	CockGrowthFlavourText :{
		cockSizeFlavour:
		{
			small: [
				&quot;StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_small&quot;,
			],
			medium: [
				&quot;StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_medium&quot;,
			],
			large: [
				&quot;StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_large&quot;,
			],
			huge: [
				&quot;StoryInit_UniversalFlavour_CockGrowthFlavourText_cockSizeFlavour_huge&quot;,
			]
		},
	}
}&gt;&gt;</tw-passagedata><tw-passagedata pid="70" name="StoryInit_Widgets" tags="" position="1225,850" size="100,100">&lt;&lt;widget &quot;getLength&quot;&gt;&gt;&lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, _args[0]))&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;LimbDesc&quot;&gt;&gt;&lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, _args[0], {verb:_args[1]})&gt;&gt;\&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;LenAndDesc&quot;&gt;&gt;&lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, _args[0])) + &quot; &quot; + setup.DESC.getLimbDesc($CharacterSheet_Player, _args[0], {size_adj:false})&gt;&gt;\&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;charGetLength&quot;&gt;&gt;&lt;&lt;print setup.getLength(setup.getStatValue(_args[0], _args[1]))&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;charLimbDesc&quot;&gt;&gt;&lt;&lt;print setup.DESC.getLimbDesc(_args[0], _args[1], {verb:_args[2]})&gt;&gt;\&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;PlayerRace&quot;&gt;&gt;&lt;&lt;print setup.getRaceName(State.variables.CharacterSheet_Player)&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;PlayerName&quot;&gt;&gt;&lt;&lt;print $CharacterSheet_Player.info.name&gt;&gt;&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;SymbioteRace&quot;&gt;&gt;&lt;&lt;print setup.getRaceName(State.variables.CharacterSheet_Player.symbiote)&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;SymbioteColor&quot;&gt;&gt;&lt;&lt;print State.variables.CharacterSheet_Player.symbiote.info.colour&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;SymbioteName&quot;&gt;&gt;&lt;&lt;print State.variables.CharacterSheet_Player.symbiote.info.name&gt;&gt;&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;ImpHeight&quot;&gt;&gt;&lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Imp, &quot;height&quot;))&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;ImpCockLength&quot;&gt;&gt;&lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Imp, &quot;cock&quot;))&gt;&gt;&lt;&lt;/widget&gt;&gt;
&lt;&lt;widget &quot;ImpBallsSize&quot;&gt;&gt;&lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Imp, &quot;balls&quot;))&gt;&gt;&lt;&lt;/widget&gt;&gt;

&lt;&lt;widget &quot;charLength&quot;&gt;&gt;&lt;&lt;print setup.getLength(setup.getStatValue(_args[0], _args[1]))&gt;&gt;&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="71" name="StoryInit_WorldState" tags="" position="100,975" size="100,100">&lt;&lt;set $WorldState =
{
    cultManor:
    {
        mainHall:
        {
            isBroken: false,
        },
        eastWing:
        {
            isBroken: false,
        },
        westWingHallway:
        {
            isBroken: false,
        },
        dragonRoom:
        {
            isBroken: false,
        },
        monolithBroken: false,
        westWing_LastDestination: &quot;&quot;,
        westWing_ClearedRooms: [],
    },
    apothusChosen:
    {
        essenceLevel: 0,
    },
    apothusTransformed: false,
    minoWords: &quot;&quot;,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="72" name="StoryInit_Voice1" tags="" position="225,975" size="100,100">/*Voice1/Arousal1*/
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S1_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size1/Corrupt1/Idle_Voice1_A1_S1_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S1_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size1/Corrupt1/Idle_Voice1_A1_S1_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S1_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size1/Corrupt1/Idle_Voice1_A1_S1_C1_03.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S1_C1_04&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size1/Corrupt1/Idle_Voice1_A1_S1_C1_04.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A1_S1_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_04&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S2_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size2/Corrupt1/Idle_Voice1_A1_S2_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S2_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size2/Corrupt1/Idle_Voice1_A1_S2_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S2_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size2/Corrupt1/Idle_Voice1_A1_S2_C1_03.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S2_C1_04&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size2/Corrupt1/Idle_Voice1_A1_S2_C1_04.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A1_S2_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S2_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S2_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S2_C1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S2_C1_04&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S3_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size3/Corrupt1/Idle_Voice1_A1_S3_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S3_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size3/Corrupt1/Idle_Voice1_A1_S3_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S3_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size3/Corrupt1/Idle_Voice1_A1_S3_C1_03.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S3_C1_04&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size3/Corrupt1/Idle_Voice1_A1_S3_C1_04.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A1_S3_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S3_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S3_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S3_C1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S3_C1_04&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S4_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size4/Corrupt1/Idle_Voice1_A1_S4_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S4_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size4/Corrupt1/Idle_Voice1_A1_S4_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S4_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size4/Corrupt1/Idle_Voice1_A1_S4_C1_03.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A1_S4_C1_04&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level1/Size4/Corrupt1/Idle_Voice1_A1_S4_C1_04.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A1_S4_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S4_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S4_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S4_C1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S4_C1_04&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice1/Arousal2*/
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S1_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size1/Corrupt1/Idle_Voice1_A2_S1_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S1_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size1/Corrupt1/Idle_Voice1_A2_S1_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S1_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size1/Corrupt1/Idle_Voice1_A2_S1_C1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A2_S1_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S1_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S1_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S1_C1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S2_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size2/Corrupt1/Idle_Voice1_A2_S2_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S2_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size2/Corrupt1/Idle_Voice1_A2_S2_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S2_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size2/Corrupt1/Idle_Voice1_A2_S2_C1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A2_S2_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S2_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S2_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S2_C1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S3_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size3/Corrupt1/Idle_Voice1_A2_S3_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S3_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size3/Corrupt1/Idle_Voice1_A2_S3_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S3_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size3/Corrupt1/Idle_Voice1_A2_S3_C1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A2_S3_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S3_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S3_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S3_C1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S4_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size4/Corrupt1/Idle_Voice1_A2_S4_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S4_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size4/Corrupt1/Idle_Voice1_A2_S4_C1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A2_S4_C1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level2/Size4/Corrupt1/Idle_Voice1_A2_S4_C1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A2_S4_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S4_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S4_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S4_C1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice1/Arousal3*/
&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S1_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size1/Corrupt1/Idle_Voice1_A3_S1_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S1_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size1/Corrupt1/Idle_Voice1_A3_S1_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A3_S1_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S1_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S1_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S2_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size2/Corrupt1/Idle_Voice1_A3_S2_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S2_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size2/Corrupt1/Idle_Voice1_A3_S2_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A3_S2_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S2_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S2_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S3_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size3/Corrupt1/Idle_Voice1_A3_S3_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S3_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size3/Corrupt1/Idle_Voice1_A3_S3_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A3_S3_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S3_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S3_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S4_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size4/Corrupt1/Idle_Voice1_A3_S4_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A3_S4_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level3/Size4/Corrupt1/Idle_Voice1_A3_S4_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A3_S4_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S4_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S4_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice1/Arousal4*/
&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S1_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size1/Corrupt1/Idle_Voice1_A4_S1_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S1_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size1/Corrupt1/Idle_Voice1_A4_S1_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A4_S1_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S1_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S1_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S2_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size2/Corrupt1/Idle_Voice1_A4_S2_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S2_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size2/Corrupt1/Idle_Voice1_A4_S2_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A4_S2_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S2_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S2_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S3_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size3/Corrupt1/Idle_Voice1_A4_S3_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S3_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size3/Corrupt1/Idle_Voice1_A4_S3_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A4_S3_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S3_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S3_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S4_C1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size4/Corrupt1/Idle_Voice1_A4_S4_C1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice1_A4_S4_C1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice1/Arousal-Idle/Level4/Size4/Corrupt1/Idle_Voice1_A4_S4_C1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice1_A4_S4_C1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S4_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A4_S4_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;createplaylist &quot;Test_Voice1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A1_S1_C1_04&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S1_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S1_C1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A2_S1_C1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S1_C1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice1_A3_S1_C1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;</tw-passagedata><tw-passagedata pid="73" name="StoryInit_Voice2" tags="" position="350,975" size="100,100">/*Voice2/Arousal1*/
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size1/Idle_Voice2_A1_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size1/Idle_Voice2_A1_S1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size1/Idle_Voice2_A1_S1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A1_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size2/Idle_Voice2_A1_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size2/Idle_Voice2_A1_S2_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size2/Idle_Voice2_A1_S2_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A1_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size3/Idle_Voice2_A1_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size3/Idle_Voice2_A1_S3_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size3/Idle_Voice2_A1_S3_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A1_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size4/Idle_Voice2_A1_S4_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size4/Idle_Voice2_A1_S4_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A1_S4_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level1/Size4/Idle_Voice2_A1_S4_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A1_S4&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S4_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S4_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal2*/
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size1/Idle_Voice2_A2_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size1/Idle_Voice2_A2_S1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size1/Idle_Voice2_A2_S1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A2_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size2/Idle_Voice2_A2_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size2/Idle_Voice2_A2_S2_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size2/Idle_Voice2_A2_S2_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A2_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size3/Idle_Voice2_A2_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size3/Idle_Voice2_A2_S3_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size3/Idle_Voice2_A2_S3_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A2_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size4/Idle_Voice2_A2_S4_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size4/Idle_Voice2_A2_S4_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A2_S4_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level2/Size4/Idle_Voice2_A2_S4_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A2_S4&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S4_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S4_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal3*/
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size1/Idle_Voice2_A3_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size1/Idle_Voice2_A3_S1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size1/Idle_Voice2_A3_S1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A3_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size2/Idle_Voice2_A3_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size2/Idle_Voice2_A3_S2_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size2/Idle_Voice2_A3_S2_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A3_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size3/Idle_Voice2_A3_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size3/Idle_Voice2_A3_S3_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size3/Idle_Voice2_A3_S3_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A3_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size4/Idle_Voice2_A3_S4_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size4/Idle_Voice2_A3_S4_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A3_S4_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level3/Size4/Idle_Voice2_A3_S4_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A3_S4&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S4_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S4_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal4*/
&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size1/Idle_Voice2_A4_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size1/Idle_Voice2_A4_S1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A4_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size2/Idle_Voice2_A4_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size2/Idle_Voice2_A4_S2_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A4_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S2_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size3/Idle_Voice2_A4_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size3/Idle_Voice2_A4_S3_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A4_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S3_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size4/Idle_Voice2_A4_S4_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A4_S4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level4/Size4/Idle_Voice2_A4_S4_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A4_S4&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A4_S4_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal5*/
&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size1/Idle_Voice2_A5_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size1/Idle_Voice2_A5_S1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A5_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size2/Idle_Voice2_A5_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size2/Idle_Voice2_A5_S2_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A5_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S2_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size3/Idle_Voice2_A5_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size3/Idle_Voice2_A5_S3_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A5_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S3_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size4/Idle_Voice2_A5_S4_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Voice2_A5_S4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Player/Voice2/Arousal-Idle/Level5/Size4/Idle_Voice2_A5_S4_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Voice2_A5_S4&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A5_S4_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;createplaylist &quot;Test_Voice2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A1_S1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A2_S1_03&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Voice2_A3_S1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;</tw-passagedata><tw-passagedata pid="74" name="StoryInit_VoiceImp" tags="" position="475,975" size="100,100">/*Voice2/Arousal1*/
&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size1/Idle_Imp_A1_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size1/Idle_Imp_A1_S1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size1/Idle_Imp_A1_S1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A1_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size2/Idle_Imp_A1_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size2/Idle_Imp_A1_S2_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size2/Idle_Imp_A1_S2_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A1_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size3/Idle_Imp_A1_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size3/Idle_Imp_A1_S3_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A1_S3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level1/Size3/Idle_Imp_A1_S3_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A1_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A1_S3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal2*/
&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size1/Idle_Imp_A2_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size1/Idle_Imp_A2_S1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size1/Idle_Imp_A2_S1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A2_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size2/Idle_Imp_A2_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size2/Idle_Imp_A2_S2_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size2/Idle_Imp_A2_S2_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A2_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size3/Idle_Imp_A2_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size3/Idle_Imp_A2_S3_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A2_S3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level2/Size3/Idle_Imp_A2_S3_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A2_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A2_S3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal3*/
&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size1/Idle_Imp_A3_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size1/Idle_Imp_A3_S1_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size1/Idle_Imp_A3_S1_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A3_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size2/Idle_Imp_A3_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size2/Idle_Imp_A3_S2_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size2/Idle_Imp_A3_S2_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A3_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size3/Idle_Imp_A3_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size3/Idle_Imp_A3_S3_02.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A3_S3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level3/Size3/Idle_Imp_A3_S3_03.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A3_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A3_S3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal4*/
&lt;&lt;cacheaudio &quot;Idle_Imp_A4_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level4/Size1/Idle_Imp_A4_S1_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A4_S1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level4/Size1/Idle_Imp_A4_S1_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A4_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A4_S1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A4_S1_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A4_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level4/Size2/Idle_Imp_A4_S2_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A4_S2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level4/Size2/Idle_Imp_A4_S2_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A4_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A4_S2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A4_S2_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A4_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level4/Size3/Idle_Imp_A4_S3_01.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Idle_Imp_A4_S3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level4/Size3/Idle_Imp_A4_S3_02.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A4_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A4_S3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A4_S3_02&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal5*/
&lt;&lt;cacheaudio &quot;Idle_Imp_A5_S1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level5/Size1/Idle_Imp_A5_S1_01.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A5_S1&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A5_S1_01&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A5_S2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level5/Size2/Idle_Imp_A5_S2_01.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A5_S2&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A5_S2_01&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Idle_Imp_A5_S3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Imp/Arousal-Idle/Level5/Size3/Idle_Imp_A5_S3_01.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Idle_Imp_A5_S3&quot;&gt;&gt;
    &lt;&lt;track &quot;Idle_Imp_A5_S3_01&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;</tw-passagedata><tw-passagedata pid="75" name="StoryInit_VoiceLostNaga" tags="" position="600,975" size="100,100">&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A0_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level0/LostNaga_Idle_S1_A0_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A0_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level0/LostNaga_Idle_S1_A0_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A0_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level0/LostNaga_Idle_S1_A0_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S1_A0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A0_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A0_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A0_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A1_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level1/LostNaga_Idle_S1_A1_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A1_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level1/LostNaga_Idle_S1_A1_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A1_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level1/LostNaga_Idle_S1_A1_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S1_A1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A1_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A1_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A1_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A2_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level2/LostNaga_Idle_S1_A2_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A2_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level2/LostNaga_Idle_S1_A2_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A2_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level2/LostNaga_Idle_S1_A2_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S1_A2&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A2_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A2_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A2_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A3_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level3/LostNaga_Idle_S1_A3_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A3_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level3/LostNaga_Idle_S1_A3_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S1_A3_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size1/Level3/LostNaga_Idle_S1_A3_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S1_A3&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A3_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A3_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S1_A3_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;






&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A0_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level0/LostNaga_Idle_S2_A0_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A0_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level0/LostNaga_Idle_S2_A0_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A0_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level0/LostNaga_Idle_S2_A0_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S2_A0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A0_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A0_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A0_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A1_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level1/LostNaga_Idle_S2_A1_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A1_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level1/LostNaga_Idle_S2_A1_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A1_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level1/LostNaga_Idle_S2_A1_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S2_A1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A1_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A1_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A1_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A2_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level2/LostNaga_Idle_S2_A2_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A2_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level2/LostNaga_Idle_S2_A2_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A2_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level2/LostNaga_Idle_S2_A2_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S2_A2&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A2_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A2_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A2_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A3_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level3/LostNaga_Idle_S2_A3_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A3_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level3/LostNaga_Idle_S2_A3_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S2_A3_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size2/Level3/LostNaga_Idle_S2_A3_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S2_A3&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A3_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A3_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S2_A3_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;






&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A0_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level0/LostNaga_Idle_S3_A0_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A0_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level0/LostNaga_Idle_S3_A0_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A0_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level0/LostNaga_Idle_S3_A0_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S3_A0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A0_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A0_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A0_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A1_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level1/LostNaga_Idle_S3_A1_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A1_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level1/LostNaga_Idle_S3_A1_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A1_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level1/LostNaga_Idle_S3_A1_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S3_A1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A1_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A1_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A1_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A2_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level2/LostNaga_Idle_S3_A2_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A2_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level2/LostNaga_Idle_S3_A2_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A2_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level2/LostNaga_Idle_S3_A2_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S3_A2&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A2_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A2_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A2_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A3_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level3/LostNaga_Idle_S3_A3_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A3_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level3/LostNaga_Idle_S3_A3_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Lost_Naga_Idle_S3_A3_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/LostNaga/Arousal-Idle/Size3/Level3/LostNaga_Idle_S3_A3_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Lost_Naga_Idle_S3_A3&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A3_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A3_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Lost_Naga_Idle_S3_A3_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;</tw-passagedata><tw-passagedata pid="76" name="StoryInit_VoiceShardRing" tags="" position="725,975" size="100,100">&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A0_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level0/Bind_Idle_S3_A0_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A0_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level0/Bind_Idle_S3_A0_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A0_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level0/Bind_Idle_S3_A0_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S3_A0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A0_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A0_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A0_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A1_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level1/Bind_Idle_S3_A1_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A1_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level1/Bind_Idle_S3_A1_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A1_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level1/Bind_Idle_S3_A1_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S3_A1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A1_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A1_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A1_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A2_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level2/Bind_Idle_S3_A2_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A2_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level2/Bind_Idle_S3_A2_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A2_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level2/Bind_Idle_S3_A2_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S3_A2&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A2_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A2_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A2_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A3_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level3/Bind_Idle_S3_A3_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A3_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level3/Bind_Idle_S3_A3_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S3_A3_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size3/Level3/Bind_Idle_S3_A3_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S3_A3&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A3_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A3_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S3_A3_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;






&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A0_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level0/Bind_Idle_S2_A0_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A0_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level0/Bind_Idle_S2_A0_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A0_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level0/Bind_Idle_S2_A0_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S2_A0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A0_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A0_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A0_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A1_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level1/Bind_Idle_S2_A1_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A1_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level1/Bind_Idle_S2_A1_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A1_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level1/Bind_Idle_S2_A1_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S2_A1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A1_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A1_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A1_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A2_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level2/Bind_Idle_S2_A2_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A2_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level2/Bind_Idle_S2_A2_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A2_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level2/Bind_Idle_S2_A2_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S2_A2&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A2_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A2_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A2_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A3_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level3/Bind_Idle_S2_A3_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A3_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level3/Bind_Idle_S2_A3_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S2_A3_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size2/Level3/Bind_Idle_S2_A3_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S2_A3&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A3_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A3_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S2_A3_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;






&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A0_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level0/Bind_Idle_S1_A0_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A0_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level0/Bind_Idle_S1_A0_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A0_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level0/Bind_Idle_S1_A0_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S1_A0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A0_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A0_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A0_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A1_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level1/Bind_Idle_S1_A1_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A1_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level1/Bind_Idle_S1_A1_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A1_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level1/Bind_Idle_S1_A1_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S1_A1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A1_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A1_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A1_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A2_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level2/Bind_Idle_S1_A2_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A2_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level2/Bind_Idle_S1_A2_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A2_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level2/Bind_Idle_S1_A2_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S1_A2&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A2_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A2_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A2_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A3_0&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level3/Bind_Idle_S1_A3_0.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A3_1&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level3/Bind_Idle_S1_A3_1.mp3&quot;&gt;&gt; 
&lt;&lt;cacheaudio &quot;Bind_Idle_S1_A3_2&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Bind/Arousal-Idle/Size1/Level3/Bind_Idle_S1_A3_2.mp3&quot;&gt;&gt; 

&lt;&lt;createplaylist &quot;Bind_Idle_S1_A3&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A3_0&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A3_1&quot;&gt;&gt; 
&lt;&lt;track &quot;Bind_Idle_S1_A3_2&quot;&gt;&gt; 
&lt;&lt;/createplaylist&gt;&gt;</tw-passagedata><tw-passagedata pid="77" name="StoryInit_VoiceTorgar" tags="" position="850,975" size="100,100">/*Voice2/Arousal1*/
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level1/Torgar_Idle_S1_A1_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level1/Torgar_Idle_S1_A1_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level1/Torgar_Idle_S1_A1_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S1_A1&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level1/Torgar_Idle_S2_A1_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level1/Torgar_Idle_S2_A1_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level1/Torgar_Idle_S2_A1_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S2_A1&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A1_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level1/Torgar_Idle_S3_A1_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A1_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level1/Torgar_Idle_S3_A1_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A1_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level1/Torgar_Idle_S3_A1_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S3_A1&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A1_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A1_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A1_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal2*/
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level2/Torgar_Idle_S1_A2_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level2/Torgar_Idle_S1_A2_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level2/Torgar_Idle_S1_A2_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S1_A2&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level2/Torgar_Idle_S2_A2_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level2/Torgar_Idle_S2_A2_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level2/Torgar_Idle_S2_A2_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S2_A2&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A2_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level2/Torgar_Idle_S3_A2_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A2_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level2/Torgar_Idle_S3_A2_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A2_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level2/Torgar_Idle_S3_A2_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S3_A2&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A2_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A2_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A2_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal3*/
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level3/Torgar_Idle_S1_A3_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level3/Torgar_Idle_S1_A3_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level3/Torgar_Idle_S1_A3_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S1_A3&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level3/Torgar_Idle_S2_A3_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level3/Torgar_Idle_S2_A3_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level3/Torgar_Idle_S2_A3_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S2_A3&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A3_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level3/Torgar_Idle_S3_A3_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A3_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level3/Torgar_Idle_S3_A3_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A3_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level3/Torgar_Idle_S3_A3_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S3_A3&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A3_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A3_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A3_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

/*Voice2/Arousal4*/
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level4/Torgar_Idle_S1_A4_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level4/Torgar_Idle_S1_A4_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S1_A4_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size1/Level4/Torgar_Idle_S1_A4_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S1_A4&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A4_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S1_A4_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level4/Torgar_Idle_S2_A4_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level4/Torgar_Idle_S2_A4_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S2_A4_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size2/Level4/Torgar_Idle_S2_A4_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S2_A4&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A4_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S2_A4_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;

&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A4_01&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level4/Torgar_Idle_S3_A4_1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A4_02&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level4/Torgar_Idle_S3_A4_2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;Torgar_Idle_S3_A4_03&quot; &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Sounds/voices/Torgar/Arousal-Idle/Size3/Level4/Torgar_Idle_S3_A4_3.mp3&quot;&gt;&gt;

&lt;&lt;createplaylist &quot;Torgar_Idle_S3_A4&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A4_01&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A4_02&quot;&gt;&gt;
    &lt;&lt;track &quot;Torgar_Idle_S3_A4_03&quot;&gt;&gt;
&lt;&lt;/createplaylist&gt;&gt;</tw-passagedata><tw-passagedata pid="78" name="_abdominals_anatomy_sheet" tags="" position="975,975" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;abdominals&quot;, {
        name: &quot;ab&quot;,
        namePlural: &quot;abs&quot;,
        defaultNumber: 6,
        naturalPair : true,
        sizeCompType: &quot;muscles&quot;,
        adjectives : {
            small: [&quot;packed&quot;, &quot;chiselled&quot;, &quot;defined&quot;, &quot;washboard&quot;],
            medium: [&quot;packed&quot;, &quot;rock-hard&quot;, &quot;strong&quot;, &quot;rippling&quot;],
            large: [&quot;packed&quot;, &quot;brick-like&quot;, &quot;huge&quot;, &quot;wall of&quot;, &quot;cinderblock&quot;],
            huge: [&quot;packed&quot;, &quot;impossibly huge&quot;, &quot;colossal&quot;, &quot;titanic&quot;, &quot;vehicle sized&quot;],

			pure: [&quot;veiny&quot;],
			corrupt: [&quot;pulsating&quot;, &quot;veiny&quot;]
		},
        mutant: {
            pointCost: 1,
            unpairLevel: 6,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [10,12],
                [10,12],
                [12,14],
                [14,16],
                [16,18],
                [18,22],
            ],
        },
        status: [
            {type: &quot;heightMods&quot;, mod: setup.mod.ADD, value: 2.5, max_value: 60},
            {type: &quot;maxHPMods&quot;, mod: setup.mod.ADD, value: 2.5, round_type: Math.floor},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="79" name="Sheets_Anatomy" tags="" position="1100,975" size="100,100">&lt;&lt;set setup.Anatomy = {
    LIMB_REF: {},
    LIMB_ORDERED_KV: [],
    }
&gt;&gt;

/* Note: the order they are shown here is the order they will be presented to user */
&lt;&lt;include &quot;_heads_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_ears_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_horns_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_eyes_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_jaws_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_tongues_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_teeths_anatomy_sheet&quot;&gt;&gt;

&lt;&lt;include &quot;_wings_anatomy_sheet&quot;&gt;&gt;

&lt;&lt;include &quot;_pecs_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_arms_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_hands_anatomy_sheet&quot;&gt;&gt;

&lt;&lt;include &quot;_tentacles_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_abdominals_anatomy_sheet&quot;&gt;&gt;

&lt;&lt;include &quot;_cocks_anatomy_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_balls_anatomy_sheet&quot;&gt;&gt;

&lt;&lt;include &quot;_legs_anatomy_sheet&quot;&gt;&gt;

&lt;&lt;include &quot;_tails_anatomy_sheet&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="80" name="_arms_anatomy_sheet" tags="" position="1225,975" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;arms&quot;, {
        name: &quot;arm&quot;,
        namePlural: &quot;arms&quot;,
        defaultNumber: 2,
        naturalPair : true,
        sizeCompType: &quot;muscles&quot;,
        adjectives : {
            small: [&quot;athletic&quot;, &quot;chiselled&quot;, &quot;defined&quot;],
            medium: [&quot;large&quot;, &quot;bulky&quot;, &quot;brawny&quot;],
            large: [&quot;sizeable&quot;, &quot;huge&quot;, &quot;boulder-like&quot;, &quot;skin-straining&quot;, &quot;heavily muscled&quot;],
            huge: [&quot;colossal&quot;, &quot;titanic&quot;, &quot;world ending&quot;, &quot;building sized&quot;, &quot;impossibly huge&quot;, &quot;huge&quot;, &quot;movement limiting&quot;],

			pure: [&quot;vein-riddled&quot;, &quot;strong&quot;, &quot;beefy&quot;, &quot;pumped&quot;],
			corrupt: [&quot;pulsating&quot;, &quot;vein-riddled&quot;, &quot;ever growing&quot;, &quot;strong&quot;, &quot;beefy&quot;, &quot;mutated&quot;]
		},
        mutant: {
            pointCost: 1,
            unpairLevel: 4,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,4],
                [2,4],
                [4,8],
                [6,10],
                [6,12],
                [10,16],
            ],
        },
        status: [
            {type: &quot;musclesMods&quot;, mod: setup.mod.ADD, value: 5, max_value: 40},
            {type: &quot;strengthMods&quot;, mod: setup.mod.ADD, value: 5, max_value: 50},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="81" name="_balls_anatomy_sheet" tags="" position="100,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;balls&quot;, {
        name: &quot;ball&quot;,
        namePlural: &quot;balls&quot;,
        defaultNumber: 2,
        naturalPair : true,
        sizeCompType: &quot;balls&quot;,
        synonyms : {
            singular: [&quot;testicle&quot;, &quot;nut&quot;, &quot;orb&quot;, &quot;gonad&quot;, &quot;rock&quot;],
            plural: [&quot;testicles&quot;, &quot;nuts&quot;, &quot;orbs&quot;, &quot;gonads&quot;, &quot;rocks&quot;],
        },
        adjectives : {
            medium: [&quot;large&quot;, &quot;thigh-knocking&quot;, &quot;grapefruit sized&quot;],
            large: [&quot;floor dragging&quot;, &quot;bloated&quot;],
            huge: [&quot;massive&quot;, &quot;huge&quot;, &quot;building sized&quot;, &quot;mountainous&quot;],

			pure: [&quot;virile&quot;, &quot;sloshing&quot;, &quot;bloated&quot;],
			corrupt: [&quot;pulsating&quot;, &quot;vein-riddled&quot;, &quot;over full&quot;, &quot;egregious&quot;, &quot;rumbling&quot;, &quot;powerful&quot;, &quot;corrupt&quot;]
		},
        mutant: {
            pointCost: 1,
            unpairLevel: 3,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [4,6],
                [4,8],
                [6,10],
                [8,12],
                [10,14],
                [14,18],
            ],
        },
            status: [
            {type: &quot;ballsMods&quot;, mod: setup.mod.MULTIPLYPOS, value: 0.025, max_value: 0.1},
            {type: &quot;arousalGainMods&quot;, mod: setup.mod.ADD, value: 2.5, max_value: 10},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="82" name="_cocks_anatomy_sheet" tags="" position="225,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;cocks&quot;, {
        name: &quot;penis&quot;,
        namePlural: &quot;penises&quot;,
        defaultNumber: 1,
        sizeCompType: &quot;cock&quot;,
        synonyms : {
            singular: [&quot;cock&quot;, &quot;dick&quot;, &quot;tool&quot;, &quot;rod&quot;, &quot;pole&quot;, &quot;shaft&quot;, &quot;javelin&quot;, &quot;lance&quot;, &quot;spire&quot;],
            plural: [&quot;cocks&quot;, &quot;dicks&quot;, &quot;tools&quot;, &quot;rods&quot;, &quot;poles&quot;, &quot;shafts&quot;, &quot;javelins&quot;, &quot;lances&quot;, &quot;spires&quot;]
        },
        adjectives : {
            small: [&quot;fair&quot;, &quot;impressive&quot;],
            medium: [&quot;horse-sized&quot;, &quot;arm-sized&quot;, &quot;awe-inspiring&quot;, &quot;incredibly big&quot;],
            large: [&quot;huge&quot;, &quot;hyper&quot;, &quot;bloated&quot;, &quot;vehicle-sized&quot;, &quot;wall-breaking&quot;, &quot;impossibly-huge&quot;, &quot;mammoth&quot;, &quot;floor-dragging&quot;, &quot;cannon&quot;],
            huge: [&quot;massive&quot;, &quot;huge&quot;, &quot;mountainous&quot;, &quot;world-breaking&quot;, &quot;ground-carving&quot;, &quot;earth-shaking&quot;, &quot;god like&quot;, &quot;village sized&quot;],

			pure: [&quot;vein-riddled&quot;, &quot;rigid&quot;, &quot;leaking&quot;],
			corrupt: [&quot;pulsating&quot;, &quot;vein-riddled&quot;, &quot;glowing&quot;, &quot;leaking&quot;]
		},
        mutant: {
            pointCost: 2,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,3],
                [2,3],
                [3,6],
                [5,7],
                [9,11],
                [15,27],
            ],
        },
        status: [
            {type: &quot;cockMods&quot;, mod: setup.mod.MULTIPLYPOS, value: 0.025, max_value: 0.1},
            {type: &quot;cockMods&quot;, mod: setup.mod.ADD, value: 5, max_value: 100},
        ]
})&gt;&gt;</tw-passagedata><tw-passagedata pid="83" name="_ears_anatomy_sheet" tags="" position="350,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;ears&quot;, {
        name: &quot;ear&quot;,
        namePlural: &quot;ears&quot;,
        defaultNumber: 2,
        naturalPair : true,
		perParent: &quot;heads&quot;,
        sizeCompType: &quot;height&quot;,
        mutant: {
            pointCost: 1,
            unpairLevel: 3,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,4],
                [4,6],
                [4,8],
                [6,10],
                [8,12],
                [10,14],
            ],
        },
        status: [
            {type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.025, max_value: 0.2},
        ]
    })
&gt;&gt;</tw-passagedata><tw-passagedata pid="84" name="_eyes_anatomy_sheet" tags="" position="475,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;eyes&quot;, {
        name: &quot;eye&quot;,
        namePlural: &quot;eyes&quot;,
        defaultNumber: 2,
        naturalPair : true,
		perParent: &quot;heads&quot;,
        sizeCompType: &quot;height&quot;,
        adjectives: {
			corrupt: [&quot;glowing&quot;, &quot;demonic&quot;, &quot;fiery&quot;, &quot;burning&quot;, &quot;blazing&quot;]
		},
        mutant: {
            pointCost: 1,
            unpairLevel: 2,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,4],
                [2,6],
                [4,8],
                [6,8],
                [6,10],
                [8,12],
            ],
        },
        status: [
            {type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.025, max_value: 0.2},
        ]
    })
&gt;&gt;</tw-passagedata><tw-passagedata pid="85" name="_hands_anatomy_sheet" tags="" position="600,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;hands&quot;, {
        name: &quot;hand&quot;,
        namePlural: &quot;hands&quot;,
        defaultNumber: 2,
        naturalPair : true,
		perParent: &quot;arms&quot;,
        sizeCompType: &quot;muscles&quot;,
        descriptors : {
            small: [&quot;average&quot;],
            medium: [&quot;meaty&quot;],
            large: [&quot;huge&quot;],
            huge: [&quot;massive&quot;],
        },
        mutant: {
            pointCost:1,
            unlockLevel: 2,
            unpairLevel: 6,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,2],
                [2,2],
                [2,2],
                [2,2],
                [2,2],
                [2,2],
            ],
        },
        status: [
            // Add &quot;Quickness&quot; = stamina
            {type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 5, max_value: 20},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="86" name="_heads_anatomy_sheet" tags="" position="725,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;heads&quot;, {
        name: &quot;head&quot;,
        namePlural: &quot;heads&quot;,
        defaultNumber: 1,
        sizeCompType: &quot;height&quot;,
        descriptors : {
            medium: [&quot;large&quot;],
            large: [&quot;sizeable&quot;],
            huge: [&quot;massive&quot;, &quot;huge&quot;],
        },
        adjectives: {
			pure: [&quot;rugged&quot;, &quot;square-jawed&quot;],
			corrupt: [&quot;rugged&quot;, &quot;square-jawed&quot;]
		},
        mutant: {
            pointCost: 4,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [1,3],
                [1,3],
                [1,3],
                [3,3],
                [5,7],
                [6,9],
            ],
        },
        status: [
            {type: &quot;maxHPMods&quot;, mod: setup.mod.ADD, value: 20},
            {type: &quot;essenceMultiplierMods&quot;, mod: setup.mod.ADD, value: 0.1},
        ]
    })
&gt;&gt;</tw-passagedata><tw-passagedata pid="87" name="_horns_anatomy_sheet" tags="" position="850,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;horns&quot;, {
        name: &quot;horn&quot;,
        namePlural: &quot;horns&quot;,
        defaultNumber: 0,
        naturalPair : true,
		perParent: &quot;heads&quot;,
        sizeCompType: &quot;height&quot;,
        adjectives: {
            small: [&quot;bulky&quot;],
            medium: [&quot;heavy&quot;, &quot;dangerous&quot;],
            large: [&quot;massive&quot;, &quot;incredibly heavy&quot;, &quot;bulldozing&quot;],
            huge: [&quot;colossal&quot;, &quot;earth gouging&quot;],

			corrupt: [&quot;cracked&quot;, &quot;purple runed&quot;, &quot;glowing&quot;]
		},
        mutant: {
            pointCost: 1,
            unpairLevel: 2,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,6],
                [2,6],
                [4,8],
                [6,10],
                [8,12],
                [10,20],
            ],
        },
        status: [
            {type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.025},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="88" name="_jaws_anatomy_sheet" tags="" position="975,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;jaws&quot;, {
        name: &quot;jaw&quot;,
        namePlural: &quot;jaws&quot;,
		perParent: &quot;heads&quot;,
        defaultNumber: 1,
        sizeCompType: &quot;muscles&quot;,
        descriptors : {
            small: [&quot;defined&quot;],
            medium: [&quot;square&quot;],
            large: [&quot;powerful&quot;],
            huge: [&quot;massive&quot;],
        },
        mutant: {
            pointCost: 2,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [1,1],
                [1,1],
                [1,1],
                [1,1],
                [1,1],
                [2,3],
            ],
        },
        status: [
            {type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.05},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="89" name="_legs_anatomy_sheet" tags="" position="1100,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;legs&quot;, {
        name: &quot;leg&quot;,
        namePlural: &quot;legs&quot;,
        defaultNumber: 2,
        naturalPair : true,
        sizeCompType: &quot;muscles&quot;,
        adjectives : {
            small: [&quot;athletic&quot;, &quot;chiselled&quot;, &quot;defined&quot;],
            medium: [&quot;large&quot;, &quot;bulky&quot;, &quot;brawny&quot;],
            large: [&quot;sizeable&quot;, &quot;huge&quot;, &quot;thick&quot;, &quot;skin-straining&quot;, &quot;heavily muscled&quot;],
            huge: [&quot;colossal&quot;, &quot;titanic&quot;, &quot;world ending&quot;, &quot;building sized&quot;, &quot;impossibly huge&quot;, &quot;huge&quot;],

			pure: [&quot;vein-riddled&quot;, &quot;strong&quot;, &quot;beefy&quot;],
			corrupt: [&quot;pulsating&quot;, &quot;vein-riddled&quot;]
		},
        mutant: {
            pointCost: 1,
            unpairLevel: 5,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,2],
                [2,2],
                [2,2],
                [2,2],
                [2,2],
                [2,4],
            ],
        },
        status: [
            {type: &quot;maxHPMods&quot;, mod: setup.mod.ADD, value: 5},
            {type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 5},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="90" name="_pecs_anatomy_sheet" tags="" position="1225,1100" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;pecs&quot;, {
        name: &quot;pec&quot;,
        namePlural: &quot;pecs&quot;,
        defaultNumber: 2,
        naturalPair : true,
        sizeCompType: &quot;muscles&quot;,
        adjectives : {
            small: [&quot;athletic&quot;, &quot;chiselled&quot;, &quot;defined&quot;, &quot;square&quot;],
            medium: [&quot;large&quot;, &quot;bulky&quot;, &quot;brawny&quot;, &quot;well-built&quot;],
            large: [&quot;sizeable&quot;, &quot;shelf-like&quot;, &quot;boulder sized&quot;, &quot;vision limiting&quot;, &quot;huge&quot;, &quot;massive&quot;],
            huge: [&quot;chin scraping&quot;, &quot;mountain-like&quot;, &quot;titanic&quot;, &quot;heavily muscled&quot;],

			pure: [&quot;vein-riddled&quot;, &quot;strong&quot;, &quot;beefy&quot;, &quot;pumped&quot;],
			corrupt: [&quot;pulsating&quot;, &quot;vein-riddled&quot;, &quot;ever growing&quot;, &quot;strong&quot;, &quot;beefy&quot;]
		},
        mutant: {
            pointCost: 1,
            unpairLevel: 6,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,4],
                [2,4],
                [4,8],
                [6,10],
                [6,12],
                [10,16],
            ],
        },
        status: [
            {type: &quot;musclesMods&quot;, mod: setup.mod.ADD, value: 5, max_value: 40},
            {type: &quot;maxHPMods&quot;, mod: setup.mod.ADD, value: 5},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="91" name="_tails_anatomy_sheet" tags="" position="100,1225" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;tails&quot;, {
        name: &quot;tail&quot;,
        namePlural: &quot;tails&quot;,
        defaultNumber: 0,
        sizeCompType: &quot;height&quot;,
        adjectives : {
            medium: [&quot;large&quot;],
            large: [&quot;sizeable&quot;, &quot;sizable&quot;],
            huge: [&quot;massive&quot;, &quot;huge&quot;],

			corrupt: [&quot;vein-riddled&quot;]
		},
        mutant: {
            pointCost: 2,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [1,3],
                [1,3],
                [3,6],
                [6,9],
                [9,12],
                [10,15],
            ],
        },
        status: [
            {type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 5},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="92" name="_teeths_anatomy_sheet" tags="" position="225,1225" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;teeths&quot;, {
        name: &quot;teeth&quot;,
        namePlural: &quot;rows of teeth&quot;,
		perParent: &quot;jaws&quot;,
        baseIsPlural: true,
        defaultNumber: 1,
        mutant: {
            pointCost: 2,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [1,1],
                [1,1],
                [1,1],
                [1,1],
                [1,1],
                [3,6],
            ],
        },
        status: [
            {type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.05},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="93" name="_tentacles_anatomy_sheet" tags="" position="350,1225" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;tentacles&quot;, {
        name: &quot;tentacle&quot;,
        namePlural: &quot;tentacles&quot;,
        defaultNumber: 0,
        mutant: {
            pointCost: 1,
            unpairLevel: 3,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [0,0],
                [0,0],
                [0,0],
                [2,4],
                [4,6],
                [8,12],
            ],
        },
        status: [
            {type: &quot;corruptionMods&quot;, mod: setup.mod.ADD, value: 5},
            {type: &quot;corruptionPerDayMods&quot;, mod: setup.mod.ADD, value: 0.5, round_type: Math.floor},
        ]
    })
&gt;&gt;</tw-passagedata><tw-passagedata pid="94" name="_tongues_anatomy_sheet" tags="" position="475,1225" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;tongues&quot;, {
        name: &quot;tongue&quot;,
        namePlural: &quot;tongues&quot;,
        defaultNumber: 1,
		perParent: &quot;jaws&quot;,
		adjectives: {
			small: [&quot;normal sized&quot;],
            medium: [&quot;long&quot;],
            large: [&quot;elongated&quot;],
            huge: [&quot;extensive&quot;, &quot;huge&quot;],

			corrupt: [&quot;slobbering&quot;, &quot;dripping&quot;, &quot;slimy&quot;]
		},
        mutant: {
            pointCost: 2,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [1,1],
                [1,1],
                [1,2],
                [1,2],
                [1,3],
                [1,3],
            ],
        },
        status: [
            {type: &quot;arousalGainMods&quot;, mod: setup.mod.ADD, value: 5, max_value: 20},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="95" name="_wings_anatomy_sheet" tags="" position="600,1225" size="100,100">&lt;&lt;run setup.addLimbToRef(&quot;wings&quot;, {
        name: &quot;wing&quot;,
        namePlural: &quot;wings&quot;,
        defaultNumber: 0,
        naturalPair : true,
        sizeCompType: &quot;height&quot;,
        adjectives : {
            small: [&quot;magnificent&quot;],
            medium: [&quot;monumental&quot;],
            large: [&quot;massive&quot;],
            huge: [&quot;titanic&quot;, &quot;land eclipsing&quot;],
        },
        mutant: {
            pointCost: 2,
            unpairLevel: 4,
            limits: [
                // Limits of how many you can have:
                // [Total Willing Cap, Total Actual Cap]
                // Note that this does not override race, only gain of limbs
                [2,4],
                [2,4],
                [4,6],
                [6,8],
                [8,10],
                [12,20],
            ],
        },
        status: [
            {type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 2.5, max_value: 20},
            {type: &quot;comboMovesPerTurnMods&quot;, mod: setup.mod.ADD, value: 0.1, round_type: Math.floor, max_value: 5}
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="96" name="_abel_body_visual" tags="" position="725,1225" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Abel =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Emote_Confident.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Emote_Smile.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Emote_Pissed.png&quot;,
        },
        blushing: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Emote_Blush.png&quot;,
        },
        worried: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Emote_Disappointed.png&quot;,
        },
        mad: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Corrupted_Expression_Mad.png&quot;,
        },
    },
    cockList :
    {
        corrupted:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Corrupted_Penis.png&quot;,
        },
    },
    bodyList :
    {
        apprentice:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Body.png&quot;,
            condition: function(character)
            {
                return character.quest.naked == false &amp;&amp; character.quest.deepCorruption == false;
            },
            headClass: &quot;AbelHead&quot;,
            permittedAccessories: [
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Arm_Fighter.png&quot;,
                    accessoryClass: &quot;AbelStaff&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
            permittedCocks: [],
        },
        naked:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Lewd_Body.png&quot;,
            condition: function(character)
            {
                return character.quest.naked == true &amp;&amp; character.quest.deepCorruption == false;
            },
            headClass: &quot;AbelHead&quot;,
            permittedAccessories: [
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Lewd_Arm.png&quot;,
                    accessoryClass: &quot;AbelStaff&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
            permittedCocks: [],
        },
        corrupted:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Abel/Winty/Abel_Corrupted_Body.png&quot;,
            condition: function(character)
            {
                return character.quest.deepCorruption == true;
            },
            headClass: &quot;AbelCorruptedHead&quot;,
            permittedAccessories: [],
            permittedCocks: [                
                {
                    cock: &quot;corrupted&quot;,
                    cockClass: &quot;AbelCorruptedCock&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="97" name="_abel_fight_sheet" tags="" position="850,1225" size="100,100">&lt;&lt;set setup.FighterSheet_Abel =
{
	hp: 60,
	stamina: 0,
	strength: 70,
	critChance: 70,
    critDamage: 2.50,
	arousalGain: 0,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 12,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.DragonStrike.id, setup.FightMove.Basic_Attack.id],
	fightReward: setup.RewardTier.VERY_HIGH,
	canMimic: true,
	encounterIntroText: &quot;&quot;,
	encounterStartText: &quot;&quot;,
	outcomePlayerWins: &quot;&quot;,
	outcomePlayerLoses: &quot;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="98" name="_abel_info_sheet" tags="" position="975,1225" size="100,100">&lt;&lt;set setup.InfoSheet_Abel =
{
	name: &quot;Abel&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Abel&quot;,
	corruption: 0,
	muscles: 20,
	height: 74,
	cock: 6,
	balls: 2,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.VILLAGE,
	raceId: setup.RacePool.FELINE.id,
	anatomy: {
		eyes: {
			colour: setup.ColourPool.PURPLE
		},
		tongues: {
			colour: setup.ColourPool.RED
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
	alive: true
}&gt;&gt;</tw-passagedata><tw-passagedata pid="99" name="Sheets_Abel" tags="" position="1100,1225" size="100,100">&lt;&lt;include &quot;_abel_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_abel_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_abel_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_abel_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_abel_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_abel_story_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Abel = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Abel&quot;,
                                                              info: setup.InfoSheet_Abel,
                                                              fight: setup.FighterSheet_Abel,
                                                              quest: setup.QuestSheet_Abel,
                                                              text: &quot;TextSheet_Abel&quot;})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.setAbilityRank($CharacterSheet_Abel, setup.Ability.Disciplined, 10)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.setAbilityRank($CharacterSheet_Abel, setup.Ability.PiercingPrecision, 5)&gt;&gt;</tw-passagedata><tw-passagedata pid="100" name="_abel_quest_sheet" tags="" position="1225,1225" size="100,100">&lt;&lt;set setup.QuestSheet_Abel =
{
    playedHouseIntro: false,
    corrupted: false,
    deepCorruption: false,
    relationship: 0,
    naked: false,
    available_houseIntro_attackGuard: true,
    available_houseIntro_baseFirstDialogue: true,
    available_flavourDialogue_introTellAll: true,
    available_flavourDialogue_talkAboutCray: true,
    available_flavourDialogue_talkAboutEldest: true,
    available_flavourDialogue_talkAboutTheBind: true,
    available_flavourDialogue_firstCorruption: true,
    available_flavourDialogue_deepCorruption: true,
    available_flavourDialogue_inspectMaxRela: true,
    available_flavourDialogue_sexMaxRela: false,
    available_flavourDialogue_sexMaxRela_daily: true,
    available_flavourDialogue_talisman: true,
    available_nyxDialogue_mentionNyx: true,
    available_nyxDialogue_lastMissingShard: true,
    available_nyxDialogue_firstMissingShard: true,
    available_crayDialogue_dayLeft: true,
    available_crayDialogue_whereabouts: true,
    available_crayDialogue_motives: true,
    available_crayDialogue_villageLife: true,
    available_crayDialogue_achievements: true,
    available_heraldDialogue_duty: true,
    available_heraldDialogue_eldest: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="101" name="_abel_story_sheet" tags="" position="100,1350" size="100,100">&lt;&lt;set setup.StorySheet_Abel =
{
    houseIntro:
	{
        attackGuard:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_houseIntro_attackGuard;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_town_guard.quest.beatenOnce &amp;&amp; !State.variables.CharacterSheet_Abel.quest.playedHouseIntro &amp;&amp; setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;);
            },
            passage: &quot;abelHouseIntro_firstDialogueAttackedGuard_link&quot;,
        },
        baseFirstDialogue:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_houseIntro_baseFirstDialogue;
			},
            condition: function()
            {
                return !State.variables.CharacterSheet_Abel.quest.playedHouseIntro &amp;&amp; setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;);
            },
            passage: &quot;abelHouseIntro_firstDialogue_link&quot;,
        },
	},
    flavourDialogue:
	{
        introTellAll:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_introTellAll;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Abel.quest.playedHouseIntro;
            },
            passage: &quot;abelHouseIntro_tellAll_link&quot;,
        },
        talkAboutCray:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return setup.hasAvailableNarativeEvent(setup.StorySheet_Abel.crayDialogue);
            },
            inactive: function()
            {
                return false;
            },
            passage: &quot;abelHouseDialogue_aboutCray_link&quot;,
            inactiveReason: &quot;The reason it is inactive&quot;,
        },
		talkAboutEldest:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return setup.hasAvailableNarativeEvent(setup.StorySheet_Abel.heraldDialogue);
            },
            passage: &quot;abelHouseDialogue_Herald_link&quot;,
        },
        talkAboutTheBind:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_talkAboutTheBind;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.met == true;
            },
            passage: &quot;abelHouseDialogue_aboutTheBind_link&quot;,
        },
        firstCorruption:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_firstCorruption;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt; 0;
            },
            passage: &quot;abelHouseDialogue_OfferCure_Link&quot;,
        },
        deepCorruption:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_deepCorruption;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Abel, &quot;corruption&quot;) &gt; 150;
            },
            passage: &quot;abelHouseDialogue_DeepCorruption_Link&quot;,
        },
        inspectMaxRela:
        {
            available: function()
			{
                return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_inspectMaxRela;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Abel.quest.relationship &gt;= 2 &amp;&amp; State.variables.Expedition &gt;= 10;
            },
            passage: &quot;abelHouseDialogue_InspectMaxRela_Link&quot;,
        },
        sexMaxRela:
        {
            available: function()
			{
                return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_sexMaxRela;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_sexMaxRela_daily;
            },
            passage: &quot;abelHouseDialogue_InspectMaxRela_Sex_Link&quot;,
        },
	},
    crayDialogue:
	{
        whereabouts:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_crayDialogue_whereabouts;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;abelHouseDialogue_aboutCray_whereabouts_link&quot;,
        },
		dayLeft:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_crayDialogue_dayLeft;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;abelHouseDialogue_aboutCray_dayLeft_link&quot;,
        },
		motives:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_crayDialogue_motives;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;abelHouseDialogue_aboutCray_motives_link&quot;,
        },
		villageLife:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_crayDialogue_villageLife;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;abelHouseDialogue_aboutCray_villageLife_link&quot;,
        },
		achievements:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_crayDialogue_achievements;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;abelHouseDialogue_aboutCray_achievements_link&quot;,
        },
	},
    heraldDialogue:
	{
		duty:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_heraldDialogue_duty;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;abelHouseDialogue_Herald_duty_link&quot;,
        },
		eldest:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_heraldDialogue_eldest;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;abelHouseDialogue_Herald_eldest_link&quot;,
        },
	},
    nyxDialogue:
	{
		mentionNyx:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_nyxDialogue_mentionNyx == true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.knowsAboutNyx == true;
            },
            passage: &quot;abelNyxDialogue_MentionNyx_link&quot;,
        },
		whoHoldShards:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid == true;
            },
            passage: &quot;abelNyxDialogue_MissingShards_Link&quot;,
        },
		firstMissingShard:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_nyxDialogue_firstMissingShard == true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid == true &amp;&amp; State.variables.CharacterSheet_Player.quest.gatheredShard &gt; 0 &amp;&amp; State.variables.CharacterSheet_Player.quest.givenShards == 0;
            },
            passage: &quot;abelNyxDialogue_GiveFirstShard_Link&quot;,
        },
		lastMissingShard:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Abel.quest.available_nyxDialogue_lastMissingShard == true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid == true &amp;&amp; State.variables.CharacterSheet_Player.quest.gatheredShard &gt; 0 &amp;&amp; State.variables.CharacterSheet_Player.quest.givenShards == 1;
            },
            passage: &quot;abelNyxDialogue_GiveLastShard_Link&quot;,
        },
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="102" name="_abel_text_sheet" tags="" position="225,1350" size="100,100">&lt;&lt;set setup.TextSheet_Abel =
{	

}&gt;&gt;</tw-passagedata><tw-passagedata pid="103" name="_apothus_body_visual" tags="" position="350,1350" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Apothus =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_emote_smile.png&quot;,
        },
        blushing: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_emote_blush.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_emote_mad.png&quot;,
        },
        grumpy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_emote_grump.png&quot;,
        },
        licky: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_emote_tongue.png&quot;,
        },
        mischievious: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_emote_grin.png&quot;,
        },
    },
    cockList :
    {
        robed:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_clothing.png&quot;,
        },
        naked:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_cock.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Apothus_V2_body.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;ApothusHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;robed&quot;,
                    cockClass: &quot;ApothusBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.arousalProgress == setup.Apothus_Arousal.NORMAL;
                    },
                },
                {
                    cock: &quot;naked&quot;,
                    cockClass: &quot;ApothusBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.arousalProgress != setup.Apothus_Arousal.NORMAL;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="104" name="_apothus_fight_sheet" tags="" position="475,1350" size="100,100">&lt;&lt;set setup.FighterSheet_Apothus =
{
	hp: 700,
	stamina: 0,
	strength: 100,
	critChance: 40,
    critDamage: 1.50,
	arousalGain: 60,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 12,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.SummonParasite.id],
	fightReward: setup.RewardTier.VERY_HIGH,
	canMimic: false,
	encounterIntroText: &quot;&lt;&lt;include Quest_MQ002_ApothusEncounter_FightIntro&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Quest_MQ002_ApothusEncounter_FightStart&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Quest_MQ002_ApothusEncounter_PlayerWins&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Quest_MQ002_ApothusEncounter_PlayerLoses&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="105" name="_apothus_info_sheet" tags="" position="600,1350" size="100,100">&lt;&lt;set setup.InfoSheet_Apothus =
{
	name: &quot;Apothus&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Apothus&quot;,
	corruption: 700,
	muscles: 80,
	height: 156,
	cock: 19,
	balls: 7,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.CASTLE,
	raceId: setup.RacePool.DEFAULT.id,
	anatomy: {
		eyes: {
			colour: setup.ColourPool.PURPLE
		},
		horns: {
			number: 2,
		},
		tongues:{
			colour: setup.ColourPool.RED
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
	alive: true
}&gt;&gt;</tw-passagedata><tw-passagedata pid="106" name="Sheets_Apothus" tags="" position="725,1350" size="100,100">&lt;&lt;include &quot;_apothus_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_apothus_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_apothus_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_apothus_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_apothus_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Apothus = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Apothus&quot;,
                                                              info: setup.InfoSheet_Apothus,
                                                              fight: setup.FighterSheet_Apothus,
                                                              quest: setup.QuestSheet_Apothus,
                                                              text: &quot;TextSheet_Apothus&quot;})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus, setup.Ability.Masochism)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.setAbilityRank($CharacterSheet_Apothus, setup.Ability.AppetiteForGrowth_2, &#39;max&#39;)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus, setup.Ability.BrinkOfMadness)&gt;&gt;</tw-passagedata><tw-passagedata pid="107" name="_apothus_quest_sheet" tags="" position="850,1350" size="100,100">&lt;&lt;set setup.Apothus_Arousal =
{
    NORMAL: 0,
    REVEALING: 1,
    NAKED: 1,
}&gt;&gt;

&lt;&lt;set setup.QuestSheet_Apothus =
{
    met: false,
    askedAboutHim: false,
    arousalProgress: setup.Apothus_Arousal.NORMAL,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="108" name="_apothus_text_sheet" tags="" position="975,1350" size="100,100">&lt;&lt;set setup.TextSheet_Apothus =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="109" name="_apothus_2nd_form_fight_sheet" tags="" position="1100,1350" size="100,100">&lt;&lt;set setup.FighterSheet_Apothus_2nd_Form =
{
	hp: 1200,
	stamina: 0,
	strength: 100,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 60,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 30,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Infest.id, setup.FightMove.ConsumeLost.id, setup.FightMove.SeedOfRuin.id],
	fightReward: setup.RewardTier.VERY_HIGH,
	canMimic: false,
	encounterIntroText: &quot;&lt;&lt;include Quest_MQ002_Apothus_2nd_Form_Encounter_FightIntro&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Quest_MQ002_Apothus_2nd_Form_Encounter_FightStart&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="110" name="_apothus_2nd_form_info_sheet" tags="" position="1225,1350" size="100,100">&lt;&lt;set setup.InfoSheet_Apothus_2nd_Form =
{
	name: &quot;Apothus&quot;,
	gender: &quot;MASC&quot;,
	picture:  &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Apothus/V2/Boss/Apothus_Corruptor_BG.png&quot;,
	corruption: 1200,
	muscles: 80,
	height: 156,
	cock: 19,
	balls: 7,
	raceId: setup.RacePool.DEFAULT.id,
	anatomy: {
		eyes: {
			colour: setup.ColourPool.PURPLE
		},
		horns: {
			number: 2,
		},
		tongues:{
			colour: setup.ColourPool.RED
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
	alive: true
}&gt;&gt;</tw-passagedata><tw-passagedata pid="111" name="Sheets_Apothus_2nd_Form" tags="" position="100,1475" size="100,100">&lt;&lt;include &quot;_apothus_2nd_form_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_apothus_2nd_form_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_apothus_2nd_form_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_apothus_2nd_form_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Apothus_2nd_Form = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Apothus_2nd_Form&quot;,
                                                              info: setup.InfoSheet_Apothus_2nd_Form,
                                                              fight: setup.FighterSheet_Apothus_2nd_Form,
                                                              quest: setup.QuestSheet_Apothus_2nd_Form,
                                                              text: &quot;TextSheet_Apothus_2nd_Form&quot;})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.setAbilityRank($CharacterSheet_Apothus_2nd_Form, setup.Ability.AppetiteForGrowth_2, &#39;max&#39;)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.HerculeanBuild)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.NeverendingGrowth)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.VigorOfTheEndowed_2)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.KalethsFervour)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.LastStand)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.SombrevesWhisper)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.Masochism)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Apothus_2nd_Form, setup.Ability.UnstoppableExpansion)&gt;&gt;</tw-passagedata><tw-passagedata pid="112" name="_apothus_2nd_form_quest_sheet" tags="" position="225,1475" size="100,100">&lt;&lt;set setup.QuestSheet_Apothus_2nd_Form =
{
    met: false,
    askedAboutHim: false,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="113" name="_apothus_2nd_form_text_sheet" tags="" position="350,1475" size="100,100">&lt;&lt;set setup.TextSheet_Apothus_2nd_Form =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="114" name="Sheets_Characters" tags="" position="475,1475" size="100,100">/* Dependant on Sheets_Races */
&lt;&lt;set setup.CharacterList = [];&gt;&gt;

&lt;&lt;include Sheets_Player&gt;&gt;
&lt;&lt;include Sheets_Imp&gt;&gt;
&lt;&lt;include Sheets_Ethrex&gt;&gt;
&lt;&lt;include Sheets_Lost_Entity&gt;&gt;
&lt;&lt;include Sheets_Lost_Harbinger&gt;&gt;
&lt;&lt;include Sheets_Swarm&gt;&gt;
&lt;&lt;include Sheets_Lost_Naga&gt;&gt;
&lt;&lt;include Sheets_town_guard&gt;&gt;
&lt;&lt;include Sheets_MQ002_Guard&gt;&gt;
&lt;&lt;include Sheets_MQ002_NyxParasite&gt;&gt;
&lt;&lt;include Sheets_MQ002_DragonMonk&gt;&gt;
&lt;&lt;include Sheets_Doppleganger&gt;&gt;
&lt;&lt;include Sheets_Apothus&gt;&gt;
&lt;&lt;include Sheets_Apothus_2nd_Form&gt;&gt;
&lt;&lt;include Sheets_God_Beast&gt;&gt;
&lt;&lt;include Sheets_Slime&gt;&gt;
&lt;&lt;include Sheets_Wounded_Lost&gt;&gt;
&lt;&lt;include Sheets_Jorm&gt;&gt;
&lt;&lt;include Sheets_Abel&gt;&gt;
&lt;&lt;include Sheets_Torgar&gt;&gt;
&lt;&lt;include Sheets_Herald&gt;&gt;
&lt;&lt;include Sheets_Shard_Ring&gt;&gt;
&lt;&lt;include Sheets_Lukka&gt;&gt;
&lt;&lt;include Sheets_Lost_Prisoner&gt;&gt;</tw-passagedata><tw-passagedata pid="115" name="_doppleganger_audio" tags="" position="600,1475" size="100,100">&lt;&lt;set setup.AudioSheet_Doppleganger =
{
    
}&gt;&gt;</tw-passagedata><tw-passagedata pid="116" name="_doppleganger_fight_sheet" tags="" position="725,1475" size="100,100">&lt;&lt;set setup.FighterSheet_Doppleganger =
{
	hp: 64,
	stamina: 8,
	strength: 10,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 20,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 4,
	variables: $FightVariables,
	fightMoveIDs: [],
	fightReward: setup.RewardTier.VERY_HIGH,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Doppleganger&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Doppleganger&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Doppleganger&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Doppleganger&gt;&gt;&quot;,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="117" name="_doppleganger_info_sheet" tags="" position="850,1475" size="100,100">&lt;&lt;set setup.InfoSheet_Doppleganger =
{
	name: &quot;Doppleganger&quot;,
	gender: &quot;MASC&quot;,
	audioSheet: &quot;AudioSheet_Doppleganger&quot;,
	corruption: 50,
	muscles: 0,
	height: 48,
	cock: 10,
	balls: 3,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.CASTLE,
	raceId: setup.RacePool.INCUBUS.id,
	anatomy: {
		horns: {
			number: 2,
		},
		wings: {
			number: 2,
			raceId: setup.RacePool.INCUBUS.id,
		},
	},
	ignoreRacials: [],
    isGeneralCharacter: true
}&gt;&gt;</tw-passagedata><tw-passagedata pid="118" name="Sheets_Doppleganger" tags="" position="975,1475" size="100,100">&lt;&lt;include &quot;_doppleganger_audio&quot;&gt;&gt;
&lt;&lt;include &quot;_doppleganger_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_doppleganger_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_doppleganger_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_doppleganger_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_doppleganger_story_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Doppleganger = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Doppleganger&quot;, 
                                                 info: setup.InfoSheet_Doppleganger, 
                                                 fight: setup.FighterSheet_Doppleganger, 
                                                 quest: setup.QuestSheet_Doppleganger, 
                                                 text: &quot;TextSheet_Doppleganger&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="119" name="_doppleganger_quest_sheet" tags="" position="1100,1475" size="100,100">&lt;&lt;set setup.Doppleganger_CorruptionState =
{
    PURE: 0,
    CORRUPTED: 1,
}&gt;&gt;

&lt;&lt;set setup.QuestSheet_Doppleganger =
{
    met: false,
    corruptionState: setup.Doppleganger_CorruptionState.PURE,
    available_encounterPassages_pure: true,
    available_encounterPassages_corrupted: true,
    available_postFightPassagesWin_pure: true,
    available_postFightPassagesWin_corrupted: true,
    available_postFightPassagesLoss_pure: true,
    available_postFightPassagesLoss_corrupted: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="120" name="_doppleganger_story_sheet" tags="" position="1225,1475" size="100,100">&lt;&lt;set setup.StorySheet_Doppleganger = 
{
    encounterPassages:
    {
        pure:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Doppleganger.quest.available_encounterPassages_pure;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Doppleganger.quest.corruptionState == setup.Doppleganger_CorruptionState.PURE;
            },
            passage: &quot;Doppleganger_Intro_Pure&quot;,
        },
        corrupted:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Doppleganger.quest.available_encounterPassages_corrupted;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Doppleganger.quest.corruptionState == setup.Doppleganger_CorruptionState.CORRUPTED;
            },
            passage: &quot;Doppleganger_Intro_Corrupted&quot;,
        },
    },
    postFightPassagesWin:
    {
        pure:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Doppleganger.quest.available_postFightPassagesWin_pure;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Doppleganger.quest.corruptionState == setup.Doppleganger_CorruptionState.PURE;
            },
            passage: &quot;Doppleganger_Win_Pure&quot;,
        },
        corrupted:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Doppleganger.quest.available_postFightPassagesWin_corrupted;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Doppleganger.quest.corruptionState == setup.Doppleganger_CorruptionState.CORRUPTED;
            },
            passage: &quot;Doppleganger_Win_Corrupted&quot;,
        },
    },
    postFightPassagesLoss:
    {
        pure:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Doppleganger.quest.available_postFightPassagesLoss_pure;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Doppleganger.quest.corruptionState == setup.Doppleganger_CorruptionState.PURE;
            },
            passage: &quot;Doppleganger_Loss_Pure&quot;,
        },
        corrupted:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Doppleganger.quest.available_postFightPassagesLoss_corrupted;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Doppleganger.quest.corruptionState == setup.Doppleganger_CorruptionState.CORRUPTED;
            },
            passage: &quot;Doppleganger_Loss_Corrupted&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="121" name="_doppleganger_text_sheet" tags="" position="100,1600" size="100,100">&lt;&lt;set setup.TextSheet_Doppleganger =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="122" name="_dragon_monk_body_visual" tags="" position="225,1600" size="100,100">&lt;&lt;set setup.BodyVisualSheet_MQ002_DragonMonk =
{
    emoteList:
    {
        playful: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Emote_Playful.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Emote_Angy.png&quot;,
        },
        blushing: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Emote_Aroused.png&quot;,
        },
        almostCumming: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Emote_Getting_There.png&quot;,
        },
        cumming: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Emote_Got_There.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Emote_Happy.png&quot;,
        },
    },
    cockList :
    {
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Base.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;DrenthHead&quot;,
            permittedAccessories: 
			[
                {
					visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Chain.png&quot;,
					accessoryClass: &quot;DrenthChains&quot;,
					condition: function(character)
					{
						return character.quest.naked == false;
					},
				},
                {
					visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Hand_and_Gold.png&quot;,
					accessoryClass: &quot;DrenthGold&quot;,
					condition: function(character)
					{
						return true;
					},
				},
                {
					visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Clothing.png&quot;,
					accessoryClass: &quot;DrenthClothes&quot;,
					condition: function(character)
					{
						return character.quest.naked == false;
					},
				},
                {
					visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Cock.png&quot;,
					accessoryClass: &quot;DrenthCock&quot;,
					condition: function(character)
					{
						return character.quest.naked == true;
					},
				},
            ],
            permittedCocks: [],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="123" name="_dragon_monk_fight_sheet" tags="" position="350,1600" size="100,100">&lt;&lt;set setup.FighterSheet_MQ002_DragonMonk =
{
	hp: 700,
	stamina: 0,
	strength: 70,
	critChance: 10,
    critDamage: 1.50,
	arousalGain: 60,
	minArousal: 20,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 12,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.Parry.id, setup.FightMove.DragonStrike.id],
	fightReward: setup.RewardTier.VERY_HIGH,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Quest_MQ002_DragonMonkEncounter_FightIntro&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Quest_MQ002_DragonMonkEncounter_FightStart&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Quest_MQ002_DragonMonkEncounter_PlayerWins&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Quest_MQ002_DragonMonkEncounter_PlayerLoses&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="124" name="_dragon_monk_info_sheet" tags="" position="475,1600" size="100,100">&lt;&lt;set setup.InfoSheet_MQ002_DragonMonk =
{
	name: &quot;Drenth&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_MQ002_DragonMonk&quot;,
	pictureCorrupt: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Drenth/Dragonborn_Corrupted.png&quot;,
	corruption: 300,
	muscles: 60,
	height: 96,
	cock: 13,
	balls: 5,
	raceId: setup.RacePool.DRAGONBORN.id,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.CASTLE,
	anatomy: {
		heads: {
			colour: setup.ColourPool.BLUE,
		},
		eyes: {
			colour: setup.ColourPool.GREEN,
		},
		hands: {
			colour: setup.ColourPool.BLUE,
		},
		wings: {
			colour: setup.ColourPool.BLUE,
		},
		tongues:{
			colour: setup.ColourPool.RED,
		},
		arms: {
			colour: setup.ColourPool.BLUE,
		},
		pecs: {
			colour: setup.ColourPool.BLUE,
		},
		abdominals: {
			colour: setup.ColourPool.BLUE,
		},
		balls: {
			colour: setup.ColourPool.BLUE,
		},
		legs: {
			colour: setup.ColourPool.BLUE,
		},
		tails: {
			colour: setup.ColourPool.BLUE,
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
	alive: true
}&gt;&gt;</tw-passagedata><tw-passagedata pid="125" name="Sheets_MQ002_DragonMonk" tags="" position="600,1600" size="100,100">&lt;&lt;include &quot;_dragon_monk_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_dragon_monk_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_dragon_monk_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_dragon_monk_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_dragon_monk_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_dragon_monk_story_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_MQ002_DragonMonk = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_MQ002_DragonMonk&quot;, 
                                                              info: setup.InfoSheet_MQ002_DragonMonk, 
                                                              fight: setup.FighterSheet_MQ002_DragonMonk, 
                                                              quest: setup.QuestSheet_MQ002_DragonMonk, 
                                                              text: &quot;TextSheet_MQ002_DragonMonk&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="126" name="_dragon_monk_quest_sheet" tags="" position="725,1600" size="100,100">&lt;&lt;set setup.QuestSheet_MQ002_DragonMonk =
{
    met: false,
    threatened: false,
    askedWhoAreYou: false,
    askedWhyAreYouHere: false,
	askedLookingForSomeone: false,
	infected: false,
	infected_GloryRoom: false,
	came_GloryRoom: false,
	naked: false,
	beaten: false,
	beatenCycle: 0,
    available_encounterPassages_firstTime: true,
    available_encounterPassages_main: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="127" name="_dragon_monk_story_sheet" tags="" position="850,1600" size="100,100">&lt;&lt;set setup.StorySheet_MQ002_DragonMonk = 
{
    encounterPassages:
    {
        firstTime_infected:
        {
            available: function()
			{
				return State.variables.CharacterSheet_MQ002_DragonMonk.quest.available_encounterPassages_firstTime;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_MQ002_DragonMonk.quest.infected_GloryRoom;
            },
            passage: &quot;WestWing_DrenthRoom_FirstTime_Infected&quot;,
        },
        firstTime_came:
        {
            available: function()
			{
				return State.variables.CharacterSheet_MQ002_DragonMonk.quest.available_encounterPassages_firstTime;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_MQ002_DragonMonk.quest.came_GloryRoom;
            },
            passage: &quot;WestWing_DrenthRoom_FirstTime_Came&quot;,
        },
        firstTime:
        {
            available: function()
			{
				return State.variables.CharacterSheet_MQ002_DragonMonk.quest.available_encounterPassages_firstTime;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;WestWing_DrenthRoom_FirstTime&quot;,
        },
        main:
        {
            available: function()
			{
				return State.variables.CharacterSheet_MQ002_DragonMonk.quest.available_encounterPassages_main;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Quest_MQ002_Manor_DragonRoom_Enter&quot;,
        },
    },
    gloryHoleStartPassage:
    {
        absent:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_MQ002_DragonMonk.quest.beaten == true || State.variables.CharacterSheet_MQ002_DragonMonk.quest.infected == true;
            },
            passage: &quot;WestWing_GloryHole_Absent&quot;,
        },
        present:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;WestWing_GloryHole_Present&quot;,
        },
    },
    gloryHoleCumPassages:
    {
        infest:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0;
            },
            passage: &quot;WestWing_GloryHole_Infect&quot;,
        },
        clean_gigantic:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return setup.MQ002_Manor_IsCockGiganticInManor(State.variables.CharacterSheet_Player);
            },
            passage: &quot;WestWing_GloryHole_11_Gigantic_Cum&quot;,
        },
        clean_massive:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return setup.MQ002_Manor_IsCockMassiveInManor(State.variables.CharacterSheet_Player);
            },
            passage: &quot;WestWing_GloryHole_11_Massive_Cum&quot;,
        },
        clean_normal:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;WestWing_GloryHole_11_Normal_Cum&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="128" name="_dragon_monk_text_sheet" tags="" position="975,1600" size="100,100">&lt;&lt;set setup.TextSheet_MQ002_DragonMonk =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="129" name="_ethrex_body_visual" tags="" position="1100,1600" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Ethrex =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/EmoteNeutral.png&quot;,
        },
        excited: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/EmoteExcite.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/EmoteDisgust.png&quot;,
        },
        grin: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/EmoteEvilGrin.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/EmoteHappy.png&quot;,
        },
        hooded: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/EmoteMysteryHood.png&quot;,
        },
    },
    cockList :
    {
        robed:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/Clothes.png&quot;,
        },
        naked:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/ErthexCock.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/small/ErthexBase.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;EthrexHead&quot;,
            permittedCocks: 
            [
                {
                    cock: &quot;robed&quot;,
                    cockClass: &quot;EthrexBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == false;
                    },
                },
                {
                    cock: &quot;naked&quot;,
                    cockClass: &quot;EthrexBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == true;
                    },
                },
            ],
        },
    },
}&gt;&gt;


&lt;&lt;set setup.BodyVisualSheet_Ethrex_2 =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_MEmoteGrump.png&quot;,
        },
        blep: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_MEmoteBlep.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_MEmoteMischief.png&quot;,
        },
        grin: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_MEmoteMischief.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_MEmoteHappy.png&quot;,
        },
    },
    cockList :
    {
        naked:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_MPenis.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/medium/Erthex_M.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;EthrexHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;naked&quot;,
                    cockClass: &quot;EthrexBody&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
    },
}&gt;&gt;

&lt;&lt;set setup.BodyVisualSheet_Ethrex_3 =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/large/ErthexLEmoteEvilGrin.png&quot;,
        },
        grin:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/large/ErthexLEmoteAngry.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/large/ErthexLEmoteAngry.png&quot;,
        },
        blep: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/large/ErthexLEmoteBlep.png&quot;,
        },
    },
    cockList :
    {
        naked:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/large/ErthexLPenis.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ethrex/large/ErthexLBase.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;EthrexHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;naked&quot;,
                    cockClass: &quot;EthrexBody&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="130" name="_ethrex_fight_sheet" tags="" position="1225,1600" size="100,100">&lt;&lt;set setup.FighterSheet_Ethrex =
{
	hp: 200,
	stamina: 0,
	strength: 50,
	critChance: 20,
    critDamage: 1.50,
	arousalGain: 20,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 14,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.IncubusCall.id, setup.FightMove.IncubusStrike.id],
	fightReward: setup.RewardTier.MEDIUM,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Ethrex_Container&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Ethrex&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Ethrex_Container&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Ethrex_Container&gt;&gt;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="131" name="_ethrex_info_sheet" tags="" position="100,1725" size="100,100">&lt;&lt;set setup.InfoSheet_Ethrex =
{
	name: &quot;Ethrex&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Ethrex&quot;,
    corruption: 400,
	muscles: 0,
	height: 68,
	cock: 9,
	balls: 4,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.EAST,
	raceId: setup.RacePool.INCUBUS.id,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="132" name="Sheets_Ethrex" tags="" position="225,1725" size="100,100">&lt;&lt;include &quot;_ethrex_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_ethrex_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_ethrex_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_ethrex_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_ethrex_story_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Ethrex = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Ethrex&quot;,
                                                    info: setup.InfoSheet_Ethrex,
                                                    fight: setup.FighterSheet_Ethrex,
                                                    quest: setup.QuestSheet_Ethrex,
                                                    text: undefined})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Ethrex, setup.Ability.VigorOfTheEndowed_2)&gt;&gt;</tw-passagedata><tw-passagedata pid="133" name="_ethrex_quest_sheet" tags="" position="350,1725" size="100,100">&lt;&lt;set setup.QuestSheet_Ethrex =
{
	met: false,
	beatenOnce: false,
	joinedTeam: false,
	givenShard: false,
	cockOut: false,
    progress: setup.EthraxProgress.INITIAL,
	available_LukkaReservoir_QuestHint: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="134" name="_ethrex_story_sheet" tags="" position="475,1725" size="100,100">&lt;&lt;set setup.StorySheet_Ethrex =
{
    encounterPassages:
    {
        joinedTeam:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.joinedTeam == true;
            },
            passage: &quot;Encounter_Intro_Ethrex_Teammate&quot;,
        },
        lordOfLust:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.LORD_OF_LUST;
            },
            passage: &quot;Encounter_Intro_Ethrex_FinalRela&quot;,
        },
        majorDemon:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.MAJOR_DEMON;
            },
            passage: &quot;Encounter_Intro_Ethrex_HighRela&quot;,
        },
        minorDemon:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.MINOR_DEMON;
            },
            passage: &quot;Encounter_Intro_Ethrex_MidRela&quot;,
        },
        lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.met == true;
            },
            passage: &quot;Encounter_Intro_Ethrex_LowRela&quot;,
        },
        firstTime:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.met == false;
            },
            passage: &quot;Encounter_Intro_Ethrex&quot;,
        },
    },
    postFightPassagesWin:
    {
        nyxEnding:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.nyxEnding == true;
            },
            passage: &quot;Encounter_Ethrex_Win_NyxEnding&quot;,
        },
        joinedTeam:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.joinedTeam == true;
            },
            passage: &quot;Encounter_Ethrex_FinalRela_Win_Teammate&quot;,
        },
        shardFight:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid == true &amp;&amp; State.variables.CharacterSheet_Ethrex.quest.givenShard == false;
            },
            passage: &quot;Encounter_Ethrex_Shard_Fight_Win&quot;,
        },
        lukkaReservoirHint:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Ethrex.quest.available_LukkaReservoir_QuestHint;
			},
            condition: function()
            {
                return setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_LukkasBox&quot;);
            },
            passage: &quot;Ethrex_LukkaReservoir_QuestHint&quot;,
        },
        lordOfLust:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.LORD_OF_LUST;
            },
            passage: &quot;Encounter_Ethrex_FinalRela_Win&quot;,
        },
        majorDemon:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.MAJOR_DEMON;
            },
            passage: &quot;Encounter_Ethrex_HighRela_Win&quot;,
        },
        minorDemon:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.MINOR_DEMON;
            },
            passage: &quot;Encounter_Ethrex_MidRela_Win&quot;,
        },
        lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Intro_Ethrex_LowRela_Win&quot;,
        },
    },
    postFightPassagesLoss:
    {
        nyxEnding:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.nyxEnding == true;
            },
            passage: &quot;Encounter_Ethrex_Loss_NyxEnding&quot;,
        },
        lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Loss_Ethrex_0&quot;,
        },
    },
    encounterLossFlavour:
    {
		lordOfLust:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.LORD_OF_LUST;
            },
            passage: &quot;Encounter_Loss_Ethrex_0_Flavour_LordOfLust&quot;,
        },
		majorDemon:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.MAJOR_DEMON;
            },
            passage: &quot;Encounter_Loss_Ethrex_0_Flavour_MajorDemon&quot;,
        },
		minorDemon:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.progress == setup.EthraxProgress.MINOR_DEMON;
            },
            passage: &quot;Encounter_Loss_Ethrex_0_Flavour_MinorDemon&quot;,
        },
		lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Loss_Ethrex_0_Flavour_LowRela&quot;,
        },
	},
	encounterIntroFirstTimeFlavour:
    {
		giant:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;height&quot;) &gt; 12 * 12;
            },
            passage: &quot;Encounter_Intro_Ethrex_Giant&quot;,
        },
		corrupt:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return (setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt;= 75);
            },
            passage: &quot;Encounter_Intro_Ethrex_Corrupt&quot;,
        },
		normal:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Intro_Ethrex_Default&quot;,
        },
	},
    encounterFinalTeammateJoin:
    {
		solo:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.joinedTeam == false;
            },
            passage: &quot;Encounter_Ethrex_FinalRela_Win_Solo&quot;,
        },
		teammate:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Ethrex.quest.joinedTeam == true;
            },
            passage: &quot;Encounter_Ethrex_FinalRela_Win_Teammate&quot;,
        },
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="135" name="_god_beast_fight_sheet" tags="" position="600,1725" size="100,100">&lt;&lt;set setup.FighterSheet_God_Beast =
{
	hp: 50000,
	stamina: 420,
	strength: 34000,
	critChance: 69,
    critDamage: 3,
	arousalGain: 40,
	minArousal: 50,
    growthMultiplier: 99,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 80,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.DragonStrike.id],
	fightReward: setup.RewardTier.VERY_HIGH,
	canMimic: false,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_God_Beast&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_God_Beast&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_God_Beast&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_God_Beast&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="136" name="_god_beast_info_sheet" tags="" position="725,1725" size="100,100">&lt;&lt;set setup.InfoSheet_God_Beast =
{
	name: &quot;God-Beast&quot;,
	gender: &quot;MASC&quot;,
    corruption: 0,
	muscles: 35000,
	height: 680000000,
	cock: 90000000,
	balls: 40000000,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.NONE,
	raceId: setup.RacePool.BEHEMOTH.id,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="137" name="Sheets_God_Beast" tags="" position="850,1725" size="100,100">&lt;&lt;include &quot;_god_beast_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_god_beast_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_god_beast_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_God_Beast = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_God_Beast&quot;,
                                                    info: setup.InfoSheet_God_Beast,
                                                    fight: setup.FighterSheet_God_Beast,
                                                    quest: setup.QuestSheet_God_Beast,
                                                    text: undefined})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability_VigorOfTheEndowed_2)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.setAbilityRank($CharacterSheet_God_Beast, setup.Ability.AppetiteForGrowth_2, &#39;max&#39;)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.CodexPassion)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.UnstoppableExpansion)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.FaithsReward)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.OrgasmicGrowth)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.Oath_Containment)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.NeverendingGrowth)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.LastStand)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_God_Beast, setup.Ability.HerculeanBuild)&gt;&gt;</tw-passagedata><tw-passagedata pid="138" name="_god_beast_quest_sheet" tags="" position="975,1725" size="100,100">&lt;&lt;set setup.QuestSheet_God_Beast =
{
	beatenOnce: false,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="139" name="_herald_fight_sheet" tags="" position="1100,1725" size="100,100">&lt;&lt;set setup.FighterSheet_Herald =
{
	hp: 500,
	stamina: 0,
	strength: 90,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 20,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.DragonStrike.id, setup.FightMove.Basic_Attack.id, setup.FightMove_HeraldsDevotion.id],
	fightReward: setup.RewardTier.VERY_LOW,
	canMimic: false,
	encounterIntroText: &quot;&quot;,
	encounterStartText: &quot;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Village_Herald_Win&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Village_Herald_Loss&gt;&gt;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="140" name="_herald_info_sheet" tags="" position="1225,1725" size="100,100">&lt;&lt;set setup.InfoSheet_Herald =
{
	name: &quot;The Herald&quot;,
	gender: &quot;MASC&quot;,
	corruption: 0,
	muscles: 60,
	height: 98,
	cock: 12,
	balls: 6,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.VILLAGE,
	raceId: setup.RacePool.WOLF.id,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="141" name="Sheets_Herald" tags="" position="100,1850" size="100,100">&lt;&lt;include &quot;_herald_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_herald_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_herald_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_herald_quest_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Herald = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Herald&quot;, 
                                                 info: setup.InfoSheet_Herald, 
                                                 fight: setup.FighterSheet_Herald, 
                                                 quest: setup.QuestSheet_Herald, 
                                                 text: &quot;TextSheet_Herald&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="142" name="_herald_quest_sheet" tags="" position="225,1850" size="100,100">&lt;&lt;set setup.QuestSheet_Herald =
{
    met: false,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="143" name="_herald_text_sheet" tags="" position="350,1850" size="100,100">&lt;&lt;set setup.TextSheet_Herald =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="144" name="_imp_audio" tags="" position="475,1850" size="100,100">&lt;&lt;set setup.AudioSheet_Imp =
{
    voice:
    {
        playlist:
        {
            title: &quot;characterVoice_Imp&quot;,
            tracks:
            {
                arousal_1_Size_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Imp_A1_S1&quot;
                },
                arousal_2_Size_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Imp_A2_S1&quot;
                },
                arousal_3_Size_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Imp_A3_S1&quot;
                },
                arousal_4_Size_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Imp_A4_S1&quot;
                },
                arousal_5_Size_1:
                {
                    tags: [&quot;arousal_5&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Imp_A5_S1&quot;
                },
                arousal_1_Size_2:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Imp_A1_S2&quot;
                },
                arousal_2_Size_2:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Imp_A2_S2&quot;
                },
                arousal_3_Size_2:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Imp_A3_S2&quot;
                },
                arousal_4_Size_2:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Imp_A4_S2&quot;
                },
                arousal_5_Size_2:
                {
                    tags: [&quot;arousal_5&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Imp_A5_S2&quot;
                },
                arousal_1_Size_3:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Imp_A1_S3&quot;
                },
                arousal_2_Size_3:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Imp_A2_S3&quot;
                },
                arousal_3_Size_3:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Imp_A3_S3&quot;
                },
                arousal_4_Size_3:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Imp_A4_S3&quot;
                },
                arousal_5_Size_3:
                {
                    tags: [&quot;arousal_5&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Imp_A5_S3&quot;
                },
            },
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="145" name="_imp_body_visual" tags="" position="600,1850" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Imp =
{
    emoteList:
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Emote_Grin.png&quot;,
        },
        angry:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Emote_Annoyed.png&quot;,
        },
        cumming:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Emote_Flustered.png&quot;,
        },
    },
    cockList :
    {
        small:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Cock.png&quot;,
        },
        medium:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Cock_Medium.png&quot;,
        },
    },
    bodyList :
    {
        small:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Base.png&quot;,
            condition: function(character)
            {
                var size = setup.getStatValue(character, &quot;height&quot;);
                return size &lt; 12 * 7;
            },
            headClass: &quot;ImpSmallBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;small&quot;,
                    cockClass: &quot;ImpSmallBody2Cock&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
        medium:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Imp_Medium.png&quot;,
            condition: function(character)
            {
                var size = setup.getStatValue(character, &quot;height&quot;);
                return size &gt;= 12 * 7;
            },
            headClass: &quot;ImpMediumBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;medium&quot;,
                    cockClass: &quot;ImpMediumBody3Cock&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
    },
}&gt;&gt;



&lt;&lt;set setup.BodyVisualSheet_Final_Imp =
{
    emoteList:
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Large_Imp_Emote_Grin.png&quot;,
        },
        angry:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Large_Imp_Emote_Worried.png&quot;,
        },
        cumming:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Large_Imp_Emote_Horny.png&quot;,
        },
    },
    cockList :
    {
        small:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Large_Imp_Med_Penis.png&quot;,
        },
        medium:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Large_Imp_Large_Penis.png&quot;,
        },
    },
    bodyList :
    {
        final:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Imp/Wint/Large_Imp_Body.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;ImpSmallBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;small&quot;,
                    cockClass: &quot;ImpSmallBody2Cock&quot;,
                    condition: function(character)
                    {
                        let comp = setup.Size.compareSelf(character, &#39;cock&#39;, &#39;height&#39;);
                        return comp &lt; setup.Size.Comparators.EQUAL;
                    },
                },
                {
                    cock: &quot;medium&quot;,
                    cockClass: &quot;ImpMediumBody3Cock&quot;,
                    condition: function(character)
                    {
                        let comp = setup.Size.compareSelf(character, &#39;cock&#39;, &#39;height&#39;);
                        return comp &gt;= setup.Size.Comparators.EQUAL;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="146" name="_imp_fight_sheet" tags="" position="725,1850" size="100,100">&lt;&lt;set setup.FighterSheet_Imp =
{
	hp: 64,
	stamina: 0,
	strength: 20,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 20,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 4,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.PridefulAscent.id],
	fightReward: setup.RewardTier.VERY_LOW,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Imp&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Imp&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Imp&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Imp&gt;&gt;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="147" name="_imp_info_sheet" tags="" position="850,1850" size="100,100">&lt;&lt;set setup.InfoSheet_Imp =
{
	name: &quot;Imp&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Imp&quot;,
	audioSheet: &quot;AudioSheet_Imp&quot;,
	corruption: 100,
	muscles: 0,
	height: 48,
	cock: 10,
	balls: 3,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.NORTH,
	raceId: setup.RacePool.INCUBUS.id,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="148" name="Sheets_Imp" tags="" position="975,1850" size="100,100">&lt;&lt;include &quot;_imp_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_imp_audio&quot;&gt;&gt;
&lt;&lt;include &quot;_imp_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_imp_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_imp_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_imp_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_imp_story_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Imp = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Imp&quot;,
                                                 info: setup.InfoSheet_Imp,
                                                 fight: setup.FighterSheet_Imp,
                                                 quest: setup.QuestSheet_Imp,
                                                 text: &quot;TextSheet_Imp&quot;})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Imp, setup.Ability.UntappedPotential)&gt;&gt;</tw-passagedata><tw-passagedata pid="149" name="_imp_quest_sheet" tags="" position="1100,1850" size="100,100">&lt;&lt;set setup.StorylineProgress_Imp = 
{
    FIRST_MEETING:    0,
    LOW_RELATIONSHIP: 1000,
    MID_RELATIONSHIP: 2000,
    SERVANT:          3000,
    MASTER:           4000,
}&gt;&gt;

&lt;&lt;set setup.QuestSheet_Imp =
{
    met: false,
    storylineProgress: setup.StorylineProgress_Imp.FIRST_MEETING,
    relationshipScoring: 0,
    servantScoring: 0,
    servantWins: 3,
    servantLosses: 3,
    masterScoring: 0,
    lostScoring: 0,
    growthMultiplier: 1,
    knowsAboutNyx: false,
    ascended: false,
    available_encounterPassages_teammate: true,
    available_encounterPassages_nyxHint: true,
    available_encounterPassages_servant: true,
    available_encounterPassages_growthBodyMediumToLarge: true,
    available_encounterPassages_growthCock1to2: true,
    available_encounterPassages_growthCock2to3: true,
    available_encounterPassages_growthCock3to4: true,
    available_encounterPassages_growthCock4to5: true,
    available_encounterPassages_growthCock5to6: true,
    available_encounterPassages_midRela: true,
    available_encounterPassages_lowRela: true,
    available_encounterPassages_firstTime: true,
    available_postFightPassagesLoss_lowRelaIdle: true,
    available_postFightPassagesLoss_midRelaIdle: true,
    available_postFightPassagesLoss_servantChoice: true,
    available_postFightPassagesLoss_masterPath: true,
    available_postFightPassagesLoss_servantPath: true,
    available_postFightPassagesLoss_ascended: true,
    available_postFightPassagesWin_lowRelaIdle: true,
    available_postFightPassagesWin_midRelaIdle: true,
    available_postFightPassagesWin_lowRelaEnterMidRela: true,
    available_postFightPassagesWin_masterChoice: true,
    available_postFightPassagesWin_masterPath: true,
    available_postFightPassagesWin_servantPath: true,
    available_postFightPassagesWin_ascended: true,
    available_LukkaReservoir_QuestHint: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="150" name="_imp_story_sheet" tags="" position="1225,1850" size="100,100">&lt;&lt;set setup.StorySheet_Imp =
{
    encounterPassages:
    {
        firstTime:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_firstTime;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Imp_FirstMeeting_Intro&quot;,
        },
        teammate_exiled:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_teammate &amp;&amp; State.variables.CharacterSheet_Player.quest.corruptionVillageExiled;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes(&quot;CharacterSheet_Imp&quot;);
            },
            passage: &quot;Exiled_GoMeetImp&quot;,
        },
        teammate:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_teammate &amp;&amp; !State.variables.CharacterSheet_Player.quest.corruptionVillageExiled;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes(&quot;CharacterSheet_Imp&quot;);
            },
            passage: &quot;Village_GoMeetImp&quot;,
        },
        nyxHint:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_nyxHint;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.knowsAboutNyx &amp;&amp; !State.variables.CharacterSheet_Imp.quest.knowsAboutNyx &amp;&amp; State.variables.CharacterSheet_Imp.quest.storylineProgress == setup.StorylineProgress_Imp.SERVANT;
            },
            passage: &quot;Imp_ServantPath_NyxHint&quot;,
        },
        servant:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_servant;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.storylineProgress == setup.StorylineProgress_Imp.SERVANT;
            },
            passage: &quot;Imp_Servant_EncounterStart&quot;,
        },
        growthBodyMediumToLarge:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_growthBodyMediumToLarge;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Imp, &quot;height&quot;) &gt;= 12 * 7;
            },
            passage: &quot;Imp_EncounterStart_Growth_Body_MediumToLarge&quot;,
        },
        growthCock1to2:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_growthCock1to2;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Imp, &quot;cock&quot;) &gt; 12 * 2;
            },
            passage: &quot;Imp_EncounterStart_Growth_Cock_1To2&quot;,
        },
        growthCock2to3:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_growthCock2to3;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Imp, &quot;cock&quot;) &gt; 12 * 5;
            },
            passage: &quot;Imp_EncounterStart_Growth_Cock_2To3&quot;,
        },
        growthCock3to4:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_growthCock3to4;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Imp, &quot;cock&quot;) &gt; 12 * 12;
            },
            passage: &quot;Imp_EncounterStart_Growth_Cock_3To4&quot;,
        },
        growthCock4to5:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_growthCock4to5;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Imp, &quot;cock&quot;) &gt; 12 * 25;
            },
            passage: &quot;Imp_EncounterStart_Growth_Cock_4To5&quot;,
        },
        growthCock5to6:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_growthCock5to6;
			},
            condition: function()
            {
                return setup.getStatValue(State.variables.CharacterSheet_Imp, &quot;cock&quot;) &gt; 12 * 50 &amp;&amp; setup.Size.compareSelf(character, &#39;cock&#39;, &#39;height&#39;) &gt;= setup.Size.Comparators.EQUAL;
            },
            passage: &quot;Imp_EncounterStart_Growth_Cock_5To6&quot;,
        },
        midRela:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_midRela;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.relationshipScoring &gt;= 3;
            },
            passage: &quot;Imp_Mid_Rela_EncounterStart&quot;,
        },
        lowRela:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_encounterPassages_lowRela;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Imp_Low_Rela_EncounterStart&quot;,
        },
    },
    postFightPassagesWin:
    {
        lukkaReservoirHint:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_LukkaReservoir_QuestHint;
			},
            condition: function()
            {
                return setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_LukkasBox&quot;);
            },
            passage: &quot;Imp_LukkaReservoir_QuestHint&quot;,
        },
        ascended:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesWin_ascended;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.ascended == true;
            },
            passage: &quot;Quest_MQ002_ApothusRealm_ImpInvasion_Win&quot;,
        },
        servantPath:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesWin_servantPath;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.storylineProgress == setup.StorylineProgress_Imp.SERVANT;
            },
            passage: &quot;Imp_Win_ServantPath&quot;,
        },
        masterPath:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesWin_masterPath;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.storylineProgress == setup.StorylineProgress_Imp.MASTER;
            },
            passage: &quot;Imp_Win_MasterPath&quot;,
        },
        masterChoice:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesWin_masterChoice;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.relationshipScoring &gt;= 8 &amp;&amp; (State.variables.CharacterSheet_Imp.quest.servantScoring &gt;= 3 || State.variables.CharacterSheet_Imp.quest.masterScoring &gt;= 3);
            },
            passage: &quot;Imp_MasterChoice&quot;,
        },
        lowRelaEnterMidRela:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesWin_lowRelaEnterMidRela;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.relationshipScoring &gt;= 3;
            },
            passage: &quot;Imp_Low_Rela_Win_EnterMidRela&quot;,
        },
        midRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesWin_midRelaIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.relationshipScoring &gt;= 3;
            },
            passage: &quot;Imp_Mid_Rela_Win_Idle&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesWin_lowRelaIdle;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Imp_Low_Rela_Win_Idle&quot;,
        },
    },
    postFightPassagesLoss:
    {
        ascended:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesLoss_ascended;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.ascended == true;
            },
            passage: &quot;Quest_MQ002_ApothusRealm_ImpInvasion_Loss&quot;,
        },
        servantPath:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesLoss_servantPath;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.storylineProgress == setup.StorylineProgress_Imp.SERVANT;
            },
            passage: &quot;Imp_Loss_ServantPath&quot;,
        },
        masterPath:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesLoss_masterPath;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.storylineProgress == setup.StorylineProgress_Imp.MASTER;
            },
            passage: &quot;Imp_Loss_MasterPath&quot;,
        },
        servantChoice:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesLoss_servantChoice;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.relationshipScoring &gt;= 6 &amp;&amp; (State.variables.CharacterSheet_Imp.quest.servantScoring &gt;= 3 || State.variables.CharacterSheet_Imp.quest.masterScoring &gt;= 3);
            },
            passage: &quot;Imp_Loss_ServantChoice&quot;,
        },
        midRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesLoss_midRelaIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Imp.quest.relationshipScoring &gt;= 3;
            },
            passage: &quot;Imp_Mid_Rela_Loss_Idle&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Imp.quest.available_postFightPassagesLoss_lowRelaIdle;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Imp_Low_Rela_Loss_Idle&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="151" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_1" tags="" position="100,1975" size="100,100">is grining mischieviously, looking for an opportunity to attack.</tw-passagedata><tw-passagedata pid="152" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_2" tags="" position="225,1975" size="100,100">flutters about in the air, waiting to strike.</tw-passagedata><tw-passagedata pid="153" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_3" tags="" position="350,1975" size="100,100">is licking its lips, staring at you like you&#39;re his next meal.</tw-passagedata><tw-passagedata pid="154" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_4" tags="" position="475,1975" size="100,100">runs a finger down his chest, taunting you.

/* Medium */</tw-passagedata><tw-passagedata pid="155" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_medium_1" tags="" position="600,1975" size="100,100">rolls his boulder like shoulders, ready to strike.</tw-passagedata><tw-passagedata pid="156" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_medium_2" tags="" position="725,1975" size="100,100">is stretching his limbs, ready to wrestle with you.</tw-passagedata><tw-passagedata pid="157" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_medium_3" tags="" position="850,1975" size="100,100">lets his tongue slither over his pecs as he stares you down.

/* Large */</tw-passagedata><tw-passagedata pid="158" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_large_1" tags="" position="975,1975" size="100,100">growls with powerful brassy tones. He is itching to tussle with you.</tw-passagedata><tw-passagedata pid="159" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_large_2" tags="" position="1100,1975" size="100,100">slurps up cascading rivulets of drool. His powerful form bends in anticipation of your next move.</tw-passagedata><tw-passagedata pid="160" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_large_3" tags="" position="1225,1975" size="100,100">rakes his large feet across the ground, ready to charge.

/* Huge */</tw-passagedata><tw-passagedata pid="161" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_huge_1" tags="" position="100,2100" size="100,100">flexes gargantuan muscles, letting you know exactly where you stand.</tw-passagedata><tw-passagedata pid="162" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_huge_2" tags="" position="225,2100" size="100,100">stomps his massive feet as he readies himself for combat. The earth quivers.</tw-passagedata><tw-passagedata pid="163" name="_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_huge_3" tags="" position="350,2100" size="100,100">cracks his massive knuckles, they sound like thunder across the battlefield.

/*----------------Encounter Star Flavour--------------------*/
/* Small */</tw-passagedata><tw-passagedata pid="164" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_small_1" tags="" position="475,2100" size="100,100">The small wily imp seems to have a trick or two planned for you.</tw-passagedata><tw-passagedata pid="165" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_small_2" tags="" position="600,2100" size="100,100">The small demon looks at your body, hungrily.</tw-passagedata><tw-passagedata pid="166" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_small_3" tags="" position="725,2100" size="100,100">The tiny demon looks you up and down, sizing you up.</tw-passagedata><tw-passagedata pid="167" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_small_4" tags="" position="850,2100" size="100,100">The small imp zips around in wild loops, clearly excited for its next meal.

/* Medium */</tw-passagedata><tw-passagedata pid="168" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_medium_1" tags="" position="975,2100" size="100,100">rolls his boulder like shoulders, ready to strike.</tw-passagedata><tw-passagedata pid="169" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_medium_2" tags="" position="1100,2100" size="100,100">is stretching his limbs, ready to wrestle with you.</tw-passagedata><tw-passagedata pid="170" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_medium_3" tags="" position="1225,2100" size="100,100">lets his tongue slither over his pecs as he stares you down.

/* Large */</tw-passagedata><tw-passagedata pid="171" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_large_1" tags="" position="100,2225" size="100,100">growls with powerful brassy tones. He is itching to tussle with you.</tw-passagedata><tw-passagedata pid="172" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_large_2" tags="" position="225,2225" size="100,100">slurps up cascading rivulets of drool. His powerful form bends in anticipation of your next move.</tw-passagedata><tw-passagedata pid="173" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_large_3" tags="" position="350,2225" size="100,100">rakes his large feet across the ground, ready to charge.

/* Huge */</tw-passagedata><tw-passagedata pid="174" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_huge_1" tags="" position="475,2225" size="100,100">flexes gargantuan muscles, letting you know exactly where you stand.</tw-passagedata><tw-passagedata pid="175" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_huge_2" tags="" position="600,2225" size="100,100">stomps his massive feet as he readies himself for combat. The earth quivers.</tw-passagedata><tw-passagedata pid="176" name="_imp_text_sheet_encounterStartFlavour_heightFlavour_huge_3" tags="" position="725,2225" size="100,100">cracks his massive knuckles, they sound like thunder across the battlefield.</tw-passagedata><tw-passagedata pid="177" name="_imp_text_sheet" tags="" position="850,2225" size="100,100">/*---------------------Flavour Decision Tree-----------------------*/
&lt;&lt;set setup.TextSheet_Imp =
{	
	Village_GoMeetImp_Intro :{
		heightFlavour: {
			small: [
				&quot;Village_GoMeetImp_heightFlavour_small&quot;,
			],
			medium: [
				&quot;Village_GoMeetImp_heightFlavour_small&quot;,
			],
			large: [
				&quot;Village_GoMeetImp_heightFlavour_large&quot;,
			],
			huge: [
				&quot;Village_GoMeetImp_heightFlavour_huge&quot;,
			],
		},
	},
	goMeetImp_Height :{
		heightFlavour: {
			small: [
				&quot;Teammate_Imp_Examine_Size_Small&quot;,
			],
			medium: [
				&quot;Teammate_Imp_Examine_Size_Small&quot;,
			],
			large: [
				&quot;Teammate_Imp_Examine_Size_Large&quot;,
			],
			huge: [
				&quot;Teammate_Imp_Examine_Size_Huge&quot;,
			],
		},
	},
	goMeetImp_Muscles :{
		heightFlavour: {
			small: [
				&quot;Teammate_Imp_Examine_Muscles_Small&quot;,
			],
			medium: [
				&quot;Teammate_Imp_Examine_Muscles_Small&quot;,
			],
			large: [
				&quot;Teammate_Imp_Examine_Muscles_Large&quot;,
			],
			huge: [
				&quot;Teammate_Imp_Examine_Muscles_Huge&quot;,
			],
		},
	},
	goMeetImp_Genitals :{
		heightFlavour: {
			small: [
				&quot;Teammate_Imp_Examine_Genitals_Small&quot;,
			],
			medium: [
				&quot;Teammate_Imp_Examine_Genitals_Small&quot;,
			],
			large: [
				&quot;Teammate_Imp_Examine_Genitals_Large&quot;,
			],
			huge: [
				&quot;Teammate_Imp_Examine_Genitals_Huge&quot;,
			],
		},
	},
	leaveImp :{
		heightFlavour: {
			small: [
				&quot;Teammate_Imp_Leave_Small&quot;,
			],
			medium: [
				&quot;Teammate_Imp_Leave_Small&quot;,
			],
			large: [
				&quot;Teammate_Imp_Leave_Large&quot;,
			],
			huge: [
				&quot;Teammate_Imp_Leave_Huge&quot;,
			],
		},
	},
	goMeetImp_GrowImp :{
		heightFlavour: {
			small: [
				&quot;Teammate_Imp_GrowHim_Large&quot;,
			],
			medium: [
				&quot;Teammate_Imp_GrowHim_Large&quot;,
			],
			large: [
				&quot;Teammate_Imp_GrowHim_Large&quot;,
			],
			huge: [
				&quot;Teammate_Imp_GrowHim_Huge&quot;,
			],
		},
	},
	basicAttackPrepFlavour :{
		heightFlavour: {
			small: [
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_1&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_2&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_3&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_small_4&quot;,
			],
			medium: [
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_medium_1&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_medium_2&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_medium_3&quot;,
			],
			large: [
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_large_1&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_large_2&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_large_3&quot;,
			],
			huge: [
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_huge_1&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_huge_2&quot;,
				&quot;_imp_text_sheet_basicAttackPrepFlavour_heightFlavour_huge_3&quot;,
			],
		},
	},
	encounterStartFlavour :{
		heightFlavour: {
			small: [
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_small_1&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_small_2&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_small_3&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_small_4&quot;,
			],
			medium: [
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_medium_1&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_medium_2&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_medium_3&quot;,
			],
			large: [
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_large_1&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_large_2&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_large_3&quot;,
			],
			huge: [
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_huge_1&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_huge_2&quot;,
				&quot;_imp_text_sheet_encounterStartFlavour_heightFlavour_huge_3&quot;,
			],
		},
	}
}&gt;&gt;</tw-passagedata><tw-passagedata pid="178" name="_jorm_fight_sheet" tags="" position="975,2225" size="100,100">&lt;&lt;set setup.FightSheet_Jorm =
{
    hp: 180,
	stamina: 0,
	strength: 45,
	critChance: 20,
    critDamage: 1.50,
	arousalGain: 20,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 14,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id],
	fightReward: setup.RewardTier.HIGH,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Jorm&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Lost_Naga&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Lost_Naga&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Lost_Naga_1&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="179" name="_jorm_info_sheet" tags="" position="1100,2225" size="100,100">&lt;&lt;set setup.InfoSheet_Jorm =
{
    name: &quot;Jorm&quot;,
	gender: &quot;MASC&quot;,
    corruption: 1000,
	muscles: 80,
	height: 1260,
	cock: 300,
	balls: 100,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.NONE, /* TODO: REINTRODUCE JORM */
	raceId: setup.RacePool.NAGA.id,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
	alive: true,

}&gt;&gt;</tw-passagedata><tw-passagedata pid="180" name="Sheets_Jorm" tags="" position="1225,2225" size="100,100">&lt;&lt;include &quot;_jorm_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_jorm_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_jorm_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_jorm_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_jorm_story_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Jorm = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Jorm&quot;, 
                                                 info: setup.InfoSheet_Jorm, 
                                                 fight: setup.FightSheet_Jorm, 
                                                 quest: setup.QuestSheet_Jorm, 
                                                 text: &quot;TextSheet_Jorm&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="181" name="_jorm_quest_sheet" tags="" position="100,2350" size="100,100">&lt;&lt;set setup.QuestSheet_Jorm =
{	
    available_encounterPassages_firstTime: true,
    available_encounterPassages_jormPostNameSetup: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="182" name="_jorm_story_sheet" tags="" position="225,2350" size="100,100">&lt;&lt;set setup.StorySheet_Jorm =
{	
    encounterPassages:
    {
        firstTime:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Jorm.quest.available_encounterPassages_firstTime;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Jorm_FirstMeeting_Intro&quot;,
        },
        jormPostNameSetup:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Jorm.quest.available_encounterPassages_jormPostNameSetup;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Jorm_PostNamingPrompt&quot;,
        },
    }
}&gt;&gt;</tw-passagedata><tw-passagedata pid="183" name="_jorm_text_sheet" tags="" position="350,2350" size="100,100">&lt;&lt;set setup.TextSheet_Jorm =
{	
    
}&gt;&gt;</tw-passagedata><tw-passagedata pid="184" name="_lost_entity_fight_sheet" tags="" position="475,2350" size="100,100">&lt;&lt;set setup.FighterSheet_Lost_Entity =
{
	hp: 164,
	stamina: 0,
	strength: 35,
	critChance: 20,
    critDamage: 1.50,
	arousalGain: 20,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 8,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.Infest.id],
	fightReward: setup.RewardTier.HIGH,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Lost_Entity&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Lost_Entity&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Lost_Entity&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Lost_Entity&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="185" name="_lost_entity_info_sheet" tags="" position="600,2350" size="100,100">&lt;&lt;set setup.InfoSheet_Lost_Entity =
{
	name: &quot;Lost Entity&quot;,
	gender: &quot;MASC&quot;,
    corruption: 700,
	muscles: 30,
	height: 90,
	cock: 23,
	balls: 8,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.EAST,
	raceId: setup.RacePool.DEFAULT.id,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
    isGeneralCharacter: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="186" name="Sheets_Lost_Entity" tags="" position="725,2350" size="100,100">&lt;&lt;include &quot;_lost_entity_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_entity_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_entity_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_entity_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Lost_Entity = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Lost_Entity&quot;,
                                                         info: setup.InfoSheet_Lost_Entity,
                                                         fight: setup.FighterSheet_Lost_Entity,
                                                         quest: setup.QuestSheet_Lost_Entity,
                                                         text: &quot;TextSheet_Lost_Entity&quot;})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Lost_Entity, setup.Ability.HerculeanBuild)&gt;&gt;
&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Lost_Entity, setup.Ability_NeverendingGrowth)&gt;&gt;</tw-passagedata><tw-passagedata pid="187" name="_lost_entity_quest_sheet" tags="" position="850,2350" size="100,100">&lt;&lt;set setup.QuestSheet_Lost_Entity =
{
	met: false,
	beatenOnce: false
}&gt;&gt;</tw-passagedata><tw-passagedata pid="188" name="_lost_entity_text_sheet" tags="" position="975,2350" size="100,100">&lt;&lt;set setup.TextSheet_Lost_Entity =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="189" name="_lost_harbinger_fight_sheet" tags="" position="1100,2350" size="100,100">&lt;&lt;set setup.FightSheet_Lost_Harbinger =
{
	hp: 80,
	stamina: 0,
	strength: 10,
	critChance: 30,
    critDamage: 1.50,
	arousalGain: 10,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 2,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.Infest.id],
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Harbinger&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="190" name="_lost_harbinger_info_sheet" tags="" position="1225,2350" size="100,100">&lt;&lt;set setup.InfoSheet_Lost_Harbinger =
{
	name: &quot;Lost Harbinger&quot;,
	gender: &quot;MASC&quot;,
	corruption: 1000,
	muscles: 30,
	height: 90,
	cock: 23,
	alive: false,
	raceId: setup.RacePool.DEFAULT.id,
	location: setup.LOCATIONS.NONE,
	anatomy: {
		heads: {
			number: 1,
			colour: setup.ColourPool.DEFAULT
		},
		tongues:{
			number: 2,
			colour: setup.ColourPool.VIOLET
		},
		arms: {
			number: 4,
		},
		abdominals: {
			number: 10,
		},
		cocks: {
			number: 2,
		},
		balls: {
			number: 4,
		},
		tails: {
			number: 2,
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="191" name="Sheets_Lost_Harbinger" tags="" position="100,2475" size="100,100">&lt;&lt;include &quot;_lost_harbinger_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_harbinger_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_harbinger_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_harbinger_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Lost_Harbinger = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Lost_Harbinger&quot;, 
                                                            info: setup.InfoSheet_Lost_Harbinger,
                                                            fight: setup.FightSheet_Lost_Harbinger,
                                                            quest: setup.QuestSheet_Lost_Harbinger,
                                                            text: &quot;TextSheet_Lost_Harbinger&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="192" name="_lost_harbinger_quest_sheet" tags="" position="225,2475" size="100,100">&lt;&lt;set setup.QuestSheet_Lost_Harbinger =
{
	met: false,
	harbingerName: undefined,
	harbingerRace: undefined
}&gt;&gt;</tw-passagedata><tw-passagedata pid="193" name="_lost_harbinger_text_sheet" tags="" position="350,2475" size="100,100">&lt;&lt;set setup.TextSheet_Lost_Harbinger =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="194" name="_lost_naga_audio" tags="" position="475,2475" size="100,100">&lt;&lt;set setup.AudioSheet_Lost_Naga =
{
    voice:
    {
        playlist:
        {
            title: &quot;characterVoice_Lost_Naga&quot;,
            tracks:
            {
                arousal_1_Size_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_1&quot;],
                    track: &quot;Lost_Naga_Idle_S1_A1&quot;
                },
                arousal_2_Size_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_1&quot;],
                    track: &quot;Lost_Naga_Idle_S1_A2&quot;
                },
                arousal_3_Size_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_1&quot;],
                    track: &quot;Lost_Naga_Idle_S1_A3&quot;
                },
                arousal_0_Size_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_1&quot;],
                    track: &quot;Lost_Naga_Idle_S1_A0&quot;
                },
                arousal_1_Size_2:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_2&quot;],
                    track: &quot;Lost_Naga_Idle_S2_A1&quot;
                },
                arousal_2_Size_2:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_2&quot;],
                    track: &quot;Lost_Naga_Idle_S2_A2&quot;
                },
                arousal_3_Size_2:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_2&quot;],
                    track: &quot;Lost_Naga_Idle_S2_A3&quot;
                },
                arousal_0_Size_2:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_2&quot;],
                    track: &quot;Lost_Naga_Idle_S2_A0&quot;
                },
                arousal_1_Size_3:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Lost_Naga_Idle_S3_A1&quot;
                },
                arousal_2_Size_3:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Lost_Naga_Idle_S3_A2&quot;
                },
                arousal_3_Size_3:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Lost_Naga_Idle_S3_A3&quot;
                },
                arousal_0_Size_3:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Lost_Naga_Idle_S3_A0&quot;
                },
            },
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="195" name="_lost_naga_body_visual" tags="" position="600,2475" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Lost_Naga =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostNaga/Lost_Naga_Smile.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostNaga/Lost_Naga_Open_Mouth.png&quot;,
        },
        worried: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostNaga/Lost_Naga_Huh.png&quot;,
        },
        tongue: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostNaga/Lost_Naga_Tongue.png&quot;,
        },
    },
    cockList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostNaga/Lost_Naga_Cock.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostNaga/Lost_Naga_Base.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;LostNagaHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;normal&quot;,
                    cockClass: &quot;LostNagaBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == true;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="196" name="_lost_naga_fight_sheet" tags="" position="725,2475" size="100,100">&lt;&lt;set setup.FighterSheet_Lost_Naga =
{
	hp: 500,
	stamina: 0,
	strength: 70,
	critChance: 20,
    critDamage: 1.50,
	arousalGain: 20,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 14,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.Infest.id, setup.FightMove.PridefulAscent.id],
	fightReward: setup.RewardTier.HIGH,
	canMimic: false,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Lost_Naga&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Lost_Naga&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Lost_Naga&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Lost_Naga_1&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="197" name="_lost_naga_info_sheet" tags="" position="850,2475" size="100,100">&lt;&lt;set setup.InfoSheet_Lost_Naga =
{
	name: &quot;Lost Naga&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Lost_Naga&quot;,
	audioSheet: &quot;AudioSheet_Lost_Naga&quot;,
    corruption: 800,
	muscles: 30,
	height: 126,
	cock: 30,
	balls: 10,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.EAST,
	raceId: setup.RacePool.NAGA.id,
	alive: true,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
    isGeneralCharacter: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="198" name="Sheets_Lost_Naga" tags="" position="975,2475" size="100,100">&lt;&lt;include &quot;_lost_naga_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_naga_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_naga_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_naga_story_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_naga_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_naga_audio&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Lost_Naga = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Lost_Naga&quot;,
                                                       info:  setup.InfoSheet_Lost_Naga,
                                                       fight: setup.FighterSheet_Lost_Naga,
                                                       quest: setup.QuestSheet_Lost_Naga,
                                                       text:  undefined})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Lost_Naga, setup.Ability.AppetiteForGrowth)&gt;&gt;</tw-passagedata><tw-passagedata pid="199" name="_lost_naga_quest_sheet" tags="" position="1100,2475" size="100,100">&lt;&lt;set setup.QuestSheet_Lost_Naga =
{
	met: false,
	beatenOnce: false,
	fuckedByPlayer: false,
	hasBeenVored: false,
	givenShard: false,
	saidWantSpawn: false,
	cockOut: false,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="200" name="_lost_naga_story_sheet" tags="" position="1225,2475" size="100,100">&lt;&lt;set setup.StorySheet_Lost_Naga =
{
	bringSpawnOptions:
    {
        noSpawn:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Player.quest.nyxParasiteInfections == 0  &amp;&amp; State.variables.CharacterSheet_Player.quest.capturedNyxSpawn == false;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Win_Lost_Naga_NoSpawn&quot;,
        },
        bringSpawnCaptured:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0 &amp;&amp; State.variables.CharacterSheet_Player.quest.capturedNyxSpawn == true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Win_Lost_Naga_BringSpawnCaptured_Link&quot;,
        },
        bringSpawnAlive:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Win_Lost_Naga_BringSpawnAlive_Link&quot;,
        },
    },
    encounterPassages:
    {
        lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Intro_Lost_Naga_LowRela&quot;,
        },
    },
    postFightPassagesWin:
    {
        shardFightFirstTime:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Naga.quest.saidWantSpawn == false;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid == true &amp;&amp; State.variables.CharacterSheet_Lost_Naga.quest.givenShard == false;
            },
            passage: &quot;Encounter_Win_Lost_Naga_ShardFight_FirstTime&quot;,
        },
        shardFightReturn:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Naga.quest.saidWantSpawn == true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid == true &amp;&amp; State.variables.CharacterSheet_Lost_Naga.quest.givenShard == false;
            },
            passage: &quot;Encounter_Win_Lost_Naga_ShardFight_Return&quot;,
        },
        lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Win_Lost_Naga_LowRela&quot;,
        },
    },
    postFightPassagesLoss:
    {
        lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Encounter_Loss_Lost_Naga_1_LowRela&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="201" name="_lost_prisoner_body_visual" tags="" position="100,2600" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Lost_Prisoner =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_Mischief.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_Angry.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_Happy.png&quot;,
        },
        ohFace: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_OhFace.png&quot;,
        },
    },
    cockList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_Cock.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_Fluid.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_Base.png&quot;,
            condition: function(character)
            {
                return true;
            },
            permittedAccessories: [
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/LostPrisoner/Ferro_Tentacles.png&quot;,
                    accessoryClass: &quot;FerroTentacles&quot;,
                    condition: function(character)
                    {
                        return character.quest.tentaclesOut == true;
                    },
                },
            ],
            headClass: &quot;FerroHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;normal&quot;,
                    cockClass: &quot;FerroBody&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
    },
}&gt;&gt;


&lt;&lt;set setup.BodyVisualSheet_Lost_Prisoner_Ascended =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_Face_Normal.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_Face_Angry.png&quot;,
        },
        ohFace: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_Face_OhFace.png&quot;,
        },
    },
    cockList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_Cock.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_Body.png&quot;,
            condition: function(character)
            {
                return true;
            },
            permittedAccessories: [
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_Tentacles.png&quot;,
                    accessoryClass: &quot;FerroTentacles&quot;,
                    condition: function(character)
                    {
                        return character.quest.tentaclesOut == true;
                    },
                },
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_ExtraArms.png&quot;,
                    accessoryClass: &quot;FerroExtraArms&quot;,
                    condition: function(character)
                    {
                        return character.quest.extraArms == true;
                    },
                },
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Ferro/Ascended/Ferro_Fighter_NyxSpawns.png&quot;,
                    accessoryClass: &quot;FerroNyxSpawns&quot;,
                    condition: function(character)
                    {
                        return character.quest.infested == true;
                    },
                },
            ],
            headClass: &quot;FerroAscendedHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;normal&quot;,
                    cockClass: &quot;FerroAscendedBody&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="202" name="_lost_prisoner_fight_sheet" tags="" position="225,2600" size="100,100">&lt;&lt;set setup.FighterSheet_Lost_Prisoner =
{
	hp: 500,
	stamina: 0,
	strength: 50,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 10,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 8,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.UnnaturalGrowth.id],
	fightReward: setup.RewardTier.HIGH,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Lost_Prisoner&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Lost_Prisoner&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Lost_Prisoner&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Lost_Prisoner&gt;&gt;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="203" name="_lost_prisoner_info_sheet" tags="" position="350,2600" size="100,100">&lt;&lt;set setup.InfoSheet_Lost_Prisoner =
{
	name: &quot;Lost Prisoner&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Lost_Prisoner&quot;,
	corruption: 600,
	muscles: 40,
	height: 95,
	cock: 13,
	balls: 6,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: [setup.LOCATIONS.NORTH, setup.LOCATIONS.EAST],
	raceId: setup.RacePool.WOLF.id,
	anatomy: {
		eyes: {
			colour: setup.ColourPool.GREEN,
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="204" name="Sheets_Lost_Prisoner" tags="" position="475,2600" size="100,100">&lt;&lt;include &quot;_lost_prisoner_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_prisoner_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_prisoner_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_prisoner_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_prisoner_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_prisoner_story_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Lost_Prisoner = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Lost_Prisoner&quot;, 
                                                 info: setup.InfoSheet_Lost_Prisoner, 
                                                 fight: setup.FighterSheet_Lost_Prisoner, 
                                                 quest: setup.QuestSheet_Lost_Prisoner, 
                                                 text: &quot;TextSheet_Lost_Prisoner&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="205" name="_lost_prisoner_quest_sheet" tags="" position="600,2600" size="100,100">&lt;&lt;set setup.QuestSheet_Lost_Prisoner =
{
    met: false,
    locked: true,
    relationshipScoring: 0,
    tentaclesOut: false,
    ascended: false,
    extraArms: false,
    infested: false,
    toldNyxEntrance: false,
    available_partnerMenuChoices_discussApothus: true,
    available_partnerMenuChoices_findApothus: false,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="206" name="_lost_prisoner_story_sheet" tags="" position="725,2600" size="100,100">&lt;&lt;set setup.StorySheet_Lost_Prisoner =
{
    encounterIntro:
    {
        partner:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Prisoner.quest.ascended == true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Intro&quot;,
        },
        firstTime:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Prisoner.quest.met;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Lost_Prisoner.quest.met == false;
            },
            passage: &quot;Lost_Prisoner_FirstMeeting_Intro&quot;,
        },
        midRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Lost_Prisoner.quest.relationshipScoring &gt;= 2;
            },
            passage: &quot;Lost_Prisoner_MidRela_Intro&quot;,
        },
        lowRela:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_LowRela_Intro&quot;,
        },
    },
    postFightPassagesWin:
    {
        partner:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Prisoner.quest.ascended == true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Win&quot;,
        },
        midRelaIdle:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Lost_Prisoner.quest.relationshipScoring &gt;= 2;
            },
            passage: &quot;Lost_Prisoner_Mid_Rela_Win_Idle&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Low_Rela_Win_Idle&quot;,
        },
    },
    postFightPassagesLoss:
    {
        partner:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Prisoner.quest.ascended == true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Loss&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Low_Rela_Loss&quot;,
        },
    },
    partnerMenuFlavour:
    {
        infested:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Lost_Prisoner.quest.infested;
            },
            passage: &quot;Lost_Prisoner_Partner_Menu_Infested&quot;,
        },
        macroCorrupted:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return setup.MQ002_Manor_IsMassiveInManor(State.variables.CharacterSheet_Player) &amp;&amp; setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt; 300;
            },
            passage: &quot;Lost_Prisoner_Partner_Menu_MacroCorrupted&quot;,
        },
        macro:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return setup.MQ002_Manor_IsMassiveInManor(State.variables.CharacterSheet_Player);
            },
            passage: &quot;Lost_Prisoner_Partner_Menu_Macro&quot;,
        },
        normal:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Menu_Normal&quot;,
        },
    },
    partnerMenuChoices:
    {
        inactive_infest:
        {
            available: function()
			{
				return !State.variables.CharacterSheet_Lost_Prisoner.quest.infested;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0;
            },
            passage: &quot;Lost_Prisoner_Partner_Infest_Inactive_Link&quot;,
        },
        infest:
        {
            available: function()
			{
				return !State.variables.CharacterSheet_Lost_Prisoner.quest.infested;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0;
            },
            passage: &quot;Lost_Prisoner_Partner_Infest_Link&quot;,
        },
        discussApothus:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Prisoner.quest.available_partnerMenuChoices_discussApothus;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Discuss_Apothus_Link&quot;,
        },
        findApothus:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Lost_Prisoner.quest.available_partnerMenuChoices_findApothus;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Return_To_Apothus_Link&quot;,
        },
        sex:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Sex_Link&quot;,
        },
        attackTiming:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_AttackTiming_Link&quot;,
        },
        spar:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Lost_Prisoner_Partner_Spar_Link&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="207" name="_lost_prisoner_text_sheet" tags="" position="850,2600" size="100,100">&lt;&lt;set setup.TextSheet_Lost_Prisoner =
{
}&gt;&gt;</tw-passagedata><tw-passagedata pid="208" name="_lost_swarm_fight_sheet" tags="" position="975,2600" size="100,100">&lt;&lt;set setup.FightSheet_Swarm =
{
	hp: 80,
	stamina: 20,
	strength: 10,
	critChance: 30,
    critDamage: 1.50,
	arousalGain: 10,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 2,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.Infest.id],
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Swarm&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="209" name="_lost_swarm_info_sheet" tags="" position="1100,2600" size="100,100">&lt;&lt;set setup.InfoSheet_Swarm =
{
	name: &quot;Lost Swarm&quot;,
	gender: &quot;MASC&quot;,
	numberInSwarm: undefined,
	corruption: 1000,
	muscles: 30,
	height: 90,
	cock: 23,
	balls: 8,
	alive: false,
	raceId: setup.RacePool.DEFAULT.id,
	location: setup.LOCATIONS.NONE,
	anatomy: {
		tongues:{
			number: 2,
			colour: setup.ColourPool.VIOLET
		},
		arms: {
			number: 4,
		},
		abdominals: {
			number: 10,
		},
		cocks: {
			number: 2,
		},
		balls: {
			number: 4,
		},
		tails: {
			number: 2,
		},
	},
	racialBonus: [],
    isGeneralCharacter: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="210" name="Sheets_Swarm" tags="" position="1225,2600" size="100,100">&lt;&lt;include &quot;_lost_swarm_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_swarm_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_swarm_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lost_swarm_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Swarm = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Swarm&quot;, 
                                                   info:  setup.InfoSheet_Swarm, 
                                                   fight: setup.FightSheet_Swarm, 
                                                   quest: setup.QuestSheet_Swarm, 
                                                   text:  &quot;TextSheet_Swarm&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="211" name="_lost_swarm_quest_sheet" tags="" position="100,2725" size="100,100">&lt;&lt;set setup.QuestSheet_Swarm =
{
	met: false,
	firstSwarm: true
}&gt;&gt;</tw-passagedata><tw-passagedata pid="212" name="_lost_swarm_text_sheet" tags="" position="225,2725" size="100,100">&lt;&lt;set setup.TextSheet_Swarm =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="213" name="_lukka_body_visual" tags="" position="350,2725" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Lukka =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Generic.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Happy.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Angy.png&quot;,
        },
        sus: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Questioning.png&quot;,
        },
        shocked: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Shocked.png&quot;,
        },
        horny: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Shyroused.png&quot;,
        },
    },
    cockList :
    {
    },
    bodyList :
    {
        small:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Base.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;LukkaHead&quot;,
            permittedAccessories: [
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Lukka/Lukka_Cape.png&quot;,
                    accessoryClass: &quot;LukkaCape&quot;,
                    condition: function(character)
                    {
                        return character.quest.coatOff == false;
                    },
                },
            ],
            permittedCocks: [
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="214" name="_lukka_fight_sheet" tags="" position="475,2725" size="100,100">&lt;&lt;set setup.FighterSheet_Lukka =
{
	hp: 64,
	stamina: 8,
	strength: 20,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 20,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 4,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id],
	fightReward: setup.RewardTier.VERY_LOW,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Lukka&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Lukka&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Lukka&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Lukka&gt;&gt;&quot;,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="215" name="_lukka_info_sheet" tags="" position="600,2725" size="100,100">&lt;&lt;set setup.InfoSheet_Lukka =
{
	name: &quot;Lukka&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Lukka&quot;,
	corruption: 20,
	muscles: 0,
	height: 48,
	cock: 10,
	balls: 3,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.VILLAGE,
	raceId: setup.RacePool.DRAGONBORN.id,
	anatomy: {},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="216" name="Sheets_Lukka" tags="" position="725,2725" size="100,100">&lt;&lt;include &quot;_lukka_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_lukka_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lukka_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lukka_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lukka_story_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Lukka = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Lukka&quot;, 
                                                 info: setup.InfoSheet_Lukka, 
                                                 fight: setup.FighterSheet_Lukka, 
                                                 quest: setup.QuestSheet_Lukka, 
                                                 text: undefined})&gt;&gt;</tw-passagedata><tw-passagedata pid="217" name="_lukka_quest_sheet" tags="" position="850,2725" size="100,100">&lt;&lt;set setup.QuestSheet_Lukka =
{
    coatOff: false,
    LukkaHouse_EchoEvolution_Start_Available: true,
    LukkaHouse_EchoEvolution_Update_DayPassed: false,
    LukkaHouse_EchoEvolution_Update_Available: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="218" name="_lukka_story_sheet" tags="" position="975,2725" size="100,100">&lt;&lt;set setup.StorySheet_Lukka = 
{
}&gt;&gt;</tw-passagedata><tw-passagedata pid="219" name="_minotaur_guard_body_visual" tags="" position="1100,2725" size="100,100">&lt;&lt;set setup.BodyVisualSheet_MQ002_Guard =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Neutral.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Angry.png&quot;,
        },
        blushing: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Surprised.png&quot;,
        },
        cumming: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Horny.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Smarmy.png&quot;,
        },
    },
    cockList :
    {
    },
    bodyList :
    {
        clothed:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Clothed_body.png&quot;,
            condition: function(character)
            {
                return character.quest.lustLevel &lt; 2;
            },
            headClass: &quot;MinotaurHead&quot;,
            permittedAccessories: 
			[],
            permittedCocks: [],
        },
        naked:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Nude_body.png&quot;,
            condition: function(character)
            {
                return character.quest.lustLevel &gt;= 2;
            },
            headClass: &quot;MinotaurHead&quot;,
            permittedAccessories: 				
			[                
				{
					visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Cock.png&quot;,
					accessoryClass: &quot;MinotaurCock&quot;,
					condition: function(character)
					{
						return true;
					},
				},
			],
            permittedCocks: [],
        },
    },
}&gt;&gt;


&lt;&lt;set setup.BodyVisualSheet_MQ002_Guard_Corrupted =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Emote_Neutral.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Emote_Grumpy.png&quot;,
        },
        blushing: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Emote_Embarrassed.png&quot;,
        },
        cumming: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Emote_Flustered.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Emote_Happy.png&quot;,
        },
        parasite: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Emote_Parasite.png&quot;,
        },
    },
    cockList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Penis.png&quot;,
        },
    },
    bodyList :
    {
        naked:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Body.png&quot;,
            condition: function(character)
            {
                return true;
            },
            headClass: &quot;MinotaurHead&quot;,
            permittedAccessories: 				
			[                
				{
					visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Infestation.png&quot;,
					accessoryClass: &quot;MinotaurInfestation&quot;,
					condition: function(character)
					{
						return character.quest.nyxPromise == true;
					},
				},
				{
					visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Minotaur/Winty/Mino_Corr_Stripes.png&quot;,
					accessoryClass: &quot;MinotaurStripes&quot;,
					condition: function(character)
					{
						return character.quest.nyxPromise == true;
					},
				},
			],
            permittedCocks: 
			[
                {
                    cock: &quot;normal&quot;,
                    cockClass: &quot;MinotaurCock&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="220" name="_minotaur_guard_fight_sheet" tags="" position="1225,2725" size="100,100">&lt;&lt;set setup.FighterSheet_MQ002_Guard =
{
	hp: 250,
	stamina: 0,
	strength: 85,
	critChance: 0,
    critDamage: 1,
	arousalGain: 10,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 8,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.ChargedStrike.id],
	fightReward: setup.RewardTier.HIGH,
	canMimic: true,
	encounterIntroText: &quot;&quot;,
	encounterStartText: &quot;Minotaur Guard readies his weapon&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Quest_MQ002_Entrance_PlayerWins&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Quest_MQ002_Entrance_PlayerLoses&gt;&gt;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="221" name="_minotaur_guard_info_sheet" tags="" position="100,2850" size="100,100">&lt;&lt;set setup.InfoSheet_MQ002_Guard =
{
	name: &quot;Minotaur Guard&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_MQ002_Guard&quot;,
	corruption: 0,
	muscles: 80,
	height: 164,
	cock: 18,
	balls: 6,
	raceId: setup.RacePool.MINOTAUR.id,
	location: setup.LOCATIONS.CASTLE,
	alive: true,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="222" name="Sheets_MQ002_Guard" tags="" position="225,2850" size="100,100">&lt;&lt;include &quot;_minotaur_guard_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_minotaur_guard_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_minotaur_guard_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_minotaur_guard_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_MQ002_Guard = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_MQ002_Guard&quot;,
                                                         info: setup.InfoSheet_MQ002_Guard,
                                                         fight: setup.FighterSheet_MQ002_Guard,
                                                         quest: setup.QuestSheet_MQ002_Guard,
                                                         text: undefined})&gt;&gt;

&lt;&lt;run setup.AbiHndlr.setAbilityRank($CharacterSheet_MQ002_Guard, setup.Ability.Masochism, 3)&gt;&gt;</tw-passagedata><tw-passagedata pid="223" name="_minotaur_guard_quest_sheet" tags="" position="350,2850" size="100,100">&lt;&lt;set setup.QuestSheet_MQ002_Guard =
{
	met: false,
	movedToCastle: false,
    beaten: false,
    nyxPromise: false,
    lustLevel: 1,
    lustIncrease: false,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="224" name="_nyx_parasite_body_visual" tags="" position="475,2850" size="100,100">&lt;&lt;set setup.BodyVisualSheet_MQ002_NyxParasite =
{
    emoteList:
    {
        blue: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/NyxSpawn/Nyx_TentacleBlue.png&quot;,
        },
        pink: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/NyxSpawn/Nyx_TentaclePink.png&quot;,
        },
        purple: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/NyxSpawn/Nyx_TentaclePurple.png&quot;,
        },
        red: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/NyxSpawn/Nyx_TentacleRed.png&quot;,
        },
        unique: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/NyxSpawn/Nyx_TentacleUnique.png&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="225" name="_nyx_parasite_fight_sheet" tags="" position="600,2850" size="100,100">&lt;&lt;set setup.FighterSheet_MQ002_NyxParasite =
{
	hp: 210,
	stamina: 0,
	strength: 85,
	critChance: 30,
    critDamage: 1.50,
	arousalGain: 10,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 12,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.WitheringVenom.id],
	fightReward: setup.RewardTier.HIGH,
	canMimic: false,
	encounterIntroText: &quot;&lt;&lt;include Quest_MQ002_NyxParasiteEncounter_FightIntro&gt;&gt;&quot;,
	encounterStartText: &quot;The spawn of Nyx crawls silently towards you.&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Quest_MQ002_NyxParasiteEncounter_PlayerWins&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Quest_MQ002_NyxParasiteEncounter_PlayerLoses&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="226" name="_nyx_parasite_info_sheet" tags="" position="725,2850" size="100,100">&lt;&lt;set setup.InfoSheet_MQ002_NyxParasite =
{
	name: &quot;Alpha Spawn&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_MQ002_NyxParasite&quot;,
	corruption: 9000,
	muscles: 10,
	height: 80,
	cock: 2,
	balls: 1,
	alive: true,
	raceId: setup.RacePool.INCUBUS.id,
	location: setup.LOCATIONS.CASTLE,
	anatomy: {
		eyes: {
			number: 1,
		},
		hands: {
			number: 0,
		},
		horns: {
			number: 0,
		},
		wings: {
			number: 0,
		},
		tongues:{
			number: 0,
		},
		arms: {
			number: 0,
		},
		pecs: {
			number: 0,
		},
		abdominals: {
			number: 0,
		},
		cocks: {
			number: 0,
		},
		balls: {
			number: 0,
		},
		legs: {
			number: 0,
		},
		tails: {
			number: 1,
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
    isGeneralCharacter: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="227" name="Sheets_MQ002_NyxParasite" tags="" position="850,2850" size="100,100">&lt;&lt;include &quot;_nyx_parasite_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_nyx_parasite_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_nyx_parasite_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_nyx_parasite_body_visual&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_MQ002_NyxParasite = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_MQ002_NyxParasite&quot;, 
                                                               info:  setup.InfoSheet_MQ002_NyxParasite, 
                                                               fight: setup.FighterSheet_MQ002_NyxParasite, 
                                                               quest: setup.QuestSheet_MQ002_NyxParasite, 
                                                               text:  undefined})&gt;&gt;</tw-passagedata><tw-passagedata pid="228" name="_nyx_parasite_quest_sheet" tags="" position="975,2850" size="100,100">&lt;&lt;set setup.QuestSheet_MQ002_NyxParasite =
{
	met: false
}&gt;&gt;</tw-passagedata><tw-passagedata pid="229" name="_player_audio_voice1" tags="" position="1100,2850" size="100,100">&lt;&lt;set setup.AudioSheet_Voice1_Player =
{
    voice:
    {
        playlist:
        {
            title: &quot;characterVoice_Voice1_Player&quot;,
            tracks:
            {
                arousal_1_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice1_A1_S1_C1&quot;
                },
                arousal_2_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice1_A2_S1_C1&quot;
                },
                arousal_3_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice1_A3_S1_C1&quot;
                },
                arousal_4_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice1_A4_S1_C1&quot;
                },
                arousal_1_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice1_A1_S2_C1&quot;
                },
                arousal_2_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice1_A2_S2_C1&quot;
                },
                arousal_3_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice1_A3_S2_C1&quot;
                },
                arousal_4_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice1_A4_S2_C1&quot;
                },
                arousal_1_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice1_A1_S3_C1&quot;
                },
                arousal_2_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice1_A2_S3_C1&quot;
                },
                arousal_3_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice1_A3_S3_C1&quot;
                },
                arousal_4_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice1_A4_S3_C1&quot;
                },
                arousal_1_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice1_A1_S4_C1&quot;
                },
                arousal_2_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice1_A2_S4_C1&quot;
                },
                arousal_3_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice1_A3_S4_C1&quot;
                },
                arousal_4_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice1_A4_S4_C1&quot;
                },
            },
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="230" name="_player_audio_voice2" tags="" position="1225,2850" size="100,100">&lt;&lt;set setup.AudioSheet_Voice2_Player =
{
    voice:
    {
        playlist:
        {
            title: &quot;characterVoice_Voice2_Player&quot;,
            tracks:
            {
                arousal_1_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice2_A1_S1&quot;
                },
                arousal_2_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice2_A2_S1&quot;
                },
                arousal_3_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice2_A3_S1&quot;
                },
                arousal_4_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice2_A4_S1&quot;
                },
                arousal_5_Size_1_Corrupt_1:
                {
                    tags: [&quot;arousal_5&quot;, &quot;Size_1&quot;],
                    track: &quot;Idle_Voice2_A5_S1&quot;
                },
                arousal_1_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice2_A1_S2&quot;
                },
                arousal_2_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice2_A2_S2&quot;
                },
                arousal_3_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice2_A3_S2&quot;
                },
                arousal_4_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice2_A4_S2&quot;
                },
                arousal_5_Size_2_Corrupt_1:
                {
                    tags: [&quot;arousal_5&quot;, &quot;Size_2&quot;],
                    track: &quot;Idle_Voice2_A5_S2&quot;
                },
                arousal_1_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice2_A1_S3&quot;
                },
                arousal_2_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice2_A2_S3&quot;
                },
                arousal_3_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice2_A3_S3&quot;
                },
                arousal_4_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice2_A4_S3&quot;
                },
                arousal_5_Size_3_Corrupt_1:
                {
                    tags: [&quot;arousal_5&quot;, &quot;Size_3&quot;],
                    track: &quot;Idle_Voice2_A5_S3&quot;
                },
                arousal_1_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice2_A1_S4&quot;
                },
                arousal_2_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice2_A2_S4&quot;
                },
                arousal_3_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice2_A3_S4&quot;
                },
                arousal_4_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice2_A4_S4&quot;
                },
                arousal_5_Size_4_Corrupt_1:
                {
                    tags: [&quot;arousal_5&quot;, &quot;Size_4&quot;],
                    track: &quot;Idle_Voice2_A5_S4&quot;
                },
            },
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="231" name="_player_fight_sheet" tags="" position="100,2975" size="100,100">&lt;&lt;set setup.FighterSheet_Player =
{
	hp: 60,
	stamina: 30,
	strength: 10,
	critChance: 10,
	critDamage: 1.50,
	arousalGain: 20,
	actionSlots: 3,
	comboMovesPerTurn: 4,
    essenceModifierToAdd: 0,
	growthMultiplier: 0.15,
	xpMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 4,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.Slash.id, setup.FightMove.Bash.id, setup.FightMove.Sigil_Perception.id, setup.FightMove.Sigil_Vitality.id, setup.FightMove.Do_Nothing.id, setup.FightMove.Submit_Completely.id],
	canMimic: true,
	teammate: undefined,
	unlockedTeammates: [],
	outcomePlayerWins: &quot;&quot;,
	outcomePlayerLoses: &quot;&quot;
}&gt;&gt;

&lt;&lt;set $EquippedFightMoveIDs = setup.FighterSheet_Player.fightMoveIDs&gt;&gt;</tw-passagedata><tw-passagedata pid="232" name="_player_info_sheet" tags="" position="225,2975" size="100,100">&lt;&lt;include &quot;_player_audio_voice1&quot;&gt;&gt;
&lt;&lt;include &quot;_player_audio_voice2&quot;&gt;&gt;

&lt;&lt;set setup.InfoSheet_Player =
{
	name: &quot;Ankou&quot;,
	gender: &quot;MASC&quot;,
	audioSheet: &quot;AudioSheet_Voice2_Player&quot;,
	corruption: 0,
	corruptionPerDay: 0,
	accumulatedCorruption: 0,
	muscles: 0,
	height: 68,
	cock: 6,
	balls: 2,
	raceId: setup.RacePool.DEFAULT.id,
	secondaryRaceId: undefined,
	overrideRaceId: undefined,
	overrideNoSec: false,
	overgrowth:
	{
		height: 0,
		cock: 0,
		balls: 0,
		muscles: 0,
	},
	limitBreaks: {
		points: 0,
		cap:
		{
			height: 0,
			cock: 0,
			balls: 0,
			muscles: 0,
		},
	},
	choiceHighlight: {
		limitBreakAvail: false,
		overgrowthAvail: false,
		mutationAvail: false,
		newCardAvail: false,
	},
	anatomy: {},
	mutantBonusPoints: 0,
	unlockedRaces: [],
	tags: {
		partnerRecentSex: false,
		partnerSparExhaustion: false,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="233" name="Sheets_Player" tags="" position="350,2975" size="100,100">&lt;&lt;include &quot;_player_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_player_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_player_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_symbiote_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_player_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_player_story_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Symbiote = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Symbiote&quot;,
                                                    info: setup.InfoSheet_Symbiote,
                                                    text: {},
                                                    quest: {met: false}}
);&gt;&gt;

&lt;&lt;set $CharacterSheet_Player = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Player&quot;,
                                                    info: setup.InfoSheet_Player,
                                                    symbiote: $CharacterSheet_Symbiote,
                                                    fight: setup.FighterSheet_Player,
                                                    quest: setup.QuestSheet_Player,
                                                    text: &quot;TextSheet_Player&quot;}
);&gt;&gt;
\&lt;&lt;script&gt;&gt;
Object.values(setup.Ability).forEach( abi =&gt; {
    if (abi.assignToPlayer)
    {
        setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, abi);
    };
});
&lt;&lt;/script&gt;&gt;</tw-passagedata><tw-passagedata pid="234" name="_player_quest_sheet" tags="" position="475,2975" size="100,100">&lt;&lt;set setup.ApothusRealmStatus = 
{
	IDLE: 0,
	JOINED: 1,
	FIGHTGOOD: 2,
	FIGHTEVIL: 3
}&gt;&gt;

&lt;&lt;set setup.QuestSheet_Player = 
{
	met: true,
	knowsAboutNyx: false,
	curseOfTheNagaStatDrain:
	{
		muscles: 0,
		height: 0,
		cock: 0,
		balls: 0,
	},
	nyxParasiteInfections: 0,
	corruptionVillageExiled: false,
	oaths:
	{
		drenth: setup.Oath.NONE,
	},
	apothusRealmFirstTime: true,
	apothusRealmStatus: setup.ApothusRealmStatus.IDLE,
	lostPrisonerEscaped: false,
	lostPrisonerUntied: false,
	lostPrisonerRelaxed: false,
	hasIncompleteEyeOfTheVoid: false,
	hasCompleteEyeOfTheVoid: false,
	capturedNyxSpawn: false,
	gatheredShard: 0,
	givenShards: 0,
	available_lostPrisonerIntro_firstTime: true,
	available_lostPrisoner_name: true,
	available_lostPrisoner_cameFrom: false,
	available_lostPrisoner_untie: true,
	available_lukkaHouseIntro_firstTime: true,
	available_lukkaHouse_askLost: true,
	available_lukkaHouse_askCorruption: true,
	available_enterVillage_corruption_FirstWarning: true,
	available_enterVillage_corruptedAbel: true,
	available_enterVillage_exiled: true,
	available_enterVillage_exiled_AbelReturn_RemainingExpedition: 3,
	available_enterVillage_exiled_AbelReturn: true,
	available_abelExiled_WhatNext: true,
	available_enterVillage_normal: true,
	available_exploration_villageGateNorth_northFirstTime: true,
	available_exploration_villageGateNorth_northMeteorFall: true,
	available_exploration_villageGateNorth_northGrownMuscular: true,
	available_exploration_villageGateNorth_northVisibleCorruption: true,
	available_exploration_villageGateNorth_northGrownHeight: true,
	available_exploration_villageGateNorth_northGrownHeightMassive: true,
	available_exploration_villageGateEast_eastFirstTime: true,
	available_exploration_villageGateEast_eastGrownMacro: true,
	available_exploration_villageGateEast_eastGrownDemonic: true,
	available_exploration_villageGateEast_eastGrownParasites: true,
	available_exploration_villageGateEast_eastGrownLordOfLust: true,
	available_exploration_villageGateEast_eastGrownMegaMacro: true,
	available_meteorQuest_firstTime: true,
	lukkaQuest: 
	{
		firstMet: false,
		askedForDemonEssence: false,
		reservoirFilled: false,
		complete: false,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="235" name="_player_story_sheet" tags="" position="600,2975" size="100,100">&lt;&lt;set setup.StorySheet_Player =
{
	villageAbelExiledLinks:
	{
		whatNext:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_abelExiled_WhatNext;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;Village_Exiled_Abel_WhatNext_Link&quot;,
		},
	},
	apothusPostFightLinks:
	{
		struggle:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.quest.apothusRealmStatus != setup.ApothusRealmStatus.FIGHTEVIL;
			},
			passage: &quot;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Struggle_Link&quot;,
		},
		consume:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.quest.apothusRealmStatus == setup.ApothusRealmStatus.FIGHTEVIL;
			},
			passage: &quot;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Consume_Link&quot;,
		},
		kanathar:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes(&quot;CharacterSheet_Imp&quot;);
			},
			passage: &quot;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Kanathar_Link&quot;,
		},
		tiadane:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes(&quot;CharacterSheet_MQ002_Guard&quot;);
			},
			passage: &quot;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Tiadane_Link&quot;,
		},
		ethrex:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes(&quot;CharacterSheet_Ethrex&quot;);
			},
			passage: &quot;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ethrex_Link&quot;,
		},
		ferro:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.fight.unlockedTeammates.includes(&quot;CharacterSheet_Lost_Prisoner&quot;);
			},
			passage: &quot;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ferro_Link&quot;,
		},
	},
	lostPrisonerMainMenu:
	{
		withdrawal:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.Expedition &lt;= 5;
			},
			passage: &quot;LostPrisoner_MainMenu_Withdrawal&quot;,
		},
		untied:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.quest.lostPrisonerUntied;
			},
			passage: &quot;LostPrisoner_MainMenu_Untied&quot;,
		},
		corrupted:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt; 75;
			},
			passage: &quot;LostPrisoner_MainMenu_Corrupted&quot;,
		},
		normal:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.quest.lostPrisonerRelaxed == false;
			},
			passage: &quot;LostPrisoner_MainMenu_Normal&quot;,
		},
		relaxed:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.quest.lostPrisonerRelaxed == true;
			},
			passage: &quot;LostPrisoner_MainMenu_Relaxed&quot;,
		},
	},
	lostPrisonerLinks:
	{
		withdrawalApproach:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.Expedition &lt;= 5;
			},
			passage: &quot;LostPrisoner_Withdrawal_Approach_Link&quot;,
		},
		name:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lostPrisoner_name;
			},
			condition: function()
			{
				return State.variables.Expedition &gt; 5 &amp;&amp; !State.variables.CharacterSheet_Player.quest.lostPrisonerRelaxed;
			},
			passage: &quot;LostPrisoner_Name_Link&quot;,
		},
		cameFrom:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lostPrisoner_cameFrom;
			},
			condition: function()
			{
				return State.variables.Expedition &gt; 5 &amp;&amp; State.variables.CharacterSheet_Player.quest.lostPrisonerRelaxed;
			},
			passage: &quot;LostPrisoner_GotHere_Link&quot;,
		},
		untie:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lostPrisoner_untie;
			},
			condition: function()
			{
				return State.variables.Expedition &gt; 5 &amp;&amp; State.variables.CharacterSheet_Player.quest.lostPrisonerRelaxed;
			},
			passage: &quot;LostPrisoner_Untie_Link&quot;,
		},
		normalApproach:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.Expedition &gt; 5 &amp;&amp; !State.variables.CharacterSheet_Player.quest.lostPrisonerRelaxed;
			},
			passage: &quot;LostPrisoner_NormalApproach_Link&quot;,
		},
	},
	lostPrisonerIntro:
	{
		escaped:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.lostPrisonerEscaped;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;LostPrisoner_Intro_Escaped&quot;,
		},
		firstTime:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lostPrisonerIntro_firstTime;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;LostPrisoner_Intro_FirstTime&quot;,
		},
		idle:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;LostPrisoner_Intro_Idle&quot;,
		},
	},
	lukkaHouseIntro:
	{
		firstTime:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lukkaHouseIntro_firstTime;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;LukkaHouse_Intro_FirstTime&quot;,
		},
		idle:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;LukkaHouse_Intro_Idle&quot;,
		},
	},
	oasisIntro:
	{
		firstTime:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_meteorQuest_firstTime;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_Intro_FirstTime&quot;,
		},
		idle:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_Menu&quot;,
		},
	},
	oasisChoices:
	{
		inspect:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_LookAtPool_Link&quot;,
		},
		crossEssenceShardInactive:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return !setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_DemonicEssenceShard&quot;);
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_Link_Inactive&quot;,
		},
		crossEssenceShard:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_DemonicEssenceShard&quot;);
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_Link&quot;,
		},
		stepOverInactive:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;height&quot;) &lt; 12 * 12;
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_Link_Inactive&quot;,
		},
		stepOver:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;height&quot;) &gt;= 12 * 12;
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_Link&quot;,
		},
		crossUnsafeInactive:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_DemonicEssenceShard&quot;);
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Link_Inactive&quot;,
		},
		crossUnsafe:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return !setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_DemonicEssenceShard&quot;) &amp;&amp; setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &lt;= 75;
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Link&quot;,
		},
		crossUnsafeCorrupted:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return !setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_DemonicEssenceShard&quot;) &amp;&amp; setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt; 75;
			},
			passage: &quot;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_Link&quot;,
		},
	},
	echoEvolutionEssenceCost:
	{
		available:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.Essence &gt;= 2000;
			},
			passage: &quot;LukkaHouse_EchoEvolution_Update_EnoughEssence_Link&quot;,
		},
		unavailable:
		{
			available: function()
			{
				return true;
			},
			condition: function()
			{
				return State.variables.Essence &lt; 2000;
			},
			passage: &quot;LukkaHouse_EchoEvolution_Update_NotEnoughEssence_Link&quot;,
		},
	},
	lukkaHouseLinks:
	{
		echoEvolution_start_reservoir:
		{
			available: function()
			{
				return setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;);
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Start_Available == true &amp;&amp;
				State.variables.CharacterSheet_Player.quest.lukkaQuest.reservoirFilled == true;
			},
			passage: &quot;LukkaHouse_EchoEvolution_Start_Reminder_Link&quot;,
		},
		echoEvolution_start_no_reservoir:
		{
			available: function()
			{
				return setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;);
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Start_Available == true &amp;&amp;
				State.variables.CharacterSheet_Player.quest.lukkaQuest.reservoirFilled == false;
			},
			passage: &quot;LukkaHouse_EchoEvolution_Start_Link&quot;,
		},
		echoEvolution_update:
		{
			available: function()
			{
				return setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;);
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Update_Available == true &amp;&amp; State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Update_DayPassed == true;
			},
			passage: &quot;LukkaHouse_EchoEvolution_Update_Link&quot;,
		},
		lookingForCure_start:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.lukkaQuest.complete == false &amp;&amp; setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;) == false;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.quest.lukkaQuest.askedForDemonEssence == false;
			},
			passage: &quot;LukkaHouse_LookingForCure_Link&quot;,
		},
		lookingForCure_progress:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.lukkaQuest.complete == false &amp;&amp; setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;) == false;
			},
			condition: function()
			{
				var quest = State.variables.CharacterSheet_Player.quest.lukkaQuest;
				return quest.askedForDemonEssence == true &amp;&amp; quest.reservoirFilled == false;
			},
			passage: &quot;LukkaHouse_LookingForCure_Progress_Link&quot;,
		},
		lookingForCure_complete:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.lukkaQuest.complete == false &amp;&amp; setup.AbiHndlr.hasAbility(State.variables.CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;) == false;
			},
			condition: function()
			{
				var quest = State.variables.CharacterSheet_Player.quest.lukkaQuest;
				return quest.askedForDemonEssence == true &amp;&amp; quest.reservoirFilled == true;
			},
			passage: &quot;LukkaHouse_LookingForCure_Complete_Link&quot;,
		},
		corruptionLore_low:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lukkaHouse_askCorruption &amp;&amp; State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Update_Available == true;
			},
			condition: function()
			{
				return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &lt; setup.CorruptionComparators.PURE;
			},
			passage: &quot;LukkaHouse_CorruptionLore_Low_Link&quot;,
		},
		corruptionLore_high:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lukkaHouse_askCorruption &amp;&amp; State.variables.CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Update_Available == true;
			},
			condition: function()
			{
				return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt;= setup.CorruptionComparators.PURE;
			},
			passage: &quot;LukkaHouse_CorruptionLore_High_Link&quot;,
		},
		lostLore:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_lukkaHouse_askLost;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;LukkaHouse_LostLore_Link&quot;,
		},
	},
	enterVillage:
	{
		corruption_FirstWarning:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_enterVillage_corruption_FirstWarning;
			},
			condition: function()
			{
				return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt; setup.CorruptionComparators.NEUTRAL &amp;&amp; State.variables.CharacterSheet_Player.quest.corruptionVillageExiled == false;
			},
			passage: &quot;Village_Corruption_FirstWarning&quot;,
		},
		corruptedAbel:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_enterVillage_corruptedAbel;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Abel.quest.deepCorruption == true  &amp;&amp; State.variables.CharacterSheet_Player.quest.corruptionVillageExiled == false;
			},
			passage: &quot;Village_Corruption_CorruptedAbel&quot;,
		},
		exiled_meetAbel:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_enterVillage_exiled &amp;&amp; State.variables.CharacterSheet_Player.quest.available_enterVillage_exiled_AbelReturn;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Abel.quest.deepCorruption == true &amp;&amp; State.variables.CharacterSheet_Player.quest.available_enterVillage_exiled_AbelReturn_RemainingExpedition &lt;= 0;
			},
			passage: &quot;Village_Exiled_Abel_FirstTime&quot;,
		},
		exiled:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_enterVillage_exiled;
			},
			condition: function()
			{
				return State.variables.CharacterSheet_Player.quest.corruptionVillageExiled == true;
			},
			passage: &quot;Village_Exiled&quot;,
		},
		normal:
		{
			available: function()
			{
				return State.variables.CharacterSheet_Player.quest.available_enterVillage_normal;
			},
			condition: function()
			{
				return true;
			},
			passage: &quot;Village_Normal&quot;,
		},
	},
	exploration:
	{
		villageGateNorth:
		{
			northFirstTime:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateNorth_northFirstTime;
				},
				condition: function()
				{
					return true;
				},
				passage: &quot;Explore_NorthFirstTime&quot;,
			},
			northMeteorFall:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateNorth_northMeteorFall;
				},
				condition: function()
				{
					return State.variables.Expedition &gt;= 3;
				},
				passage: &quot;Explore_NorthMeteorFall&quot;,
			},
			northGrownMuscular:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateNorth_northGrownMuscular;
				},
				condition: function()
				{
					return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;muscles&quot;) &gt; 30;
				},
				passage: &quot;Explore_NorthGrownMuscular&quot;,
			},
			northVisibleCorruption:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateNorth_northVisibleCorruption;
				},
				condition: function()
				{
					return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &gt; 25;
				},
				passage: &quot;Explore_NorthVisibleCorruption&quot;,
			},
			northGrownHeight:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateNorth_northGrownHeight;
				},
				condition: function()
				{
					var height = setup.getStatValue(State.variables.CharacterSheet_Player, &quot;height&quot;);
					return  height &gt; (25 * 12) &amp;&amp; height &lt; (50 * 12);
				},
				passage: &quot;Explore_NorthGrownHeight&quot;,
			},
			northGrownHeightMassive:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateNorth_northGrownHeightMassive;
				},
				condition: function()
				{
					var height = setup.getStatValue(State.variables.CharacterSheet_Player, &quot;height&quot;);
					return  height &gt; (50 * 12);
				},
				passage: &quot;Explore_NorthGrownHeightMassive&quot;,
			},
		},
		villageGateEast:
		{
			eastFirstTime:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateEast_eastFirstTime;
				},
				condition: function()
				{
					return true;
				},
				passage: &quot;Explore_EastFirstTime&quot;,
			},
			eastGrownMacro:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownMacro;
				},
				condition: function()
				{
					return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;height&quot;) &gt; (50 * 12);
				},
				passage: &quot;Explore_EastGrownMacro&quot;,
			},
			eastGrownDemonic:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownDemonic;
				},
				condition: function()
				{
					return setup.getRaceName(State.variables.CharacterSheet_Player).toUpperCase() == &quot;DEMON&quot;;
				},
				passage: &quot;Explore_EastGrownDemonic&quot;,
			},
			eastGrownParasites:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownParasites;
				},
				condition: function()
				{
					return State.variables.CharacterSheet_Player.quest.nyxParasiteInfections &gt;= 10;
				},
				passage: &quot;Explore_EastGrownParasites&quot;,
			},
			eastGrownLordOfLust:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownLordOfLust;
				},
				condition: function()
				{
					return setup.getRaceName(State.variables.CharacterSheet_Player).toUpperCase() == &quot;LORD OF LUST&quot;;
				},
				passage: &quot;Explore_EastGrownLordOfLust&quot;,
			},
			eastGrownMegaMacro:
			{
				available: function()
				{
					return State.variables.CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownMegaMacro;
				},
				condition: function()
				{
					return setup.getStatValue(State.variables.CharacterSheet_Player, &quot;height&quot;) &gt; (200 * 12);
				},
				passage: &quot;Explore_EastGrownMegaMacro&quot;,
			},
		},
	}
}&gt;&gt;</tw-passagedata><tw-passagedata pid="236" name="_player_text_sheet_mergeLost1_heightFlavour_small" tags="" position="725,2975" size="100,100">So could you – the power that this corrupting essence could bring. You move toward him, and straddle his monstrous abs.
You slide a hand down the length of one of your @[1|cocks|noverb] and push it into the sea of black.

A surge of fluid takes you by surprise as the corruption rushes into your enlarged cum pipe.

&quot;Mrhhh! Mooooore....&quot; you rumble, lustfully.

You smile at your victim, arch your back and plant your lips back onto his. Another rush of black blasts its way into your throat.
The ooze coils around your @[all|tongues|noverb] and floods into body with reckless abandon.

&quot;GRAAAAHHHHH!&quot;

Your muscles throb with power. A muffled roar escapes your throat as you push your @[all|tongues|noverb] deeper into the Lost&#39;s mouth.

You sit there, pumping your @[all|cocks|noverb] over his chest, locked in an endless kiss as his size begins to recede underneath you.</tw-passagedata><tw-passagedata pid="237" name="_player_text_sheet_mergeLost1_heightFlavour_medium" tags="" position="850,2975" size="100,100">So could you – the power that this corrupting essence could bring. You move toward him, and straddle his monstrous abs.
You slide a hand down the length of one of your @[1|cocks|noverb] and push it into the sea of black.

A surge of fluid takes you by surprise as the corruption rushes into your enlarged urethra.

&quot;Mrhhh! Mooooore....&quot; you rumble, lustfully.

You smile at your victim, arch your back and plant your lips back onto his. Another rush of black blasts its way into your throat.
The ooze coils around your @[all|tongues|noverb] and floods into body with reckless abandon.

&quot;GRAAAAHHHHH!&quot;

Your muscles throb with power. A muffled roar escapes your throat as you push your @[all|tongues|noverb] deeper into the Lost&#39;s mouth.

You sit there, pumping your @[all|cocks|noverb] over his chest, locked in an endless kiss as his size begins to recede underneath you.</tw-passagedata><tw-passagedata pid="238" name="_player_text_sheet_mergeLost1_heightFlavour_large" tags="" position="975,2975" size="100,100">So could you – the power that this corrupting essence could bring. You move toward him and stand over his monstrous form.
You slide a hand down the length of one of your @[1|cocks|noverb] and push the tip so that its massive head hovers over his face.
Your cum pipe widens as your @[1|cocks|noverb] swallows his features.

A barrage of fluid takes you by surprise as the corruption rushes into your enlarged urethra.

&quot;Mrhhh! Mooooore....&quot; you rumble, lustfully.

You smile at your victim, arch your back and flex your impeccably strong pelvic muscles. With a resounding gulp, your victim is pulled
into your cock. You feel it writhe against your inner walls, feel him slowly travel down the length until his massive body lodges itself right above the base of your nutsack.

&quot;GRAAAAHHHHH!&quot;

Your muscles throb with power. You stifle a moan as you flex harder and send the helpless creature into your eager @[all|balls|noverb]

Frantic with rampant desire you pump your @[all|cocks|noverb] as you feel his essence filter into you.

With a final show of absolute dominance, your @[all|balls|noverb] rumble ominously and fire a monstrous load, the Lost riding within the massive stream
of white. He lands on the floor unceremoniously in front of you.</tw-passagedata><tw-passagedata pid="239" name="_player_text_sheet_mergeLost1_heightFlavour_huge" tags="" position="1100,2975" size="100,100">So could you – the power that this corrupting essence could bring. You place your gigantic feet on either side of his body.
Hefting up @[1|cocks|a~an] in one hand, you pluck the weak creature up between your fingers.
You flash your teeth with a snarl and plunge him into the abyss of your urethra.

He was a gnat in the presence of a titan, a small morsel to an insatiable beast. Yet, although a tiny speck, you could feel every one of his movements down your cavernous length.
What seems to be minutes later, he lands in the unending ocean of seed within your sack and like a volcano ready to erupt, it shudders!

A surge of power and lust takes you as the corruption bleeds into your endless reserves. With an earth shattering roar, you grab on to your @[all|cocks|noverb] and
slide your hands across them with reckless abandon. Your legs shudder as your approach climax - holding on for dear life as an absolutely monstrous orgasm rocks you.
Arc after arc after arc blasts upwards into the air, landing far beyond the eye can see on some unsuspecting land.

&quot;Mrhhh! Mooooore....&quot; you rumble, lustfully.

You feel him coming up your cum pip, his minuscule form surfing the rapids inside of your spire of flesh.
With an absolutely amazing show of dexterity for someone of your size, you swing your hand through the mighty stream and catch the creature, the pressure against your hand backlashes onto you and coats you in a layer of alabaster.

&quot;GRAAAAHHHHH!&quot;

The heat of your own powerful seed sends you into overdrive and you truly let yourself go! Your @[all|cocks|rises~rises] with incredible pressure and they slam into your
chest. An unholy amount of semen blasts into the air, your own ivory stairway to the heavens.

You grin; looks like rainfall could be expected later today.

With a final show of absolute dominance, you unceremoniously dump the creature back onto the floor.</tw-passagedata><tw-passagedata pid="240" name="_player_text_sheet_lostKiss_heightFlavour_small" tags="" position="1225,2975" size="100,100">You slide your gooey body over his and he moans from your touch alone. You rub one of your @[2|hands|noverb] across his bulging abs and up to his hard nipple.

The entity inside of you yearns for the darkened soul of the Lost in your thrall. You feel your @[all|tongues|noverb] slip from the confines
of your mouth and into his open, hot maw. You can taste his thick corruption. You feel your @[all|cocks|noverb] harden again.</tw-passagedata><tw-passagedata pid="241" name="_player_text_sheet_lostKiss_heightFlavour_medium" tags="" position="100,3100" size="100,100">You slide your gooey body over his and he moans from your touch alone. You rub one of your @[2|hands|noverb] across his bulging abs and up to his hard nipple.

The entity inside of you yearns for the darkened soul of the Lost in your thrall. You feel your @[all|tongues|noverb] slip from the confines
of your mouth and into his open, hot maw. You can taste his thick corruption. You feel your @[all|cocks|noverb] harden again.</tw-passagedata><tw-passagedata pid="242" name="_player_text_sheet_lostKiss_heightFlavour_large" tags="" position="225,3100" size="100,100">Your gooey body towers over his and he moans from your presence alone. You rub one of your @[1|cocks|noverb] across his bulging abs, pinning him with the weight of it.

The entity inside of you yearns for the darkened soul of the Lost in your thrall. You feel your @[all|tongues|noverb] slip from the confines
of your mouth, sliding down your @[all|pecs|noverb] and twisting lower until it enters his hot maw. You can taste his thick corruption.</tw-passagedata><tw-passagedata pid="243" name="_player_text_sheet_lostKiss_heightFlavour_huge" tags="" position="350,3100" size="100,100">You fall to your massive knees. The Lost&#39;s mouth opens wide in awe at the immensity of your body. You let your @[all|cocks|noverb] fall to the side of him with an earth pounding shudder.

The entity inside of you yearns for the darkened soul of the Lost in your thrall. You feel your @[all|tongues|noverb] slip from the confines
of your mouth, sliding down your @[all|pecs|noverb] and twisting lower until it enters his hot maw. You can taste his thick corruption.</tw-passagedata><tw-passagedata pid="244" name="_player_text_sheet_lostFuck2_heightFlavour_small" tags="" position="475,3100" size="100,100">You feel the corruption take root within you. You embrace it, letting its warmth run its proverbial tongues over every inch of you and into your brain.
Dark whispers fill your mind.

You need to spread.

You need to fuck.

More. More! MORE!

Your body flushes with an unnaturally high level of arousal. Your nutsack rumbles and streams of pre launches out of your @[all|cocks|noverb] like a fire-hose.
You growl bestially as you realise your precious sperm is being wasted. Digging your fingers into the Lost&#39;s flesh, you ram your dick into
his ass until your @[all|balls|noverb] slap hard against his glutes. He snarls with the sudden intrusion.

You piston hard. Relentless. Back. Forward. Back. Forward.

&quot;Ah! Fuck!&quot; You feel a mind-shattering orgasm building.

The corrupt creature howls as your @[all|balls|noverb] push out an incredible deluge of ivory into his body.
His stomach rises beneath you as you keep thrusting and pounding into his sex.

&quot;MOOOOOOORE!&quot; You roar as your orgasm intensifies.

The rapture rocks through  your @[all|cocks|noverb] and into every tense fibre underneath your skin.

Feeling you grow on top of him and within him – feeling his own stomach dome upwards and push you ever higher sets off the creature&#39;s own orgasm.
He releases an all-powerful howl and shoots his thick corrupting seed over your chest. The ebon, tar-like sperm showers you from below, coating your entire chest in its inky shade.</tw-passagedata><tw-passagedata pid="245" name="_player_text_sheet_lostFuck2_heightFlavour_medium" tags="" position="600,3100" size="100,100">You feel the corruption take root within you. You embrace it, letting its warmth run its proverbial tongues over every inch of you and into your brain.
Dark whispers fill your mind.

You need to spread.

You need to fuck.

More. More! MORE!

Your body flushes with an unnaturally high level of arousal. Your nutsack rumbles and streams of pre launches out of your @[all|cocks|noverb] like a firehose.

You growl bestially as you realise your precious sperm is being wasted. Digging your fingers into the Lost&#39;s flesh, you ram your dick into
his ass until your @[all|balls|noverb] slap hard against his glutes. He snarls with the sudden intrusion.

You piston hard. Relentless. Back. Forward. Back. Forward.

&quot;Ah! Fuck!&quot; You feel a mind-shattering orgasm building.

The corrupt creature howls as your @[all|balls|noverb] push out an incredible deluge of ivory into his body.
His stomach rises beneath you as you keep thrusting and pounding into his sex.

&quot;MOOOOOOORE!&quot; You roar as your orgasm intensifies.

The rapture rocks through @[all|cocks|noverb] and into every tense fibre underneath your skin.

Feeling you grow on top of him and within him – feeling his own stomach dome upwards and push you ever higher sets off the creature&#39;s own orgasm.

He releases an all-powerful howl and shoots his thick corrupting seed over your chest. The ebon, tar-like sperm showers you from below, coating your entire chest in its inky shade.</tw-passagedata><tw-passagedata pid="246" name="_player_text_sheet_lostFuck2_heightFlavour_large" tags="" position="725,3100" size="100,100">You feel the corruption take root within you. You embrace it, letting its warmth run its proverbial tongues over every inch of you and into your brain. Dark whispers fill your mind.

You need to spread.

You need to fuck.

More. More! MORE!

Your body flushes with an unnaturally high level of arousal. Your nutsack rumbles and a tidal wave of pre launches out of your
@[all|cocks|noverb], washing over the Lost in front of you.

You growl bestially as you realise your precious sperm is being wasted. Grabbing the Lost&#39;s torso, you ram your dick
into his ass until your @[all|balls|noverb] slap hard against his glutes. He snarls with the sudden intrusion, but it quickly turns to a gurgle as your length almost reaches his neck from within.

You piston hard. Relentless. Back. Forward. Back. Forward.

&quot;Ah! Fuck!&quot; You feel a mind-shattering orgasm building.

The corrupt creature howls as your balls audibly rumble, shift and unleash a mind blowing torrent of ivory that arcs into the air and
splatters on the ground. You thrust erratically before falling to the floor. The pleasure is too intense! White pours over everything in sight.
The Lost is covered. You are covered. An ankle deep pools form around you as you roll in your own steaming virility.

&quot;MOOOOOOORE!&quot; You roar as your orgasm intensifies! Your vision is overtaken with alabaster cream.

Feeling you grow within him – feeling your hot seed cover every inch of his being sets off the creature&#39;s own orgasm. He gurgles
beneath the waves and shoots his thick corrupting seed over your chest, the black streaks quickly wash away by the excessive amount of seed around the both of you.

Your shoulders slump as you get back to your feet. You still see stars. The creature slowly slurps off of your cock and thuds into the pool
below with an emphatic splash.

The beast rolls onto his back with a heavy thud; his massive chest heaving up and down with ragged breaths of satisfaction.</tw-passagedata><tw-passagedata pid="247" name="_player_text_sheet_lostFuck2_heightFlavour_huge" tags="" position="850,3100" size="100,100">You feel the corruption take root within you. You embrace it, letting its warmth run its proverbial tongues over every inch of you and into your brain. Dark whispers fill your mind.

You need to spread.

You need to fuck.

More. More! MORE!

Your body flushes with an unnaturally high level of arousal. Your @[all|balls|noverb] quake behind you and a flood of thick
pre launches out of your @[all|cocks|noverb] and cascades over the land. What little trees are around you struggle
against the sudden onslaught of the teeming river.

You growl bestially as you realise your precious sperm is being wasted. You grab the Lost before his body
gets swept away with your produce and slam your dick into his ass until his rump slaps hard against your midriff. His snarls are suddenly cut off as
your @[1|cocks|erupts~erupts] out of him, his body once again morphing into your oily cocksleeve.

Grabbing him, you piston him up and down across your veined length. Relentless. Back. Forward. Back. Forward.

&quot;Ah! Fuck!&quot; You feel a mind-shattering orgasm building.

The corrupt creature gurgles as your balls shift, unleashing a mind blowing torrent of white that arcs into the air and splatters onto the ground with incredible
force. You thrust erratically before falling backwards onto your @[all|balls|noverb]. The pleasure is too intense! White pours over everything in sight.
Megaliters of cum pools around you! The land itself begins to cave in under your incredible weight! Lower and lower you sink. Higher and higher the sea rises.

&quot;MOOOOOOORE!&quot; You roar as your orgasm intensifies! Your vision is overtaken with alabaster as you submerge yourself into your own lake of seed.

Feeling you grow within him – feeling your steaming fluids cover every inch of his being sets off the creature&#39;s own orgasm. He gurgles and shoots his thick corrupting seed into the surrounding waters.

There&#39;s just too much. No matter what you do, you can&#39;t stop! The lake has already overflowed and you keep on at it for hours on end.

You are not sure how much time has passed since your orgasm ended, but you rise out of the lake larger and hornier than ever before.
You smile as you watch waves of white drip off of you and into your own macro sized cum bath.

With a wet schlorp, you pull the beast off of your @[1|cocks|noverb] once more.

The beast collapses onto his back with a heavy thud; his massive chest heaving up and down as his lungs relieve themselves of your incredible virility.</tw-passagedata><tw-passagedata pid="248" name="_player_text_sheet_lostFuck1_heightFlavour_small" tags="" position="975,3100" size="100,100">You grasp the monster&#39;s cock. Although dripping with black oil, the skin is rock hard and slowly spreads your fingers wider with every beat of growth.
He shudders. With a slow, sensual movement, you tighten your digits and squeeze a thick rope of pre out of the tip.

\&lt;&lt;if $CharacterSheet_Player.info.anatomy.cocks.number &gt; 1&gt;&gt;
At the same time, you bend your hips backwards and line up your @[1|cocks|noverb] with his tight anus.
\&lt;&lt;else&gt;&gt;
At the same time, you bend your hips backwards and line up your @[2|cocks|noverb] with his anus and another positioned to slide across his midriff.
\&lt;&lt;/if&gt;&gt;

You tease his him, generating lewd moans and gasps as you slide your tip around the rim of his sphincter. He pushes his body against yours, forcing you inside of him.

His ass feels tight, yet the black goo makes the entry as smooth as it can be.

&quot;Oh... Hmmm...&quot;

You moan as the corrupt creature clenches his anus around your flesh. His moans turn into desperate grunts and growls as you ease yourself deeper inside of him.

The feeling of his tight virgin ass combined with the goo covering your cock from inside of him, is like nothing you&#39;ve felt before.

His body grows warmer beneath you, almost burning with arousal. You thrust inside him, bring your @[all| arms|noverb] around him and lock lips.
His tongue darts inside of your mouth as he grabs you, running his meaty hands over your back. One of his legs wrap around you and you both spin in place as he
grinds his muscular body against yours. As you lay on your back and wrap yourself within his mighty embrace, you feel warmth rush inside of you.

&quot;Ah... FUCK... GRAHHHH!&quot;

You flip the beast onto his back with a mighty crash as your orgasm rocks your body into euphoria. His black cock erupts in a fountain of corrupted fluid over you.

A small amount of his corrupting essence enters you.

You feel your muscles throb with power.
The feeling rushes up your legs and into the core of your being.

You pinch your large nipples and groan.
&quot;Moooooore...&quot; You growl monstrously.</tw-passagedata><tw-passagedata pid="249" name="_player_text_sheet_lostFuck1_heightFlavour_medium" tags="" position="1100,3100" size="100,100">You grasp the monster&#39;s cock. Although dripping with black oil, the skin is rock hard and slowly spreads your fingers wider with every beat of growth.
He shudders. With a slow, sensual movement, you tighten your digits and squeeze a thick rope of pre out of the tip.

\&lt;&lt;if $CharacterSheet_Player.info.anatomy.cocks.number &gt; 1&gt;&gt;
At the same time, you bend your hips backwards and line up your @[1|cocks|noverb] with his tight anus.
\&lt;&lt;else&gt;&gt;
At the same time, you bend your hips backwards and line up your @[2|cocks|noverb] with his anus and another positioned to slide across his midriff.
\&lt;&lt;/if&gt;&gt;

You tease his him, generating lewd moans and gasps as you slide your tip around the rim of his sphincter. He pushes his body against yours, forcing you inside of him.

His ass feels tight, yet the black goo makes the entry as smooth as it can be.

&quot;Oh... Hmmm...&quot;

You moan as the corrupt creature clenches his anus around your flesh. His growls turn into desperate grunts and moans as you ease yourself deeper inside of him.

The feeling of his tight virgin ass combined with the goo covering your cock from inside of him, is like nothing you&#39;ve felt before.

His body grows warmer beneath you, almost burning with arousal. You thrust inside him, bring your @[all| arms|noverb] around him and lock lips.
His tongue darts inside of your mouth as he grabs you, running his meaty hands over your back. One of his legs wrap around you and you both spin in place as he
grinds his muscular body against yours. As you lay on your back and wrap yourself within his mighty embrace, you feel warmth rush inside of you.

&quot;Ah... FUCK... GRAHHHH!&quot;

You flip the beast onto his back with a mighty crash as your orgasm rocks your body into euphoria. His black cock erupts in a fountain of corrupted fluid over you.

A small amount of his corrupting essence enters you.

You feel your muscles throb with power.
The feeling rushes up your legs and into the core of your being.
You pinch your large nipples and groan.

&quot;Moooooore...&quot; You growl monstrously.</tw-passagedata><tw-passagedata pid="250" name="_player_text_sheet_lostFuck1_heightFlavour_large" tags="" position="1225,3100" size="100,100">You grasp the monster&#39;s cock. Although dripping with black oil, the skin is rock hard and slowly spreads your fingers wider with every beat of growth.
He shudders. With a slow, sensual movement, you tighten your digits and squeeze a thick rope of pre out of the tip.

\&lt;&lt;if $CharacterSheet_Player.info.anatomy.cocks.number &gt; 1&gt;&gt;
At the same time, you bend your hips backwards and line up your @[1|cocks|noverb] with his tight anus.
\&lt;&lt;else&gt;&gt;
At the same time, you bend your hips backwards and line up your @[2|cocks|noverb] with his anus and another positioned to slide across his midriff.
\&lt;&lt;/if&gt;&gt;

You tease his him, generating lewd moans and gasps as you slide your tip around the rim of his sphincter. He pushes his body against yours, forcing you inside of him.

It&#39;s an incredibly tight fit. You look down and grin as you see his stomach bulge outward from the sheer size of your tool. Yet, the black goo simply morphs around him to accommodate the size difference.

&quot;Oh... Hmmm...&quot;

You moan as the corrupt creature clenches his anus around your flesh. His growls turn into desperate grunts and moans as you push yourself in further.
Your cock expands with lust, and the creature&#39;s torso distends with a combination of the pre you are leaking within him and the size of your battering ram.

The feeling is like nothing you&#39;ve felt before.

His body grows warmer beneath your weight, almost burning with arousal. You thrust inside him, the tip of your cock peeking out from his throat.

&quot;Ah... FUCK... GRAHHHH!&quot;

You slam your @[1|hands|noverb] into the ground, arch your back and unleash a terrifying orgasm that rockets out of the creature&#39;s ass and mouth.
The Lost&#39;s tools erupts in a fountain of corrupted fluid underneath you, coating your midriff and seeping into your pores.

A small amount of his corrupting essence enters you.

You feel your muscles throb with power.

The feeling rushes up your legs and into the core of your being.

You pinch your large nipples and groan.

&quot;Moooooore...&quot; You growl monstrously as you pull the creature off of your @[1|cocks|noverb] and throw him to the ground.</tw-passagedata><tw-passagedata pid="251" name="_player_text_sheet_lostFuck1_heightFlavour_huge" tags="" position="100,3225" size="100,100">You grasp the monster&#39;s cock. Although dripping with black oil, the skin is rock hard and slowly spreads your fingers wider with every beat of growth.
Impressive, considering how small he is compared to you. He shudders, looking up at your monstrously huge form. With a slow, sensual movement,
you tighten your digits and squeeze a thick rope of pre out of the tip of his cock.

With a single @[1|hands|noverb], you pick him up off of the ground and line him up with your @[all|pre-leaking|cocks| noverb].

You tease his him, placing his tiny form on its massive swollen head. You smile as his eyes widen at your turgid length.

Winner takes all.

You start pressing his anus down and watch as his legs spread wider and wider to accommodate the massive tower.
If there is anything you have learned from this world, it is that the corruption caters for any size.
The creature distends further and further, until you wrap his form around your tool like a cocksleeve.

&quot;Oh... Hmmm...&quot;

You moan as the corrupt creature&#39;s body clenches around your flesh.
His growls turn into desperate grunts and moans as you begin to piston your spire of flesh through him.
Your cock expands with lust, and the creature&#39;s torso distends even further. Fountains of pre fire from your tip with each thrust, pooling below you in lake sized bodies of fluid.

The feeling is like nothing you&#39;ve felt before.

His body grows warmer around your cock, almost burning with arousal. You thrust even harder, your pre turning into waterfalls of white.

&quot;Ah... FUCK... GRAHHHH!&quot;

You slam one of your feet into the ground, arch your back and unleash a terrifying orgasm that rockets out of your @[all|cocks|noverb] and coats the land with blankets of ultra fertile sperm.
The Lost&#39;s tools erupts alongside you in a poor display compared to your own, yet the corruption still coats a portion of your cock.

A small amount of his corrupting essence enters you.

You feel your muscles throb with even more power.

The feeling rushes up your legs and into the core of your being.

You pinch your large nipples and groan as your cocksleeve is stretched to its limit.

&quot;Moooooore...&quot; You growl monstrously as you pull the creature off of your cock and drop his body to the ground far below you.</tw-passagedata><tw-passagedata pid="252" name="_player_text_sheet_lostWin1_heightFlavour_small" tags="" position="225,3225" size="100,100">Your hands meet, and your bodies clash for dominance. You struggle as the beast pulls you closer to him.
Your hard members are close enough to press and rub along each other. The black liquid that coats him smears and spreads across your @[all|cocks|noverb].
Suddenly, an immense feeling of arousal shakes you to your core as the beast&#39;s corrupting goo quickly slithers into your slit.

Your eyes open wide with renewed vigour and you shove the beast down to the ground. You land on top of its meaty chest, the tip of its pulsating head peeking up from your pecs.</tw-passagedata><tw-passagedata pid="253" name="_player_text_sheet_lostWin1_heightFlavour_medium" tags="" position="350,3225" size="100,100">Your @[1|hands|noverb] engulfs his. With a show of strength and size, you pull his captured arm to the side and send him hurtling to the ground. He leaps back up and bear hugs you
with incredible strength, grinding his cock against your own. The black liquid that coats him smears and spreads across your @[all|cocks|noverb].
Suddenly, an immense feeling of arousal shakes you to your core as the beast&#39;s corrupting goo quickly slithers into your slit.

Your eyes open wide with renewed vigour and you shove the beast down to the ground. You land on top of its meaty chest, your cocks sandwiched between your bulks.</tw-passagedata><tw-passagedata pid="254" name="_player_text_sheet_lostWin1_heightFlavour_large" tags="" position="475,3225" size="100,100">Your @[1|hands|noverb] hurtles toward the Lost, but he dives and angles for your mighty @[all|cocks|noverb]. Although injured, he grabs onto his target
and shoves his dick into your urethra. Black cum erupts into your shaft and spreads across the insides of it.
Suddenly, an immense feeling of arousal shakes you to your core as the beast&#39;s corrupting goo quickly slithers into your ballsack.

Your eyes open wide with renewed vigour and you shove the beast down to the ground. You press his body into the sand with one @[1|hands|noverb].</tw-passagedata><tw-passagedata pid="255" name="_player_text_sheet_lostWin1_heightFlavour_huge" tags="" position="600,3225" size="100,100">Your @[1|hands|noverb] hurtle toward the Lost, but he dives and angles for your @[all|cocks|noverb]. Although injured, he grabs onto his target
and shoves his entire arm into your urethra.

Black goo climbs into your shaft and spreads across the insides of it.
Suddenly, an immense feeling of arousal shakes you to your core as the beast&#39;s corrupting goo quickly slithers into your ballsack.

Your eyes open wide with renewed vigour and you shove the beast down to the ground with earth-breaking fury. You press his entire body into the sand with only three fingers, nearly crushing him.</tw-passagedata><tw-passagedata pid="256" name="_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_small" tags="" position="725,3225" size="100,100">Running a hand down your body and ever lower, you gently caress your @[all| cocks| noverb]. Each inch of flesh that your fingers
brush over sends heated waves of pleasure throughout your body. Your efforts reward you with a few spurts of pre. Eager to explore more of yourself,
you reach down below to feel the weight of your @[all| balls| noverb]. You roll each orb in your hand, gently squeezing them.</tw-passagedata><tw-passagedata pid="257" name="_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_medium" tags="" position="850,3225" size="100,100">Running a hand down your body and ever lower, you gently caress your @[all| cocks| noverb]. Each inch of flesh that your fingers
brush over sends heated waves of pleasure throughout your body. You marvel at how much flesh extends from your waist. The fact that this
entire package belongs to you is enough for you to shiver in delight and jettison an average man&#39;s worth of cum as pre.

Eager to explore more of yourself, you reach down below to feel the weight of your @[all| balls| noverb]. They are heavy in your hands - virile factories ready to be put to work.</tw-passagedata><tw-passagedata pid="258" name="_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_large" tags="" position="975,3225" size="100,100">Running a hand down your body and ever lower, you gently caress your @[all| cocks| noverb]. It&#39;s become impossible to hold your package with a single hand!

You brush your palms across as much flesh as they can reach, sending spears of blazing pleasure throughout your body. Your sheer size has far exceeded the normal, and you feel proud.
There is no other feeling like this - the feeling that your own toolset could easily skewer trenches if you so wished it!The thought of another good fuck sets your cum factories into motion.

The unmistakable feeling of pleasure crescendos, gathering until you roar and blast out
an unfathomable amount of cum, - a deluge of hot sticky liquid that quickly pools on the ground around you.
As your orgasm rocks you, you grope down below to feel the weight of your @[all| balls| noverb]. Merely touching them sends them into overdrive, each testicle vibrating as they push even more fluid out into the open.</tw-passagedata><tw-passagedata pid="259" name="_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_huge" tags="" position="1100,3225" size="100,100">Running a hand down your body and ever lower, you gently caress your @[all| cocks| noverb]. You grin widely as you realise the devastation you could cause by simply letting their weight drop onto the ground!

You brush your hands across a vast expanse of flesh that rumbles with its own pulsing heartbeat. The pleasure is rampant. With a mighty roar, your tool explodes with fountains of thick cum, megaliters upon megaliters that quickly
paint the surroundings with your taint.

There is no other feeling like this - you are the alpha of this world, and it was yours to fuck. The mere thought of your virility pushes you even further over the edge;
your entire package rumbles and triples its output! You are causing a veritable flood from simply thinking about your own sex! You fall onto your rear, only to be cushioned by your
@[all| balls| noverb]. They bounce beneath you, working in overdrive to coat everything as far as the eye can see.</tw-passagedata><tw-passagedata pid="260" name="_player_text_sheet_mirror_player_CrotchFlavour_corruptionFlavour_corrupt50" tags="" position="1225,3225" size="100,100">Something catches your eye. You swab some of your fluid onto your finger and raise an eyebrow as you watch it turn black. Corruption seems to be taking hold of your body.</tw-passagedata><tw-passagedata pid="261" name="_player_text_sheet_mirror_player_CrotchFlavour_corruptionFlavour_corrupt75" tags="" position="100,3350" size="100,100">Your @[all|cocks|noverb] refuse to stop leaking. You watch your cum turn dark and seep into the ground with morbid fascination. The land wants you to become a monster.</tw-passagedata><tw-passagedata pid="262" name="_player_text_sheet_mirror_player_CrotchFlavour_corruptionFlavour_corrupt100" tags="" position="225,3350" size="100,100">Your @[all|cocks|noverb] refuse to stop leaking, the fluids turning obsidian as they linger in the open air. The stuff is thick like tar, yet still, the soil drains it eagerly.

You grin as you realise you are just about ready to accept the monster you have become.
You finish off your self-appreciation with one last firm squeeze of your nutsack. There is no more time to waste - you need to satiate your thirst.</tw-passagedata><tw-passagedata pid="263" name="_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_small" tags="" position="350,3350" size="100,100">Your hands wander down past your slick, gooey, &lt;&lt;SymbioteColor&gt;&gt;-covered flesh to find your @[all| cocks| noverb], still throbbing at your recent orgasm. However, a renewed thrill runs through your body at the delicate, giving
flesh your hands find. Soon, dollops of altered, thick pre starts to well up from your reserves--already replenished due to your new companion.

Your hands, somewhat reluctantly, turn from your @[all| cocks| noverb], only to turn
their attention to your @[all| balls| noverb]. Each orb spends a time being held and admired, gently feeling them and their heft.</tw-passagedata><tw-passagedata pid="264" name="_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_medium" tags="" position="475,3350" size="100,100">Eagerly, your goo-dripping hands feel lower and lower, your @[all| cocks| noverb] already twitching as they anticipate the slick warmth your hands provide. Never before finding &lt;&lt;SymbioteName&gt;&gt; could you have imagined owning
such heft.

The thought of your own size--and the sudden thoughts of it getting even larger--makes your @[all| cocks| noverb] seemingly swell all that more, the thickened pre you have in this form starting to ooze out, despite your
recent orgasm. With that thought invading your mind, your hands wander down below to your @[all| balls| noverb], which are constantly full and heavy--always ready to pour out &lt;&lt;SymbioteName&gt;&gt;&#39;s fluid.</tw-passagedata><tw-passagedata pid="265" name="_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_large" tags="" position="600,3350" size="100,100">There is little need to explore your @[all| cocks| noverb]--you became intimately familiar during your orgasm to bring out &lt;&lt;SymbioteName&gt;&gt;. Yet you still find your hands wandering against your hefty weight, feeling
the overfull mass drape across your hands.

Already, your slick gooey cockflesh throbs with new liquid, pouring into your flesh, ready to be released. Your stretchy, slick flesh expands slightly at the pressure forced
into it, throbbing your gigantic cock out of your hand.

It pulses and throbs, awaiting more attention that your hands cannot possibly give it. As though to torment and prolong the awaiting release, you feel your hands
stroking across your goo-dripping, @[all| balls| noverb]. One orb is raised up, then released. You can simply feel the weight of the orb as it smashes into the ground, causing a grand rivet in the floor.</tw-passagedata><tw-passagedata pid="266" name="_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_huge" tags="" position="725,3350" size="100,100">Your slick hands are no stranger to your @[all| cocks| noverb]. Still erect from releasing &lt;&lt;SymbioteName&gt;&gt;, you can&#39;t even reach the tip even more. You can barely discern where it all ends. Yet you still feel these gigantic
goo-dripping members as a part of you. As part of &lt;&lt;SymbioteName&gt;&gt;. Your companion&#39;s slick form simply enhances the pleasure you feel--no rough spots can be felt, all is smooth, and all belongs to this form.

Quickly your hands
strike onto, and then partially into the erogenous flesh, causing intense white-hot pleasure to sear through you--a pleasure that soon comes erupting from you in physical form, a deluge drenching across all that you can see.
With no stop in sight, you feel your @[all| balls| noverb] tense and pump under you, their gooey form seemingly summoning an endless river from the ether to fuel your ecstasy. Your form seems to almost fall apart from the pleasure,
Leaving you nearly collapsed into a puddle mentally and physically.</tw-passagedata><tw-passagedata pid="267" name="_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_corruptionFlavour_corrupt50" tags="" position="850,3350" size="100,100">You watch as a dark black-purple stream runs through your goo form, almost imperceptable. Whatever corruption taints this land seems to have entered into your body.</tw-passagedata><tw-passagedata pid="268" name="_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_corruptionFlavour_corrupt75" tags="" position="975,3350" size="100,100">Your @[all|cocks|noverb] are streamed with small streams of black-purple corruption throb in concert with your heart, visible in your semi-transluscent flesh.</tw-passagedata><tw-passagedata pid="269" name="_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_corruptionFlavour_corrupt100" tags="" position="1100,3350" size="100,100">Black ooze, nearly indistinguishable from your body, drips out of your @[all|cocks|noverb]--both directly out of the tip, yet also seemingly to ooze out of your very pours, dripping and darkening the very soil that you walk on.</tw-passagedata><tw-passagedata pid="270" name="_player_text_sheet_mirror_player_TailFlavour_heightFlavour_small" tags="" position="1225,3350" size="100,100">Sprouting from your glutes, your @[all| tails| whips~whip] from side to side. Your eyes travel down its length, and fixate on each feature before you smirk,
grab it with your hand and playfully swing it around.</tw-passagedata><tw-passagedata pid="271" name="_player_text_sheet_mirror_player_TailFlavour_heightFlavour_medium" tags="" position="100,3475" size="100,100">Sprouting from your glutes, your @[all| tails| whips~whip] from side to side with whooshing noises. Your eyes travel down its length, and fixate on each feature before you smirk,
grab it with your hand and playfully swing it around. The weight of it has become rather dangerous. A crash resounds behind you as you accidentally knock over your table. Case in point.</tw-passagedata><tw-passagedata pid="272" name="_player_text_sheet_mirror_player_TailFlavour_heightFlavour_large" tags="" position="225,3475" size="100,100">Sprouting from your glutes, your @[all| tails| whips~whip] from side to side. Every movement of it now carries a hefty momentum that only someone with your size can control.
Now too large for your hand, and not to mention to hard to reach with your massive muscles - you thump it on the ground, heavily. The ground booms with its weight and large puffs of dirt explode into the air.
Just like the rest of you, your tail screams of power.</tw-passagedata><tw-passagedata pid="273" name="_player_text_sheet_mirror_player_TailFlavour_heightFlavour_huge" tags="" position="350,3475" size="100,100">Sprouting from your glutes, your @[all| tails| whips~whip] from side to side. Every twitch, flick and swaying motion creates heavy gusts of wind that tear at the plant-speckled dunes and structures below you.
Its weight is heavy enough that, should you crash it into the ground, it would not be difficult to create canyons or quakes. Your teeth flicker from behind your smug expression.
You mischieviously turn around and slap your tail into the lake. An absolute geyser of water shoots up over you, coating your stunning figure with a light watery sheen.
You spend a few more moments playing with it, dragging it across the ground to create ravines whilst the water settles once more.</tw-passagedata><tw-passagedata pid="274" name="_player_text_sheet_mirror_player_TailFlavour_corruptionFlavour_corrupt50" tags="" position="475,3475" size="100,100">A few specks of black on the tip of your tail is enough to make you aware that the land is affecting you.</tw-passagedata><tw-passagedata pid="275" name="_player_text_sheet_mirror_player_TailFlavour_corruptionFlavour_corrupt75" tags="" position="600,3475" size="100,100">A trail of black ooze occassionally forms from the tip of your tail. You reach for some with your fingers and taste the salty substance. A shudder of erotic pleasure courses through you.</tw-passagedata><tw-passagedata pid="276" name="_player_text_sheet_mirror_player_TailFlavour_corruptionFlavour_corrupt100" tags="" position="725,3475" size="100,100">Lines of thick black goo stream from the tip of your tail, coating the ground in corruption. Your arousal is constantly sitting above dangerous levels thanks to the addictive and oh-so pleasurable substance. You smirk.
It is the mark of a beast, and you love it.</tw-passagedata><tw-passagedata pid="277" name="_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_small" tags="" position="850,3475" size="100,100">Your gooey glutes transition into @[all| tails| noverb]. The size is perfectly manageable, the gentle swaying assists in keeping your balance in check.</tw-passagedata><tw-passagedata pid="278" name="_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_medium" tags="" position="975,3475" size="100,100">Your @[all| tails| noverb] wave back and forth, accenting your gooey glutes as they strike against whatever is in their path with surprising force. If you weren&#39;t more careful, you could knock over a wall with the flesh.</tw-passagedata><tw-passagedata pid="279" name="_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_large" tags="" position="1100,3475" size="100,100">Your @[all| tails| smashes~smash] into the wall of your old house, temporarily gluing itself to the structure before releasing for another pass to add to the indentations.
If you wanted, you could bring the building crashing down with an accidental whip of a tail.&quot;</tw-passagedata><tw-passagedata pid="280" name="_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_huge" tags="" position="1225,3475" size="100,100">The ground is rushed away as your @[all| tails| whips~whip] through it, cascading a deep divot.
When occupying this new channel, your &lt;&lt;SymbioteColor&gt;&gt; semi-transparent tail looks similar to that of a river, roiling and filled with the almost fluid flesh.</tw-passagedata><tw-passagedata pid="281" name="_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt25" tags="" position="100,3600" size="100,100">Your tail is very well intact, even with flicks and sways, &lt;&lt;SymbioteName&gt;&gt; maintains perfect form and structure. &lt;&lt;SymbioteName&gt;&gt; seems to enjoy the thought of having a clean cut through anything.</tw-passagedata><tw-passagedata pid="282" name="_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt50" tags="" position="225,3600" size="100,100">Speckles of black spatter the patterning of your @[none| tails| noverb]. Each flick of your tail causes dense clumps to fling off of the goo. &lt;&lt;SymbioteName&gt;&gt; seems to be losing interest in the idea of keeping its form tightly bound to its body.</tw-passagedata><tw-passagedata pid="283" name="_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt75" tags="" position="350,3600" size="100,100">The thin lines of purple and back swimming through your goo form drip out of the tips of your @[none| tails| noverb].
You hardly even need to move your tail as even with stillness, droplets stream away from the gooey tail. &lt;&lt;SymbioteName&gt;&gt; revels in the idea of using its tail as a brush, painting the earth around it with &lt;&lt;SymbioteColor&gt;&gt; goo.</tw-passagedata><tw-passagedata pid="284" name="_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt100" tags="" position="475,3600" size="100,100">Black and purple goo mix freely with your @[none| tails| noverb] goo, erupting from the tips in a constant stream that drags across the floor behind you, marking the entire land with the addictive substance.
&lt;&lt;SymbioteName&gt;&gt; enjoys every moment of painting the land in &lt;&lt;SymbioteColor&gt;&gt; goo.</tw-passagedata><tw-passagedata pid="285" name="_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_small" tags="" position="600,3600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; wrings its tail around itself and brings a hand down to stroke the tail in self admiration.</tw-passagedata><tw-passagedata pid="286" name="_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_medium" tags="" position="725,3600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; seems more than delighted in the thought of toying around with its tail as it coils around itself.</tw-passagedata><tw-passagedata pid="287" name="_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_large" tags="" position="850,3600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; seems delighted at that idea, it coils its tail around its torso, giving it gentle strokes in self admiration.</tw-passagedata><tw-passagedata pid="288" name="_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_huge" tags="" position="975,3600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; flaps its tail within the basin, enjoying the thought of being massive enough to occupy the earth itself.</tw-passagedata><tw-passagedata pid="289" name="_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_small" tags="" position="1100,3600" size="100,100">Resting on your back and spreading wide are @[all| wings|noverb] that could easily support your weight in flight. You take turns flexing each of their inner limbs, stretching the membranes taught.
Playfully, you give them a good push and launch yourself backwards and onto your bed.</tw-passagedata><tw-passagedata pid="290" name="_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_medium" tags="" position="1225,3600" size="100,100">Resting on your back and spreading wide are @[all| wings|noverb] that could easily support your weight in flight. Their tips are now large enough that it has become quite difficult to move inside of buildings -
like your own home! Like that mattered. They were beautiful and nothing screams power than unfolding them widely to touch the opposite walls of your room. You notice that each wing flexor is packing on a fair bit of muscle!
Striking a powerful pose, you flex them resulting in a rising display of bicep and tricep shaped muscles.</tw-passagedata><tw-passagedata pid="291" name="_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_large" tags="" position="100,3725" size="100,100">Resting on your back and spreading wide are @[all| wings|noverb] that could easily support your heavy weight in flight. Out in the open, you have the freedom of stretching them to their massive wingspan.
Nothing in your life could have made you feel as proud as you do now as you marvel at the huge shadow they cast. You flap them gently and even with such a subtle movement, the size and power in each of those membranes
create monstrous waves across the lake&#39;s surface</tw-passagedata><tw-passagedata pid="292" name="_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_huge" tags="" position="225,3725" size="100,100">Resting on your back and spreading wide are @[all| wings|noverb] that could easily support your heavy weight in flight. If any creature had somehow missed your gigantic body, then they certainly could not miss your eclipsing wingspan.
Their flexors have grown so heavy with muscle that they could function as extra pairs of arms.

With a mighty flex, and a powerful and prideful roar, you spread them out wide, their tips reaching past the edges of the lake and further, still.
You remain there - a deity amongst deities, a power among powers. If you had to flap them, that would be the end of the land around you. You smile as you retract them. Perhaps that would not be the best of ideas, for now.</tw-passagedata><tw-passagedata pid="293" name="_player_text_sheet_mirror_player_WingsFlavour_corruptionFlavour_corrupt50" tags="" position="350,3725" size="100,100">A few bolts of purple and black run across your inner membrane as you continue to examine your wings. You raise an eyebrow. It would seem no body part is unsafe from the taint of this world.</tw-passagedata><tw-passagedata pid="294" name="_player_text_sheet_mirror_player_WingsFlavour_corruptionFlavour_corrupt75" tags="" position="475,3725" size="100,100">bright glowing streaks of purple and black run across your membranes like spiderwork. Your wings shimmer with corruption, with power people should fear. Perhaps that would be a lesson for either yourself, or those who cross you.</tw-passagedata><tw-passagedata pid="295" name="_player_text_sheet_mirror_player_WingsFlavour_corruptionFlavour_corrupt100" tags="" position="600,3725" size="100,100">The edges of your wings are torn and occasionally drip black oil. Bolts of black lightning arc off of the tips of each wings&#39; limbs, heralding the presence of monstrous corruption.</tw-passagedata><tw-passagedata pid="296" name="_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_small" tags="" position="725,3725" size="100,100">Your back gently transitions into @[all| wings|noverb] that look as though they could carry you in flight. The ribs of the wings are joined not by fleshy membranes, but rather pliable goo.
You watch as a colored spec of your goo is cycled through the slow waterfall that is your membranes.</tw-passagedata><tw-passagedata pid="297" name="_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_medium" tags="" position="850,3725" size="100,100">Your hefty back supports @[all| wings| noverb] that are filled with a constant movement of that gooey flesh of &lt;&lt;SymbioteName&gt;&gt; that could support your weight during flight.
The goo can hide completely within your back or take form a shake similar to that of a cloak one may wear to conceal themself.

When extended, they reach from wall to wall of your room--even pressing up and causing your flexible form to bend ever so slightly from the pressure of the semi-sturdy walls.
That would not do: you chuckle as the gooey flesh rushes into the edges of your bent wings, filling them with strength and form as they expand, forcing divots into the walls.
Your adaptive body is so strong that even the wingtips can puncture walls on command.</tw-passagedata><tw-passagedata pid="298" name="_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_large" tags="" position="975,3725" size="100,100">Your massive wingspan of @[all| wings| noverb] casts a shadow across nearly all you can see, the slowly circulating goo that forms the wings giving a somewhat ethereal, undulating quality to the shadows.
The massive size of your semi-transparent, dripping membranes alone could blot out an entire farm.  Your wing dips into the lake, and you can feel it cup the water, a small pond in itself.</tw-passagedata><tw-passagedata pid="299" name="_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_huge" tags="" position="1100,3725" size="100,100">You cannot see the tips of your @[all| wings| noverb] anymore. A simple flap of the gooey form is enough to cause cascading waves to roll across the lake and the vegetation beyond.
The thinnest of the bulk in the wings are more powerful and massive than your thigh was just a short time ago.
The slick goo that drips and moves across your membranes tenses and forms a strong barrier as you gently flap one of your wings, almost knocking over a tree.</tw-passagedata><tw-passagedata pid="300" name="_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt25" tags="" position="1225,3725" size="100,100">The texture of the gooey wings is soft and pliable with no imperfections. &lt;&lt;SymbioteName&gt;&gt; has kept the wings in pristine condition and maintains structure by remaining closely intact.</tw-passagedata><tw-passagedata pid="301" name="_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt50" tags="" position="100,3850" size="100,100">The texture of your gooey wings is like thick, melting wax. &lt;&lt;SymbioteName&gt;&gt; is slightly restless and the wings feeling like they&#39;re beginning to lose a stable form.</tw-passagedata><tw-passagedata pid="302" name="_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt75" tags="" position="225,3850" size="100,100">Spots of purple and black erupt from the edges of your goo wings, criss-crossing all across your membranes, a visible mark of your corruption. Your wings drip constantly, each flap causes wicks of goop to fly in all directions.</tw-passagedata><tw-passagedata pid="303" name="_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt100" tags="" position="350,3850" size="100,100">Dark corrupt black ooze drips out of your gooey membranes, coating the ground in your monstrous corruption. When folded in, your back gives off the appearance of wearing a cape made of flowing water.
When spread out, your wings constantly seep out in all directions. Each flap of your wings practically coats the entire area beneath you within the runny texture of goo.</tw-passagedata><tw-passagedata pid="304" name="_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_small" tags="" position="475,3850" size="100,100">&lt;&lt;SymbioteName&gt;&gt; brings an arm up to fondle the massive wings in self admiration.</tw-passagedata><tw-passagedata pid="305" name="_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_medium" tags="" position="600,3850" size="100,100">&lt;&lt;SymbioteName&gt;&gt; brings an arm up to fondle the massive wings in self admiration.</tw-passagedata><tw-passagedata pid="306" name="_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_large" tags="" position="725,3850" size="100,100">&lt;&lt;SymbioteName&gt;&gt; brings an arm up to fondle the massive wings in self admiration, almost enthralled by the size of itself.</tw-passagedata><tw-passagedata pid="307" name="_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_huge" tags="" position="850,3850" size="100,100">&lt;&lt;SymbioteName&gt;&gt; brings an arm up to fondle the massive wings in self admiration, almost enthralled by the size of itself.</tw-passagedata><tw-passagedata pid="308" name="_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_small" tags="" position="975,3850" size="100,100">Moving from side to side, you proudly examine the @[all| horns| noverb] that crown your fearsome visage. Their weight is pleasant on your neck and their points sharp enough to cause
some serious damage. You run a hand across one of them, relishing in the feeling of power and protection it gives you.</tw-passagedata><tw-passagedata pid="309" name="_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_medium" tags="" position="1100,3850" size="100,100">Moving from side to side, you proudly examine the @[all| horns| noverb] that crown your fearsome visage. Their weight is heavy, but your thick neck can easily support it.
You pick up a nearby piece of metal and run it across the points. It splits like butter. These could cause some serious damage. You run a hand across one of them, relishing in the feeling of power and protection it gives you.</tw-passagedata><tw-passagedata pid="310" name="_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_large" tags="" position="1225,3850" size="100,100">Moving from side to side, you proudly examine the @[all| horns| noverb] that crown your fearsome visage. Their weight is incredible, it feels as if their momentum would be enough to even knock you off balance if you aren&#39;t careful!
You bend down and test your horn&#39;s strength on the ground. The earth quakes as you rip out a clean hole. These are horns that you can be proud of. You run a hand across one of them, relishing in the feeling of power and protection it gives you.</tw-passagedata><tw-passagedata pid="311" name="_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_huge" tags="" position="100,3975" size="100,100">Moving from side to side, you proudly examine the @[all| horns| noverb] that crown your fearsome visage. Each time you move your head, the air parts as if a mountain had suddenly flung itself across a distance.
They are the only weight on this planet that challenges your massive neck and you love the feeling.

It is far too dangerous to test your horns out, the amount of earth that they would penetrate would easily split the ground for a fair distance.
You run a hand across one of them, relishing in the feeling of power and protection it gives you.</tw-passagedata><tw-passagedata pid="312" name="_player_text_sheet_mirror_player_HornsFlavour_corruptionFlavour_corrupt50" tags="" position="225,3975" size="100,100">As your finger runs across the surface, you feel small indentations that were never there before. They don&#39;t feel randomly shaped either!
If you trace your fingers across them, they feel runic. You wonder if it&#39;s the corruption&#39;s influence.</tw-passagedata><tw-passagedata pid="313" name="_player_text_sheet_mirror_player_HornsFlavour_corruptionFlavour_corrupt75" tags="" position="350,3975" size="100,100">Your finger gently passes over faintly glowing runes of purple. Every crevice cracks with small arcs of corruption which fire miniature bolts of arousal into your very core.</tw-passagedata><tw-passagedata pid="314" name="_player_text_sheet_mirror_player_HornsFlavour_corruptionFlavour_corrupt100" tags="" position="475,3975" size="100,100">You find yourself repeating this motion for a while. In fact, it has become daily practice. Every purple rune now drips with aphrodesiac and its touch is as pleasurable as tongues worshipping your glorious package.
Why stop when you could reach an orgasm from touching your horns alone?</tw-passagedata><tw-passagedata pid="315" name="_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_small" tags="" position="600,3975" size="100,100">&lt;&lt;SymbioteName&gt;&gt; is crowned with @[all| horns| noverb]. Due to its gooey nature, they are slightly pliable when relaxed.

However, as your head rubs up against a wall, the semi-fluid of its flesh shifts around, forcing them into sharp, dense spires.
Acting similarly to a non-newtonian fluid, They could do quite a bit of damage when needed.</tw-passagedata><tw-passagedata pid="316" name="_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_medium" tags="" position="725,3975" size="100,100">&lt;&lt;SymbioteName&gt;&gt;&#39;s slightly malleable @[all| horns| noverb] weigh upon its head, slowly dripping with its essence.
But in a sudden impulse, you decide to thrust them against some metal, where they instantly harden and pierce through.

Acting like a non-newtonian, the raw power even in just one horn leaves you smiling.</tw-passagedata><tw-passagedata pid="317" name="_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_large" tags="" position="850,3975" size="100,100">The weight of &lt;&lt;SymbioteName&gt;&gt;&#39;s dripping @[all| horns| noverb] would crush those with a weaker neck. Fortunately, that does not apply to you.

A chuckle escapes your lips as you lean down and push your horns deep into the ground, gouging out a trench in the lakeside. The sturdiness of the fluid keeps it intact whenever pressure is applied.</tw-passagedata><tw-passagedata pid="318" name="_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_huge" tags="" position="975,3975" size="100,100">&lt;&lt;SymbioteName&gt;&gt;&#39;s gooey visage is framed by towering spires of @[all| horns| noverb]. They raise up into the sky, mighty towers befitting a master of the world that the two of you have become.

You have the weight of the world on your shoulders, along with its dangerous power. One single horn could pierce through an entire tower, used as a siege breaker.</tw-passagedata><tw-passagedata pid="319" name="_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt25" tags="" position="1100,3975" size="100,100">The glistening horns are perfectly unblemished and well intact.</tw-passagedata><tw-passagedata pid="320" name="_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt50" tags="" position="1225,3975" size="100,100">Reflected in the outer layer of your slightly-transluscent horns lies certain geometric shapes that you cannot identify.</tw-passagedata><tw-passagedata pid="321" name="_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt75" tags="" position="100,4100" size="100,100">The horns constantly drip, steady droplets escape from any point of contact. Glowing in the middle of the horns are faint, purple runes.</tw-passagedata><tw-passagedata pid="322" name="_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt100" tags="" position="225,4100" size="100,100">The horns constantly drip with a downpour of goo as if there were a waterfall before your eyes. The corrupt purple runes from inside your horns glow out in a constant stream, radiating from your head like a halo of pure corruption.</tw-passagedata><tw-passagedata pid="323" name="_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_small" tags="" position="350,4100" size="100,100">You find yourself admiring your @[all| heads| noverb]. You try out a few expressions showing off your jawline - both open and clenched, how your cheeks
are shaped beneath your eyes and the way they lead to your mouth.

There, your @[all|eyes|noverb] linger before you open your @[all| jaws | noverb] wide
and let your @[all| tongues| noverb] slip out over your @[all| teeths| noverb].</tw-passagedata><tw-passagedata pid="324" name="_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_medium" tags="" position="475,4100" size="100,100">You find yourself admiring your @[all| heads| noverb]. You try out a few expressions showing off your jawline - both open and clenched, how your cheeks
are shaped beneath your eyes and the way they lead to your mouth.

There, your @[all|eyes|noverb] linger before you open your @[all| jaws | noverb] wide
and let your @[all| tongues| noverb] slip out over your @[all| teeths| noverb].</tw-passagedata><tw-passagedata pid="325" name="_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_large" tags="" position="600,4100" size="100,100">You find yourself admiring your @[all| heads| noverb]. You try out a few expressions showing off your jawline - both open and clenched, how your cheeks
are shaped beneath your eyes and the way they lead to your mouth. There, your let your @[all|eyes|noverb] linger before you open your @[all| jaws | noverb] wide
and let your @[all| tongues| noverb] slip out over your @[all| teeths| noverb].</tw-passagedata><tw-passagedata pid="326" name="_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_huge" tags="" position="725,4100" size="100,100">You find yourself admiring your @[all| heads| noverb]. You try out a few expressions showing off your jawline - both open and clenched, how your cheeks
are shaped beneath your eyes and the way they lead to your mouth. There, your let your @[all|eyes|noverb] linger before you open your @[all| jaws | noverb] wide
and let your @[all| tongues| noverb] slip out over your @[all| teeths| noverb].</tw-passagedata><tw-passagedata pid="327" name="_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt25" tags="" position="850,4100" size="100,100">After thoroughly inspecting your pearly whites for dirt, cavities or any other unwelcome sights, you snap your @[2|jaws|noverb] shut and continue your visual tour.</tw-passagedata><tw-passagedata pid="328" name="_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt50" tags="" position="975,4100" size="100,100">Looking closer, your tongue seems to be unnaturally long for your mouth. Testing it out, you manage to unroll the fleshy tube until the tip touches the underside of your chin.
There are small black dots at the base. It reminds you of the Lost. You slip your tongue back into your mouth and wipe the spittle off of your chin.</tw-passagedata><tw-passagedata pid="329" name="_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt75" tags="" position="1100,4100" size="100,100">You let your tongue roll lower and lower until a fair portion slides across your meaty chest. Your taste is phenominal - the flavour of a dominant male. Black streaked saliva spreads across your body
as your tongue slabbers over it. Your spittle drips from its fleshy surface in small rivulets. Before things get too messy, you retract the limb.</tw-passagedata><tw-passagedata pid="330" name="_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt100" tags="" position="1225,4100" size="100,100">You let your tongue slide lower until a thick layer of black saliva coats your chest. You let it run even lower, the tip reaching down for your treasure trail and tasting every musky ravine it finds on the way.

It extends even further, until it is able to travel up toward a leaking and waiting cockslit and plunges itself into the shaft. The taste is sublime and the feeling - the feeling fires explosive bursts of euphoria
right into the core of your very being. You could do this for hours, as you have before, until you came all over the black fleshy surface of your tongue. Yet, you hold back.

There is far more of you to explore before. Playtime would come soon. You roll your tongue back into your mouth.</tw-passagedata><tw-passagedata pid="331" name="_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt25" tags="" position="100,4225" size="100,100">&lt;&lt;SymbioteName&gt;&gt; is in perfectly pristine condition, flawless, thoroughly viscous and well intact. &lt;&lt;SymbioteName&gt;&gt; remains closely wound to your body, seemingly contented with remaining in its place.

Satisfied with its standings, your eyes wander down to inspect the rest of it.</tw-passagedata><tw-passagedata pid="332" name="_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt50" tags="" position="225,4225" size="100,100">Looking closer, &lt;&lt;SymbioteName&gt;&gt; drips slightly like thick, melting wax. Droplets of goo drip from your face in small, but dense clumps.
You are increasingly aware of the slick feeling of running goop all over you. Wiping some excess goo off of your face, it sloughs off in clumps as you shake your arm free of the goop.

&lt;&lt;SymbioteName&gt;&gt; almost seems like it&#39;s trying to escape from you, as if it wanted more from the world that lies past the bounds of your body.</tw-passagedata><tw-passagedata pid="333" name="_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt75" tags="" position="350,4225" size="100,100">&lt;&lt;SymbioteName&gt;&gt; is extremely runny, slick and slimy. Gentle streams of goo run down your face and all over your body as you try to shake it off reflexively.
To no avail, there&#39;s a notable puddle of goo forming at the base of your stance, but the volume of &lt;&lt;SymbioteName&gt;&gt; seemingly remains unchanged.
&lt;&lt;SymbioteName&gt;&gt; trembles with need, filled with carnal desire, longing for release.</tw-passagedata><tw-passagedata pid="334" name="_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt100" tags="" position="475,4225" size="100,100">Cascades of goo stream across your face in a constant downpour. &lt;&lt;SymbioteName&gt;&gt; has become a writhing mass of permeable fluid, barely intact as it drips everywhere.
An incessant trail of slime lingers in your wake, which seemingly has no effect on &lt;&lt;SymbioteName&gt;&gt; volume. &lt;&lt;SymbioteName&gt;&gt; demands satisfaction, desperate for another toy to play with. Who would you be to not give into the thought?</tw-passagedata><tw-passagedata pid="335" name="_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_small" tags="" position="600,4225" size="100,100">Below the waist, you sport @[all| legs| noverb]. You raise one, proudly, before bringing your foot back to the ground with a heavy stomp. The sound of heavy weight compacting sand is quite satisfactory.
You admire the contour of each teardrop of your thighs and the diamond shape of each calf. It doesn&#39;t take long before you find yourself worshipping your body, running your hand over each mound.

You flex and feel the ravines of your body consume your fingers and how each crest pushes against your palm.</tw-passagedata><tw-passagedata pid="336" name="_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_medium" tags="" position="725,4225" size="100,100">Below the waist, you sport @[all| legs| noverb]. You raise a proud knee before bringing your foot back to the ground with a heavy stomp. The sound is heavy, and far more powerful than it was before.
You admire the contour of each teardrop of your thighs and the diamond shape of each of your calves. It doesn&#39;t take long before you find yourself worshipping your body, running your hand over each mound.

You flex each and feel the ravines of your body consume your fingers and how each crest pushes against your palm. Your muscles have grown large enough that you could trap your own finger between two muscles if you weren&#39;t careful.</tw-passagedata><tw-passagedata pid="337" name="_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_large" tags="" position="850,4225" size="100,100">Below the waist, you sport @[all| legs| noverb]. You raise one, proudly, before bringing your foot back to the ground with a heavy stomp. A resounding boom echoes across the land as the earth beneath your foot splinters and cracks.

You enjoy being a giant and the feeling of power it gives you. You admire the contour of each teardrop of your thighs and the diamond shape of each of your calves.
It doesn&#39;t take long before you find yourself worshipping your body, running your hand over each mound.

It takes longer for your hand to fully caress the entirety of every muscle. There is so much to explore and even more than that when
you flex! Your legs feel like granite and in fact, could probably bend titanium with ease.</tw-passagedata><tw-passagedata pid="338" name="_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_huge" tags="" position="975,4225" size="100,100">Below the waist, you sport @[all| legs| noverb]. You raise one, proudly, but hesitate before bringing your foot back to the ground, softly.

A resounding boom echoes across the land as the earth beneath your foot splinters and cracks. It seems you have compacted so much mass into each pillar-like leg that the
ground can barely hold its own agains you, even when you were being gentle! You are a titan supported by the massive foundations.

You admire the contour of each teardrop and the diamond shape of each of your calves. It doesn&#39;t take long before you find yourself worshipping your body, running your hand over each mound.
It&#39;s difficult to reach every muscle, they&#39;re simply too gargantuan!

Every one of your limbs are limited by the sheer amount of muscle on them as it is, but the awkward angle you would need to feel the underside of your leg was now virtually impossible.
That&#39;s just fine for you, because when you flex your legs, you can feel the very air quiver in fear of what they can do.</tw-passagedata><tw-passagedata pid="339" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_small" tags="" position="1100,4225" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb]. You raise a leg, proudly before bringing your foot back to the ground with a heavy stomp.

The gooey texture of your body holds its form well enough. You admire the contour of each teardrop of the thighs and the diamond shape of each calf.
It doesn&#39;t take long before you find yourself worshipping &lt;&lt;SymbioteName&gt;&gt;&#39;s body, running your hand over each mound.

You flex and feel the ravines of &lt;&lt;SymbioteName&gt;&gt; body consume your fingers and how each crest pushes against your palm.</tw-passagedata><tw-passagedata pid="340" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_medium" tags="" position="1225,4225" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb]. You raise a proud knee before bringing your foot back to the ground with a heavy stomp.

The gooey texture of your body holds its form well enough despite the bulk of its body. You admire the contour of each teardrop of your thighs and the diamond shape of each of your calves.
It doesn&#39;t take long before you find yourself worshipping &lt;&lt;SymbioteName&gt;&gt;&#39;s body, running your hand over each mound.

You flex each and feel the ravines of your body consume your fingers and how each crest pushes against your palm.
The pseudo muscles have grown large enough that you could easily trap your own finger within the creases of the musculature.</tw-passagedata><tw-passagedata pid="341" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_large" tags="" position="100,4350" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb]. You raise a leg proudly before bringing your foot back to the ground with a heavy stomp.

The gooey texture of your body quivers before the quake and thundering crash of your efforts.
Once the quaking of your gooey form subsides, you admire the contour of each teardrop of your thighs and the diamond shape of each of your calves.

It doesn&#39;t take long before you find yourself worshipping &lt;&lt;SymbioteName&gt;&gt;&#39;s body, running your hand over each mound. It takes longer for your hand to fully caress the entirety of every muscle.
There is so much to explore and even more than that when you flex! &lt;&lt;SymbioteName&gt;&gt; is definitely more than sturdy enough to match the sheer volume of its size.</tw-passagedata><tw-passagedata pid="342" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_huge" tags="" position="225,4350" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb]. You raise one, proudly, but hesitate before bringing your foot back to the ground, softly.

A resounding boom echoes across the land as the earth beneath your foot splinters and cracks. The sheer volume of &lt;&lt;SymbioteName&gt;&gt;&#39;s mass feels endless. Truly a gargantuan, you can&#39;t help but enjoy the size of the gooey form.
You admire the contour of each teardrop and the diamond shape of each of its calves.

It doesn&#39;t take long before you find yourself worshipping &lt;&lt;SymbioteName&gt;&gt;&#39;s body, running your hand over each mound. It&#39;s difficult to reach every muscle, &lt;&lt;SymbioteName&gt;&gt; is simply too gargantuan!
Every one of your limbs are limited by the sheer amount of bulk on them as it is, but the awkward angle you would need to feel the underside of your leg was now virtually impossible.
All is not lost, for even the very world seems to quiver before &lt;&lt;SymbioteName&gt;&gt;&#39;s gargantuan size.</tw-passagedata><tw-passagedata pid="343" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt25" tags="" position="350,4350" size="100,100">The legs themself are very well compacted. &lt;&lt;SymbioteName&gt;&gt; has molded its body closely together and is free of imperfections, content with clutching onto itself tightly.</tw-passagedata><tw-passagedata pid="344" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt50" tags="" position="475,4350" size="100,100">The legs themself have a clumpy texture, like thick, melty wax. &lt;&lt;SymbioteName&gt;&gt; seems interested in exploring the bounds outside of its own body as dense clumps of goo slough off of the legs with each step.</tw-passagedata><tw-passagedata pid="345" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt75" tags="" position="600,4350" size="100,100">The legs themself are very runny, gentle streams of goo run down your form, merging into the puddle that forms beneath you when you stay in one place too long.
Despite this, &lt;&lt;SymbioteName&gt;&gt; doesn&#39;t lose any volume.

It would seem almost as if they were trying to escape from you with each droplet, as if it was eager to escape the bounds of your body and spread its influence across the land.</tw-passagedata><tw-passagedata pid="346" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt100" tags="" position="725,4350" size="100,100">The legs themself constantly cascade with a downpour of goo from every pore. Even with only mere moments of stillness, a noticeable puddle of goo has formed within your wake.

Despite this, &lt;&lt;SymbioteName&gt;&gt; doesn&#39;t lose any volume, displaying the sheer force of will and control over its mentality.
&lt;&lt;SymbioteName&gt;&gt; craves release with every moment, desperate to spread its presence and find new toys to play with.</tw-passagedata><tw-passagedata pid="347" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_small" tags="" position="850,4350" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb].

With eagerness, it raises a leg proudly before bringing its foot back to the ground with a heavy stomp, admiring the crash of its body against the ground. The gooey texture of your body holds its form well enough.
&lt;&lt;SymbioteName&gt;&gt; admires the contour of each teardrop of the thighs and the diamond shape of each calf.

It doesn&#39;t take long before &lt;&lt;SymbioteName&gt;&gt; is simply worshipping its body, running its hand over each mound of flesh.
It flexes and fondles the ravines of its own body, enthralled by self admiration.</tw-passagedata><tw-passagedata pid="348" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_medium" tags="" position="975,4350" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb].
With eagerness, It raises a proud knee before bringing your foot back to the ground with a heavy stomp, admiring the crash of its body against the ground.
The gooey texture of your body holds its form well enough despite the bulk of its body.

&lt;&lt;SymbioteName&gt;&gt; admires the contour of each teardrop of its thighs and the diamond shape of each of its calves.
It doesn&#39;t take long before you find yourself worshipping &lt;&lt;SymbioteName&gt;&gt; body, running your hand over each mound.

It flexes each muscle to feel the ravines of its body consume its fingers and the way each crest presses against its palm.
The pseudo muscles have grown large enough for &lt;&lt;SymbioteName&gt;&gt; to worship contentedly, captivated by self admiration</tw-passagedata><tw-passagedata pid="349" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_large" tags="" position="1100,4350" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb]. With eagerness, It raises a leg proudly before bringing its foot back to the ground with a heavy stomp.
The gooey texture of your body trembles before the quake and thundering crash of your efforts.

Once the quivering of your gooey form subsides, &lt;&lt;SymbioteName&gt;&gt; admires the contour of each teardrop of its thighs and the diamond shape of each of its calves.
It doesn&#39;t take long before &lt;&lt;SymbioteName&gt;&gt; is simply worshipping its body, running its hand over each mound. It takes longer for its hand to fully caress the entirety of the massive bulk.

There is so much to explore and even more than that when it flexes.
&lt;&lt;SymbioteName&gt;&gt; is admiring the efforts of its bulk and enjoying the shifting of its body with each flex. It continues the self admiration grope fest, enraptured by its own body.</tw-passagedata><tw-passagedata pid="350" name="_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_huge" tags="" position="1225,4350" size="100,100">Below the waist &lt;&lt;SymbioteName&gt;&gt; sports @[all| legs| noverb].
With eagerness, it raises one, proudly before bringing its foot back to the ground. A resounding boom echoes across the land as the earth beneath your foot quakes.
The sheer volume of &lt;&lt;SymbioteName&gt;&gt;&#39;s mass feels endless. Truly a gargantuan, &lt;&lt;SymbioteName&gt;&gt; can&#39;t help but enjoy the size of its form.
It admires the contour of each teardrop and the diamond shape of each of its calves.

It doesn&#39;t take long before &lt;&lt;SymbioteName&gt;&gt; is simply worshipping its body, running its hand over each mound.
It&#39;s difficult to reach every muscle, &lt;&lt;SymbioteName&gt;&gt; is simply too gargantuan.
Every one of its limbs are limited by the sheer amount of bulk on them as it is, but the awkward angle &lt;&lt;SymbioteName&gt;&gt; would need to feel the underside of your leg was now virtually impossible.
&lt;&lt;SymbioteName&gt;&gt; makes an attempt to continue its self admiration nonetheless with constant groping, completely enraptured by its own body.</tw-passagedata><tw-passagedata pid="351" name="_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_small" tags="" position="100,4475" size="100,100">Your eyes follow every curve of your neck down toward your body, proper. You push your shoulders backwards and push out your @[all| pecs| noverb], bouncing each muscle with impressive
control.You raise your @[all| arms| noverb] into a powerful flex, curling your @[2| hands| noverb] inwards to truly make each bicep rise. You then bring them forward to touch your sensitive nipples,
running your fingers across the edge of the circular nubs.

Moaning from the pleasure, you let your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb]. Your every movement causes them to shift and bulge.</tw-passagedata><tw-passagedata pid="352" name="_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_medium" tags="" position="225,4475" size="100,100">Your eyes follow every curve of your neck down toward your body, proper. You push your shoulders backwards and push out your @[all| pecs| noverb], bouncing each muscle with impressive
control. You can feel their weight as they rise and fall - you can even get a small ripple of muscle to run from the top of each pec to the bottom!

You raise your @[all| arms| noverb] into a powerful flex, curling your @[2| hands| noverb] inwards to truly make each bicep rise.
You can hear audible creaks from your bones and flesh as your muscles&#39; size puts strain on them. You then bring them forward to touch your hard and sensitive, nipples,
running your fingers across the fairly sized nubs - nubs large enough to grip and squeeze. You moan from the pleasure.

After a minute of fondling, you let your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb]. Your every movement causes them to shift and bulge.
Your laterals are now large enough to push your arms upwards and outwards giving you an imposing and brawny stance.</tw-passagedata><tw-passagedata pid="353" name="_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_large" tags="" position="350,4475" size="100,100">Your eyes follow every curve of your neck down toward your body, proper. You push your shoulders backwards and push out your @[all| pecs| noverb], bouncing each muscle with impressive
control. You can feel their heavy weight as they rise and fall with loud shudders. Each vein and chord is incredibly visible with the sheer amount of mass focused into each pec!

You raise your @[all| arms| noverb] into a monstrous flex, curling your @[2| hands| noverb] inwards to truly make each bicep rise like hills.
You can hear audible creaks from your bones and flesh as your muscles strain your skin enough that each vein becomes clearly visible. They are thick firehoses that sprawl all across your form - juicy highways providing the huge amount of
fuel your body now needs. Lowering your arms, you bring them forward to touch your hard and sensitive, nipples,
running your fingers across the large protroding nubs. They take up a fair portion of the space within your hand. You moan.

After a minute of fondling, you let your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb]. Your every movement causes them to shift and bulge.
Your laterals now force your arms up to the point that your shoulders are encroaching on your neck&#39;s territory. Your figure forms an almost perfect Y-shape, the pinnacle of form.</tw-passagedata><tw-passagedata pid="354" name="_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_huge" tags="" position="475,4475" size="100,100">Your eyes follow every curve of your neck down toward your body, proper. You push your shoulders backwards and push out your @[all| pecs| noverb], bouncing each muscle with impressive
control. The very air thunders as each muscle creates small shockwaves of force. Every vein and chord is incredibly visible with the impossible amount of mass focused into each pec!

You raise your @[all| arms| noverb] into a mind-shattering and monstrous flex, curling your @[2| hands| noverb] inwards. Muscles that shouldn&#39;t exist rise alongside your mountainous bicep and conduct an
orchestra of creaking flesh - the sound a metal bunker would make if it had to bend and teeter. Thick firehose veins sprawl all across your form and visibly pulsate with the huge amount of
fuel your body now needs.

Lowering your arms, you bring them forward to touch your hard and sensitive nipples,
running your fingers across massive protroding nubs. You grab a handful of nipple and squeeze, your body instantly tensing into a cluster of bulging muscle. You moan as your head is all but swallowed.

After a minute of fondling, you let your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb]. With a mischievious booming laugh, you flex them
and create a thundering clap that rivals thunder itself. Finally, you bring each arm down into a most-muscular pose and feel your back and laterals flare out so widely that your vision is completely engulfed by your own body!</tw-passagedata><tw-passagedata pid="355" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_small" tags="" position="600,4475" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt;&#39;s neck down toward its body.
You bring your shoulders backwards and push out &lt;&lt;SymbioteName&gt;&gt;&#39;s @[all| pecs| noverb], as the glistening muscles bounce with control.

You raise your @[all| arms| noverb] into a powerful flex, curling your @[2| hands| noverb] inwards to make the biceps rise.
You then bring them forward to touch your pliable nipples, running your fingers across the edge of the gooey, circular nubs.

Moaning from the pleasure, you let your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb]. Your every movement causes them to shift and bulge.</tw-passagedata><tw-passagedata pid="356" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_medium" tags="" position="725,4475" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt;&#39;s neck down toward its body, proper.
You bring your shoulders backwards and push out &lt;&lt;SymbioteName&gt;&gt;&#39;s @[all| pecs| noverb], bouncing each muscle with impressive control.
You can feel the weight as it rises and falls. Even with the gooey texture, you can even get a small ripple of muscle to run from the top of each pec to the bottom.

You raise your @[all| arms| noverb] into a powerful flex, curling your @[2| hands| noverb] inwards to truly make each bicep rise.
You can hear audible sloshing from the movement of the faux musculature as its size fights against itself.
You then bring them forward to touch &lt;&lt;SymbioteName&gt;&gt; soft and pliable, nipples, running your fingers along the areola.

You moan from the pleasure. After a minute of fondling, you let your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb].
Your every movement causes them to shift and bulge. The laterals are large enough to push your arms upwards and outwards giving you an imposing and brawny stance.</tw-passagedata><tw-passagedata pid="357" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_large" tags="" position="850,4475" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt;&#39;s neck down toward its body.
You push your shoulders backwards and push out your @[all| pecs| noverb], bouncing each muscle with impressive control.
You can feel their heavy weight of the perfectly chiseled pectorals as they rise and ripple with each fall.

You raise your @[all| arms| noverb] into a monstrous flex, curling the @[2| hands| noverb] inwards to truly make each bicep rise like hills.
You can hear audible sloshing from the movement of the needlessly enormous musculature as its size fights against itself.

These arms are truly a glorious, massive, perfectly built masterpiece. Lowering your arms, you bring them forward to touch your hard and sensitive, nipples, running your fingers across the large protroding nubs.
They take up a fair portion of the space within your hand. You moan. After a minute of fondling, you let your hands glide down to your lower torso and feel each curve of your gooey @[all| abdominals| noverb].

Your every movement causes them to shift and bulge. Your laterals now force your arms up to the point that your shoulders are encroaching on your neck&#39;s territory. &lt;&lt;SymbioteName&gt;&gt; figure forms an almost perfect Y-shape, the pinnacle of form.</tw-passagedata><tw-passagedata pid="358" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_huge" tags="" position="975,4475" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt;&#39;s neck down toward its body. You push your shoulders backwards and push out your @[all| pecs| noverb], bouncing each muscle with impressive control.
The very air thunders as each muscle creates small shockwaves of force. The enormous pecs are gloriously dense and sculpted with the precision that&#39;d make the finest craftsmanship seem like fodder before them.

You raise your @[all| arms| noverb] into a mind-shattering and monstrous flex, curling your @[2| hands| noverb] inwards.
Muscles that shouldn&#39;t exist rise alongside the mountainous bicep, the goo holds firmly in place, nearly warping the light around it by its sheer volume.

The faux musculature is admirable nonetheless, inspiring awe to any onlooker. Lowering your arms, you bring them forward to touch your hard and sensitive nipples, running your fingers across massive protroding nubs.
You grab a handful of nipple and squeeze, the gooey body instantly tensing into a cluster of bulging muscle. You moan as your head is all but swallowed.

After a minute of fondling, you let your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb]. With a mischievous booming laugh, you flex them and create a thundering clap that rivals thunder itself.
Finally, you bring each arm down into a most-muscular pose and feel your back and laterals flare out so widely that your vision is completely engulfed by the size of the goo.</tw-passagedata><tw-passagedata pid="359" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt25" tags="" position="1100,4475" size="100,100">Your eyes meander around the goo covering your torso, it is perfectly intact, clean and unblemished. &lt;&lt;SymbioteName&gt;&gt; seems content on keeping the shape of its upper body clean and stable.</tw-passagedata><tw-passagedata pid="360" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt50" tags="" position="1225,4475" size="100,100">Your eyes meander around the goo covering your torso, it drips slightly, like a wax candle that has just begun to melt. The clumps of goo slough whenever you bring a hand to wipe it off.
&lt;&lt;SymbioteName&gt;&gt; seems restless, almost as if it wanted to escape but didn&#39;t care enough to make a full attempt.</tw-passagedata><tw-passagedata pid="361" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt75" tags="" position="100,4600" size="100,100">Your eyes meander to the running goo across your torso. It flows in constant, but gentle streams. It almost gives the sensation of sweat constantly pouring down your chest.
&lt;&lt;SymbioteName&gt;&gt; is  trembling softly, it&#39;s form becoming increasingly more amorphous and unstable.</tw-passagedata><tw-passagedata pid="362" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt100" tags="" position="225,4600" size="100,100">Your eyes meander to the constant dripping of goo from your torso. &lt;&lt;SymbioteName&gt;&gt; has become reckless, its form is unstable and trembles with need.
A constant downpour of goo leaks from its pores, making the body feel slick and slimy. &lt;&lt;SymbioteName&gt;&gt; is restless, needy, desperate for attention or a new toy to mess with.</tw-passagedata><tw-passagedata pid="363" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_small" tags="" position="350,4600" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt; neck down toward its body. &lt;&lt;SymbioteName&gt;&gt; springs into action as it continues to admire itself.
It brings your shoulders backwards and puffs out its @[all| pecs| noverb] as the glistening muscles bounce with control.

&lt;&lt;SymbioteName&gt;&gt; raises your @[all| arms| noverb] into a powerful flex, curling your @[2| hands| noverb] inwards to make the biceps rise.
&lt;&lt;SymbioteName&gt;&gt; is positively loving every moment of its self admiration.
Soon enough, &lt;&lt;SymbioteName&gt;&gt; then brings its hand forward to touch its pliable nipples, running its fingers across the edge of the gooey, circular nubs.

After forcing a moan of pleasure from you, it glides its hands down to your lower torso to feel each curve of its @[all| abdominals| noverb]. Your every movement causes them to shift and bulge.</tw-passagedata><tw-passagedata pid="364" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_medium" tags="" position="475,4600" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt; neck down toward its body. &lt;&lt;SymbioteName&gt;&gt; springs into action as it continues to admire itself.
&lt;&lt;SymbioteName&gt;&gt; brings your shoulders backwards and puffs out its @[all| pecs| noverb], bouncing each muscle with impressive control.

You can feel the weight as it rises and falls. Even with the gooey texture, you can even get a small ripple of muscle to run from the top of each pec to the bottom.
&lt;&lt;SymbioteName&gt;&gt; raises your @[all| arms| noverb] into a powerful flex, curling your @[2| hands| noverb] inwards to truly make each bicep rise.

You can hear audible sloshing from the movement of the faux musculature as its size fights against itself. &lt;&lt;SymbioteName&gt;&gt; is positively loving every moment of its self admiration.
Soon enough, it brings its arms forward to touch its soft and pliable, nipples, running your fingers along the areola.
After forcing a moan of pleasure from you, &lt;&lt;SymbioteName&gt;&gt; lets its hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb].

Your every movement causes them to shift and bulge. The laterals are large enough to push your arms upwards and outwards giving &lt;&lt;SymbioteName&gt;&gt; a large and very muscular stance.</tw-passagedata><tw-passagedata pid="365" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_large" tags="" position="600,4600" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt; neck down toward its body. &lt;&lt;SymbioteName&gt;&gt; springs into action as it continues to admire itself.
It pushes your shoulders backwards and puffs out its @[all| pecs| noverb], bouncing each muscle with impressive control.

You can feel their heavy weight of the perfectly chiseled pectorals as they rise and ripple with each fall.
&lt;&lt;SymbioteName&gt;&gt; raises your @[all| arms| noverb] into a monstrous flex, curling the @[2| hands| noverb] inwards to truly make each bicep rise like hills.

You can hear audible sloshing from the movement of the needlessly enormous musculature as its size fights against itself. These arms are truly a glorious, massive, perfectly built masterpiece.
&lt;&lt;SymbioteName&gt;&gt; is positively loving every moment of its self admiration. Lowering your arms, &lt;&lt;SymbioteName&gt;&gt; brings them forward to touch its hard and sensitive, nipples, running your fingers across the large protroding nubs.
They take up a fair portion of the space within your hand. After forcing a moan of pleasure from you, it lets your hands glide down to your lower torso to get a feel for each curve of your gooey @[all| abdominals| noverb].

Your every movement causes them to shift and bulge. Your laterals now force your arms up to the point that your shoulders are encroaching on your neck&#39;s territory.
&lt;&lt;SymbioteName&gt;&gt; figure forms an almost perfect Y-shape, a perfect display of peak form.</tw-passagedata><tw-passagedata pid="366" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_huge" tags="" position="725,4600" size="100,100">Your eyes follow every curve of &lt;&lt;SymbioteName&gt;&gt; neck down toward its body. &lt;&lt;SymbioteName&gt;&gt; springs into action as it continues to admire itself.
It pushes your shoulders backwards and puffs out its @[all| pecs| noverb], bouncing each muscle with impressive control. The very air thunders as each muscle creates small shockwaves of force.
The enormous pecs are gloriously dense and sculpted with the precision that&#39;d make the finest craftsmanship seem like fodder before them.
&lt;&lt;SymbioteName&gt;&gt; raises your @[all| arms| noverb] into a monstrous flex, curling your @[2| hands| noverb] inwards.

Muscles that shouldn&#39;t exist rise alongside the mountainous bicep, the goo holds firmly in place, nearly warping the light around it by its sheer volume.
The faux musculature is admirable nonetheless, inspiring awe to any onlooker. &lt;&lt;SymbioteName&gt;&gt; is positively loving every moment of its self admiration.
Lowering your arms, it brings them forward to touch your hard and sensitive nipples, running its fingers across the massive protroding nubs.
&lt;&lt;SymbioteName&gt;&gt; grabs a handful of its pectoral and squeezes, the gooey body instantly tensing into a cluster of bulging muscle.
Your head is all but swallowed beneath its tremendous form. After forcing a moan of pleasure from you, &lt;&lt;SymbioteName&gt;&gt; lets your hands glide down to your lower torso and feel each curve of your @[all| abdominals| noverb].
&lt;&lt;SymbioteName&gt;&gt; flexes them and creates a thundering clap with volume that&#39;d cause anyone within its presence to tremble.
Finally, &lt;&lt;SymbioteName&gt;&gt; brings each arm down into a most-muscular pose as its back and laterals flare out so widely that your vision is completely engulfed by the size of the goo.</tw-passagedata><tw-passagedata pid="367" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt25" tags="" position="850,4600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; seems to be enjoying all of the attention it&#39;s getting.</tw-passagedata><tw-passagedata pid="368" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt50" tags="" position="975,4600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; is loving all of the attention you&#39;re feeding them.</tw-passagedata><tw-passagedata pid="369" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt75" tags="" position="1100,4600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; idly strokes its body teasingly, as if to entice you.</tw-passagedata><tw-passagedata pid="370" name="_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt100" tags="" position="1225,4600" size="100,100">&lt;&lt;SymbioteName&gt;&gt; constantly fondles its own body in admiration, positively starved for attention.</tw-passagedata><tw-passagedata pid="371" name="_player_text_sheet_mirror_player_Flavour_heightFlavour_small" tags="" position="100,4725" size="100,100">You gaze into the reflective surface.</tw-passagedata><tw-passagedata pid="372" name="_player_text_sheet_mirror_player_Flavour_heightFlavour_medium" tags="" position="225,4725" size="100,100">You shift backwards and forwards, gazing at what parts of your body fit within the image on the polished slate.</tw-passagedata><tw-passagedata pid="373" name="_player_text_sheet_mirror_player_Flavour_heightFlavour_large" tags="" position="350,4725" size="100,100">You step over the wall. Soon, you find yourself gazing at your form in the lake&#39;s reflection.</tw-passagedata><tw-passagedata pid="374" name="_player_text_sheet_mirror_player_Flavour_heightFlavour_huge" tags="" position="475,4725" size="100,100">You step over the wall. Soon, you find yourself gazing at the parts of your form that fit in the lake&#39;s reflection.</tw-passagedata><tw-passagedata pid="375" name="_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_small" tags="" position="600,4725" size="100,100">The goo form that covers your body is reflected in the polished surface of the slate.</tw-passagedata><tw-passagedata pid="376" name="_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_medium" tags="" position="725,4725" size="100,100">The slick and gooey body reflected that barely fits in the polished surface.</tw-passagedata><tw-passagedata pid="377" name="_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_large" tags="" position="850,4725" size="100,100">The lake holds your gooey form in its reflection.</tw-passagedata><tw-passagedata pid="378" name="_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_huge" tags="" position="975,4725" size="100,100">What little you can see in the lake shows off your gargantun gooey form.</tw-passagedata><tw-passagedata pid="379" name="_player_text_sheet_homeFlavour_heightFlavour_small" tags="" position="1100,4725" size="100,100">You travel to your house a few streets down. The one story house is not much, but you&#39;re proud of it. Every metal wall
was made with your own blood sweat and tears.

You slide in through the dusty corrugated door and into the house proper.

Inside is a few pieces of furniture you&#39;ve managed to cobble together. In the one corner, your bed rests under a small dirt speckled window.

In the middle, resting on a bearskin rug is a small table made from scrap wood and rubber. Your journal rests on it, its pages yellow with age.

Finally, no room is complete without a mirror. Or, at least, a highly polished metal slate that was good enough to act as one.</tw-passagedata><tw-passagedata pid="380" name="_player_text_sheet_homeFlavour_heightFlavour_medium" tags="" position="1225,4725" size="100,100">You travel to your house a few streets down. The one story house is not much, but you&#39;re proud of it. Every metal wall
was made with your own blood sweat and tears.

You slide in through the dusty corrugated door and into the house proper.
You smile as you realise how much of the doorway your body occupies and how you have to bend to keep your head from scraping against the roof.

Inside is a few pieces of furniture you&#39;ve managed to cobble together. In the one corner, your bed rests under a small dirt speckled window. It&#39;s looking a bit small compared to you.

In the center of the room, resting on a bearskin rug, is a small table made from scrap wood and rubber.
Your journal rests on it, its pages yellow with age. Looking at your @[all|hands|noverb], you realise that it might be difficult to use some day.

Finally, no room is complete without a mirror. Or, at least, a highly polished metal slate that was good enough to act as one.</tw-passagedata><tw-passagedata pid="381" name="_player_text_sheet_homeFlavour_heightFlavour_large" tags="" position="100,4850" size="100,100">You travel to your house a few streets down. How are you meant to fit anymore? One story is not nearly enough for you!

You grab the metal you had once lovingly crafted into a roof and rip it off with a loud screech. At least now, you could step inside if you wanted.

Inside is a few pieces of furniture you&#39;ve managed to cobble together. In the one corner, your bed rests under a small window cut out of the sheet metal. Now, it would only serve as a dishrag for you.

In the middle, resting on a bearskin rug is a small table made from scrap wood and rubber. Your journal, rests on it. There&#39;s no point in even trying to pick it up with your meaty @[1|hands|noverb].

Finally, no room is complete without a mirror. Yet this would do little for you. Perhaps you could step over the walls of the Golden Bastion and use the reflective surface of the nearby lake, instead?</tw-passagedata><tw-passagedata pid="382" name="_player_text_sheet_homeFlavour_heightFlavour_huge" tags="" position="225,4850" size="100,100">No house can contain your size. The building that you had once called home doesn&#39;t hold a candle to you anymore.

You can only rely on your memories, your journal is nothing more than a speck far below you.

Luckily, you could easily step over the walls of the Golden Bastion and use the reflective surface of the nearby lake as a mirror, but even that hardly suffices for your sheer bulk.</tw-passagedata><tw-passagedata pid="383" name="_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_small" tags="" position="350,4850" size="100,100">You rush in and attack.</tw-passagedata><tw-passagedata pid="384" name="_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_medium" tags="" position="475,4850" size="100,100">You charge in and swing your fist.</tw-passagedata><tw-passagedata pid="385" name="_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_large" tags="" position="600,4850" size="100,100">You stomp forward and swing a massive fist.</tw-passagedata><tw-passagedata pid="386" name="_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_huge" tags="" position="725,4850" size="100,100">Your @[all| arms| hurtles~hurtle] down toward the enemy.</tw-passagedata><tw-passagedata pid="387" name="_player_text_sheet_basicAttackAttemptFlavour_corruptionFlavour_corrupt75" tags="" position="850,4850" size="100,100">A trail of purple energy flows from your knuckles.</tw-passagedata><tw-passagedata pid="388" name="_player_text_sheet_basicAttackAttemptFlavour_corruptionFlavour_corrupt100" tags="" position="975,4850" size="100,100">Each vein in your hand and arm burns with a dark purple hue. Tainted energy rolls off of your skin as tendrils of corrupt light.</tw-passagedata><tw-passagedata pid="389" name="_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_small" tags="" position="1100,4850" size="100,100">You quickly bash with your weapon&#39;s hilt.</tw-passagedata><tw-passagedata pid="390" name="_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_medium" tags="" position="1225,4850" size="100,100">You charge in and quickly bash with your weapon&#39;s hilt.</tw-passagedata><tw-passagedata pid="391" name="_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_large" tags="" position="100,4975" size="100,100">You stomp forward, fully extending your arm from the side of your torso.</tw-passagedata><tw-passagedata pid="392" name="_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_huge" tags="" position="225,4975" size="100,100">Your @[1| arms| hurtles~hurtle] down toward the enemy, bashing wildly with your weapon&#39;s hilt.</tw-passagedata><tw-passagedata pid="393" name="_player_text_sheet_bashAttackAttemptFlavour_corruptionFlavour_corrupt75" tags="" position="350,4975" size="100,100">A trail of purple energy flows from your knuckles.</tw-passagedata><tw-passagedata pid="394" name="_player_text_sheet_bashAttackAttemptFlavour_corruptionFlavour_corrupt100" tags="" position="475,4975" size="100,100">Each vein in your hand and arm burns with a dark purple hue. Tainted energy rolls off of your skin as tendrils of corrupt light.</tw-passagedata><tw-passagedata pid="395" name="_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_small" tags="" position="600,4975" size="100,100">You swing your weapon with full force.</tw-passagedata><tw-passagedata pid="396" name="_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_medium" tags="" position="725,4975" size="100,100">You charge in and swing your weapon with full force.</tw-passagedata><tw-passagedata pid="397" name="_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_large" tags="" position="850,4975" size="100,100">You stomp forward, twisting your waist and shoulders round before turning back unleasing a mighty swing of your weapon.</tw-passagedata><tw-passagedata pid="398" name="_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_huge" tags="" position="975,4975" size="100,100">Your @[all| arms| hurtles~hurtle] down toward the enemy, unleasing a mighty swing of your weapon.</tw-passagedata><tw-passagedata pid="399" name="_player_text_sheet_slashAttackAttemptFlavour_corruptionFlavour_corrupt75" tags="" position="1100,4975" size="100,100">A trail of purple energy flows from your weapon.</tw-passagedata><tw-passagedata pid="400" name="_player_text_sheet_slashAttackAttemptFlavour_corruptionFlavour_corrupt100" tags="" position="1225,4975" size="100,100">Each vein in your hand and arm burns with a dark purple hue. Tainted energy rolls off of your weapon as tendrils of corrupt light.</tw-passagedata><tw-passagedata pid="401" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_1" tags="" position="100,5100" size="100,100">muscles harden and pulse with increasing strength. Your biceps form impressive peaks above well defined forearms. Veins begin peeking through your skin
as they spread across your growing shoulders and neck. Your @[all|pecs|noverb] push outwards, your nipples harden and a moan escapes your mouth as the growth tumbles downward
like a fresh breath of air through your @[all|abdominals|noverb], thighs and calves.</tw-passagedata><tw-passagedata pid="402" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_2" tags="" position="225,5100" size="100,100">athletic form hardens as every muscle contracts into picturesque beauty. Every line and crease deepens as the power flowing through you forces your body to
adapt. Your laterals spread wider, your abdominal wall pushes outwards and your upper body swells with growing, physical pride.</tw-passagedata><tw-passagedata pid="403" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_3" tags="" position="350,5100" size="100,100">body convulses as an internal fire spreads outwards from your core and to each limb. Your body freezes, momentarily before a wellspring of growth overtakes you.
Calves bulge, quads expand and your upper body surges with strength to keep up.</tw-passagedata><tw-passagedata pid="404" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_4" tags="" position="475,5100" size="100,100">expression shifts into a pleasurable smile. Looking down at your hands, you watch a bubble of growth move from your fingertips,
across your @[all|arms|noverb] and into your @[all|pecs|noverb].
Your nutsack rumbles and your @[all|cocks|fire~fires] an unattural amount of cum. Every jet of white, every convulsion, propels your body upwards and outwards.</tw-passagedata><tw-passagedata pid="405" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_1" tags="" position="600,5100" size="100,100">body shudders and you double over. Your knees hit the ground as you are assaulted by a wave of intense pleasure.
Every burgeoning muscle flexes, each crest and trough grows into mounds that could only be crafted with years of dedication.

Your @[all|arms|noverb] push out larger with more strength, your back becomes an atlas of muscle - your @[all|pecs|noverb] begin pushing your growing nipples earthbound and your
@[all|abdominals|noverb] bulge with increased size.</tw-passagedata><tw-passagedata pid="406" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_2" tags="" position="725,5100" size="100,100">mouth spreads into a wide grin as a surreal purple glow spins across the edges of your @[2|eyes|noverb]. Veins swell all over your body. Not moments later, your cock rises as your limbs pack on
weight and size. What was once ample, is now in excess. What was once well defined, is now barelling. You flex your bicep, watching it rise higher and higher.

A sinister smile spreads wide across your face - this is only the beginning.</tw-passagedata><tw-passagedata pid="407" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_3" tags="" position="850,5100" size="100,100">cock hardens to full mast as a sudden growth spurt overtakes your body. You quickly wrap your @[all|arms|noverb] around your chest to feel your @[all|pecs|noverb] compete with your biceps.
Wave after wave, your arms push away from your chest - the sheer size being compressed into each muscle group is unfathomable! Your @[all|legs|noverb] adopt a wider stance as the war continues below
with your quads, expanding glutes and growing calves.</tw-passagedata><tw-passagedata pid="408" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_4" tags="" position="975,5100" size="100,100">body spasms as your powerful muscles all flex at once. Your bull like neck pulses larger and begins to threaten the sides of your @[all|heads|noverb]. Your @[all|pecs|noverb] swell outwards in
leaps and bounds over a growing and impressive set of @[all|abdominals|noverb]. Your hands rove across each expanding inch of flesh, feeling your skin stretch tighter against
chords of steel that thicken with every passing second.</tw-passagedata><tw-passagedata pid="409" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_1" tags="" position="1100,5100" size="100,100">body shudders. Every boulder contained within you rumbles with an ominous wave of incoming growth.
Your biceps explode from raw, uncontained power. They barrel outwards until their pulsing peaks began to reach sizes that
are clearly unnatural. Each pectoral grows large enough to be a shelf, and they bounce eagerly as they consume more and more space in front of you. Your large nipples are forced
further sideways and downwards as their hosts pulsate larger and larget still! Thick thighs and glutes become even thicker, pillars that would easily support houses are
increasing in size before your very eyes!</tw-passagedata><tw-passagedata pid="410" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_2" tags="" position="1225,5100" size="100,100">bones crack audibly. Growth is upon you yet again, and this wave was even stronger than your last! With a booming thud, your muscles explode with new size
- too much and too fast for your body to keep up with! The growth begins running rampant; each second packs on more and more until limbs begin to lock
and grind against each other from the lack of free space. With a primal roar, you flex, a beastly mountain of mass, and will it all to compact inwards.

Control was regained but your body has far from relented your new incredible atlassian size.</tw-passagedata><tw-passagedata pid="411" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_3" tags="" position="100,5225" size="100,100">mouth opens wide as a primordial roar bellows from your growing maw. Bending down, you slam your fist into the ground and a wave of size propells itself
upwards from the cracked earth; up your forearm, bicep and into your bullish neck.

Your @[all|pecs|noverb] push further outwards, forcing your center of gravity forward before
your waist expands into a pillar of power to support your new torso. Sliding outwards from the ground behind you; your @[all|legs|noverb] push each other apart, massaging and
grinding against your @[all|cocks|noverb]. The pleasure is too much! With another ear-splitting roar, you arch your back and unleash a torrential geyser of white.</tw-passagedata><tw-passagedata pid="412" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_4" tags="" position="225,5225" size="100,100">jaw bobs in maniacal laughter as you feel the power within yourself erupt. Like waves from the surface of disturbed water, your entire body groans, creaks and shifts
as mucles begin to pack onto muscles. Chords thicken and roadworks of veins the size of heavy duty pipes spiral across your pulsating flesh. With a mighty stomp
your growing foot hits the ground; forcing a monstrous wave of size upwards through your calves, into your thighs and finally into your bulging muscular rear. Finally, bringing
your @[all|hands|noverb] together in a mighty clap, your upper body explodes to double its size!</tw-passagedata><tw-passagedata pid="413" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_1" tags="" position="350,5225" size="100,100">movements halt. A deadly silence overtakes the land that you tower over. A rumbling. The sound of war drums - the sound of the planet roaring its protest against your
impending change. Then it happens. Mountains that are biceps double in size. Pectorals that quake with every minor shift billow outwards. Nipples - hard, large and sensitive
are exiled into the deepening valley between them and an entire canyon of @[all|abdominals|noverb]. Laterals that were wings, were forced wider. Back muscles that
ripple with pure power, expand. Arms that could crush villages grow into monstrosities that the world could never contend with. Your @[all|cocks|noverb], large and heavy with muscle
slowly swings into the air; its growing mass forces your stance even wider. Another rumble. Another catastrophy. Rivers of white explode from its tip into a deluge
that coats you, the ground and every object close enough to suffer the titanic load unleashed from your @[all|balls|noverb].</tw-passagedata><tw-passagedata pid="414" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_2" tags="" position="475,5225" size="100,100">@[all|arms|noverb] fall limp at your side. A loud rumbling, akin to the mighty growl of a beast in heat, begins to echo across the land. A dark shadow - the silhouette of
your monstrous form begins to shudder. The Golden Bastion, those around it, will all bear witness as you suddenly shiver. A crack, as loud as thunder
rockets through the air as you grow. Thunderous booms echo around you; every explosive sound heralds your titanic bones reshaping themselves to create more space.

Your shadow grows with every shudder and
covers more and more of the land. Higher. Wider. There are no human words to describe your size, no words that exist to describe the mass within your being -
no measurement of how much weight sits within your collosal and expanding form.</tw-passagedata><tw-passagedata pid="415" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_3" tags="" position="600,5225" size="100,100">@[all|cocks|stiffens~more=stiffens]. An unfathomably large spurt of pre jettisons from your @[all|cocks|one=slit~slits] and pools in the lands far below you. The air becomes hot as a thick
umistakeable aura of power coats the insides of your nostrils. To the world&#39;s surprise, you shudder and balloon outwards
in every direction. Your forearms are a perfect pair of spheres of unadulterad power, pushing against growing biceps and triceps that have long since dwarfed your @[all|heads|noverb]. Your
towering masses flex upwards and expand outwards, packing on new muscle groups that have never been known to mankind. Your neck surges outward, practically engulfing the sides of your vision.

Impressive laterals surge outwards, forming an incredibly powerful, yet impossible, Y-shape. @[all|legs|noverb], as built as the foundations of the world,
explode into sizes of which no words can describe.</tw-passagedata><tw-passagedata pid="416" name="_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_4" tags="" position="725,5225" size="100,100">body shivers as another wave of growth approaches. More size. Bigger. You have to be bigger! You crave so much more! Your body surges even larger, responding to your will.
A prideful smile stretches your lips wide; you will become all consuming, ever-growing! Only the gods could try to stop you, but by then - you will be unstoppable.

You will be more. A building is an insufficient measurement compared to the muscles you now support
, at least they are now after they split into even more muscle groups of absolute mind blowing size and power. Adjectives - words to help mortals describe concepts will never capture
the immensity each of your biceps peak at. Each proud muscle, expanding with every passing second, escalates from weapon of mass destruction, to world ending.

You still need more. You will have more!</tw-passagedata><tw-passagedata pid="417" name="_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_small" tags="" position="850,5225" size="100,100">Your @[all|cocks|throbs~throb], harder than it ever has. You look down, feeling each vein engorge with unnatural thickness.
Then it hits you, a wave of pleasure grows from the base of your loin. Your shaft pulsates wildly as it expands thicker and longer.

Your eyes widen as the growth progresses further up your @[all|cocks|noverb].
It&#39;s so long, so thick. And it keeps growing, pushing your fingers wider apart.</tw-passagedata><tw-passagedata pid="418" name="_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_medium" tags="" position="975,5225" size="100,100">A familiar feeling rushes over you. You grin, looking down at your @[all|cocks|noverb], welcoming a wave of incoming growth.
It suddenly hits you, like a rush of adrenaline.

Your @[all|cocks|jolts~jolt] forward, hard enough to make you lose your balance.
Suddenly, it comes. You scream in pleasure as your loin grows thicker and longer. Every beat of your heart,
every flex of your muscles and every breath feed it with more heavy, throbbing flesh. You try to grasp at your @[all|cocks|noverb] with both hands,
failing to fully handle your monster as it grows uncontrollably. You throw your head back, moaning deeply enough to cut your breath short.</tw-passagedata><tw-passagedata pid="419" name="_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_large" tags="" position="1100,5225" size="100,100">Suddenly, your @[all|cocks|throbs~throb]. The sheer need for attention of your monster overwhelms you.
You try to grasp the base; you can only tremble in anticipation.
Your @[all|cocks|is~are] so hot, so full and thick. You shiver at the thought of growing even bigger.
Jolts of pleasure pulsate from your @[all|cocks|noverb] as it starts growing. You desperately try to grasp and pleasure the throbbing flesh, but it is too massive for your hands to contain.

You push down and thrust your hips along the ground. The sheer mass of your @[all|cocks|noverb] is still incredibly sensitive; you moan in pleasure as it pushes outward, bigger and bigger.
You slide your fingers along your slit and moan passionately. Bolts of pleasure pierces you with every contact,
precum leaks out of your monstrous cock like a damaged dam. Your @[all|cocks|grows~grow] bigger than you thought possible.
Your loin is gigantic, monstrous even; finding anything that can handle you will be a challenge.</tw-passagedata><tw-passagedata pid="420" name="_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_huge" tags="" position="1225,5225" size="100,100">You feel something coming, something tremendous... A familiar warmth rushes over you; your loin burns with anticipation.
It keeps building, tingles of pleasure spread from your @[all|cocks|noverb]. This wave of incoming growth is greater than a roaring sea,
and it keeps building, threatening to swallow you in its eternal pleasure.

But you welcome it... You grin madly at your monstrous @[all|cocks|noverb] with an unatural eagerness. And then it happens.
Your @[all|cocks|explodes~explode] in size, mountains of sensitive flesh burst upwards along your pecs. You rub it passionately, each touch bringing you close to the edge.
Your veins grow massive, feeding your @[all|cocks|noverb] with untold power. A roar of triumph bursts out of you as your @[all|cocks|noverb] takes over the scenery.
Everything and everyone gets exposed to the glorious beast you&#39;re packing. They can only stare in awe as the ground rumbles;
your @[all|cocks|strains~strain], the land braces. Your roars resound throughout the land as an ocean of potent &lt;&lt;print $CharacterSheet_Player.symbiote.info.colour&gt;&gt; cum comes raining down on this world once again.</tw-passagedata><tw-passagedata pid="421" name="_player_text_sheet" tags="" position="100,5350" size="100,100">&lt;&lt;set setup.TextSheet_Player =
{
	lukkaHouseMenu :{
		heightFlavour: {
			small: [
				&quot;LukkaHouse_MainMenu_Normal&quot;
			],
			medium: [
				&quot;LukkaHouse_MainMenu_Normal&quot;
			],
			large: [
				&quot;LukkaHouse_MainMenu_Huge&quot;
			],
			huge: [
				&quot;LukkaHouse_MainMenu_Huge&quot;
			],
		}
	},
	jormFirstMeeting :{
		heightFlavour: {
			small: [
				&quot;Jorm_FirstMeeting_PlayerSmall&quot;
			],
			medium: [
				&quot;Jorm_FirstMeeting_PlayerSmall&quot;
			],
			large: [
				&quot;Jorm_FirstMeeting_PlayerBig&quot;
			],
			huge: [
				&quot;Jorm_FirstMeeting_PlayerBig&quot;
			],
		}
	},
	mergeLost1 :{
		heightFlavour: {
			small: [
				&quot;_player_text_sheet_mergeLost1_heightFlavour_small&quot;
			],
			medium: [
				&quot;_player_text_sheet_mergeLost1_heightFlavour_medium&quot;
			],
			large: [
				&quot;_player_text_sheet_mergeLost1_heightFlavour_large&quot;
			],
			huge: [
				&quot;_player_text_sheet_mergeLost1_heightFlavour_huge&quot;
			],
		}
	},
	lostKiss :{
		heightFlavour: {
			small: [
				&quot;_player_text_sheet_lostKiss_heightFlavour_small&quot;
			],
			medium: [
				&quot;_player_text_sheet_lostKiss_heightFlavour_medium&quot;
			],
			large: [
				&quot;_player_text_sheet_lostKiss_heightFlavour_large&quot;
			],
			huge: [
				&quot;_player_text_sheet_lostKiss_heightFlavour_huge&quot;
			],
		}
	},
	lostFuck2 :{
		heightFlavour: {
			small: [
				&quot;_player_text_sheet_lostFuck2_heightFlavour_small&quot;
			],
			medium: [
				&quot;_player_text_sheet_lostFuck2_heightFlavour_medium&quot;
			],
			large: [
				&quot;_player_text_sheet_lostFuck2_heightFlavour_large&quot;
			],
			huge: [
				&quot;_player_text_sheet_lostFuck2_heightFlavour_huge&quot;
			]
		}
	},
	lostFuck1 :{
		heightFlavour: {
			small: [
				&quot;_player_text_sheet_lostFuck1_heightFlavour_small&quot;
			],
			medium: [
				&quot;_player_text_sheet_lostFuck1_heightFlavour_medium&quot;
			],
			large: [
				&quot;_player_text_sheet_lostFuck1_heightFlavour_large&quot;
			],
			huge: [
				&quot;_player_text_sheet_lostFuck1_heightFlavour_huge&quot;
			]
		}
	},
	lostWin1 :{
		heightFlavour: {
			small: [
				&quot;_player_text_sheet_lostWin1_heightFlavour_small&quot;
			],
			medium: [
				&quot;_player_text_sheet_lostWin1_heightFlavour_medium&quot;
			],
			large: [
				&quot;_player_text_sheet_lostWin1_heightFlavour_large&quot;
			],
			huge: [
				&quot;_player_text_sheet_lostWin1_heightFlavour_huge&quot;
			],
		},
	},
	mirror_player_CrotchFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_CrotchFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_player_CrotchFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_player_CrotchFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_player_CrotchFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_CrotchFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_player_mirror_symbiote_CrotchFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_player_TailFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_TailFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_TailFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_TailFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_TailFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_player_TailFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_player_TailFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_player_TailFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_TailFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_TailFlavour_LiveForEcho: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_TailFlavour_LiveForEcho_heightFlavour_huge&quot;
			]
		}
	},
	mirror_player_WingsFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_WingsFlavour_heightFlavour_huge&quot;
			]

		},
		corruptionFlavour:
		{
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_player_WingsFlavour_corruptionFlavour_corrupt50&quot;,
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_player_WingsFlavour_corruptionFlavour_corrupt75&quot;,
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_player_WingsFlavour_corruptionFlavour_corrupt100&quot;,
			]
		}
	},
	mirror_symbiote_WingsFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_WingsFlavour_LiveForEcho: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_WingsFlavour_LiveForEcho_heightFlavour_huge&quot;
			]
		}
	},
	mirror_player_HornsFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_medium&quot;

			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_large&quot;

			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_HornsFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_player_HornsFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_player_HornsFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_player_HornsFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_HornsFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_symbiote_HornsFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_player_HeadFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_medium&quot;

			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_large&quot;

			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_heightFlavour_huge&quot;

			]
		},
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt50&quot;

			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt75&quot;

			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_player_HeadFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_HeadFlavour: {
		corruptionFlavour: {
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_symbiote_HeadFlavour_corruptionFlavour_corrupt100&quot;
			]
		},
	},
	mirror_player_LowerBodyFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_medium&quot;

			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_large&quot;

			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_LowerBodyFlavour_heightFlavour_huge&quot;
			]
		}
	},
	mirror_symbiote_LowerBodyFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_LowerBodyFlavour_LiveForEcho: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_LowerBodyFlavour_LiveForEcho_heightFlavour_huge&quot;
			]
		}
	},
	mirror_player_UpperBodyFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_UpperBodyFlavour_heightFlavour_huge&quot;
			]
		}
	},
	mirror_symbiote_UpperBodyFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_symbiote_UpperBodyFlavour_LiveForEcho: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt25&quot;
			],
			corrupt50:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt50&quot;
			],
			corrupt75:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt75&quot;
			],
			corrupt100:
			[
				&quot;_player_text_sheet_mirror_symbiote_UpperBodyFlavour_LiveForEcho_corruptionFlavour_corrupt100&quot;
			]
		}
	},
	mirror_player_Flavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_player_Flavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_player_Flavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_player_Flavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_player_Flavour_heightFlavour_huge&quot;
			]
		}
	},
	mirror_symbiote_Flavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_mirror_symbiote_Flavour_heightFlavour_huge&quot;
			]
		}
	},
	homeFlavour: {
		heightFlavour: {
			small:
			[
				&quot;_player_text_sheet_homeFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_homeFlavour_heightFlavour_medium&quot;

			],
			large:
			[
				&quot;_player_text_sheet_homeFlavour_heightFlavour_large&quot;

			],
			huge:
			[
				&quot;_player_text_sheet_homeFlavour_heightFlavour_huge&quot;

			]
		}
	},
	lukkaHouse_Intro: {
		heightFlavour: {
			small:
			[
				&quot;LukkaHouse_Intro_HeightFlavour_small&quot;
			],
			medium:
			[
				&quot;LukkaHouse_Intro_HeightFlavour_small&quot;

			],
			large:
			[
				&quot;LukkaHouse_Intro_HeightFlavour_large&quot;

			],
			huge:
			[
				&quot;LukkaHouse_Intro_HeightFlavour_large&quot;
			]
		}
	},
	visitHouse: {
		heightFlavour: {
			small:
			[
				&quot;player_visitHouse_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;player_visitHouse_heightFlavour_medium&quot;

			],
			large:
			[
				&quot;player_visitHouse_heightFlavour_large&quot;

			],
			huge:
			[
				&quot;player_visitHouse_heightFlavour_huge&quot;

			]
		}
	},
	abelHouseMenu: {
		heightFlavour: {
			small:
			[
				&quot;player_abelHouseMenu_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;player_abelHouseMenu_heightFlavour_medium&quot;

			],
			large:
			[
				&quot;player_abelHouseMenu_heightFlavour_large&quot;

			],
			huge:
			[
				&quot;player_abelHouseMenu_heightFlavour_huge&quot;

			]
		}
	},
	basicAttackAttemptFlavour: {
		heightFlavour:
		{
			small:
			[
				&quot;_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_basicAttackAttemptFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt75:
			[
				&quot;_player_text_sheet_basicAttackAttemptFlavour_corruptionFlavour_corrupt75&quot;,
			],
			corrupt100:
			[
				&quot;_player_text_sheet_basicAttackAttemptFlavour_corruptionFlavour_corrupt100&quot;,
			]
		}
	},
    bashAttackAttemptFlavour: {
		heightFlavour:
		{
			small:
			[
				&quot;_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_bashAttackAttemptFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt75:
			[
				&quot;_player_text_sheet_bashAttackAttemptFlavour_corruptionFlavour_corrupt75&quot;,
			],
			corrupt100:
			[
				&quot;_player_text_sheet_bashAttackAttemptFlavour_corruptionFlavour_corrupt100&quot;,
			]
		}
	},
    slashAttackAttemptFlavour: {
		heightFlavour:
		{
			small:
			[
				&quot;_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_small&quot;
			],
			medium:
			[
				&quot;_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_medium&quot;
			],
			large:
			[
				&quot;_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_large&quot;
			],
			huge:
			[
				&quot;_player_text_sheet_slashAttackAttemptFlavour_heightFlavour_huge&quot;
			]
		},
		corruptionFlavour:
		{
			corrupt75:
			[
				&quot;_player_text_sheet_slashAttackAttemptFlavour_corruptionFlavour_corrupt75&quot;,
			],
			corrupt100:
			[
				&quot;_player_text_sheet_slashAttackAttemptFlavour_corruptionFlavour_corrupt100&quot;,
			]
		}
	},
	MuscleGrowthFlavourText :{
		musclesFlavour: {
			small: [
				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_1&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_2&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_3&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_small_4&quot;,
			],
			medium: [
				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_1&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_2&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_3&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_medium_4&quot;,
			],
			large: [
				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_1&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_2&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_3&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_large_4&quot;,

			],
			huge: [
				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_1&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_2&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_3&quot;,

				&quot;_player_text_sheet_MuscleGrowthFlavourText_heightFlavour_huge_4&quot;,
			]
		}
	},
	CockGrowthFlavourText :{
		cockSizeFlavour:
		{
			small: [
				&quot;_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_small&quot;,
			],
			medium: [
				&quot;_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_medium&quot;,
			],
			large: [
				&quot;_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_large&quot;,
			],
			huge: [
				&quot;_player_text_sheet_CockGrowthFlavourText_cockSizeFlavour_huge&quot;,
			]
		},
	},
	village_exiled_menu :{
		corruptionFlavour:
		{
			corrupt25:
			[
				&quot;Village_Exiled_Menu_Corruption_Header_Under_Threshold&quot;
			],
			corrupt50:
			[
				&quot;Village_Exiled_Menu_Corruption_Header_Under_Threshold&quot;
			],
			corrupt75:
			[
				&quot;Village_Exiled_Menu_Corruption_Header_Over_Threshold&quot;
			],
			corrupt100:
			[
				&quot;Village_Exiled_Menu_Corruption_Header_Max_Corruption&quot;
			],
		},
	},
	village_exiled_menu_underThreshold :{
		heightFlavour:
		{
			large:
			[
				&quot;Village_Exiled_Menu_Corruption_Header_Under_Threshold_Large&quot;
			],
			huge:
			[
				&quot;Village_Exiled_Menu_Corruption_Header_Under_Threshold_Huge&quot;
			],
		},
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="422" name="_symbiote_info_sheet" tags="" position="225,5350" size="100,100">&lt;&lt;set setup.InfoSheet_Symbiote =
{
	name: &quot;Echo&quot;,
	gender: &quot;MASC&quot;,
    boost: &quot;height&quot;,
    colour: setup.ColourPool.BLUE,
	raceId: setup.RacePool.SYMBIOTE.id,
	anatomy: {},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="423" name="_shard_ring_audio" tags="" position="350,5350" size="100,100">&lt;&lt;set setup.AudioSheet_Shard_Ring =
{
    voice:
    {
        playlist:
        {
            title: &quot;characterVoice_Shard_Ring&quot;,
            tracks:
            {
                arousal_1_Size_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Bind_Normal&quot;],
                    track: &quot;Bind_Idle_S1_A1&quot;
                },
                arousal_2_Size_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Bind_Normal&quot;],
                    track: &quot;Bind_Idle_S1_A2&quot;
                },
                arousal_3_Size_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Bind_Normal&quot;],
                    track: &quot;Bind_Idle_S1_A3&quot;
                },
                arousal_0_Size_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Bind_Normal&quot;],
                    track: &quot;Bind_Idle_S1_A0&quot;
                },
                arousal_1_Size_2:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Bind_Big&quot;],
                    track: &quot;Bind_Idle_S2_A1&quot;
                },
                arousal_2_Size_2:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Bind_Big&quot;],
                    track: &quot;Bind_Idle_S2_A2&quot;
                },
                arousal_3_Size_2:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Bind_Big&quot;],
                    track: &quot;Bind_Idle_S2_A3&quot;
                },
                arousal_0_Size_2:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Bind_Big&quot;],
                    track: &quot;Bind_Idle_S2_A0&quot;
                },
                arousal_1_Size_3:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Bind_Huge&quot;],
                    track: &quot;Bind_Idle_S3_A1&quot;
                },
                arousal_2_Size_3:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Bind_Huge&quot;],
                    track: &quot;Bind_Idle_S3_A2&quot;
                },
                arousal_3_Size_3:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Bind_Huge&quot;],
                    track: &quot;Bind_Idle_S3_A3&quot;
                },
                arousal_0_Size_3:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Bind_Huge&quot;],
                    track: &quot;Bind_Idle_S3_A0&quot;
                },
            },
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="424" name="_shard_ring_body_visual" tags="" position="475,5350" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Shard_Ring =
{
    emoteList:
    {
        normal: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Neutral.png&quot;,
        },
        happy: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Happy.png&quot;,
        },
        angry: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Mad.png&quot;,
        },
        aroused: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Aroused.png&quot;,
        },
        worried: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Worried.png&quot;,
        },
        helmet: 
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/BindNeutralHelm.png&quot;,
        },
    },
    cockList :
    {
        baseKilt:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Kilt.png&quot;,
        },
        base:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Cock.png&quot;,
        },
        domFlacid:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/dom/Bind_Dom_PenisFlaccid.png&quot;,
        },
        domErect:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/dom/Bind_Dom_PenisErect.png&quot;,
        },
        domErectRing:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/dom/Bind_Dom_PenisErectPowerRing.png&quot;,
        },
        subKilt:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/sub/Bind_Sub_Loincloth.png&quot;,
        },
        subErect:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/sub/Bind_Sub_Penis.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/base/Bind_Base.png&quot;,
            condition: function(character)
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_firstTF == false &amp;&amp; character.quest.fullSub == false &amp;&amp; character.quest.fullDom == false;
            },
            headClass: &quot;BindHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;baseKilt&quot;,
                    cockClass: &quot;BindBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == false;
                    },
                },
                {
                    cock: &quot;base&quot;,
                    cockClass: &quot;BindBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == true;
                    },
                },
            ],
        },
        dom:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/dom/Bind_Dom_Base.png&quot;,
            condition: function(character)
            {
                return character.quest.fullSub == true || character.quest.fullDom == true;
            },
            headClass: &quot;BindDomHead&quot;,
            permittedAccessories: [
                {
                    visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/dom/Bind_Dom_Belt.png&quot;,
                    accessoryClass: &quot;BindDomBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.domBeltRipped == false;
                    },
                },
            ],
            permittedCocks: [
                {
                    cock: &quot;domFlacid&quot;,
                    cockClass: &quot;BindDomBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == false;
                    },
                },
                {
                    cock: &quot;domErect&quot;,
                    cockClass: &quot;BindDomBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == true &amp;&amp; character.quest.fullSub == true;
                    },
                },
                {
                    cock: &quot;domErectRing&quot;,
                    cockClass: &quot;BindDomBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == true &amp;&amp; character.quest.fullDom == true;
                    },
                },
            ],
        },
        sub:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Bind/sub/Bind_Sub_Base.png&quot;,
            condition: function(character)
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_firstTF == true &amp;&amp; character.quest.fullSub == false &amp;&amp; character.quest.fullDom == false;
            },
            headClass: &quot;BindSubHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;subKilt&quot;,
                    cockClass: &quot;BindSubBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == false;
                    },
                },
                {
                    cock: &quot;subErect&quot;,
                    cockClass: &quot;BindSubBody&quot;,
                    condition: function(character)
                    {
                        return character.quest.cockOut == true;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="425" name="_shard_ring_fight_sheet" tags="" position="600,5350" size="100,100">&lt;&lt;set setup.FighterSheet_Shard_Ring =
{
	hp: 140,
	stamina: 0,
	strength: 10,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 10,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 4,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.AbsorbEssence.id],
	fightReward: setup.RewardTier.LOW,
	canMimic: false,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Shard_Ring&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Shard_Ring&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Shard_Ring&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Shard_Ring&gt;&gt;&quot;,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="426" name="_shard_ring_info_sheet" tags="" position="725,5350" size="100,100">&lt;&lt;set setup.InfoSheet_Shard_Ring =
{
	name: &quot;The Bind&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Shard_Ring&quot;,
	audioSheet: &quot;AudioSheet_Shard_Ring&quot;,
	corruption: 100,
	muscles: 20,
	height: 75,
	cock: 7,
	balls: 3,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.NORTH,
	raceId: setup.RacePool.DEFAULT.id,
	anatomy: {
		tails: {
			number: 1,
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="427" name="Sheets_Shard_Ring" tags="" position="850,5350" size="100,100">&lt;&lt;include &quot;_shard_ring_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_shard_ring_audio&quot;&gt;&gt;
&lt;&lt;include &quot;_shard_ring_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_shard_ring_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_shard_ring_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_shard_ring_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_shard_ring_story_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Shard_Ring = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Shard_Ring&quot;, 
                                                 info: setup.InfoSheet_Shard_Ring, 
                                                 fight: setup.FighterSheet_Shard_Ring, 
                                                 quest: setup.QuestSheet_Shard_Ring, 
                                                 text: &quot;TextSheet_Shard_Ring&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="428" name="_shard_ring_quest_sheet" tags="" position="975,5350" size="100,100">&lt;&lt;set setup.QuestSheet_Shard_Ring =
{
    met: false,
    relationshipScoring: 0,
    unearthed: false,
    fullDom: false,
    fullSub: false,
    cockOut: false,
    domBeltRipped: false,
    available_encounterPassages_common: true,
    available_encounterIntro_dom: true,
    available_encounterIntro_sub: true,
    available_encounterIntro_lowRela: true,
    available_postFightPassagesWin_domIdle: true,
    available_postFightPassagesWin_subIdle: true,
    available_postFightPassagesWin_firstTF: true,
    available_postFightPassagesWin_lowRelaIdle: true,
    available_postFightPassagesLoss_sub: true,
    available_postFightPassagesLoss_dom: true,
    available_postFightPassagesLoss_lowRelaIdle: true,
    available_dominantExit_normal: true,
    available_dominantExit_final: true,
    available_dominantExit_domIdle: true,
    available_subExit_subIdle: true,
    available_subExit_normal: true,
    available_subExit_final: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="429" name="_shard_ring_story_sheet" tags="" position="1100,5350" size="100,100">&lt;&lt;set setup.StorySheet_Shard_Ring =
{
    encounterPassages:
    {
        common:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_encounterPassages_common;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Shard_Ring_Shared_Intro&quot;,
        },
    },
    encounterIntro:
    {
        firstTime:
        {
            available: function()
			{
				return true;
			},
            condition: function()
            {
                return $CharacterSheet_Shard_Ring.quest.unearthed == false;
            },
            passage: &quot;Shard_Ring_FirstMeeting_Intro&quot;,
        },
        dom:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_encounterIntro_dom;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullDom == true;
            },
            passage: &quot;Shard_Ring_FullDom_Intro&quot;,
        },
        sub:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_encounterIntro_sub;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullSub == true;
            },
            passage: &quot;Shard_Ring_FullSub_Intro&quot;,
        },
        lowRela:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_encounterIntro_lowRela;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Shard_Ring_LowScoring_Intro&quot;,
        },
    },
    postFightPassagesWin:
    {
        domIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_domIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullDom == true;
            },
            passage: &quot;Shard_Ring_Win_Dominant_Idle&quot;,
        },
        subIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_subIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullSub == true;
            },
            passage: &quot;ShardRing_Win_Sub_Idle&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_lowRelaIdle;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Idle&quot;,
        },
    },
    postFightPassagesLoss:
    {
        lowRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesLoss_lowRelaIdle;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Shard_Ring_Low_Rela_Loss&quot;,
        },
        sub:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesLoss_sub;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullSub == true;
            },
            passage: &quot;Shard_Ring_Sub_Loss&quot;,
        },
        dom:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesLoss_dom;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullDom == true;
            },
            passage: &quot;Shard_Ring_Dom_Loss&quot;,
        },
    },
    dominantExit:
    {
        firstTF:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_firstTF;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &gt;= 2;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Dominant_FirstTF&quot;,
        },
        normal:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_dominantExit_normal;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &lt;= 3 &amp;&amp; State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &gt;= -3;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Dominant_NormalExit&quot;,
        },
        final:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_dominantExit_final;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &gt; 3 &amp;&amp; State.variables.CharacterSheet_Shard_Ring.quest.fullDom == false;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Dominant_Final&quot;,
        },
        domIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_dominantExit_domIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullDom == true;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Dominant_Idle&quot;,
        },
    },
    subExit:
    {
        firstTF:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_firstTF;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &lt;= -2;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Submissive_FirstTF&quot;,
        },
        normal:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_subExit_normal;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &lt;= 3 &amp;&amp; State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &gt;= -3;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Sub_NormalExitChoice&quot;,
        },
        final:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_subExit_final;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.relationshipScoring &lt; -3 &amp;&amp; State.variables.CharacterSheet_Shard_Ring.quest.fullSub == false;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice&quot;,
        },
        subIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Shard_Ring.quest.available_subExit_subIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Shard_Ring.quest.fullSub == true;
            },
            passage: &quot;Shard_Ring_Low_Rela_Win_Sub_IdleExit&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="430" name="_shard_ring_text_sheet" tags="" position="1225,5350" size="100,100">&lt;&lt;set setup.TextSheet_Shard_Ring =
{
}&gt;&gt;</tw-passagedata><tw-passagedata pid="431" name="_slime_fight_sheet" tags="" position="100,5475" size="100,100">&lt;&lt;set setup.FighterSheet_Slime =
{
	hp: 80,
	stamina: 0,
	strength: 20,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 10,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 12,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.SlimeLunge.id, setup.FightMove.Mimic.id],
	fightReward: setup.RewardTier.VERY_LOW,
	canMimic: false,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Slime&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Slime&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Slime&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Slime&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="432" name="_slime_info_sheet" tags="" position="225,5475" size="100,100">&lt;&lt;set setup.InfoSheet_Slime =
{
	name: &quot;Slime&quot;,
	gender: &quot;OBJ&quot;,
	corruption: 0,
	muscles: 0,
	height: 76,
	cock: 0,
	balls: 0,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.NORTH,
	raceId: setup.RacePool.SYMBIOTE.id,
	startingAbilities: [{abi: setup.Ability.Mimic, rank: setup.Ability.Mimic.maxRank}],
    anatomy: {},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
    isGeneralCharacter: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="433" name="Sheets_Slime" tags="" position="350,5475" size="100,100">&lt;&lt;include &quot;_slime_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_slime_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_slime_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_slime_text_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_Slime = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Slime&quot;, 
                                                               info:  setup.InfoSheet_Slime, 
                                                               fight: setup.FighterSheet_Slime, 
                                                               quest: setup.QuestSheet_Slime, 
                                                               text:  &quot;TextSheet_Slime&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="434" name="_slime_quest_sheet" tags="" position="475,5475" size="100,100">&lt;&lt;set setup.QuestSheet_Slime =
{
	met: false
}&gt;&gt;</tw-passagedata><tw-passagedata pid="435" name="_slime_text_sheet" tags="" position="600,5475" size="100,100">&lt;&lt;set setup.TextSheet_Slime =
{
}&gt;&gt;</tw-passagedata><tw-passagedata pid="436" name="_torgar_audio" tags="" position="725,5475" size="100,100">&lt;&lt;set setup.AudioSheet_Torgar =
{
    voice:
    {
        playlist:
        {
            title: &quot;characterVoice_Torgar&quot;,
            tracks:
            {
                arousal_1_Size_1:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Torgar_Normal&quot;],
                    track: &quot;Torgar_Idle_S1_A1&quot;
                },
                arousal_2_Size_1:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Torgar_Normal&quot;],
                    track: &quot;Torgar_Idle_S1_A2&quot;
                },
                arousal_3_Size_1:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Torgar_Normal&quot;],
                    track: &quot;Torgar_Idle_S1_A3&quot;
                },
                arousal_4_Size_1:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Torgar_Normal&quot;],
                    track: &quot;Torgar_Idle_S1_A4&quot;
                },
                arousal_1_Size_2:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Torgar_Infected&quot;],
                    track: &quot;Torgar_Idle_S2_A1&quot;
                },
                arousal_2_Size_2:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Torgar_Infected&quot;],
                    track: &quot;Torgar_Idle_S2_A2&quot;
                },
                arousal_3_Size_2:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Torgar_Infected&quot;],
                    track: &quot;Torgar_Idle_S2_A3&quot;
                },
                arousal_4_Size_2:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Torgar_Infected&quot;],
                    track: &quot;Torgar_Idle_S2_A4&quot;
                },
                arousal_1_Size_3:
                {
                    tags: [&quot;arousal_1&quot;, &quot;Torgar_Lost&quot;],
                    track: &quot;Torgar_Idle_S3_A1&quot;
                },
                arousal_2_Size_3:
                {
                    tags: [&quot;arousal_2&quot;, &quot;Torgar_Lost&quot;],
                    track: &quot;Torgar_Idle_S3_A2&quot;
                },
                arousal_3_Size_3:
                {
                    tags: [&quot;arousal_3&quot;, &quot;Torgar_Lost&quot;],
                    track: &quot;Torgar_Idle_S3_A3&quot;
                },
                arousal_4_Size_3:
                {
                    tags: [&quot;arousal_4&quot;, &quot;Torgar_Lost&quot;],
                    track: &quot;Torgar_Idle_S3_A4&quot;
                },
            },
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="437" name="_torgar_body_visual" tags="" position="850,5475" size="100,100">&lt;&lt;set setup.BodyVisualSheet_Torgar =
{
    emoteList:
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_neutral.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cum_white.png&quot;,
        },
        smiling:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_smiling.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cum_white.png&quot;,
        },
        blushing:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_blushing.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cum_white.png&quot;,
        },
        horny:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_horny.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cum_white.png&quot;,
        },
        sad:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_sad.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cum_white.png&quot;,
        },
        angry:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_angry.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cum_white.png&quot;,
        },
        cumming:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cumming.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_head_cum_white.png&quot;,
        },
    },
    cockList :
    {
        smallest:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_1.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_1_cum.png&quot;,
        },
        small:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_2.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_2_cum.png&quot;,
        },
        medium:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_3.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_3_cum.png&quot;,
        },
        corruptedMedium:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_4.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_4_cum.png&quot;,
        },
        lost:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_5.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_5_cum.png&quot;,
        },
        ascended:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_6.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_dick_6_cum.png&quot;,
        },
    },
    bodyList :
    {
        normal:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_1.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_1_cum.png&quot;,
            condition: function(character)
            {
                var size = setup.getStatValue(character, &quot;height&quot;);
                return character.quest.progress == setup.TorgarProgress.NORMAL;
            },
            headClass: &quot;TorgarSmallBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;smallest&quot;,
                    cockClass: &quot;TorgarSmallBody1Cock&quot;,
                    condition: function(character)
                    {
                        let comp = setup.Size.compareSelf(character, &#39;cock&#39;, &#39;height&#39;);
                        return comp &lt; setup.Size.Comparators.MUCH_SMALLER;
                    },
                },
                {
                    cock: &quot;small&quot;,
                    cockClass: &quot;TorgarSmallBody2Cock&quot;,
                    condition: function(character)
                    {
                        let comp = setup.Size.compareSelf(character, &#39;cock&#39;, &#39;height&#39;);
                        return comp &gt;= setup.Size.Comparators.MUCH_SMALLER;
                    },
                },
            ],
        },
        infected:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_2.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_2_cum.png&quot;,
            condition: function(character)
            {
                return character.quest.progress == setup.TorgarProgress.INFECTED ||  character.quest.progress == setup.TorgarProgress.REDEEMED || (!character.quest.lost_FullyCovered &amp;&amp; character.quest.progress == setup.TorgarProgress.LOST);
            },
            headClass: &quot;TorgarInfectedBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;medium&quot;,
                    cockClass: &quot;TorgarInfected2Cock&quot;,
                    condition: function(character)
                    {
                        return character.quest.blackVeinsOnDick == false;
                    },
                },
                {
                    cock: &quot;corruptedMedium&quot;,
                    cockClass: &quot;TorgarInfected3Cock&quot;,
                    condition: function(character)
                    {
                        return character.quest.blackVeinsOnDick == true;
                    },
                },
            ],
        },
        lost:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_3.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_3.png&quot;,
            condition: function(character)
            {
                return (character.quest.lost_FullyCovered &amp;&amp; character.quest.progress == setup.TorgarProgress.LOST) || character.quest.progress == setup.TorgarProgress.LOST_TEAMMATE;
            },
            headClass: &quot;TorgarLostBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;lost&quot;,
                    cockClass: &quot;TorgarLost4Cock&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
        ascended:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_4.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_4.png&quot;,
            condition: function(character)
            {
                return character.quest.progress == setup.TorgarProgress.ASCENDED;
            },
            headClass: &quot;TorgarAscendedBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;ascended&quot;,
                    cockClass: &quot;TorgarAscended5Cock&quot;,
                    condition: function(character)
                    {
                        return true;
                    },
                },
            ],
        },
        redeemed:
        {
            visual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_1_no_canister.png&quot;,
            cumVisual: &quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/characters/Torgar/portrait_torgar_body_1_no_canister_cum.png&quot;,
            condition: function(character)
            {
                return character.quest.progress == setup.TorgarProgress.REDEEMED_TEAMMATE;
            },
            headClass: &quot;TorgarSmallBodyHead&quot;,
            permittedCocks: [
                {
                    cock: &quot;smallest&quot;,
                    cockClass: &quot;TorgarSmallBody1Cock&quot;,
                    condition: function(character)
                    {
                        let comp = setup.Size.compareSelf(character, &#39;cock&#39;, &#39;height&#39;);
                        return comp &lt; setup.Size.Comparators.MUCH_SMALLER;
                    },
                },
                {
                    cock: &quot;small&quot;,
                    cockClass: &quot;TorgarSmallBody2Cock&quot;,
                    condition: function(character)
                    {
                        let comp = setup.Size.compareSelf(character, &#39;cock&#39;, &#39;height&#39;);
                        return comp &gt;= setup.Size.Comparators.MUCH_SMALLER;
                    },
                },
            ],
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="438" name="_torgar_fight_sheet" tags="" position="975,5475" size="100,100">&lt;&lt;set setup.FighterSheet_Torgar =
{
	hp: 120,
	stamina: 0,
	strength: 35,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 10,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 4,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id, setup.FightMove.Sigil_Triad.id],
	fightReward: setup.RewardTier.LOW,
	canMimic: true,
	encounterIntroText: &quot;&lt;&lt;include Encounter_Intro_Torgar&gt;&gt;&quot;,
	encounterStartText: &quot;&lt;&lt;include Encounter_Start_Torgar&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include Encounter_Win_Torgar&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include Encounter_Loss_Torgar&gt;&gt;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="439" name="_torgar_info_sheet" tags="" position="1100,5475" size="100,100">&lt;&lt;set setup.InfoSheet_Torgar =
{
	name: &quot;Torgar&quot;,
	gender: &quot;MASC&quot;,
	bodyVisual: &quot;BodyVisualSheet_Torgar&quot;,
	audioSheet: &quot;AudioSheet_Torgar&quot;,
	corruption: 100,
	muscles: 40,
	height: 81,
	cock: 12,
	balls: 5,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.NORTH,
	raceId: setup.RacePool.HALFORC.id,
	anatomy: {
		eyes: {
			colour: setup.ColourPool.GREEN
		},
	},
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="440" name="Sheets_Torgar" tags="" position="1225,5475" size="100,100">&lt;&lt;include &quot;_torgar_body_visual&quot;&gt;&gt;
&lt;&lt;include &quot;_torgar_audio&quot;&gt;&gt;
&lt;&lt;include &quot;_torgar_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_torgar_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_torgar_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_torgar_quest_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_torgar_story_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Torgar = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Torgar&quot;, 
                                                 info: setup.InfoSheet_Torgar, 
                                                 fight: setup.FighterSheet_Torgar, 
                                                 quest: setup.QuestSheet_Torgar, 
                                                 text: &quot;TextSheet_Torgar&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="441" name="_torgar_quest_sheet" tags="" position="100,5600" size="100,100">&lt;&lt;set setup.QuestSheet_Torgar =
{
    met: false,
    progress: setup.TorgarProgress.NORMAL,
    pureScoring: 0,
    lostScoring: 0,
    ascendedScoring: 0,
    relationshipScoring: 0,
    growthMultiplier: 1,
    usedVialOnPlayerDick: false,
    blackVeinsOnDick: false,
    lost_FullyCovered: false,
    available_encounterPassages_lostTeammateIdle: true,
    available_encounterPassages_redeemedTeammateFirstTime: true,
    available_encounterPassages_redeemedTeammateIdle: true,
    available_encounterPassages_lowRelaMidRelaTrigger: true,
    available_encounterPassages_midRelaPathChange: true,
    available_encounterPassages_lostPathIdle: true,
    available_encounterPassages_midRelaIdle: true,
    available_encounterPassages_lostPathTrigger: true,
    available_encounterPassages_purePathTrigger: true,
    available_encounterPassages_lowRelaIdle_GotBig: true,
    available_encounterPassages_lowRelaIdle_Carry: true,
    available_encounterPassages_lowRelaIdle_Origin: true,
    available_encounterPassages_lowRelaIdle: true,
    available_encounterPassages_firstTime: true,
    available_postFightPassagesWin_lowRelaMidRelaTrigger: true,
    available_postFightPassagesWin_midRelaPathChange: true,
    available_postFightPassagesWin_lostPathTrigger: true,
    available_postFightPassagesWin_purePathTrigger: true,
    available_postFightPassagesWin_lostPathIdle: true,
    available_postFightPassagesWin_midRelaIdle: true,
    available_postFightPassagesWin_lowRelaIdle: true,
    available_postFightPassagesLoss_lowRelaMidRelaTrigger: true,
    available_postFightPassagesLoss_midRelaPathChange: true,
    available_postFightPassagesLoss_lostPathTrigger: true,
    available_postFightPassagesLoss_purePathTrigger: true,
    available_postFightPassagesLoss_lostPathIdle: true,
    available_postFightPassagesLoss_midRelaIdle: true,
    available_postFightPassagesLoss_lowRelaIdle: true,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="442" name="_torgar_story_sheet" tags="" position="225,5600" size="100,100">&lt;&lt;set setup.StorySheet_Torgar = 
{
    encounterPassages:
    {
        lostTeammateIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lostTeammateIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST_TEAMMATE;
            },
            passage: &quot;Torgar_Lost_Teammate_EncounterStart&quot;,
        },
        redeemedTeammateFirstTime:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_redeemedTeammateFirstTime;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.REDEEMED_TEAMMATE;
            },
            passage: &quot;Torgar_Redeemed_Path_Idle_Win_Epilogue&quot;,
        },
        redeemedTeammateIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_redeemedTeammateIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.REDEEMED_TEAMMATE;
            },
            passage: &quot;Torgar_Redeemed_Teammate_Path_Idle&quot;,
        },
        lowRelaMidRelaTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaMidRelaTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 3;
            },
            passage: &quot;Torgar_Low_Rela_Mid_Rela_Trigger_EncounterStart&quot;,
        },
        midRelaPathChange:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_midRelaPathChange;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6;
            },
            passage: &quot;Torgar_Mid_Rela_Path_Change_EncounterStart&quot;,
        },
        lostPathIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lostPathIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST;
            },
            passage: &quot;Torgar_Lost_Path_Idle_EncounterStart&quot;,
        }, 
        midRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_midRelaIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.INFECTED;
            },
            passage: &quot;Torgar_Mid_Rela_Idle_EncounterStart&quot;,
        },
        lostPathTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lostPathTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6 &amp;&amp; setup.evaluateTorgarPath() == setup.TorgarProgress.LOST;
            },
            passage: &quot;Torgar_Lost_Path_Trigger_EncounterStart&quot;,
        },
        purePathTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_purePathTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6 &amp;&amp; setup.evaluateTorgarPath() == setup.TorgarProgress.REDEEMED;
            },
            passage: &quot;Torgar_Pure_Path_Trigger_EncounterStart&quot;,
        },
        lowRelaIdle_GotBig:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_GotBig;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 1;
            },
            passage: &quot;Torgar_Low_Rela_EncounterStart_Converse&quot;,
        },
        lowRelaIdle_Carry:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_Carry;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 1;
            },
            passage: &quot;Torgar_Low_Rela_EncounterStart_Converse&quot;,
        },
        lowRelaIdle_Origin:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_Origin;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 1;
            },
            passage: &quot;Torgar_Low_Rela_EncounterStart_Converse&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 1;
            },
            passage: &quot;Torgar_Low_Rela_EncounterStart&quot;,
        },
        firstTime:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_encounterPassages_firstTime;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Torgar_FirstMeeting_Intro&quot;,
        },
    },
    postFightPassagesWin:
    {
        lowRelaMidRelaTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_lowRelaMidRelaTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 3;
            },
            passage: &quot;Torgar_Low_Rela_Mid_Rela_Trigger_Win&quot;,
        },
        midRelaPathChange:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_midRelaPathChange;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6;
            },
            passage: &quot;Torgar_Mid_Rela_Path_Change_Win&quot;,
        },
        lostPathTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_lostPathTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6 &amp;&amp; State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST;
            },
            passage: &quot;Torgar_Lost_Path_Trigger_Win&quot;,
        },
        purePathTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_purePathTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6 &amp;&amp; State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.REDEEMED;
            },
            passage: &quot;Torgar_Pure_Path_Trigger_Win&quot;,
        },
        lostPathIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_lostPathIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST;
            },
            passage: &quot;Torgar_Lost_Path_Idle_Win&quot;,
        },
        midRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_midRelaIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.INFECTED;
            },
            passage: &quot;Torgar_Mid_Rela_Win_Idle&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesWin_lowRelaIdle;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Torgar_Low_Rela_Win_Idle&quot;,
        },
    },
    postFightPassagesLoss:
    {
        lowRelaMidRelaTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lowRelaMidRelaTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 3;
            },
            passage: &quot;Torgar_Low_Rela_Mid_Rela_Trigger_Loss&quot;,
        }, 
        midRelaPathChange:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_midRelaPathChange;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6;
            },
            passage: &quot;Torgar_Mid_Rela_Path_Change_Loss&quot;,
        },
        lostPathTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lostPathTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6 &amp;&amp; State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST;
            },
            passage: &quot;Torgar_Lost_Path_Trigger_Loss&quot;,
        },
        purePathTrigger:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_purePathTrigger;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.relationshipScoring &gt;= 6 &amp;&amp; State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.REDEEMED;
            },
            passage: &quot;Torgar_Pure_Path_Trigger_Loss&quot;,
        },
        lostPathIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lostPathIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST;
            },
            passage: &quot;Torgar_Lost_Path_Idle_Loss&quot;,
        },
        midRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_midRelaIdle;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.INFECTED;
            },
            passage: &quot;Torgar_Mid_Rela_Loss_Idle&quot;,
        },
        lowRelaIdle:
        {
            available: function()
			{
				return State.variables.CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lowRelaIdle;
			},
            condition: function()
            {
                return true;
            },
            passage: &quot;Torgar_Low_Rela_Loss_Idle&quot;,
        },
    },
}&gt;&gt;</tw-passagedata><tw-passagedata pid="443" name="_torgar_text_sheet" tags="" position="350,5600" size="100,100">&lt;&lt;set setup.TextSheet_Torgar =
{	
	/* TODO: Create for TORGAR. This is placeholder */
	goMeetImp_Intro :{
		heightFlavour: {
			small: [
				&quot;GoMeetImp_heightFlavour_small&quot;,
			],
			medium: [
				&quot;GoMeetImp_heightFlavour_small&quot;,
			],
			large: [
				&quot;GoMeetImp_heightFlavour_large&quot;,
			],
			huge: [
				&quot;GoMeetImp_heightFlavour_huge&quot;,
			],
		},
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="444" name="_town_guard_fight_sheet" tags="" position="475,5600" size="100,100">&lt;&lt;set setup.FighterSheet_town_guard =
{
	hp: 80,
	stamina: 0,
	strength: 30,
	critChance: 20,
    critDamage: 1.75,
	arousalGain: 5,
	minArousal: 0,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	staminaRecovery: 15,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove.Basic_Attack.id],
	fightReward: setup.RewardTier.LOW,
	canMimic: true,
	encounterIntroText: undefined,
	encounterStartText: &quot;&lt;&lt;include town_guard_fight_start&gt;&gt;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include town_guard_fight_won&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include town_guard_fight_lost&gt;&gt;&quot;
}&gt;&gt;</tw-passagedata><tw-passagedata pid="445" name="_town_guard_info_sheet" tags="" position="600,5600" size="100,100">&lt;&lt;set setup.InfoSheet_town_guard =
{
	name: &quot;Guard&quot;,
	gender: &quot;MASC&quot;,
    corruption: 0,
	muscles: 15,
	height: 73,
	cock: 6,
	balls: 2,
	alive: true,
	raceId: setup.RacePool.DRAGONBORN.id,
	location: setup.LOCATIONS.VILLAGE,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="446" name="Sheets_town_guard" tags="" position="725,5600" size="100,100">&lt;&lt;include &quot;_town_guard_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_town_guard_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_town_guard_quest_sheet&quot;&gt;&gt;

&lt;&lt;set $CharacterSheet_town_guard = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_town_guard&quot;, 
                                                    info: setup.InfoSheet_town_guard, 
                                                    fight: setup.FighterSheet_town_guard, 
                                                    quest: setup.QuestSheet_town_guard, 
                                                    text: undefined})&gt;&gt;</tw-passagedata><tw-passagedata pid="447" name="_town_guard_quest_sheet" tags="" position="850,5600" size="100,100">&lt;&lt;set setup.QuestSheet_town_guard =
{
	met: false,
	fled: false,
	corrupted: false,
	beatenOnce: false
}&gt;&gt;</tw-passagedata><tw-passagedata pid="448" name="_wounded_lost_fight_sheet" tags="" position="975,5600" size="100,100">&lt;&lt;set setup.FighterSheet_Wounded_Lost =
{
	hp: 30,
	stamina: 60,
	strength: 0,
	critChance: 0,
    critDamage: 1.50,
	arousalGain: 20,
    growthMultiplier: 1,
	bonusGrowth: {
        height: 0,
        cock: 0,
        muscles: 0,
        balls: 0,
    },
	minArousal: 0,
	staminaRecovery: 8,
	variables: $FightVariables,
	fightMoveIDs: [setup.FightMove_Tutorial1.id, setup.FightMove_Tutorial2.id,  setup.FightMove_Tutorial3.id],
	fightReward: setup.RewardTier.VERY_LOW,
	canMimic: true,
	encounterIntroText: &quot;&quot;,
	encounterStartText: &quot;&quot;,
	outcomePlayerWins: &quot;&lt;&lt;include intro_fight_won&gt;&gt;&quot;,
	outcomePlayerLoses: &quot;&lt;&lt;include intro_fight_lost&gt;&gt;&quot;,
	teammateSettings:
	{
		attackTiming: setup.AttackTiming.BEFORE_PLAYER,
	},
}&gt;&gt;</tw-passagedata><tw-passagedata pid="449" name="_wounded_lost_info_sheet" tags="" position="1100,5600" size="100,100">&lt;&lt;set setup.InfoSheet_Wounded_Lost =
{
	name: &quot;Wounded Lost&quot;,
	gender: &quot;MASC&quot;,
	corruption: 800,
	muscles: 60,
	height: 98,
	cock: 12,
	balls: 6,
	alive: true,
	known: setup.EncounterKnownState.UNKNOWN,
	location: setup.LOCATIONS.NONE,
	raceId: setup.RacePool.WOLF.id,
	// NPCs ignore certain racial mods,
	// typically relating to size, since that is already specified.
	ignoreRacials: [
		&quot;ballsMods&quot;,
		&quot;cockMods&quot;,
		&quot;heightMods&quot;
	],
}&gt;&gt;</tw-passagedata><tw-passagedata pid="450" name="Sheets_Wounded_Lost" tags="" position="1225,5600" size="100,100">&lt;&lt;include &quot;_wounded_lost_text_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_wounded_lost_fight_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_wounded_lost_info_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_wounded_lost_quest_sheet&quot;&gt;&gt;


&lt;&lt;set $CharacterSheet_Wounded_Lost = setup.CharacterFactory.createCharacter({id: &quot;CharacterSheet_Wounded_Lost&quot;, 
                                                 info: setup.InfoSheet_Wounded_Lost, 
                                                 fight: setup.FighterSheet_Wounded_Lost, 
                                                 quest: setup.QuestSheet_Wounded_Lost, 
                                                 text: &quot;TextSheet_Wounded_Lost&quot;})&gt;&gt;</tw-passagedata><tw-passagedata pid="451" name="_wounded_lost_quest_sheet" tags="" position="100,5725" size="100,100">&lt;&lt;set setup.QuestSheet_Wounded_Lost =
{
    met: false,
}&gt;&gt;</tw-passagedata><tw-passagedata pid="452" name="_wounded_lost_text_sheet" tags="" position="225,5725" size="100,100">&lt;&lt;set setup.TextSheet_Wounded_Lost =
{	
}&gt;&gt;</tw-passagedata><tw-passagedata pid="453" name="FightLogic" tags="Fight nobr" position="381,1843" size="100,100">/*Initialization*/
&lt;&lt;run setup.stopAllRealizationPackages()&gt;&gt;
&lt;&lt;run setup.stopSoundActions();&gt;&gt;
&lt;&lt;run setup.variableInitializer.initializeFightVariables($Encounter_Target)&gt;&gt;
&lt;&lt;done&gt;&gt;&lt;&lt;run setup.setCarousel()&gt;&gt;&lt;&lt;/done&gt;&gt;
&lt;&lt;set setup.playerHistory = {chains:0, moveCount:0, history: []};&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.fight.variables.history = &quot;playerHistory&quot;&gt;&gt;
&lt;&lt;set setup.targetHistory = {chains:0, moveCount:0, history: []};&gt;&gt;
&lt;&lt;set $Encounter_Target.fight.variables.history = &quot;targetHistory&quot;&gt;&gt;
&lt;&lt;set setup.teammateHistory = {chains:0, moveCount:0, history: []};&gt;&gt;
&lt;&lt;if $CharacterSheet_Player.fight.teammate != undefined&gt;&gt;
&lt;&lt;set State.variables[$CharacterSheet_Player.fight.teammate].fight.variables.history = &quot;teammateHistory&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;run setup.fightStart($CharacterSheet_Player, $Encounter_Target)&gt;&gt;
&lt;&lt;run setup.broadcastFightFlowTrigger($CharacterSheet_Player, $Encounter_Target, setup.AbilityTrigger.ON_FIGHT_START)&gt;&gt;
&lt;&lt;run setup.preAttacksUpdate($CharacterSheet_Player, $Encounter_Target)&gt;&gt;
&lt;&lt;done&gt;&gt;&lt;&lt;run setup.updateFightStatus($CharacterSheet_Player, $Encounter_Target)&gt;&gt;&lt;&lt;/done&gt;&gt;
&lt;&lt;include FightLogic_EnemyInfo&gt;&gt;
&lt;div id=&quot;timelineContainer&quot;&gt;
&lt;&lt;include FightLogic_Timeline&gt;&gt;
&lt;/div&gt;
/* &lt;div id=&quot;playerReport&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;enemyReport&quot;&gt;&lt;/div&gt; */
&lt;div id=&quot;combinedReport&quot;&gt;
  &lt;div id=&quot;playerReport&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;enemyReport&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;fightLoss&quot; style=&quot;visibility: hidden&quot;&gt;[[You Lose-&gt;FightOutcome_Loss]]&lt;/div&gt;
&lt;div id=&quot;fightWin&quot; style=&quot;visibility: hidden&quot;&gt;[[You Win-&gt;FightOutcome_Win]]&lt;/div&gt;
&lt;div id=&quot;fightDraw&quot; style=&quot;visibility: hidden&quot;&gt;[[You Win-&gt;FightOutcome_Draw]]&lt;/div&gt;
&lt;&lt;include FightLogic_Moves&gt;&gt;
&lt;label id=&quot;inspectEnemy&quot;&gt;
&lt;&lt;link &#39;Inspect Enemy&#39;&gt;&gt;
  &lt;&lt;run setup.showInspectWindow($CharacterSheet_Player, $Encounter_Target)&gt;&gt;
&lt;&lt;/link&gt;&gt;
&lt;/label&gt;</tw-passagedata><tw-passagedata pid="454" name="FightLogic_EnemyInfo" tags="nobr" position="475,5725" size="100,100">&lt;div class=&quot;enemyInfoContainer&quot;&gt;
&lt;&lt;if $CharacterSheet_Player.fight.teammate != undefined&gt;&gt;
&lt;&lt;set _teammateLabel = State.variables[$CharacterSheet_Player.fight.teammate].info.name + &quot; fights alongside you.&quot;&gt;&gt;
&lt;div id=&quot;inspectTeammate&quot;&gt;
&lt;&lt;link _teammateLabel&gt;&gt;
  &lt;&lt;run setup.showInspectWindow($CharacterSheet_Player, State.variables[$CharacterSheet_Player.fight.teammate])&gt;&gt;
&lt;&lt;/link&gt;&gt;
&lt;/div&gt;
&lt;&lt;/if&gt;&gt;
&lt;div id=&quot;enemyInfo&quot; class=&quot;enemyInfoClass&quot;&gt;&lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="455" name="FightLogic_Timeline" tags="nobr" position="600,5725" size="100,100">&lt;&lt;include FightLogic_PlayerTimeline&gt;&gt;
&lt;&lt;done&gt;&gt;&lt;&lt;run setup.setupTimeline($CharacterSheet_Player, &quot;playerTimeline&quot;,  setup.playerHistory);&gt;&gt;&lt;&lt;/done&gt;&gt;

&lt;&lt;include FightLogic_EnemyTimeline&gt;&gt;
&lt;&lt;done&gt;&gt;&lt;&lt;run setup.setupTimeline($Encounter_Target, &quot;enemyTimeline&quot;,  setup.targetHistory);&gt;&gt;&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="456" name="FightLogic_TimelineBase" tags="nobr" position="725,5725" size="100,100">/* &lt;div id=&quot;lineCont&quot;&gt;  */
/*   &lt;div id=&quot;chainsCount&quot;&gt;&lt;span id=&quot;chainsLabel&quot;&gt;0&lt;/span&gt;&lt;div class=&quot;FightSkillActionCostsFirstLink&quot;&gt;&lt;/div&gt;&lt;div class=&quot;FightSkillActionCostsMiddleLink&quot;&gt;&lt;/div&gt;&lt;div class=&quot;FightSkillActionCostsLastLink&quot;&gt;&lt;/div&gt;&lt;/div&gt; */
&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;circleSpan&quot;&gt;&lt;/div&gt;
/* &lt;/div&gt; */
&lt;div class=&quot;mainCont&quot;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="457" name="FightLogic_PlayerTimeline" tags="nobr" position="850,5725" size="100,100">&lt;div id=&quot;playerTimeline&quot; class=&quot;TimelineContainer&quot;&gt;
&lt;&lt;include FightLogic_TimelineBase&gt;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="458" name="FightLogic_EnemyTimeline" tags="nobr" position="975,5725" size="100,100">&lt;div id=&quot;enemyTimeline&quot; class=&quot;TimelineContainer&quot;&gt;
&lt;&lt;include FightLogic_TimelineBase&gt;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="459" name="FightLogic_TeammateTimeline" tags="" position="1100,5725" size="100,100">&lt;div class=&#39;inspectButton teammate&#39;&gt;&lt;&lt;link &#39;Inspect Partner&#39;&gt;&gt;&lt;&lt;run setup.showInspectWindow($CharacterSheet_Player, State.variables[$CharacterSheet_Player.fight.teammate])&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;/div&gt;
&lt;div id=&quot;teammateTimeline&quot; class=&quot;TimelineContainer&quot;&gt;
&lt;&lt;include FightLogic_TimelineBase&gt;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="460" name="FightLogic_Moves" tags="nobr" position="1225,5725" size="100,100">&lt;div id=&quot;movesContainer&quot;&gt;
  &lt;div class=&quot;ComboFightMovesContainer&quot;&gt;
  &lt;&lt;include FightLogic_DrawCard&gt;&gt;
  &lt;&lt;include FightLogic_DrawCard&gt;&gt;
  &lt;&lt;include FightLogic_DrawCard&gt;&gt;
  &lt;/div&gt;
  &lt;div class=&quot;SpecialFightMovesContainer&quot;&gt;
  &lt;&lt;include FightLogic_DrawCard&gt;&gt;
  &lt;&lt;include FightLogic_DrawCard&gt;&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;&lt;done&gt;&gt;&lt;&lt;run setup.buildCardsData()&gt;&gt;&lt;&lt;/done&gt;&gt;</tw-passagedata><tw-passagedata pid="461" name="FightLogic_DrawCard" tags="nobr" position="100,5850" size="100,100">&lt;&lt;include FightLogic_DummyCard&gt;&gt;</tw-passagedata><tw-passagedata pid="462" name="FightLogic_DummyCard" tags="nobr" position="225,5850" size="100,100">&lt;&lt;nobr&gt;&gt;
&lt;div class=&quot;FullCard&quot; id=&quot;cardUnset&quot;&gt;
  &lt;div class=&quot;FightSkillCardHighlight&quot;&gt;
    &lt;span class=&quot;FightSkillCard&quot;&gt;
      &lt;div id=&quot;FightSkillHeader&quot; class=&quot;offensive&quot;&gt;
        &lt;div class=&quot;FightSkillHeaderStatIconRow&quot;&gt;
          &lt;div class=&quot;FightSkillCardCritChance Corrupt0&quot; id=&quot;CardCritChance&quot;&gt;
            &lt;span class=&quot;tooltip&quot; id=&quot;StatModifierPositive&quot;&gt;10
              &lt;span class=&quot;tooltipContainer&quot;&gt;
                &lt;span class=&quot;tooltiptext&quot;&gt;Critical Hit Chance&lt;br&gt;&lt;br&gt;Modifiers:&lt;br&gt;Crit Chance Stat  +  10
                &lt;/span&gt;
              &lt;/span&gt;
            &lt;/span&gt;
          &lt;/div&gt;

          &lt;div class=&quot;FightSkillCardAttackDamage Corrupt0&quot; id=&quot;CardDamage&quot;&gt;
            &lt;span class=&quot;tooltip&quot; id=&quot;StatModifierPositive&quot;&gt;5
              &lt;span class=&quot;tooltipContainer&quot;&gt;
                &lt;span class=&quot;tooltiptext&quot;&gt;Damage Value&lt;br&gt;&lt;br&gt;Modifiers:&lt;br&gt;Strength Stat  +  3&lt;br&gt;Multiplier  +  70%&lt;br&gt;Bonus Damage  +  3
                &lt;/span&gt;
              &lt;/span&gt;
            &lt;/span&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class=&quot;comboMoveName&quot; id=&quot;MoveName&quot;&gt;Unarmed Strike&lt;/div&gt;

      &lt;p id=&quot;FightSkillBody&quot;&gt;A basic attack based on your own body strength.&lt;/p&gt;
      &lt;div class=&quot;FightSkillActionCosts&quot; id=&quot;CardActionCost&quot;&gt;
        &lt;span class=&quot;tooltip&quot;&gt;
          &lt;div class=&quot;FightSkillActionCostsNumber&quot;&gt;2&lt;/div&gt;
          &lt;span class=&quot;tooltipContainer&quot;&gt;
            Actions
            &lt;span class=&quot;tooltiptext&quot;&gt;Action Cost&lt;br&gt;(Determines how many links this move needs in the Combo Chain)
            &lt;/span&gt;
          &lt;/span&gt;
        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="463" name="FightLogic_Old" tags="Fight" position="331,1843" size="100,100">/*Initialization*/
&lt;&lt;if !$Encounter_Target.fight.variables.currentHP&gt;&gt;
  &lt;&lt;run setup.stopAllRealizationPackages()&gt;&gt;
  &lt;&lt;run setup.stopSoundActions();&gt;&gt;
	&lt;&lt;run setup.variableInitializer.initializeFightVariables($Encounter_Target)&gt;&gt;
  &lt;&lt;print $Encounter_Target.fight.encounterStartText &gt;&gt;
  &lt;&lt;done&gt;&gt;&lt;&lt;run setup.setCarousel()&gt;&gt;&lt;&lt;/done&gt;&gt;
  &lt;&lt;run setup.aiFightStart()&gt;&gt;
  &lt;&lt;run setup.broadcastFightFlowTrigger($CharacterSheet_Player, $Encounter_Target, setup.AbilityTrigger.ON_FIGHT_START)&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $RedrawCount = 0&gt;&gt;
&lt;&lt;set $AddSlotCount = 0&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.fight.variables.currentStamina = setup.getStatValue($CharacterSheet_Player, &quot;stamina&quot;)&gt;&gt;
&lt;&lt;run setup.preAttacksUpdate($CharacterSheet_Player, $Encounter_Target)&gt;&gt;

/*Attack Handling*/
&lt;&lt;if $Encounter_Target.fight.variables.currentFightMove &amp;&amp; $CharacterSheet_Player.fight.variables.currentFightMove&gt;&gt;

&lt;&lt;if setup.canTeammateAct($CharacterSheet_Player, $Encounter_Target, setup.AttackTiming.BEFORE_PLAYER) == true&gt;&gt;
&lt;&lt;run setup.doAttack(State.variables[$CharacterSheet_Player.fight.teammate], $Encounter_Target) &gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $FightComboStackIndexes.length != 0&gt;&gt;
&lt;&lt;run setup.doComboAttack($CharacterSheet_Player, $Encounter_Target) &gt;&gt;
&lt;&lt;else&gt;&gt;
&lt;&lt;run setup.doAttack($CharacterSheet_Player, $Encounter_Target) &gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if setup.canTeammateAct($CharacterSheet_Player, $Encounter_Target, setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY) == true&gt;&gt;
&lt;&lt;run setup.doAttack(State.variables[$CharacterSheet_Player.fight.teammate], $Encounter_Target) &gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;run setup.doAttack($Encounter_Target, $CharacterSheet_Player) &gt;&gt;

&lt;&lt;if setup.canTeammateAct($CharacterSheet_Player, $Encounter_Target, setup.AttackTiming.AFTER_ENEMY) == true&gt;&gt;
&lt;&lt;run setup.doAttack(State.variables[$CharacterSheet_Player.fight.teammate], $Encounter_Target) &gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

/*Check Max Arousal*/
&lt;&lt;print setup.updateArousal($CharacterSheet_Player) &gt;&gt;
&lt;&lt;if $CharacterSheet_Player.fight.teammate != undefined&gt;&gt;
&lt;&lt;print setup.updateArousal(State.variables[$CharacterSheet_Player.fight.teammate]) &gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;print setup.updateArousal($Encounter_Target) &gt;&gt;

&lt;&lt;run setup.postAttacksAIUpdate($Encounter_Target)&gt;&gt;

/*Display*/


&lt;&lt;if setup.canTeammateAct($CharacterSheet_Player, $Encounter_Target, setup.AttackTiming.BEFORE_PLAYER) == true&gt;&gt;
&lt;&lt;print setup.displayFightTurnOutcome(State.variables[$CharacterSheet_Player.fight.teammate], $Encounter_Target) &gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;print setup.displayFightTurnOutcome($CharacterSheet_Player, $Encounter_Target) &gt;&gt;

&lt;&lt;if setup.canTeammateAct($CharacterSheet_Player, $Encounter_Target, setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY) == true&gt;&gt;
&lt;&lt;print setup.displayFightTurnOutcome(State.variables[$CharacterSheet_Player.fight.teammate], $Encounter_Target) &gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;print setup.displayFightTurnOutcome($Encounter_Target, $CharacterSheet_Player) &gt;&gt;

&lt;&lt;if setup.canTeammateAct($CharacterSheet_Player, $Encounter_Target, setup.AttackTiming.AFTER_ENEMY) == true&gt;&gt;
&lt;&lt;print setup.displayFightTurnOutcome(State.variables[$CharacterSheet_Player.fight.teammate], $Encounter_Target) &gt;&gt;
&lt;&lt;/if&gt;&gt;


&lt;&lt;print setup.updateFightStatus($CharacterSheet_Player, $Encounter_Target) &gt;&gt;</tw-passagedata><tw-passagedata pid="464" name="FightOutcome_Win" tags="nobr" position="475,5850" size="100,100">You win the fight. &lt;&lt;print setup.getFightReward($Encounter_Target, false)&gt;&gt;

&lt;&lt;include &quot;Fight Outcome&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="465" name="FightOutcome_Loss" tags="nobr" position="600,5850" size="100,100">You lose the fight. &lt;&lt;print setup.getFightReward($Encounter_Target, true)&gt;&gt;

&lt;&lt;include &quot;Fight Outcome&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="466" name="FightOutcome_Draw" tags="nobr" position="725,5850" size="100,100">You both fall down in exhaustion. Yet through sheer willpower, you manage to force yourself to slowly get on your feet.

&lt;&lt;include &quot;Fight Outcome&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="467" name="Fight Outcome" tags="" position="504,1844" size="100,100">&lt;&lt;nobr&gt;&gt;
&lt;&lt;if setup.hasLostFight($Encounter_Target)&gt;&gt;
  &lt;&lt;print setup.onFightEnd($CharacterSheet_Player, $Encounter_Target)&gt;&gt;
	&lt;&lt;print $Encounter_Target.fight.outcomePlayerWins&gt;&gt;
&lt;&lt;elseif setup.hasLostFight($CharacterSheet_Player)&gt;&gt;
  &lt;&lt;print setup.onFightEnd($Encounter_Target, $CharacterSheet_Player)&gt;&gt;
	&lt;&lt;print $Encounter_Target.fight.outcomePlayerLoses&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
/*Unset Fight Variables*/
&lt;&lt;set $FightTurn = 0&gt;&gt;
&lt;&lt;unset $RedrawCount&gt;&gt;
&lt;&lt;unset $AddSlotCount&gt;&gt;
&lt;&lt;run setup.broadcastFightFlowTrigger($CharacterSheet_Player, $Encounter_Target, setup.AbilityTrigger.ON_FIGHT_END)&gt;&gt;
&lt;&lt;run setup.saveFightAttributes($Encounter_Target)&gt;&gt;
&lt;&lt;unset $Display_Player_FightMoveOutcome,
	$Encounter_Target&gt;&gt;

&lt;&lt;if $CachedTeammate != undefined&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.fight.teammate = $CachedTeammate&gt;&gt;
&lt;&lt;unset $CachedTeammate&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $CharacterSheet_Player.fight.teammate != undefined&gt;&gt;
  &lt;&lt;set State.variables[$CharacterSheet_Player.fight.teammate].fight.variables = $FightVariables&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.fight.variables = $FightVariables&gt;&gt;

&lt;&lt;run setup.removeCarousel&gt;&gt;</tw-passagedata><tw-passagedata pid="468" name="FightMove_Tutorial1" tags="" position="975,5850" size="100,100">&lt;&lt;set setup.FightMove_Tutorial1 =
{
	id: &quot;FightMove_Tutorial1&quot;,
	name: &quot;Struggle&quot;,
	preparation: function(character, target)
	{
		return &quot;&lt;&lt;include FightMove_Tutorial1_Preparation&gt;&gt;&quot;
	},
	attackAttemptDesc: function(character, target)
	{
		return &quot;The beast is distracted by Abel&#39;s attack.&quot;
	},
	activationCondition: function(character, target)
	{
		return true;
	},
	dmg: function(character, target)
	{
		let damageParam = 
		{
			multiplier: 0,
			addon: 0,
		}

		return damageParam;
	},
	staminaCost: 8,
	critMod: 0,
    comboCost: 2,
    cooldown: 2,
    skillStatsToDescriptionSpacing: 2,
	skillDescription: &quot;The beast is distracted by Abel&#39;s attack, now is the time to strike.&quot;,
	skillType: &quot;special&quot;,
	skillTheme: &quot;special&quot;,
	additionalEffects: []
}&gt;&gt;</tw-passagedata><tw-passagedata pid="469" name="FightMove_Tutorial1_Preparation" tags="" position="1100,5850" size="100,100">The wounded Lost is distracted by Abel&#39;s attacks!

As he slashes the beasts back, you hear him cry out.

&quot;Hit him as often as you can $CharacterSheet_Player.info.name! Remember your &lt;&lt;link &quot;training!&quot;&gt;&gt; &lt;&lt;replace &quot;#tutorial&quot;&gt;&gt;&lt;&lt;include &quot;FightMove_Tutorial1_Tutorial&quot;&gt;&gt;&lt;&lt;/replace&gt;&gt; &lt;&lt;/link&gt;&gt;&quot;

&lt;span id=&quot;tutorial&quot;&gt;&lt;/span&gt;</tw-passagedata><tw-passagedata pid="470" name="FightMove_Tutorial1_Tutorial" tags="" position="1225,5850" size="100,100">A list of randomized moves are given to you every turn.
You can chain multiple moves during the same turn, as long as their Link Value (the number in the top right corner) is adjacent to that of the following move.
(4 and 1 are considered adjacenent since they are the last and first value respectively)

[img[&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Tutorials/tutorial_merged.png&quot;]]

Linking as many moves as you can during a turn is usually a good strategy!</tw-passagedata><tw-passagedata pid="471" name="FightMove_Tutorial2" tags="" position="100,5975" size="100,100">&lt;&lt;set setup.FightMove_Tutorial2 =
{
	id: &quot;FightMove_Tutorial2&quot;,
	name: &quot;Distracted Slash&quot;,
	preparation: function(character, target)
	{
		return &quot;&lt;&lt;include FightMove_Tutorial2_Preparation&gt;&gt;&quot;
	},
	attackAttemptDesc: function(character, target)
	{
		return &quot;You take the hit, but it could have been much worse if it wasn&#39;t distracted.&quot;
	},
	activationCondition: function(character, target)
	{
		return true;
	},
	dmg: function(character, target)
	{
		let damageParam = 
		{
			multiplier: 1,
			addon: 1,
		}

		return damageParam;
	},
	staminaCost: 8,
	critMod: 0,
    comboCost: 2,
	cooldown: 2,
    skillStatsToDescriptionSpacing: 2,
	skillDescription: &quot;A strong attack that&#39;s held back by some distraction.&quot;,
	skillType: &quot;special&quot;,
	skillTheme: &quot;special&quot;,
	additionalEffects: []
}&gt;&gt;</tw-passagedata><tw-passagedata pid="472" name="FightMove_Tutorial2_Preparation" tags="" position="225,5975" size="100,100">The wounded Lost lifts his might paw to slash you, but Abel holds him back as he swings!

As he slashes the beast&#39;s back, you hear him cry out.

&quot;He&#39;s distracted! &lt;&lt;link &quot;Make sure this one counts!&quot;&gt;&gt; &lt;&lt;replace &quot;#tutorial&quot;&gt;&gt;&lt;&lt;include &quot;FightMove_Tutorial2_Tutorial&quot;&gt;&gt;&lt;&lt;/replace&gt;&gt; &lt;&lt;/link&gt;&gt;&quot;

&lt;span id=&quot;tutorial&quot;&gt;&lt;/span&gt;</tw-passagedata><tw-passagedata pid="473" name="FightMove_Tutorial2_Tutorial" tags="" position="350,5975" size="100,100">If you don&#39;t like the hand that you received this turn, you can cycle it by clicking the &quot;Redraw&quot; button for an increasing amount of stamina.

This is a good thing to do if there are not a lot of moves that combo with one another!</tw-passagedata><tw-passagedata pid="474" name="FightMove_Tutorial3" tags="" position="475,5975" size="100,100">&lt;&lt;set setup.FightMove_Tutorial3 =
{
	id: &quot;FightMove_Tutorial3&quot;,
	name: &quot;Distracted Roar&quot;,
	preparation: function(character, target)
	{
		return &quot;&lt;&lt;include FightMove_Tutorial3_Preparation&gt;&gt;&quot;
	},
	attackAttemptDesc: function(character, target)
	{
		return &quot;The wounded Lost roars out in exasperation.&quot;
	},
	activationCondition: function(character, target)
	{
		return true;
	},
	dmg: function(character, target)
	{
		let damageParam = 
		{
			multiplier: 0,
			addon: 0,
		}

		return damageParam;
	},
	staminaCost: 8,
	critMod: 0,
    comboCost: 2,
	cooldown: 2,
    skillStatsToDescriptionSpacing: 2,
	skillDescription: &quot;A loud roar of frustration.&quot;,
	skillType: &quot;special&quot;,
	skillTheme: &quot;special&quot;,
	additionalEffects: []
}&gt;&gt;</tw-passagedata><tw-passagedata pid="475" name="FightMove_Tutorial3_Preparation" tags="" position="600,5975" size="100,100">You barely have time to cover your ears as the beasts roars in frustration.

If Abel had something to tell you, it&#39;s impossible to hear right now.

You&#39;ll have to &lt;&lt;link &quot;figure out your next move on your own.&quot;&gt;&gt; &lt;&lt;replace &quot;#tutorial&quot;&gt;&gt;&lt;&lt;include &quot;FightMove_Tutorial3_Tutorial&quot;&gt;&gt;&lt;&lt;/replace&gt;&gt; &lt;&lt;/link&gt;&gt;

&lt;span id=&quot;tutorial&quot;&gt;&lt;/span&gt;</tw-passagedata><tw-passagedata pid="476" name="FightMove_Tutorial3_Tutorial" tags="" position="725,5975" size="100,100">You can hover any icon on the cards to get a helpful tooltip about what it represents.

Same goes for every stat that is currently affected by a modifier!</tw-passagedata><tw-passagedata pid="477" name="Encounter_Jorm" tags="" position="850,5975" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Jorm.encounterPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="478" name="Jorm_FirstMeeting_Intro" tags="" position="975,5975" size="100,100">&lt;&lt;run setup.initialJormSetup()&gt;&gt;\
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;jormFirstMeeting&quot;, 1)&gt;&gt;</tw-passagedata><tw-passagedata pid="479" name="Jorm_FirstMeeting_PlayerSmall" tags="" position="1100,5975" size="100,100">You set out to explore and within the hour you come across a strange discovery.
You are pretty sure that there used to be a swamp in this area, and yet all you find is an arid wasteland of almost suspicious emptiness.

The dirt beneath your feet is dry, hard and so flat that you can see all the way towards the horizon with little in the way of obstacles or places to hide.

It makes it exceedingly easy to spot a group of Lost in the distance, and so you ready yourself for the inevitable fight. After all there is no place for you to hide either, \
no way for them not to spot you.

But the attack never comes. In fact, they appeared to be perfectly content with staying put.

\&lt;&lt;run setup.choice(&quot;[[Investigate Further-&gt;Jorm_FirstMeeting_PlayerSmall_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="480" name="Jorm_FirstMeeting_PlayerSmall_2" tags="" position="1225,5975" size="100,100">&lt;&lt;set $CharacterSheet_Jorm.quest.available_encounterPassages_firstTime = false&gt;&gt;\
An unhealthy amount of curiosity gets the better of you. It is an exceedingly rare sight to see any number of Lost who aren&#39;t ravenously mating each other or trying to spread their corruption.
Seeing them just sit there warrants investigation.

So, as you draw closer, you not only rather quickly realize that these Lost are significantly larger than the usual specimen.
They sit around a big pond that is at least &lt;&lt;print setup.getLength(3937)&gt;&gt; in diameter, even this close, they do not seem to notice your presence.

\&lt;&lt;run setup.choice(&quot;[[Examine the pond-&gt;Jorm_FirstMeeting_PlayerSmall_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="481" name="Jorm_FirstMeeting_PlayerSmall_3" tags="" position="100,6100" size="100,100">A &lt;&lt;SymbioteColor&gt;&gt; goo fills the pond; it runs and spills over the edges while the Lost throbbing genitalias submerge within it.

You could see their bodies twitch with their vacant eyes rolled back and their tongues lolled out, drool dripping from their maws.
Their balls contract again and again, you could see the goo bubble as streaks of white and black shoot through it as the Lost orgasm into the liquid with no end in sight.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_FirstMeeting_PlayerSmall_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="482" name="Jorm_FirstMeeting_PlayerSmall_4" tags="" position="225,6100" size="100,100">It starts to tickle your nose. \
A scent that is hard to describe and leave you light headed for a moment. Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;, {verb:[&#39;surges&#39;,&#39;surge&#39;]}) to full erection within a second.
You can feel the tightness in your taint as incredible desire ran through your loins. You feel how &lt;&lt;SymbioteName&gt;&gt; stirs beneath your skin, the desire to emerge growing within your companion.

Just like the desire to step forward, to put your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; into the pond as well. You feel him writhe beneath your skin, your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;, {verb:[&#39;throbs&#39;,&#39;throb&#39;]})&gt;&gt;.&quot;
The scent beckons you forward, the low growling of the Lost promising an incredible pleasure, \
a thrilling excitement waiting mere steps away from you. You bring your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; over the pond and your pre drips into it.

The goo almost lashes out at your early ejaculate before it suddenly recoils away.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_FirstMeeting_PlayerSmall_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="483" name="Jorm_FirstMeeting_PlayerSmall_5" tags="" position="350,6100" size="100,100">It begins to bubble, then boil. The liquid churns and gurgles. The Lost around you roar and squirm as the goo lashes out at them, engulfing their lower bodies completely.
Their gigantic musculature deflates before your very eyes until they are completely pulled into the pond.

The bubbling ceases, the scent vanishes with it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_JormEmerges_Small]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="484" name="Jorm_FirstMeeting_PlayerBig" tags="" position="475,6100" size="100,100">The ground shakes beneath your massive gait.

Exploring the wasteland is a treat at this size, and it would only become easier as you grow larger.
You could see the slight curving of the world towards the horizon, and so, as you strode on, a curiosity peaked your interest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_FirstMeeting_PlayerBig_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="485" name="Jorm_FirstMeeting_PlayerBig_2" tags="" position="600,6100" size="100,100">You remember being here before. Instead, all you can see is a flat, barren wasteland which is almost entirely devoid of features.
Infact it almost seems like it has been purposefully flattened. Only - comparatively - small pools disturb the land like pockmarks.

You also see that the Lost gather around these pools, which is unusual enough.
After all, they usually come rushing immediately to bay and bark at your feet, given that your form is impossible to overlook.

\&lt;&lt;run setup.choice(&quot;[[Investigate Further-&gt;Jorm_FirstMeeting_PlayerBig_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="486" name="Jorm_FirstMeeting_PlayerBig_3" tags="" position="725,6100" size="100,100">&lt;&lt;set $CharacterSheet_Jorm.quest.available_encounterPassages_firstTime = false&gt;&gt;\
It is curious enough to warrant investigation. A few more steps carry you across the vast distance and close to one of the many ponds.
It is perhaps &lt;&lt;print setup.getLength(3937)&gt;&gt; in diameter and appears to be filled with &lt;&lt;SymbioteColor&gt;&gt; liquid.

\&lt;&lt;run setup.choice(&quot;[[Get closer-&gt;Jorm_FirstMeeting_PlayerBig_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="487" name="Jorm_FirstMeeting_PlayerBig_4" tags="" position="850,6100" size="100,100">You crouch down to have a better look at it. Even this close, the Lost around it does not seem to react to your presence.

You can&#39;t help but notice that they seem significantly larger than normal, but that still make them miniscule compared to your vastness.
Despite that however, it nearly escapes your notice that all of them have their massive genitals submerged in the quivering liquid of the pond.

Something about that sight make &lt;&lt;SymbioteName&gt;&gt; stir within your loins, but not just that, there is something in the wind, a strange smell.
It makes your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;, {verb:[&#39;surges&#39;,&#39;surge&#39;]}) to full erection with such force and speed that you feel light headed for a moment.
&lt;&lt;SymbioteName&gt;&gt; writhes beneath your skin with a mounting desire to emerge. The hole in the ground before looks more and more appealing, \
even considering that would struggle to actually contain your endowments. You place your hands on the ground next to it and your immense form looms over the pit.
You carefully line up your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; with the hole. Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; over it and thick globs of pre fall into the liquid.

The noise that unfolds gives you momentary pause. The Lost beneath you howl out in orgasmic bliss. Their bodies trash and flail as a mind breaking climax overwhelms them.
You can perceive the lost of other pits undergoing a similar experience.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_FirstMeeting_PlayerBig_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="488" name="Jorm_FirstMeeting_PlayerBig_5" tags="" position="975,6100" size="100,100">The &lt;&lt;SymbioteColor&gt;&gt; goo within the pits lashes out and begins to engulf the Lost.
Their huge, muscular bodies shrink as the pond turns black.

Within seconds, they are fully engulfed into the pits to vanish completely.

You back away as the goo starts to churn and gurgle violently beneath you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_JormEmerges_Big]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="489" name="Jorm_JormEmerges_Big" tags="" position="1100,6100" size="100,100">The goo from each pit spill over and cover the land, only for it to retract in a rhythmic ebb and flow.

You hear a strange billowing sound from beneath the ground, something that sounds like an excited, heavy breathing.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_JormEmerges_Big_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="490" name="Jorm_JormEmerges_Big_2" tags="" position="1225,6100" size="100,100">Then the earth begins to quake. A roar from beneath the earth emerge. The very ground you stand on begins to give in.
All the flattened land under your purview fall at once. It is a deafening, roaring cacophony.

A thundering destruction as chunks of packed earth fall into a dark abyss, never to be seen again.

Any hope, any chance of seeing into the hole is taken by the forming sandstorm which blots out the sky.
The sheer dryness and heat lead to a veritable lightning storm forming within.

The arcs and flashes of lightning illuminate a rising form. Higher and higher it seems to grow, emerging without end.
A tremendous wall which pushes the storm ahead of it.
Large limbs move with unnatural speed, a tail like an endless mountain ridge whipping with physics defying ease.

An earth splitting, deafening roar dispels the sandstorm.

&lt;&lt;link &quot;Continue&quot; setup.getInitialJormSizeDiffPassage()&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="491" name="Jorm_JormEmerges_Small" tags="" position="100,6225" size="100,100">The ground rumbles. The earth quakes. The goo within the pit overflows, before it retracts again.
It is a mesmerizing ebb and flow before it finally pulls back again completely, only to leave a dark, yawning abyss in its wake.
The hole is so deep that light could not reach the bottom of it.

Then the ground ahead of you collapses.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_JormEmerges_Small_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="492" name="Jorm_JormEmerges_Small_2" tags="" position="225,6225" size="100,100">The earth falls, bereft of whatever support it may have had. Chunks of packed dirt, as large as houses, falls into the abyss.
An immense amount of dust is thrown up in the wake of this landfall.

You hear a deep groan from beneath.

Then you could see it. A shape took form in the billowing clouds of dust before you. It rose, rose ever greater, seemingly without end. \
Gigantic limbs moved behind the cover, a deafening roar, the earth splitting crack of a whip.

The clouds of dust are cast aside.

&lt;&lt;link &quot;Continue&quot; setup.getInitialJormSizeDiffPassage()&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="493" name="Jorm_JormDescriptions_LargerThanPlayer" tags="" position="350,6225" size="100,100">The dust clears, you gaze upon a looming wall of &lt;&lt;SymbioteColor&gt;&gt;.

After a few seconds, you realize that this sheer, immense mountainside before you is the tail of an absolutely gargantuan naga.

You estimate his size to be &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Jorm, &quot;height&quot;))&gt;&gt;, but there is simply no way to regard this beast with only a glance.
A stellar musculature ripples beneath glistening scales, it slowly draws your attention up along this cliff of muscle, and towards his groin.

This snake is most definitely a him indeed. His genital slit is but a little more than a natural cockring, \
which ensures that his pair of &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Jorm, &quot;cock&quot;))&gt;&gt; &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Jorm, &quot;cocks&quot;, {verb:[&#39;remains&#39;,&#39;remain&#39;]})&gt;&gt; hard at all times.

These spires are adorned with barbs and ridges, the tips tapering just enough to ease themselves into significantly smaller holes. Their base flare with sufficient size to hint at the existence of a knot.
Beneath these two grand spires is the naga&#39;s sack, the skin of which burgeon with the four immense balls contained within.
In fact, it sits so tight to his body, these gonads should have been internal.

You hear them churn and gurgle up a storm.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_JormDescriptions_LargerThanPlayer_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="494" name="Jorm_JormDescriptions_LargerThanPlayer_2" tags="" position="475,6225" size="100,100">Taking your eyes off the naga&#39;s endowments is no easy task. They remain in the way even when you try to look up and past them, towards his doming midsection of abdominals.

Each is a towering hill, a small mountain in their own right, dark canyons sculpted flesh of the grand beast.
The path of musculature guided your eyes up further as your eyes followed along not just six, nor eight abs.

This road to glory seems insatiable as even twelve is not enough. Instead, the naga&#39;s long, powerful waist is rocking a solid twenty four huge, powerful abdominals.
The last quarter at the top is flanked by a pair of pectorals, before it ends in yet another enormous, bulging pair of chiseled and hard cut mounds of muscles.
Each of them is crowned by a fittingly gigantic, nipple. \
Though with how big these pectorals are, it&#39;s easy to imagine putting a lot more on them. That cleft is waiting for your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Jorm, &quot;cocks&quot;)&gt;&gt; to slide right between them.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_JormDescriptions_LargerThanPlayer_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="495" name="Jorm_JormDescriptions_LargerThanPlayer_3" tags="" position="600,6225" size="100,100">Belonging to these four pectorals are four arms, each of which are engorged with an immense power and so absolutely thick with dense muscle that it is difficult to fathom that the naga could reach his own nipples.
He is a gigantic hulk of powerful muscle that make even the Lost appear tiny and insignificant to him.
&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;) &gt; 100&gt;&gt;\
Only your own bulk could match his incredible girth and size.
&lt;&lt;else&gt;&gt;\
Not even your own size could hope to match the naga&#39;s power.
&lt;&lt;/if&gt;&gt;\

Above all that, atop of a long and massive neck which ripple with incredible power and girth, throne the naga&#39;s head.
It is cast into shadow by the utterly gigantic - and slightly familiar - cobra hood that spans like wings and stretches over his traps to disappear somewhere into his immense shoulders.

He looks down at you.

His eyes and scales glow with an iridescent color, like a rainbow is pulsating within. \
Spiraling, confusing patterns run through his hood and thrum in tune with the color of his eyes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="496" name="Jorm_JormDescriptions_EvenToPlayer" tags="" position="725,6225" size="100,100">The dust clears and before you stands a &lt;&lt;SymbioteColor&gt;&gt; naga. The beast is an incredible sight for all it counts. \
The fact that its &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Jorm, &quot;height&quot;))&gt;&gt; near matches your height at all is already a testament to how gigantic this beast is.

As if by instinct, your gaze drifts downwards, towards the massive and girthy tail of the beast. Snakes are usually all muscle anyway, but this monster takes the cake indeed. \
Though it is hard to look past the serpent&#39;s crotch. Two &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Jorm, &quot;cock&quot;))&gt;&gt; spires jut forth from his groin.

\&lt;&lt;run setup.choice(&quot;[[Examine his crotch-&gt;Jorm_JormDescriptions_EvenToPlayer_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="497" name="Jorm_JormDescriptions_EvenToPlayer_2" tags="" position="850,6225" size="100,100">The genital slit he once had has become little more than a natural cockring, ensuring that those dicks remain hard.

They are bristling with features no less, as their lengths are adorned with ridges, and the tapered tips overflow with fleshy barbs.
The hint of a knot hides at the base. Beneath this pair of genital spires hangs a tight, snug fitting scrotum that is stretched far by a quad of gigantic balls.

It is hard to take your eyes off that sight, considering how inviting these massive phalli throb and pulse.

\&lt;&lt;run setup.choice(&quot;[[Look upwards-&gt;Jorm_JormDescriptions_EvenToPlayer_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="498" name="Jorm_JormDescriptions_EvenToPlayer_3" tags="" position="975,6225" size="100,100">Each ab is a thick, chiseled hill amidst a labyrinthe of canyons in between.
They are flanked by a pair of pectorals, which in turn are crowned by yet another pair.
All four are bulging, swollen mountains with massive fat nipple.
A real hand filling handlebar to hold on to and pull, while fucking his massive pectorals.

His four arms are staying in tune with the sheer girth of the serpent.
&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;) &gt; 100&gt;&gt;\
They are almost as heavy as your own mass.
&lt;&lt;else&gt;&gt;\
Not even your own size could hope to match the naga&#39;s power.
&lt;&lt;/if&gt;&gt;\
His arms are so big that he would not be able to touch his own nipples, or properly reach his own cocks. Between the size of his biceps and the girth of his chest, there simply is no space to accomodate for either.

\&lt;&lt;run setup.choice(&quot;[[Look upwards still-&gt;Jorm_JormDescriptions_EvenToPlayer_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="499" name="Jorm_JormDescriptions_EvenToPlayer_4" tags="" position="1100,6225" size="100,100">A remarkably long and thick neck leads up to his head, which in turn is crowned by a massive, - and familiar - cobra hood.
Iridescent, confusing, spiralling patterns draw attention towards his face.

Aside from the startlingly handsome muzzle, with its strong, firm cut jawline - it is all too easy to imagine him swallowing very, very large things.
His eyes glow with an iridescent light.

With each heartbeat, a different color pulses to the forefront, which happen entirely in tune with the patterns of his hood.

It is so difficult to look away.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="500" name="Jorm_JormDescriptions_SmallerThanPlayer" tags="" position="1225,6225" size="100,100">The dust clears and before you stands a &lt;&lt;SymbioteColor&gt;&gt; naga. You actually have to look down at it, even though the beast is easily &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Jorm, &quot;height&quot;))&gt;&gt; tall.

What a dramatic entrance for such a little twerp. But then again, how could he hope to stand against someone like you - a living, breathing, growing god - anyway? Your eyes trail along the serpent&#39;s body.

For what he is worth, he&#39;s indeed on the powerfully built side. He is also most definitely a he, as a look at his groin so easily proves. Two &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Jorm, &quot;cock&quot;))&gt;&gt; spires jut from his groin.

Their tapered tips bristle with fleshy barbs, only for thick ridges to take over along his length. Finally, towards the end of his members, there is the hint of a knot that has yet to inflate.

All of that is kept in check by a genital slit that has become little more than a cockring, unable to contain his endowments any longer.
Right beneath is a tight, snug fitting sack which held a quad of admittedly rather enormous testicles.

\&lt;&lt;run setup.choice(&quot;[[Examine his body further-&gt;Jorm_JormDescriptions_SmallerThanPlayer_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="501" name="Jorm_JormDescriptions_SmallerThanPlayer_2" tags="" position="100,6350" size="100,100">Your eyes run up what is a solid double-dozen of abs, a road of a full twenty four thick abs, which stretch over the long and thick roid-gut of the serpent.

The upper quarter is flanked by a pair of pectorals, which in turn is topped by yet another pair. Each pectoral is crowned by a fat, swollen nipple, as large as a soda can in relation to the naga&#39;s size.

You&#39;d barely be able to fit your lips around them, with how small they are compared to you. At least his arms promise to make for sufficient holds with how girthy they are.
They are burgeoning with powerful musculature in their own right, so much so that he would barely be able to bend them far enough to touch his pectorals or even dicks.

\&lt;&lt;run setup.choice(&quot;[[Look upwards-&gt;Jorm_JormDescriptions_SmallerThanPlayer_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="502" name="Jorm_JormDescriptions_SmallerThanPlayer_3" tags="" position="225,6350" size="100,100">Finally your gaze drift along his powerful and long neck, to his face.
Your eyes are naturally guided that way.

Even though there is still a massive cobra hood to draw your attention, the spiralling patterns adorning it throbs with light. They pulse inwards and brought you to look upon his admittedly very handsome features.
Though really it is his eyes which are the real looker.

They glow with all colors of the rainbow, pulsating from one to the next, a beautiful sea to get lost in.

In fact, it is hard to tear your gaze away from them.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="503" name="Jorm_NamingDialogue" tags="" position="350,6350" size="100,100">The naga clearly notices you, what is at first an amused smirk now turns into a wide grin of delighted recognition.

You can see the glint of admiration in his rainbow eyes.
Herculean brawn creaks and groans as the serpent gives you a brief but nonetheless courteous bow. Its elegance is only marred by his musclebound physique and his own cocks.
He looks you right in the eyes as he straightens himself again.

&quot;I am glad that we get another chance to meet, in what I hope are going to be more amicable conditions.&quot;
He speaks with a wondrously sonorous voice and a surprising amount of candor.
It is full of volume and timbre, but also brimming with barely contained lust and desire.

Still there are certain questions on your mind.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="504" name="Jorm_NamingDialogue_2" tags="" position="475,6350" size="100,100">&quot;I know you may not remember, as last time we met I was in a considerably more pitiful state. I was barely even a feral animal.&quot;

His grin all but vanishes, making way for a wistful sigh.
His gaze returns to you and starts to drift down your body.

The coloration of his eyes and hood turn into a muted grey red. His sorrows seem to conflict with his arousal.
He licks his lips, his hands meet each other on the way down.
He rubs them together so hard his knuckles nearly seem to pop out.

&quot;Just thinking back to it already...&quot;

&lt;&lt;link &quot;Continue&quot; setup.getJormIntroductionPassage()&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="505" name="Jorm_NamingDialogue_FuckedNaga" tags="" position="600,6350" size="100,100">&quot;The way you took me. How your warmth filled me... it was...&quot;
He pauses for a moment and a shudder rolls through his body, while a gush of pre spurts from his shafts.

&quot;I could feel your unbridled lust rush through me. It was like a fire illuminating the darkness that had taken hold of my mind. \
Your seed washed it all away, like a purifying rain cleanses the land, it freed me of the affliction controlling me.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="506" name="Jorm_NamingDialogue_VoredNaga" tags="" position="725,6350" size="100,100">&quot;When you took me into yourself and surrounded me in your warmth..&quot;

He pauses for a moment and a shudder rolls through his body, while a gush of pre spurts from his shafts.

&quot;Your unbridled, all consuming lust shone like a beacon as you unraveled me. \
In that brief moment where you stripped me bare and we became one, you burned away the affliction which had cast me into darkness. \
For the first time in... I don&#39;t know how long, I was truly free when you released me back into the swamp.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="507" name="Jorm_NamingDialogue_GotFuckedByNaga" tags="" position="850,6350" size="100,100">&quot;When I took you into myself and felt your warmth fill me...&quot;

He pauses for a moment and a shudder rolls through his body. A gush of pre spurts from his shafts.

&quot;The power that I felt when you melted away inside me and we became one, if for but a brief moment... \
In that moment our souls touched and I could feel, see, that unbridled flame of lust inside you. \
And just like our souls, it touched me, scorched me, illuminated my mind and burned away the darkness holding me trapped.&quot;

He let out a rumble, before sucking down the drool pooling in his mouth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_GotFuckedByNaga_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="508" name="Jorm_NamingDialogue_GotFuckedByNaga_2" tags="" position="975,6350" size="100,100">&quot;R-Right! Let me return what I took. It is the least I could do now.&quot;

He utters and reaches forward to touch your chest with one hand.
&lt;&lt;SymbioteName&gt;&gt; reaches out in for him in turn as the symbiotic goo covering you stretches forth.
His hand submerges inside you. It is impossible for you to see where &lt;&lt;SymbioteName&gt;&gt;&#39;s goo end and his begin.

The strangest sensation flows through you, followed by a sudden, reinvigorating rush of energy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="509" name="Jorm_NamingDialogue_ToNamingPrompt" tags="" position="1100,6350" size="100,100">&lt;&lt;if setup.Size.compare($CharacterSheet_Jorm, &#39;height&#39;, $CharacterSheet_Player) &gt; setup.Size.Comparators.BIGGER&gt;&gt;\
His tail shifts and comes up next to him. With a motion of his hand he offers you to have a seat upon him.
It feels rather strange, he is about as hard as you&#39;d expect from someone so shredded, yet it is a little squishy, just enough to not be uncomfortable to sit on.
&lt;&lt;/if&gt;&gt;\

&quot;You can feel it, yes?&quot;
He asks as he looks through you again. His hood has turned into a brighter yellow colour now.

&quot;The connection that we both share? It was only faint at first, but now that we&#39;re this close together, it has grown so much stronger. It is so much easier to perceive.&quot;

You can feel &lt;&lt;SymbioteName&gt;&gt; stirring in the back of your mind. Your permanent companion is unusually animated.

&quot;Ahh? What I mean...?&quot;
He wonders, before his eyes go wide and he nods.

&quot;Ah! I understand. I was talking to the one you call &lt;&lt;SymbioteName&gt;&gt;, host. So it seems that he cannot speak through you? Or do you choose not to say what he tells you to? Can you even hear what he says?&quot;

&lt;&lt;set $passageName = &quot;Share info about the dream that shaped &quot;+ $CharacterSheet_Player.symbiote.info.name&gt;&gt;\
\&lt;&lt;run setup.choice(&quot;[[$passageName-&gt;Jorm_NamingDialogue_ToNamingPrompt_WithinDreams]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse to answer him-&gt;Jorm_NamingDialogue_ToNamingPrompt_RefuseAnswer]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="510" name="Jorm_NamingDialogue_ToNamingPrompt_WithinDreams" tags="" position="1225,6350" size="100,100">You shake your head and tell him that outside of some weird dreams, you can&#39;t remember ever having ‘spoken&#39; with &lt;&lt;SymbioteName&gt;&gt;, and even in those dreams you never heard him talk.

The naga nods in response as the yellow shifts towards a strangely warm blue.

&quot;I see! Very well then. I shall talk to you too then. It is just as well and only proper, for you have brought my sire and me together again.&quot;
He practically beamed with his smile and shuffled ever so much straighter in his ‘seat&#39;.

&lt;&lt;set $passageName = &quot;Ask why he calls &quot;+ $CharacterSheet_Player.symbiote.info.name +&quot; his &#39;sire&#39;&quot;&gt;&gt;\
\&lt;&lt;run setup.choice(&quot;[[$passageName-&gt;Jorm_NamingDialogue_ToNamingPrompt_Sire]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse to answer him-&gt;Jorm_NamingDialogue_ToNamingPrompt_RefuseAnswer]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="511" name="Jorm_NamingDialogue_ToNamingPrompt_Sire" tags="" position="100,6475" size="100,100">Sire? He promptly clicks his tongue and tilts his head as one of his hands comes up to his face with a wavy motion.

&quot;I am afraid there is no easy answer to that question, for I myself don&#39;t entirely understand it either.&quot;
He responds and smirks.

&quot;But let me try. Maybe speaking out loud helps connect the dots I have been missing so far. \
You see, &lt;&lt;SymbioteName&gt;&gt; and I share a bond that is... somewhat similar to what you and he shares, and yet it&#39;s different. \
We are kin, in a way. \
We haven&#39;t been before, but now we are. Whether by choice or accident, during our last encounter, he has given me a sliver of himself, of his very being even, \
his burning passion and lust, which I since carried like a torch to burn away the darkness the Corruption poses.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt_PostAnswer]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="512" name="Jorm_NamingDialogue_ToNamingPrompt_RefuseAnswer" tags="" position="225,6475" size="100,100">He promptly clicks his tongue and tilts his head as one of his hands comes up to his face with a wavy motion.

Even with your cold response, his interest in you does not wane.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt_PostAnswer]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="513" name="Jorm_NamingDialogue_ToNamingPrompt_PostAnswer" tags="" position="350,6475" size="100,100">&quot;I am freed from the feral beast I once was, for which you have my deepest thanks. I will do what I can to repay this debt I now owe you.&quot;
He finishes, with a deep red glowing within his eyes and hood.

&quot;It may sound incredibly bold of me, considering what I just said, but may I be so forward as to request your aid again? I am sure it will serve us both.&quot;
He suggests and motions to the side, but stops midway. His eyes dart around as if he searches something that is no longer there.

As if he is only now becoming aware of the devastation that his emergence has caused.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt_PostAnswer_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="514" name="Jorm_NamingDialogue_ToNamingPrompt_PostAnswer_2" tags="" position="475,6475" size="100,100">&quot;Err, right. As you no doubt saw when you arrived, I am gathering the Lost to me. \
I do so in an attempt to give them slivers of myself, so they too can regain their minds like I did when you gave me a piece of yourself. \
I have tried several approaches, but I have yet to succeed like you did.&quot;

He tries to rub his forehead, but his bulk prevents him from fully reaching it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt_PostAnswer_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="515" name="Jorm_NamingDialogue_ToNamingPrompt_PostAnswer_3" tags="" position="600,6475" size="100,100">&quot;Though I admit that my memory is hardly infallible, I believe my technique can be improved. \
It doesn&#39;t seem like I will be running out of opportunities to experiment either. The Lost only seem to grow more numerous no matter how many I devour. \
Which is just as well as they provide me with sustenance and power, so even when I fail, I become stronger and smarter for it.&quot;
He pauses for a second and turns his gaze back to you and away from the destruction.

&quot;And now that you are here... if you lend me your aid, I am sure that it will be only a matter of time before I succeed.&quot;
He smiles wide and expectantly at you, but all you can see are the two massive cocks throbbing in audible excitement.

Boom. Boom. Boom.
Each time his heart beat sent them bouncing.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingDialogue_ToNamingPrompt_PostAnswer_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="516" name="Jorm_NamingDialogue_ToNamingPrompt_PostAnswer_4" tags="" position="725,6475" size="100,100">The naga took that moment of silence for indecision as he raises his hands in placative fashion.

&quot;You need not decide now. I realize I ask much, for it is no easy task and the commitment necessary will be great. Take your time to think it over.&quot;
He advises with a little smirk, which is followed by visible embarrassment creeping into his expression.

It is kind of amusing to see a titan of his built looking this embarrassed.

&quot;M-Maybe in the meantime, could I, yet again, ask you for your help with a different problem of mine? You see, while I was Lost, \
I forgot much of myself and I have only recently been remembering things again, and while I think I have a good idea of what I once did, there is one thing that continues to elude me no matter how hard I try.&quot;
He pauses and purses his lips.

&quot;Could you, my sire, perhaps look deep into our connection and reveal what has so far escaped me? Can you tell me who I am?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_NamingPrompt]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="517" name="Jorm_NamingPrompt" tags="" position="850,6475" size="100,100">It started as a whisper, but slowly became louder, clearer. It was your own voice, resonating in your mind, uttering a name. The Name.

&lt;&lt;textbox &quot;$CharacterSheet_Jorm.info.name&quot; &quot;Jorm&quot;&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Whisper his name-&gt;Jorm_NamingPromptEnd]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="518" name="Jorm_NamingPromptEnd" tags="" position="975,6475" size="100,100">You utter the serpent&#39;s name. $CharacterSheet_Jorm.info.name and his eyes light up. A wide smile starts to spread across his muzzle.

&quot;Y-yes! That... that sounds familiar. That sounds right.&quot;
He murmurs in turn and starts to nod.

&quot;$CharacterSheet_Jorm.info.name that is... that is it. Thank you.&quot;
He looks at you again, as if he saw you for the first time now.

A bit of a sly smile spread across his muzzle as he began to recline on his coils again. It was a low, steady grinding as the scales scrap against each other.

&quot;We will meet again &lt;&lt;SymbioteName&gt;&gt;... After all, the universe is ours to shape.&quot;

He gives you a glance before slithering away with uncanny speed, his eyes burning with purpose.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="519" name="Jorm_PostNamingPrompt" tags="" position="1100,6475" size="100,100">&lt;&lt;set $CharacterSheet_Jorm.quest.available_encounterPassages_jormPostNameSetup = false&gt;&gt;\
A few hours after you leave the Golden Bastion, you feel a distant rumble.
It rages from the horizon and gets increasingly louder, like a crash of thunder that never seems to end.

Soon you see him, &lt;&lt;print $CharacterSheet_Jorm.info.name&gt;&gt;, the monstrous naga beast. His form rises, taking over the scenery as he rushes towards you.

He pounces, crashing upon your midriff, his hands groping your cocks with not a single moment wasted.

&quot;You&#39;re finally back.&quot; He mutters.

&quot;Let us experience your boundless lust again, &lt;&lt;SymbioteName&gt;&gt;~&quot;

&lt;&lt;link &quot;Continue&quot; setup.getSecondJormSizeDiffPassage()&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="520" name="Jorm_PostNamingPrompt_PlayerSmaller" tags="" position="1225,6475" size="100,100">$CharacterSheet_Jorm.info.name lunges at you with a speed that should not be allowed for a creature of his size.

He casts his shadow over you as his four massive arms come slamming down into the ground next to you, his fingers dig into the earth and tear deep trenches that would leave marks for generations to come. \
Or until the next time he would slither over it anyway. His huge forked tongue licks over your &lt;&lt;LimbDesc &#39;pecs&#39;&gt;&gt; and down your belly with its &lt;&lt;LimbDesc &#39;abdominals&#39;&gt;&gt; before it reaches your crotch.

With how absolutely huge he is, his tongue easily wraps around your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;. He goes on to display remarkable dexterity with that appendage as he starts to rub and stroke along your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;.

It is a tight, powerful and yet slick embrace that leaves you panting.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerSmaller_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="521" name="Jorm_PostNamingPrompt_PlayerSmaller_2" tags="" position="100,6600" size="100,100">A second tongue emerges from &lt;&lt;print $CharacterSheet_Jorm.info.name&gt;&gt;&#39;s maw. It guides your maleness into his waiting, salivating maw, which quickly dives down your full length with a reckless abandon. \
But such is the advantage of being a gigantic snake. Your girth rams its way down his esophagus, only to disappear in his chest.

You feel the hot, slimy embrace within his body, the powerful muscular contractions as the naga swallows and gulps.

Your hands come forward as you grasp his head and hood, holding on to him, trying to force him down even further.
He grasps your sides and lift you up. He pulls you back into the embrace of his long, massive coils.

His &lt;&lt;SymbioteColor&gt;&gt; hide ripples beneath your body as he brings you tight into his embrace.

You are surrounded by his flesh.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerSmaller_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="522" name="Jorm_PostNamingPrompt_PlayerSmaller_3" tags="" position="225,6600" size="100,100">The noise of his body moving, its parts grinding together, it smothers out the rest of the world.
Then this absolute juggernaut of a serpent makes use of his remarkable flexibility. He throws his hips forward and brings his absolutely gigantic members to bear against your body.
&lt;&lt;if setup.getStatValue($CharacterSheet_Jorm, &quot;cock&quot;) &gt; setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)&gt;&gt;\

The idea that his &lt;&lt;charLimbDesc $CharacterSheet_Jorm &#39;cocks&#39;&gt;&gt;, would be able to fit inside you is a laughable notion. Those monsters are larger than you!
&lt;&lt;/if&gt;&gt;\

The sheer leverage his size affords him makes him handle you like a little doll. The lust that burns within his bright pink eyes makes it evident that he could not be reasoned with. \
The first of his tapered lengths presses against your rear entrance, smears it with a deluge of pre. By volume alone it already found its way into you, preparing your rear for the inevitable penetration.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerSmaller_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="523" name="Jorm_PostNamingPrompt_PlayerSmaller_4" tags="" position="350,6600" size="100,100">It is a monstrous sensation as it enters, the stretch... the pressure it exerts on your insides. A primal roar leaves your lips as your balls unload into $CharacterSheet_Jorm.info.name throat, gushing your thick cream down his needy esophagus.

It is only the first of many orgasms to follow. The gigantic beast of a naga milks you for all you&#39;re worth, stretching you impossibly far over his cocks.

He blows load after load into you, almost in perfect sync with your own climaxes. Each pump sees you swell larger with the seed he dumps into you, pushing your body&#39;s elasticity to ever greater limits.
Impossibly enough, the seed he drinks from you sees him grow larger as well. Each climax adds inches to his frame, which given his immense size had to be hundreds of tons worth each.

The immense beast purrs rather happily, though his size makes it so loud, unbelievably powerful.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerSmaller_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="524" name="Jorm_PostNamingPrompt_PlayerSmaller_5" tags="" position="475,6600" size="100,100">It is impossible to tell how much time passes in this embrace. The world is all but gone from view. Your entire world is enraptured, engulfed by $CharacterSheet_Jorm.info.name body.

It is narrowed down, reduced to the grinding noises of scales upon scales, the groaning of muscle fibres hundreds of meters long and the low growling and gurgling of cumbloated bellies.
Orgasm follows orgasm in relentless pursuit until it all blurrs together in a drowned swamp of desire. \
Your nose is filled with the stench of your mutual rutting, the reek of sex is overpowering.

Time seems to melt away, becoming a distant and barely relevant concept as all that remains is the burning pleasure and passion of this eternal intercourse.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerSmaller_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="525" name="Jorm_PostNamingPrompt_PlayerSmaller_6" tags="" position="600,6600" size="100,100">But eventually even a near bottomless stamina runs out. The near endless appetite is sated. Consciousness slowly returns to a semblance of existence and the rut calms down. \
You feel a little sore in the aftermath of it all, your belly still distended into a noticeable gut, but now you are cuddled firmly into the embrace of the naga&#39;s coils.

&quot;The world will know what we&#39;re made of... We&#39;ll meet again soon.&quot;

(in a future version)

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="526" name="Jorm_PostNamingPrompt_PlayerEven" tags="" position="725,6600" size="100,100">The naga presses against you, his hands rub over your chest and down along your abs as his enormous tail begins to wrap around your lower body. \
In a display of immense power and surprising dexterity, he turns you around and your back meets his chest.

&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;) &gt; 100&gt;&gt;\
His arms try - with futility - to wrap around your torso and pull you into a firm, powerful hug. \
He does not quite clear your immense chest of course, but the sheer size of his own massive build does still allow him to give you a muscle hug.
&lt;&lt;else&gt;&gt;\
His enormous arms wrap around your torso and engulf you in his incredible musculature.
&lt;&lt;/if&gt;&gt;\

You can feel his biceps grind against your body. How his chest flexes and swells against your back with each massive breath he takes.

&quot;Let us fill each other~&quot;

He breathes heavily into your ear. You could smell the lust on his breath. The desire he exhales is intoxicating. \

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerEven_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="527" name="Jorm_PostNamingPrompt_PlayerEven_2" tags="" position="850,6600" size="100,100">It is hard to say no really. Feeling the warmth of his luscious body press against you while his scales scrape along and massage over your form. \
His tail starts to grind and rub over your groin, and soon comes to squeeze your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; inbetween it. \

&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;) &gt; setup.getStatValue($CharacterSheet_Jorm, &quot;height&quot;)&gt;&gt;\
You can feel your &lt;&lt;LimbDesc &#39;cocks&#39; &#39;presses~press&#39;&gt;&gt; against a thick, slick and incredibly hot fold in his tail, which reveals itself to be the snake&#39;s positively gaping anus. \
He puts his elasticity on display as it slides over your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;, engulfing you fully in the moist and heated embrace of his thick and powerfully muscled tail. \
&lt;&lt;else&gt;&gt;
Seconds later, it moves to slide over your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;, engulfing you fully in the moist and heated embrace of his thick and powerful tail. \
&lt;&lt;/if&gt;&gt;\
You feel it flex and massage, grip and knead around your maleness, but at the same time you can feel how his own maleness presses against your back and finds its way towards your own entrance. \
The tapered, yet brutally thick torpedos that are his cocks find easy purchase against your backside. A sudden thrust drives your own &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; deep into $CharacterSheet_Jorm.info.name body. \

It is an incredible sensation.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerEven_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="528" name="Jorm_PostNamingPrompt_PlayerEven_3" tags="" position="975,6600" size="100,100">The sheer girth of his shafts, their length and the texture, it all rails through your insides. It&#39;s as if they are not quite as solid as they appear. \
Your hands grasp his coils as they wrap around you, his hands in turn squeeze hard into your pectorals, groping and kneading them with strong intent.

You barely have to do anything in the undulating embrace of the naga.
He gropes and thrusts, massages and kneads.
Your &lt;&lt;LimbDesc &#39;cocks&#39; &#39;is~are&#39;&gt;&gt; treated to a marvellously warm envelope, which contracts and milks you with such strength that his flesh rubs and grinds over every inch of your maleness.
Meanwhile his shafts pump within you, up and down, in and out. His ass meets yours, again and again, his balls swinging back and forth, slapping against his tail and into your sack with delectable force.

To your size, it is but like a regular slap indeed, but for normal sized people, this would have been cataclysmic forces at work. \
Each impact, each time his groin meets your ass, a veritable shockwave ripples forth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerEven_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="529" name="Jorm_PostNamingPrompt_PlayerEven_4" tags="" position="1100,6600" size="100,100">Similarly, the earth quakes as you roar out the inevitable climax. It could be heard for miles into every direction, half the wasteland would know of your release.

Unimaginable amounts of thick cream floods forth from your balls.

The naga&#39;s tail engorges with what you pump into him, on top of the bulge your endowments already give him. But in turn, he too blows his load, right into you.

You feel the incredible heat spread through your form as his spooge fills your bowels, overflowing them, spills into your stomach and makes your belly dome with the sheer volume.
It is heavy and so warm.

And it is only the beginning.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerEven_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="530" name="Jorm_PostNamingPrompt_PlayerEven_5" tags="" position="1225,6600" size="100,100">Your stamina and sexual appetite are near endless, as are &lt;&lt;print $CharacterSheet_Jorm.info.name&gt;&gt;&#39;s.
The pleasure is all that matters, feeling his scales against your body, muscles grinding upon muscles, cocks pumping sheer ceaselessly.

The two of you tumble over each other as you try to find ever new positions to rut in.

Two immense giants, stomping and crushing the already blasted wasteland, crushing through the pit that $CharacterSheet_Jorm.info.name calls home.

Entire lakes of cum form as minutes became hours, became days.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_PlayerEven_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="531" name="Jorm_PostNamingPrompt_PlayerEven_6" tags="" position="100,6725" size="100,100">Eventually though, even the deepest wells of stamina are depleted and the grandest hungers are sated.
The carnal feast comes to an end, bellies bloat with cum, balls empty of seed - at least for the moment.

You couldn&#39;t help but notice that you have fucked the serpent larger. Each climax makes him bigger, each load of your seed pump his muscles, engorging his endowments.

Now his huge, powerful coils are wrapped around you once more. Like a bed and blanket in one. His upper body is next to you, two hands idly stroking your chest.
A surprisingly merry grin is on his face.

&quot;The world will know what we&#39;re made of... We&#39;ll meet again soon.&quot;

(in a future version)

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="532" name="Jorm_PostNamingPrompt_PlayerBigger" tags="" position="225,6725" size="100,100">You grin down at the serpent, who in turn lunges at you with lustful desire. You barely even notice his impact against your gigantic form.
He really is small compared to you, tiny even, but he makes up for that with sheer zeal and intent.

His serpentine body does its very best to wrap around, to coil and engulf your endowments, and for a little while you let him try.

\&lt;&lt;run setup.choice(&quot;[[Help him soothe his itch-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="533" name="Jorm_PostNamingPrompt_PlayerBigger_2" tags="" position="350,6725" size="100,100">&quot;Let me help you~&quot; You chime with your booming, gigantic voice and your hands reach down to grasp the horny muscle rope.
He writhes and squirms, desperately trying to tease you by slithering along your hands.

&quot;Fuck me!&quot; He demands. &quot;Fill me with your cum, with your power! Make me grrrrooowww!&quot;
The serpent bellows, and even though his voice echos across the landscape with a volume that could burst eardrums, it only reaches your ears as a little squeaking.

For the moment you feel willing to entertain this idea. The little beasty provides an awful lot of teasing after all, and &lt;&lt;SymbioteName&gt;&gt; demands for your lust to be sated. The pressure in your balls has to be relieved.

\&lt;&lt;run setup.choice(&quot;[[Use him to jerk yourself off-&gt;Jorm_PostNamingPrompt_PlayerBigger_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="534" name="Jorm_PostNamingPrompt_PlayerBigger_3" tags="" position="475,6725" size="100,100">&quot;Lets see if you can take me then.&quot;
Your voice rumbles lowly, ominously even, as your hands roams over and inspects the naga&#39;s body.

He really is a juggernaut, just a shame that he is so tiny compared to a titan like you.
You find him to be remarkably stretchy and malleable, almost as if he has no actual bones to speak of.
It gives him a freakish - and much needed - durability.
Muzzle first you pull him over your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;, as if he is little more than a towel. He fits around your dick with ease.

He stretches so thin that his body loses most if not all of his definition.
He grips around you with surprising power and strength, which really made him better than any fucktoy could ever hope to be.
With how pent up you are, it doesn&#39;t take long for climax to emerge.

\&lt;&lt;run setup.choice(&quot;[[Fill him to the brim-&gt;Jorm_PostNamingPrompt_FillHim]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Deny him-&gt;Jorm_PostNamingPrompt_DenyHim]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="535" name="Jorm_PostNamingPrompt_FillHim" tags="" position="600,6725" size="100,100">You feel generous enough to oblige his request, the pressure and pleasure grows too great for you to hold in anyway.
You roar out as your load explodes forth and floods right into the eager $CharacterSheet_Jorm.info.name.

His grip is strong, but you still have to hold him in place, lest he launches off by the force of your orgasm.
With gritted teeth and a wide grin, you watch Jorm&#39;s form balloon outward.
Cum drips from his muzzle and ass as your output greatly exceeds the rate at which he could stretch.

\&lt;&lt;run setup.choice(&quot;[[Fill him some more...-&gt;Jorm_PostNamingPrompt_FillHim_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="536" name="Jorm_PostNamingPrompt_FillHim_2" tags="" position="725,6725" size="100,100">His &lt;&lt;SymbioteColor&gt;&gt; hide draws so incredibly thin that he becomes practically see through, allowing you to witness the lake of cum you pump into him.

He becomes almost as catastrophically huge as yourself. The squishy tube that is his body becomes nigh impossible to handle as he flops to the ground.
You could see him grow. Slowly, but steadily, the bloatedness shrinks as your orgasm wanes and the output lessens.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_FillHim_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="537" name="Jorm_PostNamingPrompt_FillHim_3" tags="" position="850,6725" size="100,100">His body groans and gurgles, his grip around your endowments in turn strengthens. It spurs you on to use him more, use him harder.
You continue to jackhammer into him with ferocious desire, and make the most of his growth and insane durability.

He is an amazing sleeve to ram into, the experience only becomes better with each climax you pump into him.
A lake&#39;s worth of cum soon becomes an ocean, the size gap between the two of you steadily shrinks.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_FillHim_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="538" name="Jorm_PostNamingPrompt_FillHim_4" tags="" position="975,6725" size="100,100">Many hours and dozens of orgasms go through before your balls finally empty.
At that point, $CharacterSheet_Jorm.info.name has grown to be your near equal in size. \
When he lets go of you &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; and rises up to eye level with you, his eyes and markings glow in a powerful pink that only slowly turns back into his rainbow colours. \

&quot;Thank you.&quot; He churrs, his voice so much deeper, so much more powerful, now that he is a titan like you.
&quot;This power...&quot; He huffs as he raises his arms, flexing them in a remarkable, wonderful display of huge.

&quot;We&#39;ll meet again soon.&quot;

&quot;Time for me to show the world what I&#39;m made of... &quot;

(in a future version)

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="539" name="Jorm_PostNamingPrompt_DenyHim" tags="" position="1100,6725" size="100,100">And while he had demands you fill him...
Why should you?

He is in no position to demand anything.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_DenyHim_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="540" name="Jorm_PostNamingPrompt_DenyHim_2" tags="" position="1225,6725" size="100,100">Your breathing becomes more laboured as you fight against the impending climax.
He grip hard and tries to resist being removed, but he is powerless to stop you.

The pressure reaches its peak and breaches through your dam. You couldn&#39;t quite hold it all the way, $CharacterSheet_Jorm.info.name comes free just as you roar out your climax.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Jorm_PostNamingPrompt_DenyHim_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="541" name="Jorm_PostNamingPrompt_DenyHim_3" tags="" position="100,6850" size="100,100">The world trembles as orgasm overwhelms, the flood of seed nearly tears the snake out of your hands, \
but you hold on tight to the desperately gulping reptile. He promptly rubs and strokes himself over and against your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;.

Your load flies onward, filling the pit &lt;&lt;print $CharacterSheet_Jorm.info.name&gt;&gt;&#39;s emergence has left behind. While it becomes a veritable lake to countless mortals, to you it is little more than a puddle.
A lake wouldn&#39;t do though. You are hardly getting started. You do not stop until there is an ocean of your cum.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Jorm_PostNamingPrompt_DenyHim_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="542" name="Jorm_PostNamingPrompt_DenyHim_4" tags="" position="225,6850" size="100,100">You reduce $CharacterSheet_Jorm.info.name to be little more than a toy, a tool for you to rub out climax after climax.

Your arms feel ready to fall off from the exertion of masturbation, your balls seem ready to proclaim their emptiness, and so by the end of it, \
$CharacterSheet_Jorm.info.name is dazed, barely even conscious.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Jorm_PostNamingPrompt_DenyHim_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="543" name="Jorm_PostNamingPrompt_DenyHim_5" tags="" position="350,6850" size="100,100">He awakes, startled and in your lap, his gaze drifts about before it focuses on the wall that is your body.

&quot;What happened?&quot;
He utters, before memories seemingly rushs back into him.

&quot;That was... unbelievable. Please, leave me some time to recover.&quot; He pouts.

&quot;We must meet again.&quot;

(in a future version)

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="544" name="Encounter_Loss_Lost_Entity" tags="" position="475,6850" size="100,100">You fall under the Lost &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;&#39;s might. He howls in victory and knocks you down on your knees with his tremendous bulk.

The corrupted &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;
    &#39;&quot;Spreeeeaaad...&quot; he moans as he stands over your chest, letting his &lt;&lt;charLimbDesc $CharacterSheet_Lost_Entity &#39;cocks&#39;&gt;&gt; drip thick ebon precum onto your chest.&#39;

The black spread across you, covering your body from tip to toe in his corrupting essence.

You feel the presence of $CharacterSheet_Player.symbiote.info.name being smothered by something far larger and more sinister until nothing remained but the husky voice of the Lost.
Your eyes roll into the back of your head as you experience visions of yourself transformed into a voracious black monster, shoving your massive dick into your victims.

A bond builds between you and the &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;. He has chosen you as a mate, a mate that will spread his gift to everything in the Barrens.

Yes. This is how it always should be. The power you truly craved. There is no point in resisting the call to your greater purpose.

You take the monster&#39;s pulsating rod into your mouth suck it eagerly. Your soul barely clings to you as you completely give yourself away to your new mate.

You feel the &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;&#39;s orgasm coming; you tense your jaws and hold on like your life depended on it.

&quot;GRAAHHHHH!&quot; The monster howls madly as thick loads of corrupting seed fills your very being.

Your body bulges larger and larger, wider and wider still - more muscular and corrupted until the last of your memories fade into a pool of oily black.

Your soul breaks under the insatiable arousal. Now no longer compatible with your body, it bursts out of you and drifts upwards.

\&lt;&lt;run setup.choice(&quot;[[This body has moved on...-&gt;Death]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="545" name="Encounter_Start_Lost_Entity" tags="" position="600,6850" size="100,100">His &lt;&lt;charLimbDesc $CharacterSheet_Lost_Entity &#39;cocks&#39; &#39;rises~rise&#39;&gt;&gt; to a full &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Lost_Entity, &quot;cock&quot;))&gt;&gt; as he sees you. It throbs with hunger.

&quot;More...&quot; It mumbles between groans.</tw-passagedata><tw-passagedata pid="546" name="Encounter_Win_Lost_Entity" tags="" position="725,6850" size="100,100">The corrupted &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; is overwhelmed by your strength. Yet, his need to spread has consumed all reason within him long ago.

While clutching his wounds, he charges at you.

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;lostWin1&quot;, 1, $CharacterSheet_Lost_Entity)&gt;&gt;

The &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; does not try to get back up; laying himself bare. He finally sees that dominating you would be impossible.

He ruts against your flesh. Although wounded, his arousal still had to be sated. Lustful whines reach your ears as he spreads his legs and exposes his ass to you, desperately craving your attention.

\&lt;&lt;set $CharacterSheet_Lost_Entity.quest.beatenOnce = true&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Encounter_Win_Lost_Entity_Fuck]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Encounter_Lost_Leave_NoSex]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="547" name="Encounter_Intro_Lost_Entity" tags="" position="850,6850" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Entity.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Entity.quest.met = true&gt;&gt;
\&lt;&lt;run $CharacterSheet_Lost_Entity.info.muscles = 30&gt;&gt;
\&lt;&lt;run $CharacterSheet_Lost_Entity.info.height = 90&gt;&gt;
\&lt;&lt;run $CharacterSheet_Lost_Entity.info.cock = 23&gt;&gt;
\&lt;&lt;run $CharacterSheet_Lost_Entity.info.balls = 8&gt;&gt;
\&lt;&lt;run $CharacterSheet_Lost_Entity.info.name = &quot;The Lost &quot; + setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;
\&lt;&lt;run $Encounter_Target=$CharacterSheet_Lost_Entity&gt;&gt;
After an hour of travel in the harsh deserts of the Barrens, you hear a strange sound. It sounds like a fusion between a deep moan and a terrifying growl.

You recognize it as the unsettling call of the Lost. Monsters whose souls have rotten under countless days of debauchery.

The corrupted &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; roars as it catches your scent. Soon, a shambling monstrosity appears from the apex of a nearby dune. \
Black oil drips off of its body, the corrupt colour shimmering upon &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Lost_Entity, &#39;heads&#39;, {article:true})&gt;&gt;. \
A &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Lost_Entity, &#39;tongues&#39;, {num:1})&gt;&gt; hungrily rolls from his mouth as his &lt;&lt;charLimbDesc $CharacterSheet_Lost_Entity &#39;eyes&#39;&gt;&gt; fixate on you.

\&lt;&lt;if $CharacterSheet_Lost_Entity.quest.beatenOnce&gt;&gt;
Its massive muscular form looks even larger than the last Lost you had encountered.
Your cock grows hard at the thought of enaging with this one, too.
\&lt;&lt;else&gt;&gt;
\You&#39;ve never seen muscles as bloated as this.
\&lt;&lt;/if&gt;&gt;

His body pulses and writhes with more and more size, as if every breath he takes expands his frame larger and more monstrous with no end in sight.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Lost_Entity)&gt;&gt;</tw-passagedata><tw-passagedata pid="548" name="Encounter_Lost_Leave_NoSex" tags="" position="975,6850" size="100,100">You leave the Lost &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; to his own devices. His hand travels to his cock to satiate his own unending needs.

Who knows what could have happened if you had to give in to your desire.

Regardless, the entire ordeal has left you in an uncomfortably aroused state.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="549" name="LeavePurified" tags="" position="1100,6850" size="100,100">You assure him that you are fine as you get back onto your feet. After a few minutes of elaborate gestures of thanks, you part ways.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="550" name="Recruit" tags="" position="1225,6850" size="100,100">You smile at him. $CharacterSheet_Player.symbiote.info.name recedes inwards as you return to your normal form.

((To be implemented at a later stage!))

\&lt;&lt;run setup.choice(&quot;[[Invite him to the Golden Bastion-&gt;Recruit]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="551" name="Encounter_Win_Lost_Entity_Absorb" tags="" position="100,6975" size="100,100">The &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;&#39;s corrupting essence has made you grow, but this was not nearly enough! Your need for power is now too severe for just a taste. You need more.

You bring your fingers to your mouth and taste remnants of the &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;&#39;s black seed. Its intense flavour makes you shiver.

Thick $CharacterSheet_Player.symbiote.info.colour goo slowly oozes out from your pores. A puff of steam escapes your slavering maw.

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;lostKiss&quot;, 1, $CharacterSheet_Lost_Entity)&gt;&gt;

&quot;We&#39;ll be unstoppable...&quot; you growl, two distinct pitches colouring your voice.

\&lt;&lt;run setup.choice(&quot;[[Merge with the black goo-&gt;Encounter_Win_Lost_Entity_Absorb_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="552" name="Encounter_Win_Lost_Entity_Absorb_2" tags="" position="225,6975" size="100,100">The air is thick with debauchery. You could feel the embers of lust, the scent of sex overpowering all else. All testaments to your superiority as a host.

The &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;&#39;s chest heaves upwards as the black ooze seems to shiver across his form. It senses the power contained within you.

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mergeLost1&quot;, 1, $CharacterSheet_Lost_Entity)&gt;&gt;

The &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; gradually turns from an oily black to a soft &lt;&lt;print setup.getRandomColor()&gt;&gt;.

It only takes a few seconds for the last flickers of corruption to seep into the ground beneath the &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;. His previously hulking form deflates.
Once standing at &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Lost_Entity, &quot;height&quot;))&gt;&gt; has now reduced to a far less egregious state of &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Lost_Entity, &quot;height&quot;) - 14)&gt;&gt;.
His form is now back to his old thin powerless self - now free of the corruption that had plagued him for countless days.

He coughs and splutters as black ooze pools out of his mouth. With disgust, you see him snarl at the droplets that seep into the ground before he collapses, exhausted. Holding his stomach, he rolls over to gaze into your eyes. A sudden wretch catches him off guard as remnants of your cum forcefully expels itself from his stomach. &quot;Who and what are you!?&quot;

\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= 75&gt;&gt;
How dare he adress you in such a pathetic form! Your growl hungrily, you desire a mate, a mate that can satisfy your unquenchable desire, not some pathetic weakling!
\&lt;&lt;elseif setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= 50&gt;&gt;
The euphoria of the corruption brings you to your knees.

You register that the uncorrupted &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; has rushed up to you, but you struggle to comprehend his words through the dark haze of lust that swirls within your mind. The corruption within you teases you with sparks of pleasure across your body.
\&lt;&lt;else&gt;&gt;
The euphoria of the corruption brings you to your knees. It&#39;s difficult to resist the call. It feels like you could easily lose your senses if you weren&#39;t cautious around these creatures.

The freed &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; wobbles to his feet and hobbles toward you. &quot;H-hey! Don&#39;t you give in, you hear me!?&quot; he yells, &quot;You can&#39;t fall! You saved me!&quot;
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if (setup.Size.compare($CharacterSheet_Player, &#39;height&#39;) &gt;= setup.Size.Comparators.GIGA) and (setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= 75)&gt;&gt;
&lt;span class=&quot;glitch&quot; data-text=&quot;Recruit Him&quot;&gt;[[Recruit Him-&gt;Planetary69Ending]]&lt;/span&gt;
\&lt;&lt;elseif setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= 75&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Recruit Him-&gt;Encounter_Win_Lost_Entity_Corrupt]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;LeavePurified]]&quot;);&gt;&gt;
\&lt;&lt;elseif setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= 50&gt;&gt;
\&lt;&lt;if Math.floor(Math.random() * 2) == 1&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Recruit Him-&gt;Encounter_Win_Lost_Entity_Corrupt]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;span class=&quot;inactive&quot;&gt;[[Recruit Him-&gt;Recruit]]&lt;/span&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;LeavePurified]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;span class = &quot;inactive&quot;&gt;[[Recruit Him-&gt;Recruit]]&lt;/span&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;LeavePurified]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="553" name="Encounter_Win_Lost_Entity_Corrupt" tags="" position="350,6975" size="100,100">It&#39;s not enough! It can never be enough! You need the Lost, you need more of them! Lost to serve you and you alone! \

Responding to your corrupt will, your ever increasing stream of pre turns into a dark ebon shade. \
You grin maliciously as your grab your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; - you would make him yours! Yours and yours alone!&quot;

&quot;W-wait! What are you doing!?&quot; He yells as you frantically piston your hands along your length and grab the unsuspecting \
&lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; by the shoulder in a vice grip. &quot;Get off me!&quot; He weakly struggles, going as far as biting your arm to escape.

Futility.

Thoughts of turning him are driving you over the edge. \
Your movements became erratic as you feel the corruption manifest as a massive bubble at the base of your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;.


&quot;Take it! Take! It! All!&quot; you roar as the recently cured creature&#39;s panic stricken screams are muffled by a niagara of sticky black seed.

His struggling arms, scraping at your fingers, slowly turn into sensual carressing gestures. You feel his hands growing, bulking with power. You grin as your creation cackles with uncontrolled lust. The Lost &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt; flexes his growing muscles as he expands with every liter of cum you pour onto him.

&lt;&lt;set _char = $CharacterSheet_Lost_Entity&gt;&gt;
Soon, he stands slightly taller than you with muscles that barely allow him any movement. They quake and groan with every desire driven shudder that takes him. \
His &lt;&lt;charLimbDesc _char &#39;cocks&#39;&gt;&gt;have grown so massive that they drag across the ground, constantly spurting puddle sized globules of black pre. The odour is warm within your nostrils, a pleasant but strong salty musk. \
He can barely contain himself! His eyes lock onto yours with pure adoration as he rocks his incredible form across his package.

&quot;Yes! Fuck! YES!&quot; He howls as he orgasms over you, his flood colliding with your own in a glorious fountain of obsidian spunk.

You push against the powerful stream as it hoses you down. With passion stirring your loins, you lock your mouth with your beloved and insert yourself into him once again, \
relishing in the massaging pressure of the Lost&#39;s ejaculate powering into the underside of your chin. \
His &lt;&lt;charLimbDesc _char &#39;tongues&#39; &#39;jets~jet&#39;&gt;&gt; into your mouth and dances along yours in an untameable samba of passion, \
growing longer and more intrusive as his orgasm continues between your bodies.

You lose yourselves into a deep mating session that lasts for hours; his form growing ever more monstrous with each successive fuck.

\&lt;&lt;run setup.choice(&quot;[[Hours Later-&gt;Encounter_Lost_Entity_Swarm_creation]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="554" name="Encounter_Lost_Entity_Swarm_creation" tags="" position="475,6975" size="100,100">\&lt;&lt;if $CharacterSheet_Swarm.quest.firstSwarm&gt;&gt;
\&lt;&lt;run $CharacterSheet_Lost_Harbinger.info.anatomy = $CharacterSheet_Lost_Entity.info.anatomy&gt;&gt;
\&lt;&lt;run setup.setBaseStatValue($CharacterSheet_Lost_Harbinger, &quot;corruption&quot;, setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;))&gt;&gt;
\&lt;&lt;run setup.setBaseStatValue($CharacterSheet_Lost_Harbinger, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
\&lt;&lt;run setup.setBaseStatValue($CharacterSheet_Lost_Harbinger, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt;
\&lt;&lt;run setup.setBaseStatValue($CharacterSheet_Lost_Harbinger, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt;
You feel an unnaturally close bond between you and the Lost. He was your first and to him, you are his one and only true mate. He lives for you, breaths for you and exists for only you. While lying on each other&#39;s chest he gently runs a hand down your pecs and softly kisses your cheek. Reluctantly, you drag yourself away from his roving hands.

He wines, &quot;Don&#39;t go!&quot;

With a firm hand, you stroke the back of his head and kiss his forehead. &quot;I have to. I have things to do, and so do you.&quot; \
His mood immediately turns to excitement and his &lt;&lt;charLimbDesc $CharacterSheet_Lost_Harbinger &#39;cocks&#39; &#39;hardens~harden&#39;&gt;&gt; from between his legs.

&quot;I want you to be the herald of my reign over these lands,&quot; you command, &quot;You will fuck, spread and grow larger for me.&quot;

&quot;Yes!&quot; he moans, &quot;I&#39;ll do anything for you!&quot; His excitement is too much to handle as he begins to leak rivulets of pre.

Although glorious in form, your lover needs to be set apart from the masses. A name, to mark him as the leader of your new family of Lost.

You think &lt;&lt;textbox &quot;$CharacterSheet_Lost_Harbinger.quest.harbingerName&quot; &quot;Typhon&quot;&gt;&gt; would fit him well.
&lt;&lt;run $CharacterSheet_Lost_Harbinger.quest.harbingerRace = setup.RacePool[setup.getRaceName($CharacterSheet_Lost_Entity).toUpperCase()]&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Christen him-&gt;Encounter_Lost_Entity_Swarm_Harbinger]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
Another monster birthed from your loins, another empassioned lover to join your swarm.

You tell your new slave to go and find $CharacterSheet_Lost_Harbinger.quest.harbingerName and join him on his conquest in your name.

A smile curls your lips upwards. You are sure your growing family would eagerly welcome their new addition.

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="555" name="Encounter_Lost_Entity_Swarm_Harbinger" tags="" position="600,6975" size="100,100">You smile, &quot;Now go forth in my name, $CharacterSheet_Lost_Harbinger.quest.harbingerName !&quot;

His jaw drops in awe and his eyes widen as you give him a name. Hearing you say it is too much for him to handle. Running up to you, he smothers you in a musclebound hug. His shafts harden below you and knock against your legs.

After locking lips one more time, he turns to face the open sands and bellows out a primordial roar of raw ferocity and strength - the likes of which you have never seen before.

He was a king of monsters. Your monster.

You smile as you watch $CharacterSheet_Lost_Harbinger.quest.harbingerName hurtle into the Barrens. You are sure you will see him again, soon.

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village][$CharacterSheet_Swarm.quest.firstSwarm = false;]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="556" name="Encounter_Win_Lost_Entity_Fuck" tags="" position="725,6975" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;lostFuck1&quot;, 1, $CharacterSheet_Lost_Entity)&gt;&gt;

\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 1)&gt;&gt;
&lt;&lt;print setup.getMuscleGrowthSequenceText($CharacterSheet_Player)&gt;&gt;.

\&lt;&lt;run setup.choice(&quot;[[Embrace the corruption-&gt;Encounter_Win_Lost_Entity_Fuck_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="557" name="Encounter_Win_Lost_Entity_Fuck_2" tags="" position="850,6975" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;lostFuck2&quot;, 1, $CharacterSheet_Lost_Entity)&gt;&gt;

Suddenly, you feel depravity sink into your soul as the corruption&#39;s claws dig further into you.
\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 2)&gt;&gt;
&lt;&lt;print setup.getMuscleGrowthSequenceText($CharacterSheet_Player)&gt;&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 5)&gt;&gt;
Your soul has been corrupted (+5)

\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= 25&gt;&gt;
Your surroundings are utterly drenched in a mixture of your and the Lost &lt;&lt;print setup.getRaceName($CharacterSheet_Lost_Entity)&gt;&gt;&#39;s cum. Yet you still crave more.

\&lt;&lt;run setup.choice(&quot;[[Push it even further-&gt;Encounter_Win_Lost_Entity_Absorb]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Encounter_Lost_Leave_NoSex]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
His corrupting seed is gnawing at your mind; you are sane enough to leave before you lose yourself to its influence.

For now.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Encounter_Lost_Leave_NoSex]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="558" name="Quest_MQ002_ApothusEncounter_FightStart" tags="" position="975,6975" size="100,100"></tw-passagedata><tw-passagedata pid="559" name="Quest_MQ002_ApothusEncounter_FightIntro" tags="" position="1100,6975" size="100,100">&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Apothus)&gt;&gt;</tw-passagedata><tw-passagedata pid="560" name="Quest_MQ002_ApothusEncounter_PlayerWins" tags="" position="1225,6975" size="100,100">Apothus clenches his chest and falls to one knee; he pants, his once alluring smile turning ferocious.

&quot;What are you? What is this thing inside of you?&quot; His hands curl into fists as he gazes at the Black Sun once more, with anguish in his eyes.

&quot;You&#39;re nothing but a stain upon our canvas.&quot; He can&#39;t stand to look at you anymore; his eyes remain fixated on Nyx.

&quot;I can&#39;t let you come any closer to our chosen one... Please Nyx...&quot; His gaze lowers to the Lost surrounding you. They look back at him with agitation.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusEncounter_PlayerWins_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="561" name="Quest_MQ002_ApothusEncounter_PlayerWins_1" tags="" position="100,7100" size="100,100">&quot;Grant me the strength to protect him, so you can finally have the vessel you deserve!&quot; He screams, his arms widened as if to embrace Nyx itself.

A Lost jumps towards him, his head pushes on Apothus&#39;s chest. Black goo splashes all over his body quickly crawling and swirling around it.
His tattoo glows bright purple as he grins madly.

&quot;Ohhhhh Gods yesss... Come to me...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusEncounter_PlayerWins_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="562" name="Quest_MQ002_ApothusEncounter_PlayerWins_1_2" tags="" position="225,7100" size="100,100">Corruption fuels him with the power he denied himself for so long.
The Lost lunges into his chest, giving himself away to his master.

&quot;Urgghhhhh...&quot; he groans, trying to keep himself together as his body expands.
The fibers of his pectorals bulge as they fill with god-like strength.
Another one charges onto him, his meaty paws hugging him from behind, pulling himself into his back.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusEncounter_PlayerWins_1_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="563" name="Quest_MQ002_ApothusEncounter_PlayerWins_1_3" tags="" position="350,7100" size="100,100">&quot;G-Guhhhh... So goooood...&quot; his distorting voice moans as more and more Lost joins them.

&quot;Aaaaa... RAAAAAAAAHH!&quot; his moans warp into bestial roars. He presents his cock to his Lost.
They worship it, caressing every inch before entering it as well.

&quot;Mooooooore. MOOOOOOOOOOORE!&quot; his body burst through the pile of gathering Lost. Apothus pulls his head back into a monstrous roar.
Massive bullish horns emerge from each side of his head. His jaw changes, enormous tusks juts from his mouth into lethally sharp points.
His clawed hands hold his head in a desperate attempt to control the corruption rushing within him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusEncounter_PlayerWins_1_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="564" name="Quest_MQ002_ApothusEncounter_PlayerWins_1_4" tags="" position="475,7100" size="100,100">&quot;I-I need... Urghhhh... Mooooore... MORE POWER!&quot;

Massive tendrils burst from his back, they lash out, pulling nearby Lost and pulling them to their master&#39;s expanding form.
He grasps more and more Lost, forcing them to merge with him. His monstrous laughter resounds throughout the realm as his eyes turn jet black like tar.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusEncounter_PlayerWins_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="565" name="Quest_MQ002_ApothusEncounter_PlayerWins_2" tags="" position="600,7100" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

His eyes flick to you, utterly devoid of his previous resolve. Only desire drives him.

\&lt;&lt;set $WorldState.apothusTransformed = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Apothus_2nd_Form]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="566" name="Quest_MQ002_ApothusEncounter_PlayerLoses" tags="" position="725,7100" size="100,100">You fall, the surrounding Lost watch with excitement upon seeing you in a weakened state.
Apothus raises his hand to them; they immediately stop.

&quot;Seems that you are not ready for what I can offer you.&quot; He says in a disappointed tone.

&quot;We are stuck in a neverending cycle of lust and greed. It will only tear us apart until we all lay on the sand with our bodies and mind broken. Nyx is out only way out of this cycle, for its light shows the world differently.&quot;

He steps towards you, his palm inching towards the back of your head.

&quot;You are free to come back once you&#39;re ready. For Nyx&#39;s light will never leave a soul behind.&quot;

He strikes you down.

\&lt;&lt;run setup.AbiHndlr.removeAbilityRuntimeData($CharacterSheet_Player, setup.Ability.EmbracedByNyxsLight);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[You Died-&gt;Death_NyxDungeon]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="567" name="Quest_MQ002_Apothus_2nd_Form_Encounter_FightStart" tags="" position="850,7100" size="100,100"></tw-passagedata><tw-passagedata pid="568" name="Quest_MQ002_Apothus_2nd_Form_Encounter_FightIntro" tags="" position="975,7100" size="100,100">&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Apothus_2nd_Form)&gt;&gt;</tw-passagedata><tw-passagedata pid="569" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses" tags="" position="1100,7100" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

That last hit proves too much for you. You fall to your side into a growing puddle of corruption. 
The thumping sounds of Apothus&#39;s feet grow ever closer, as do his distorted moans. 

His body trembles with the approaching ecstasy of release, nerves close to frying from the corruption spreading in his veins. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="570" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_2" tags="" position="1225,7100" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

His mind is barren of anything other than the single desire to fill you with his seed.

Apothus looks at you with sudden restraint. Perhaps a remnant of his old self? It is hard to say, but that inhibition could be your one chance to escape.
His vortex shaped tattoo glows with a blinding purple light.

&quot;Join me...&quot; He mutters, his words drifting through distorted moans.

\&lt;&lt;run setup.choice(&quot;[[Escape-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Accept his Offer-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_01]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="571" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_01" tags="" position="100,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

His arousal is infectious; you feel the raw passion within his eyes. 
He&#39;s a monster, who&#39;s presence is sure to bring corruption and chaos to all wanderers of the Barrens. 

Yet here he is, inches away from you. 
You rub your body against him, letting lust build. Your eyes meet his - He grins.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_01_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="572" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_01_2" tags="" position="225,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
He presses his cock against yours; corruption enters you from the touch. You look at it with fascination. 
It pulses with a growing need and thickens in all directions. 

Your hand grasps his oily shaft feeling its unnatural vitality. 
It is so full, so juicy and plentiful, and yet it throbs harder than any shaft you&#39;ve felt. 

&quot;Miiiiiiine...&quot; he growls, grasping his dick and bringing it to your mouth.

\&lt;&lt;run setup.choice(&quot;[[Suck Him-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_02]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="573" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_02" tags="" position="350,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
Your cock rises to full hardness as you taste his corrupted seed. The sound of your muffled moans pleases him. 
He thrust it deep in your throat, his groans making you shiver with lust. His clawed feet dig deep in the ground, generating fissures in the ancient cobblestones.

You feel his breathing grow heavier; his whole body shakes with uncontrollable desire.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_02_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="574" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_02_2" tags="" position="475,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

&quot;MIIIINE!&quot; He roars, pulling his cock out of your throat to turn you around.

His cock pushes on your entrance; you moan in response. Apothus&#39;s body quivers, a monolithic figure of unstoppable power. 
His growth is unimpeded, a constant fuel to his irresistible might. You scream for him to finally fuck you. He roars and forces himself in, dropping all pretense of humanity.

\&lt;&lt;run setup.choice(&quot;[[Give in to his Corruption-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_03]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="575" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_03" tags="" position="600,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
Tendrils of corruption slowly crawl upon your legs, pulling you closer to him. 

Some more slide along your waist, inching towards your cock. 
They spread along your skin, covering you more and more with Apothus&#39;s potent blend of corruption. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_03_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="576" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_03_2" tags="" position="725,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
It is more than arousing; your breathing suddenly becomes faster as it rushes inside you. You grow, pushing against Apothus&#39;s grasp as his powers fill your body. 
You thrust yourself on him, force more of his cock to fill you, milking every single drop of his potent seed. 

Your tongue slides out of your mouth, getting longer and thicker with every thrust of your master&#39;s cock. 

Suddenly, you feel something reach out to Apothus, like a limb you never knew you had.

&quot;W-What... What is this?&quot; He says with disbelief. 

&lt;&lt;SymbioteName&gt;&gt; tastes the corruption as well; his moans are resounding deep within your soul. They reach out, the taste triggering a long-forgotten hunger. 
Thick &lt;&lt;SymbioteColor&gt;&gt; goo spreads out to him, entering him as well.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_04]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="577" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_04" tags="" position="850,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
&quot;HHMMMMMRRRFFFFFF! YESSSSSS!&quot; He screams, going the same life-changing orgasm you felt when you first came into contact with &lt;&lt;SymbioteName&gt;&gt;. 

His strength grows exponentially, every fibre of his corrupted self suddenly processing corruption more efficiently than ever. 
You feel connected to him, his whole body feeling closer and closer to your own.

&quot;This power... I-I NEED IT ALL!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_05]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="578" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_05" tags="" position="975,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

His hand grasps your chest and pulls you vigorously towards his body. You feel like you suddenly fell into a pool of warm honey. 
Your body fills with his Essence, though every inch of your being. 

Only your head pushes from his pecs, his long tongue slithers out and slides into your mouth, filling you with his warm, powerful presence. 
He milks you from every possible recess of sensitivity hidden upon your form. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_05_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="579" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_05_2" tags="" position="1100,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

You cum, screaming in complete and utter pleasure. Your body no longer holds any secrets from him.

Yet you yearn for more. You need to have this beast fuck you over and over until he grows bigger than all that is. 
&lt;&lt;SymbioteName&gt;&gt; feels your need, your dream for forbidden pleasure haunts him. 
Your own body slowly unites with your master, your thoughts growing closer in tone.

&quot;Yesssss... Together...&quot; Apothus groans within your head.

\&lt;&lt;run setup.choice(&quot;[[Merge with Apothus-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_06]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="580" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_06" tags="" position="1225,7225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

Your corrupted minds merge into a monster that nothing in the Barrens can stop. Your hunger for power is insatiable. Your need for pleasure is neverending. 
You dream of reaching the penultimate pleasure that flesh can produce. To grow into the ultimate beast who holds the world in his hands. 

You leave the chosen one, for your cock demands a hole to fuck. 

\&lt;&lt;run setup.choice(&quot;[[Time Passes-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_07]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="581" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerLoses_07" tags="" position="100,7350" size="100,100">You wander the Barrens, your body growing day after day as you spread corruption unlike anything else. You soon tower over every other being. 
Monsters worship you as their god, as the fiend who rules over everything. Others can only run and hide from you, but soon the even the soil bends to your corruption. 
The sand grows black and oily; plants warp under your taint and spread your influence even further. 

Days go on as you revel under constant debauchery, your worshippers grow in number every day. You never stop expanding, bigger and bigger, with no signs of stopping.  
And every few minutes, countless monsters roar in delight as the earth fills with another load of your tainted seed.

But soon, your need for more grows ever more powerful; your thoughts go back to Nyx. 

It is only a matter of time before you can reach it yourself.

\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfApothus&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[The End-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="582" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins" tags="" position="225,7350" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
Apothus slumps, his wounds are gushing out corruption across the ruins. He recoils back up, shaking his head wildly as he pants with exhaustion.

&quot;It&#39;s still not enough! I NEED MOOOOORE!&quot; He looks around in a panic, desperately searching for more Lost to absorb, but the ruins are empty of them. 
Only the two of you remain.

Purple fumes gush out of his nostrils; he roars in denial. He turns towards the cocoon. 
It was all he had left, his chosen one, his way out of this neverending cycle of lust and greed.

But his chosen had power... power he could take for himself. Then no one could stop him. 

He would become the god this world desperately needs.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="583" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_2" tags="" position="350,7350" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

&quot;MOOOOOOORE!&quot;

He turns to the cocoon and charges towards it like a starving animal. Corruption drives his every move. 

He drools as he reaches the black chamber, his hand immediately push through its surface as he laughs. 

His grin stretches his face with monstrous fangs gleaming with ferocious madness. His gooey hands push through the surface, his tendrils soon follow. 
They bulge obscenely as pure Essence flows into him. His back burst with sudden size, strength piling into his every limb.

&quot;Mrrrhhhhfffffff YES!!!!&quot; He roars in victory.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="584" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_2_2" tags="" position="475,7350" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

Litres of pure, unadulterated power rushes in every fibre of his body. The ground groans and tears under his weight. 
His roar sinks into a deep, distorted moan as spurts of black cum shoot upon the cocoon&#39;s surface. 
He pulls himself closer to it; tons upon tons of muscles booms out of him. 

&quot;MMMMrrrrrhahaaaaaaaaaaa... Watch me turn into a GOD!&quot; 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="585" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_3" tags="" position="600,7350" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

His body shoots upwards, higher than the cocoon he is absorbing. He lifts himself, feeling the growth forcing through the rest of his body. 
His pecs and abs swell, ballooning out as they clench into god-like mounds - no doubt capable of crushing mountains. 
His arms flex of their own volition, overwhelmed by the rushing, all-consuming growth flooding his senses. 

Apothus&#39;s moans turn into muffled deep gurgles as his balls pump out gallons upon gallons of corrupted seed upon the ruins. 
He basks in the orgasmic of growing his ever more massive.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_3_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="586" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_3_2" tags="" position="725,7350" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

His hands reach out towards Nyx; his ascension is so close to completion.

So close!

Apothus roars in victory, his hands reaching ever closer to the Black Sun. His need for growth takes over his soul.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="587" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_4" tags="" position="850,7350" size="100,100">With a blinding lighting strike, you witness the black sun absorb into him.
His seed shoots out and rains down upon everything as his eyes burst in purple flames.
You struggle to stay up as he exponentially shoots upward, roaring and cumming with no end in sight.

His tail thrashes against the ground with a crashing boom, shattering the platform you stand on.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="588" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_5" tags="" position="975,7350" size="100,100">&quot;EVERTHING IS MINE TO CORRUPT!!!&quot; 

He hovers above everything, a massive purple aura warping reality around him.
The very air shudders, ripples, and bends under the sheer weight of his presence. The clouds part, the sun hides away, and the sky turns black and purple.

He is the embodiment of power, a being of pure destruction.

Suddenly, he looks down upon you, and raises his hand.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="589" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_6" tags="" position="1100,7350" size="100,100">“YOU ARE NOT WELCOME INTO MY NEW WORLD, PEST.”

You try to speak, but your voice is lost. You try to move, but your body will not obey.

&quot;BEGONE!&quot; 

[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions]]</tw-passagedata><tw-passagedata pid="590" name="Encounter_Intro_Doppleganger" tags="" position="1225,7350" size="100,100"></tw-passagedata><tw-passagedata pid="591" name="Encounter_Start_Doppleganger" tags="" position="100,7475" size="100,100"></tw-passagedata><tw-passagedata pid="592" name="Doppleganger_Intro_Corrupted" tags="" position="225,7475" size="100,100">Your reflection in the mirror is like seeing your deepest fears and darkest fantasies made flesh.
Massive muscles spread across his enormous frame, rippling and flexing with even the tiniest movements.
Thick iron chains hung from manacles and a collar around his ankles, wrists, and neck respectively.

The ends of each chain warped and broken as if he has been restrained only to have torn himself free over and over.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Intro_Corrupted_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="593" name="Doppleganger_Intro_Corrupted_2" tags="" position="350,7475" size="100,100">His lips spread wide, showing off unnaturally sharp teeth dripping with saliva that give him a monstrous appearance.
His &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;, {verb:[&#39;throbs&#39;,&#39;throb&#39;]})&gt;&gt; with shameless, blatant desire as it juttes out obscenely from his hips.

A seemingly endless stream of pre dribbles from his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt; and pools in an ever-deepening puddle.

“Weak. Insignificant. Pathetic.”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Intro_Corrupted_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="594" name="Doppleganger_Intro_Corrupted_3" tags="" position="475,7475" size="100,100">You jumped back several steps out of reflex at the sound of the unexpected words. Unexpected, but not unfamiliar.

Despite speaking in a much deeper tone, his voice is absolutely, unmistakably your own.
With widening eyes, you watch as the massive reflection reaches out and grabs the edges of the mirror.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Intro_Corrupted_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="595" name="Doppleganger_Intro_Corrupted_4" tags="" position="600,7475" size="100,100">Your doppelganger pulls himself through as if the mirror were a pane of perfectly still water.

He bends down slightly, his lips twisted into a manic, lustful grin and his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt; visibly throbbing in approval.
The beast starts to reach towards you, illicit intent clear in their expression, you steel yourself to fight.

You&#39;ve come too far give in now.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Doppleganger)&gt;&gt;</tw-passagedata><tw-passagedata pid="596" name="Doppleganger_Intro_Pure" tags="" position="725,7475" size="100,100">The reflection shows you how you used to be, before you let the corruption run so deep through you.
Yet, at the same time, it looks subtly different.

Slightly older, more self-confident, and experienced beyond simple physical power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Intro_Pure_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="597" name="Doppleganger_Intro_Pure_2" tags="" position="850,7475" size="100,100">It radiates an aura of strength and determination that makes you feel an involuntary pang of shame his gaze stares back into your own.
He feels like who you might have become if you had continued your journey without embracing Corruption.

“Tainted. Corrupted. Impure.”

The words make you twitch involuntarily.
They are in your own voice, yet devoid of the primal growling undertone that your corrupted body new exhudes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Intro_Pure_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="598" name="Doppleganger_Intro_Pure_3" tags="" position="975,7475" size="100,100">Before you have a chance to react further, the untainted reflection reaches out and grabs the edges of the mirror.
He pulls himself through as if the mirror were a pane of perfectly still water.

Your doppelganger bends down slightly into a fighting stance before leaping at you, face full of righteous indignation.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Doppleganger)&gt;&gt;</tw-passagedata><tw-passagedata pid="599" name="Encounter_Loss_Doppleganger" tags="" position="1100,7475" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Doppleganger.postFightPassagesLoss)&gt;&gt;</tw-passagedata><tw-passagedata pid="600" name="Doppleganger_Loss_Pure" tags="" position="1225,7475" size="100,100">The room shakes as you fall to your reflection&#39;s final attack.
You try to recover enough to move, but you are too exhausted to even force yourself to get up.

Your doppleganger walks until he stands near your beaten body, looming above you victoriously.

&quot;Corruption didn&#39;t make you strong enough it seems.&quot;

You rise your head to see him in a wide, self-satisfied grin.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Doppleganger_Loss_Pure_Leave]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Submit-&gt;Doppleganger_Loss_Pure_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="601" name="Doppleganger_Loss_Pure_Leave" tags="" position="100,7600" size="100,100">For an instant, you worried he was going to try to finish you off.
You crawl back and manage to rush to the exit without him even trying to chase you.

His stupid, self-righteous grin stays stuck in your mind the whole time.

&quot;At least there&#39;s something you&#39;re good for.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="602" name="Doppleganger_Loss_Pure_2" tags="" position="225,7600" size="100,100">Powerful thighs press against both side of your head as the doppelganger kneels down.
His hips push forward as he shamelessly shoves his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &#39;cocks&#39;)&gt;&gt; right against your face.

His &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &#39;cocks&#39;, {verb:[&#39;swells&#39;, &#39;swell&#39;]})&gt;&gt; as his triumph morphs into arousal.

&quot;Hmmmm, get right in there.&quot;

\&lt;&lt;run setup.choice(&quot;[[Suck him off-&gt;Doppleganger_Loss_Pure_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="603" name="Doppleganger_Loss_Pure_3" tags="" position="350,7600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You slide your tongue along the underside of his shaft as it breaks the seal of your lips.
Slowly you pull your head back to slide your lips down a few inches of his shaft. You arch forward again and once more bury it&#39;s entire length in your mouth.

&quot;Good boy...&quot;

\&lt;&lt;run setup.choice(&quot;[[Suck harder-&gt;Doppleganger_Loss_Pure_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="604" name="Doppleganger_Loss_Pure_4" tags="" position="475,7600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Your doppelganger smiles down at you in response to your obedience.

He lets you go at your own pace, giving you plenty of time to slide your tongue up and down his length for the first couple of minutes.
Eventually, though, your copy decides to take things into his own hands.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Loss_Pure_4_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="605" name="Doppleganger_Loss_Pure_4_2" tags="" position="600,7600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;

&quot;Gonna show you how a warrior does it.&quot;

Your doppelganger abruptly shoves his hips forward, forcing every inch of himself into you.
His balls loudly slap against your jaw.

\&lt;&lt;run setup.choice(&quot;[[Try to keep up-&gt;Doppleganger_Loss_Pure_4_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="606" name="Doppleganger_Loss_Pure_4_3" tags="" position="725,7600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;

Leaning back, he shifts position until he is half crouching and half down on his knees. His thighs straddle your face.
Firm, powerful thigh muscles clench around the sides of your head until he is finally satisfied with his grip on you.

He starts to truly face fuck you.

&quot;Yessssss... YESSSSSSS!&quot;

There is no hesitation, no care to ensure he doesn&#39;t thrust too hard or too deep.
He pounds his hips over and over against your face.

\&lt;&lt;run setup.choice(&quot;[[Let him take you-&gt;Doppleganger_Loss_Pure_4_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="607" name="Doppleganger_Loss_Pure_4_4" tags="" position="850,7600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;], 4)&gt;&gt;
At this point you aren&#39;t sucking his cock anymore.

You are his toy.

&quot;FUCK YESSSSS!&quot;

With a deep thrust, he finally reaches his peak.
Rope after rope of thick cum sprays from his cock and fills your mouth.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Doppleganger_Loss_Pure_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="608" name="Doppleganger_Loss_Pure_5" tags="" position="975,7600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
It comes in such unexpected quantities that you are forced to swallow, lest your mouth overflow with his thick load.

This finally pushes you to the brink.

The orgasm is intense and explosive, like a volcano erupting.
It feels like every nerve in your body is electrified and alive, and the pleasure is so intense that it&#39;s almost unbearable.

\&lt;&lt;run setup.choice(&quot;[[Keep cuming-&gt;Doppleganger_Loss_Pure_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="609" name="Doppleganger_Loss_Pure_6" tags="" position="1100,7600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You hear yourself moaning and crying out as you cum over and over.

A cloud of ecstasy rushes over you, with each of your muscles quivering with pleasure.

Your eyes glaze over as you bask in the afterglow of your own release.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Loss_Pure_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="610" name="Doppleganger_Loss_Pure_7" tags="" position="1225,7600" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Doppleganger&quot;])&gt;&gt;
You barely even pay attention to your surroundings until you notice that you are suddenly alone.

When you turn to look where the doppelganger was, all you see is a puddle of cum.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="611" name="Doppleganger_Loss_Corrupted" tags="" position="100,7725" size="100,100">Massive, &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &#39;arms&#39;)&gt;&gt; grip your arms and lift you off the ground, bring you to your beastly doppelganger&#39;s wickedly grinning face.

You are too exhausted to do much more than shoot him a glare.

It only seem to excite him.

\&lt;&lt;run setup.choice(&quot;[[Submit-&gt;Doppleganger_Loss_Corrupted_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Escape-&gt;Doppleganger_Loss_Corrupted_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="612" name="Doppleganger_Loss_Corrupted_Leave" tags="" position="225,7725" size="100,100">With a sudden burst of newfound vitality, you push his hands away and rush for the way out.

He does not give chase, but gives out a deep, demonic laugh as you escape.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="613" name="Doppleganger_Loss_Corrupted_2" tags="" position="350,7725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
The room shakes as he drops back onto his ass.
Already, you feel his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt; pressing up against your back as it juts obscenely from his crotch.

Thick, steady globs of pre ooze out of his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt;.
Your back grows wet with the musky liquid.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;GROW CORRUPT FUCK&quot;&gt;&quot;You want this...&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Loss_Corrupted_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="614" name="Doppleganger_Loss_Corrupted_3" tags="" position="475,7725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
As he settles himself comfortably onto his back, the beastly doppelganger beast shifts, his softenning as he stares into your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;eyes&quot;)&gt;&gt;.
His massive hands hold you steady with merciless ferocity.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;Give in...&quot;&lt;/span&gt;

Slowly he raises you up, letting you feel every inch of his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt; dragging itself across your back.
Only when you were finally above the tip of his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt; and feel the tip bump up against your ass.

\&lt;&lt;run setup.choice(&quot;[[Take him-&gt;Doppleganger_Loss_Corrupted_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="615" name="Doppleganger_Loss_Corrupted_4" tags="" position="600,7725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
He&#39;s just so big, it feels like you are being split apart.
He keeps tugging you down and forcing himself in deeper until you feel an obscene bulge of his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt; in your stomach.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;You need this power.&quot;&lt;/span&gt;

The doppleganger fondles one of his own &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;pecs&quot;)&gt;&gt; as the other continues to stroke you up and down his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt;.
Like little more than a living fleshlight, you are used by the beast bearing your own face.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;HMMMMMM... Yesssss...&quot;&lt;/span&gt;

Your own &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;, {verb:[&#39;throbs&#39;,&#39;throb&#39;]})&gt;&gt; with its own desperate desires.

\&lt;&lt;run setup.choice(&quot;[[Take him deeper-&gt;Doppleganger_Loss_Corrupted_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="616" name="Doppleganger_Loss_Corrupted_5" tags="" position="725,7725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You cum over and over without realizing it, your loads painting the room as the beast finally builds up to his own release.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;YOU NEED MORREEEEEEE!&quot;&lt;/span&gt;

His loads feel like to a volcano erupting. Your stomach visibly distendes outwards like something had punched it from the inside with the first spurt spurt.
The second shot hit with even more force, feeling like it is trying to blast straight through your stomach.

Then came a third, a fourth, a fifth.

It&#39;s a hot, sweaty, messy climax that leaves you exhausted.
Your eyes roll up in the back of your own &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;heads&quot;)&gt;&gt; as pleasure and mind-numbingly orgasms overwhelms you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Loss_Corrupted_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="617" name="Doppleganger_Loss_Corrupted_6" tags="" position="850,7725" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Doppleganger&quot;])&gt;&gt;
You finally come to a few hours later.

The room is filled with the thick, musky scent of sex. It&#39;s everywhere, coating the walls and the very air you breathe.
It&#39;s a constant reminder that you became little more than a condom for a monstrous fuckbeast.

One that very much could have been you, if your expeditions went slightly differently.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="618" name="Encounter_Win_Doppleganger" tags="" position="975,7725" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Doppleganger.postFightPassagesWin)&gt;&gt;</tw-passagedata><tw-passagedata pid="619" name="Doppleganger_Win_Pure" tags="" position="1100,7725" size="100,100">With your final blow, your doppelganger falls to his knees.
The determination in his eyes dimms into a weak glimmer of impotent disapproval.

He is no longer a threat to you, physically or emotionally.

\&lt;&lt;run setup.choice(&quot;[[Look down on him-&gt;Doppleganger_Win_Pure_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="620" name="Doppleganger_Win_Pure_2" tags="" position="1225,7725" size="100,100">Some nugget of resistance that&#39;s burried within your subconscious is crumbling away.
A tiny piece of yourself that has continued to resist, that would refuse to embrace the corruption that has taken hold of you.

This part of you now lies to your feet.

&quot;Grrrr... This proves nothing, monster.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Pure_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="621" name="Doppleganger_Win_Pure_3" tags="" position="100,7850" size="100,100">You feel stronger, as if nothing could hold you back anymore.
A grin spread across your lips as you savor this fresh sense of complete acceptance.
Then your gaze turns to your beaten doppelganger still kneeling on the ground before you.

The doppleganger&#39;s &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;eyes&quot;)&gt;&gt; widen upon seeing your monstrous smile. His breathing go up in pace as he tries to hide his growing &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt;.

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_MirrorRoom&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Dominate him-&gt;Doppleganger_Win_Pure_Fuck]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;Doppleganger_Win_Pure_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="622" name="Doppleganger_Win_Pure_Fuck" tags="" position="225,7850" size="100,100">Without warning you pull his head in, stuffing his face right into your nuts, smothering him between your ball sack and the underside of your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt;.

You hold him there for well over a minute, keeping him pushed in nice and deep to ensure any breaths he takes would be laced in your powerful scent.
Even as he struggles, you feel his body shuddering in uncontrolled spasms of arousal.

&quot;Hmmmm... HMMMMMM!&quot;

Your overbearing masculinity overwhelms his senses.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Pure_Fuck_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="623" name="Doppleganger_Win_Pure_Fuck_3" tags="" position="350,7850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Your grin widens as you watch his &quot;holier than thou&quot; visage succumb to the same uncontrollable temptations of the flesh that you have.

You finally pull his head back to get a look, and you see his expression glaze over as your powerful musk short-circuits his thoughts.
Most satisfying at all, though, is seeing the raging erection below his waist.

&quot;How dare you... I won&#39;t give in.&quot;

\&lt;&lt;run setup.choice(&quot;[[Make him suck you off-&gt;Doppleganger_Win_Pure_Fuck_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="624" name="Doppleganger_Win_Pure_Fuck_4" tags="" position="475,7850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
His muffled grunt of surprise is drowned out by your own lustful growl as you shove your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; against his face.
It forces his lips apart and spears its way through his mouth. Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; bumps against the entrance to his throat.

&quot;HMMMMMM! Ggggaaaaahhhh...&quot;

The moist warmth of his mouth is so deliciously tight. You simply stand there for a moment without moving to savor the sensation. Then you start to thrust.

\&lt;&lt;run setup.choice(&quot;[[Face fuck him-&gt;Doppleganger_Win_Pure_Fuck_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="625" name="Doppleganger_Win_Pure_Fuck_5" tags="" position="600,7850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;

Over and over you piston Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; in and out of his mouth like a jackhammer.
There is no hope of him being able to take your entire length, it is simply too big.

Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;)&gt;&gt;&#39;s constant dribble of pre is more than enough to slicken his throat into the perfect fleshlight.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Pure_Fuck_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="626" name="Doppleganger_Win_Pure_Fuck_6" tags="" position="725,7850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
He kneels there to be used by you, occasionally letting out grunts or muffled gags.
Eventually, though, he simply couldn&#39;t resist the power of your masculine presence anymore.

&quot;HMMMMMMMMMM!&quot;

Lips and tongue squeeze and press against your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; in what little space he has to move around your girth.
With him fully giving in, it only takes you a few more seconds before you finally go over the edge.

Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;hands&quot;,{verb:[&#39;locks&#39;,&#39;lock&#39;]})&gt;&gt; its grip on the back of his head and his eyes go wide.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Doppleganger_Win_Pure_Fuck_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="627" name="Doppleganger_Win_Pure_Fuck_7" tags="" position="850,7850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
The first of your impressive cumshots slams into the back of his mouth and forces its way down his throat.

Over and over you unload enormous loads of your cum into him while he can do nothing but sit there and struggle to swallow it all.
With each spasm of your cock his gut visibly swells and expands larger.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Pure_Fuck_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="628" name="Doppleganger_Win_Pure_Fuck_8" tags="" position="975,7850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
By the time your overwhelming orgasm finally begins to slow down, he looks completely full.

You pull yourself free from him mouth, and he immediately collapses on the ground, gasping and coughing to try to replace the air he has been denied during your release.
His stomach sloshes visibly when he falls down.

&quot;Gods... I need more...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Pure_Fuck_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="629" name="Doppleganger_Win_Pure_Fuck_9" tags="" position="1100,7850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Doppleganger&quot;])&gt;&gt;
With your lusts satiated, at least a little bit, you have no more use for this lingering vestige of who you used to be.

Turning your back on them, you stride your way from the room without bothering to look back.

\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.Defiler);&gt;&gt;
∇: You gain the &quot;Defiler&quot; ability.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="630" name="Doppleganger_Win_Pure_Leave" tags="" position="1225,7850" size="100,100">You stride your way to the exit.

Behind you, the last lingering remnant of your humanity made manifest slowly dissolves into nothingness, no longer able to hold you back.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="631" name="Doppleganger_Win_Corrupted" tags="" position="100,7975" size="100,100">The room shakes as your corrupted doppelganger roars like a beast.
His enormous chest heaves like a pair of titanic bellows but he struggles to catch his breath.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;Guhhhhh... HOW?&quot;&lt;/span&gt;

The doppelganger slams his claws at the ground, fingers tearing deep gouges into the floor as he tries to push himself back upright.
It doesn&#39;t take long before his &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;arms&quot;)&gt;&gt; give out and he falls to the ground.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Corrupted_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="632" name="Doppleganger_Win_Corrupted_2" tags="" position="225,7975" size="100,100">Even in his weakened state, he his still intimidating.
His &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;, {verb:[&#39;is&#39;,&#39;are&#39;]})&gt;&gt; as thick as his own legs, dribbling a constant stream of pre on the floor.

You could see his wounds knitting closed. Injuries that should have taken days to heal weave back together at a speed visible to the naked eye.
At this rate the bestial version of you would be back on his feet within minutes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Corrupted_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="633" name="Doppleganger_Win_Corrupted_3" tags="" position="350,7975" size="100,100">It is probably a good idea to leave before he recovers.
On the other hand, your copy is still plagued by its neverending lust and desire.

You could take the opportunity to let this oversized monster feel what it&#39;s like to be on the bottom of the pile for once.

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_MirrorRoom&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave him-&gt;Doppleganger_Win_Corrupted_Leave]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Dominate him-&gt;Doppleganger_Win_Corrupted_Dominate]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="634" name="Doppleganger_Win_Corrupted_Leave" tags="" position="475,7975" size="100,100">You turn your back to the still-gasping creature and you make your way for the exit.
The beast shoots a final, hateful glare towards before his form dissolves into the castle that manifested it.

You are emboldened by your resolve, Corruption will have a hard time reaching your soul.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="635" name="Doppleganger_Win_Corrupted_Dominate" tags="" position="600,7975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
The opportunity is too delicious to pass up.
His hulking form stiffens briefly when he feels you approach.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;FUCK CORRUPT GROW&quot;&gt;&quot;Grrrrrrr... You could never take me.&quot;&lt;/span&gt;

You balance yourself on his massive calves, hot dogging your pre-slickening &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; against his ass.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Corrupted_Dominate_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="636" name="Doppleganger_Win_Corrupted_Dominate_2" tags="" position="725,7975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GIVE IN GROW&quot;&gt;&quot;Guuuhhh... Hmmmmmm...&quot;&lt;/span&gt;

You casually ground in and out of the canyon of flesh to get yourself ready.
His &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;, {verb:[&#39;rises&#39;,&#39;rise&#39;]})&gt;&gt; to his chest, spurting out a huge load of pre.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Doppleganger_Win_Corrupted_Dominate_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="637" name="Doppleganger_Win_Corrupted_Dominate_3" tags="" position="850,7975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The beast snarles, but his growls get interrupted as you tug on the chain of his collar.

He howl with mixed outrage and sexual stimulation, you pierce your way into his ass in response.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;SUBMIT GIVE IN GROW&quot;&gt;&quot;GRAAHHHHHH... STOP THIS!&quot;&lt;/span&gt;

You then mercilessly pounds his oversized ass over and over, using the chain for balance.

\&lt;&lt;run setup.choice(&quot;[[Keep fucking him-&gt;Doppleganger_Win_Corrupted_Dominate_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="638" name="Doppleganger_Win_Corrupted_Dominate_4" tags="" position="975,7975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
With each thrust you push yourself to the hilt.
Unrestrained lustful growls leak out through your tight grip of his collar.

You can feel that despite his outrage, he is enjoying this as much as you are.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;MOAN SUBMIT GIVE IN&quot;&gt;&quot;DON&#39;T... GUUHHHHHHRAAHHHHH!!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Fuck him harder-&gt;Doppleganger_Win_Corrupted_Dominate_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="639" name="Doppleganger_Win_Corrupted_Dominate_5" tags="" position="1100,7975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your doppleganger&#39;s massive &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Doppleganger, &quot;cocks&quot;, {verb:[&#39;thrusts&#39;,&#39;thrust&#39;]})&gt;&gt; between his own pecs.
His growls slowly turn to moans.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;SUBMIT MOAN GIVE IN&quot;&gt;&quot;PLEASE! MORE! MOOOOOOOORE!&quot;&lt;/span&gt;

It doesn&#39;t take long for you to near the edge.
One that squeezes so deliciously tight around you yet still jiggles ever so slightly when you thrust against it.

You thug at his chain once more, to remind him that you&#39;re the one in control.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Doppleganger_Win_Corrupted_Dominate_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="640" name="Doppleganger_Win_Corrupted_Dominate_6" tags="" position="1225,7975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
With a final grunt of effort you hilt yourself into his depths one last time, pulling tight on his leash.
His thunderous roars of lust are cut off into strangled snarls as he hits his peak along with you.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;SUBMIT MOAN GIVE IN&quot;&gt;&quot;FUCK YESSSSSSS! TAKE ME!&quot;&lt;/span&gt;

Thick ropes of corrupted cum paint the room.
His core visibly throbs as you fill him with your own seed.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Doppleganger_Win_Corrupted_Dominate_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="641" name="Doppleganger_Win_Corrupted_Dominate_7" tags="" position="100,8100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Doppleganger&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You finally come down from your release and relax your grip on the chain.
Yet your doppelganger is still in the midst of his own unnaturally enhanced orgasm.

You walk back from orgasmically twitching and spasming monster and head for the door to the next room.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Doppleganger_Win_Corrupted_Dominate_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="642" name="Doppleganger_Win_Corrupted_Dominate_8" tags="" position="225,8100" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Doppleganger&quot;])&gt;&gt;
The beast shoots a final, lustful glare your way before his form dissolves into the castle that manifested it.

You are emboldened by your resolve, Corruption will have a hard time reaching your soul after dominating it like you did.

\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.Disciplined);&gt;&gt;
∇: You gain the &quot;Disciplined&quot; ability.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="643" name="Quest_MQ002_DragonMonkEncounter_FightStart" tags="" position="350,8100" size="100,100"></tw-passagedata><tw-passagedata pid="644" name="Quest_MQ002_DragonMonkEncounter_FightIntro" tags="" position="475,8100" size="100,100">&lt;&lt;print setup.getFightStartPassages($CharacterSheet_MQ002_DragonMonk)&gt;&gt;</tw-passagedata><tw-passagedata pid="645" name="Quest_MQ002_DragonMonkEncounter_PlayerWins" tags="" position="600,8100" size="100,100">Drenth falls to his knees, out of breath.

You both know that this fight is over.

\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.beaten = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_DragonMonkEncounter_PlayerWins_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="646" name="Quest_MQ002_DragonMonkEncounter_PlayerWins_2" tags="" position="725,8100" size="100,100">The dragonborn grunts angrily, you can see that he&#39;s running out of options.
\&lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;
You let out wicked smirk, flicking your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;tongues&quot;)&gt;&gt; wildly towards him.
\&lt;&lt;/if&gt;&gt;

&quot;You may have bested me now... But I&#39;ll never let you have it your way.&quot;

His arm suddenly glows with a bright white light.

&quot;For even if I die here, even if that means freeing the cult of Nyx.&quot; He stumbles back on his feet, the light grows powerful, blinding even.

&quot;I will fight on, as long as my soul is bright and virtuous, I will come back.&quot;

His hand clenches into a fist; he brings it to his chest.
A thunderous sound bursts forth. The fog all but blasts away to the edges of the room through the force of the impact.
It&#39;s strong enough to make the foundations groan.

\&lt;&lt;run setup.breakOath(&quot;drenth&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_DragonMonkEncounter_PlayerWins_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="647" name="Quest_MQ002_DragonMonkEncounter_PlayerWins_3" tags="" position="850,8100" size="100,100">The blasts make you blink. When your eyes open again, the dragonborn is gone, leaving behind only a hint of their scent.

The fog slowly crawls back upon the room, like a blanket of cotton.

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_DrenthRoom&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="648" name="Quest_MQ002_DragonMonkEncounter_PlayerLoses" tags="" position="975,8100" size="100,100">The dragonborn looks on down as you collapse from his last strike.

He walks to you with complete apathy.

And without a word, strikes you with a palm strike aimed at your chest.

\&lt;&lt;run setup.choice(&quot;[[You died-&gt;Death_NyxDungeon]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="649" name="Encounter_Start_Ethrex" tags="" position="1100,8100" size="100,100"></tw-passagedata><tw-passagedata pid="650" name="Encounter_Intro_Ethrex_Container" tags="" position="1225,8100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Ethrex.encounterPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="651" name="Encounter_Win_Ethrex_Container" tags="" position="100,8225" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Ethrex.postFightPassagesWin)&gt;&gt;</tw-passagedata><tw-passagedata pid="652" name="Encounter_Loss_Ethrex_Container" tags="" position="225,8225" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Ethrex.postFightPassagesLoss)&gt;&gt;</tw-passagedata><tw-passagedata pid="653" name="Ethrex_LukkaReservoir_QuestHint" tags="" position="350,8225" size="100,100">\&lt;&lt;set $CharacterSheet_Ethrex.quest.available_LukkaReservoir_QuestHint = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
Even after tasting defeat, Ethrex is an imposing figure.

But your attention is diverted to Lukka&#39;s Essence reservoir.
The apparatus beings to glow in a soft red light.

You can sense that the reservoir fills itself with the demonic behemoth&#39;s Essence.

∇: Lukka&#39;s Essence reservoir glows brighter than before.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_LukkaReservoir_QuestHint_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="654" name="Ethrex_LukkaReservoir_QuestHint_2" tags="" position="475,8225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
“Tsk, what a waste of wonderfully potent Essence.”

His snarls and takes this opportunity to escape.

You are left alone in the Barrens once more.

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="655" name="Encounter_Ethrex_Shard_Fight_Win" tags="" position="600,8225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.gatheredShard++&gt;&gt;
\&lt;&lt;set $CharacterSheet_Ethrex.quest.givenShard = true&gt;&gt;
His body twitches and shudders, his wounds finally changing his tone.

&quot;I could crush you, wrap my arms around your feeble body, but you win this time.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Shard_Fight_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="656" name="Encounter_Ethrex_Shard_Fight_Win_2" tags="" position="725,8225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
Clenching a fist, he feels a small relic attached to his garnment. An understated trinket in terms of size, but one that you instantly recognize. 

He holds a piece of the Eye of the Void.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Shard_Fight_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="657" name="Encounter_Ethrex_Shard_Fight_Win_3" tags="" position="850,8225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
He notices your interest, and suddenly stands up.
His massive frame looms over everything else, dominant muscles rippling and straining beneath skin hardened from battles past.

&quot;You desire this relic?&quot; He asks, his voice a deep rumble that sends waves of shivers down their backs. 
His cruel smirk spreads across his coarse, savage features, a low snarl humming deep in his chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Shard_Fight_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="658" name="Encounter_Ethrex_Shard_Fight_Win_4" tags="" position="975,8225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
Nonchalantly, he flicks the artifact towards your feet with a claw-tipped hand.

&quot;Take it. It’s of no use to me anymore.&quot; he declares. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Shard_Fight_Win_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="659" name="Encounter_Ethrex_Shard_Fight_Win_5" tags="" position="1100,8225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
An excited shiver runs through him as the relic leaves his hand, a patent testament to his dark sense of humor.

&quot;It’s surprising how anyone could care about this old thing, but I expect you&#39;ll keep coming back for more,&quot; he says, his intriguing, twisted grin reappearing on his grotesque features. 
Every cell in his body thrums with an enticing sensation of dominance and undisguised yearning, a concrete testimony to his corruptive aura.

&quot;I can give you so much more than the Eye ever could.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Shard_Fight_Win_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="660" name="Encounter_Ethrex_Shard_Fight_Win_6" tags="" position="1225,8225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
With a monstrous laugh, he goes on all four and takes the opportunity to escape.

You are left alone in the Barrens once more.

∇: You gained a shard of the Eye of the Void

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="661" name="Encounter_Intro_Ethrex_FinalRela" tags="" position="100,8350" size="100,100">The sun beats down on your shoulders, and you feel the sweat start to form on your corrupted, scaled. 

You pause, sniffing the air, and your cock throbs in response.

You could recognize that smell anywhere.

\&lt;&lt;run setup.choice(&quot;[[Meet Ethrex-&gt;Encounter_Intro_Ethrex_FinalRela_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="662" name="Encounter_Intro_Ethrex_FinalRela_2" tags="" position="225,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
It is not long before you see Ethrex in the distance.

He is a momunent of raw lust, a &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;height&quot;))&gt;&gt; tall demonic demi-god.

He grins, eyeing you from head to toes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_FinalRela_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="663" name="Encounter_Intro_Ethrex_FinalRela_3" tags="" position="350,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
He steps towards you, every step causing the ground to crack.

“Lord of Lust... Come to me.”

You feel a chill run down your spine as he stops in front of you, his eyes blazing with an intense, fiery intensity.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Ethrex)&gt;&gt;</tw-passagedata><tw-passagedata pid="664" name="Encounter_Ethrex_FinalRela_Win" tags="" position="475,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Ethrex stumbles back, his feet slipping out from beneath him. 

You can feel the Essence wrap around you, seeping into your pores and filling your veins with its presence. 
As it infuses your body, you feel an power coursing through your veins. 

Ethrex lets out a monstrous grin.

“Take that Essence, feel that power.”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_FinalRela_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="665" name="Encounter_Ethrex_FinalRela_Win_2" tags="" position="600,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
More Essence rushes into you, fills your soul with raw, pleasurable power.

You clasp your fists, feel your veins surge out. 
It pushes into your mouth like a sentient cloud, making your soul flare out in a sudden burst of power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_FinalRela_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="666" name="Encounter_Ethrex_FinalRela_Win_3" tags="" position="725,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
“There&#39;s nothing quite like it, isn&#39;t there?”

Pleasure rises within you, raw, potent pleasure.
Ethrex licks his lips in response, inviting you to come closer.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Encounter_Ethrex_FinalRela_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="667" name="Encounter_Ethrex_FinalRela_Win_4" tags="" position="850,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
You jump at Ethrex and you fuck in every way possible.
You keep going for hours.

His gigantic form is a lot to handle, but you wish you and him were even more enormous. 
Power and lust drive your every thought. 

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Encounter_Ethrex_FinalRela_Win_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="668" name="Encounter_Ethrex_FinalRela_Win_5" tags="" position="975,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Hours turn into days. 

You fuck and cum, over and over. 
Your demonic bodies constantly urging you to keep going. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_FinalRela_Win_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="669" name="Encounter_Ethrex_FinalRela_Win_6" tags="" position="1100,8350" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Ethrex.encounterFinalTeammateJoin)&gt;&gt;</tw-passagedata><tw-passagedata pid="670" name="Encounter_Ethrex_FinalRela_Win_Solo" tags="" position="1225,8350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;

As days go by, you feel a distant memory slowly emerge from your mind. 
An old duty that was never completed.

Ethrex can tell that it&#39;s on your mind. 
He gives you an oportunistic grin.

&quot;How about I join you in your quest?&quot;

He moves his finger up your thigh, tracing circles around your inner thigh, stirring up a wave of pleasure. His touch is electrifying. 

&quot;Just know that nothing will stop me from making my god whole again, even you.&quot;

\&lt;&lt;run setup.choice(&quot;[[Accept-&gt;Encounter_Ethrex_FinalRela_Win_6_Accept]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse-&gt;Encounter_Ethrex_FinalRela_Win_6_Refuse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="671" name="Encounter_Ethrex_FinalRela_Win_6_Accept" tags="" position="100,8475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Ethrex.quest.joinedTeam = true&gt;&gt;
\&lt;&lt;run setup.ethrexJoinsPlayer()&gt;&gt;
&quot;Hmmmm let&#39;s get going then. The world will cower before your might.&quot;

∇: Ethrex has joined your party.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="672" name="Encounter_Ethrex_FinalRela_Win_6_Refuse" tags="" position="225,8475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;

“Tsk, suit yourself.”

He stares at you, as if daring you to reconsider, before sighing in disappointment.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_FinalRela_Win_Leave_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="673" name="Encounter_Ethrex_FinalRela_Win_Leave_2" tags="" position="350,8475" size="100,100">The demonic behemoth turns his back on you and starts walking away.

He does not look back.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="674" name="Encounter_Intro_Ethrex" tags="" position="475,8475" size="100,100">You are acutely aware of your surroundings and feel your muscles tense as the air fills with a strange, arousing energy.

With every breath, your heart beats faster.

Suddenly, something catches your eye in the distance.
It looks like some a humanoid creature, one that is not covered in Corruption like a Lost would.

\&lt;&lt;run setup.choice(&quot;[[Look closer-&gt;Encounter_Intro_Ethrex_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="675" name="Encounter_Intro_Ethrex_2" tags="" position="600,8475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;hooded&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Ethrex.quest.met = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_Ethrex.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
As you get closer, you can make out the figure more clearly.

His body is chiseled like marble, honed to perfection by the Corruption that flows in and out of his body.
Broad shoulders lead down to a powerfully-built chest, corded with rock-hard muscles that hint at hidden strength.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="676" name="Encounter_Intro_Ethrex_3" tags="" position="725,8475" size="100,100">His unholy presence taints the air and darkens the soil.

\&lt;&lt;if setup.Size.compare($CharacterSheet_Ethrex, &#39;height&#39;) &gt;= setup.Size.Comparators.MASSIVE&gt;&gt;
The sky is covered by his gigantic form. The ground shakes as his &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;height&quot;))&gt;&gt; body barels in front of you.
You cannot stop yourself from eyeing his mountainous body.
\&lt;&lt;else&gt;&gt;
You brace yourself and get ready for the worst...
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="677" name="Encounter_Intro_Ethrex_4" tags="" position="850,8475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;hooded&quot;)&gt;&gt;
He absentmindedly flexes his muscled arms, revealing the sheer of his biceps before he notices you.
A maniacal grin grows ever wider as he studies your appearance.

&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Ethrex.encounterIntroFirstTimeFlavour)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="678" name="Encounter_Intro_Ethrex_Default" tags="" position="975,8475" size="100,100">&quot;Did you get lost? You shouldn&#39;t be out here...&quot;
\</tw-passagedata><tw-passagedata pid="679" name="Encounter_Intro_Ethrex_Giant" tags="" position="1100,8475" size="100,100">&quot;Look at the size of you, I should have noticed you earlier.&quot;
\</tw-passagedata><tw-passagedata pid="680" name="Encounter_Intro_Ethrex_Corrupt" tags="" position="1225,8475" size="100,100">&quot;Hmmmm I can smell your Corruption from here. We&#39;re gonna have a good time, you and I.&quot;
\</tw-passagedata><tw-passagedata pid="681" name="Encounter_Intro_Ethrex_5" tags="" position="100,8600" size="100,100">He laughs maniacally, before licking one of the swirling mass of Corruption that surrounds him.

His eyes are focused and intense, looking straight ahead.
You can tell that he is ready to strike at any point.

&quot;You better put up a good fight, I have big plans for the Essence you&#39;ll bring forth!&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Ethrex)&gt;&gt;</tw-passagedata><tw-passagedata pid="682" name="Encounter_Intro_Ethrex_HighRela" tags="" position="225,8600" size="100,100">The sun beats down on your shoulders, and you feel the sweat start to form on your skin. 

You pause, sniffing the air, and your cock throbs in response.
The scent is musky and sweet, debauchery taken form.

You recognize the smell of Ethrex, the demonic behemoth.

\&lt;&lt;run setup.choice(&quot;[[Investigate the smell-&gt;Encounter_Intro_Ethrex_HighRela_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="683" name="Encounter_Intro_Ethrex_HighRela_2" tags="" position="350,8600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
It is not long before you see Ethrex in the distance.

His body is much bigger than when you last saw him, rippling with muscles that are both intimidating and alluring.

He grins, eyeing you from head to toes. His cock throbs faster the more he gazes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_HighRela_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="684" name="Encounter_Intro_Ethrex_HighRela_3" tags="" position="475,8600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
He steps towards you, every step causing the ground to crack.

“More essence... MORE POWER!”

You feel a chill run down your spine as he stops in front of you, his eyes blazing with an intense, fiery intensity.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Ethrex)&gt;&gt;</tw-passagedata><tw-passagedata pid="685" name="Encounter_Ethrex_HighRela_Win" tags="" position="600,8600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Ethrex stumbles back, his feet slipping out from beneath him. 

You can feel the Essence wrap around you, seeping into your pores and filling your veins with its presence. 
As it infuses your body, you feel an power coursing through your veins. 

Ethrex lets out a monstrous grin.

“Take that Essence, feel that power.”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_HighRela_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="686" name="Encounter_Ethrex_HighRela_Win_2" tags="" position="725,8600" size="100,100">More Essence rushes into you, fills your soul with raw, pleasurable power.

You clasp your fists, feel your veins surge out. 
It pushes into your mouth like a sentient cloud, making your soul flare out in a sudden burst of power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_HighRela_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="687" name="Encounter_Ethrex_HighRela_Win_3" tags="" position="850,8600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Pleasure rises within you, raw, potent pleasure.

“Do it! cast your humanity aside!”

You try to contain deep moans and feel yourself being brought to the edge.

\&lt;&lt;if $Essence &gt;= setup.getDemonicTFCost($CharacterSheet_Player)&gt;&gt;
    &lt;&lt;print &quot;[[Grant him Power (&quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot; Essence)-&gt;&quot;+setup.getDemonicTFPassage($CharacterSheet_Player)+&quot;][$Essence -= &quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot;]]&quot;&gt;&gt;
\&lt;&lt;else&gt;&gt;
    &lt;&lt;print &quot;&lt;span class = &#39;inactive&#39;&gt;[[Grant him Power (&quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot; Essence)-&gt;&quot;+setup.getDemonicTFPassage($CharacterSheet_Player)+&quot;]]&lt;/span&gt;&quot;&gt;&gt;
\&lt;&lt;/if&gt;&gt;
[[Refuse-&gt;Encounter_Intro_Ethrex_LowRela_Win_Leave]]</tw-passagedata><tw-passagedata pid="688" name="Encounter_Ethrex_HighRela_Win_Leave" tags="" position="975,8600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
“You can&#39;t be serious...”

Even after tasting defeat, Ethrex is an imposing figure. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_HighRela_Win_Leave_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="689" name="Encounter_Ethrex_HighRela_Win_Leave_2" tags="" position="1100,8600" size="100,100">The demonic behemoth turns his back on you and starts walking away.

He does not look back.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="690" name="Transformation_Incubus_Level1_1" tags="" position="1225,8600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;

Jet black goo slowly oozes out of Ethrex&#39;s tool, its viscous texture making it seem almost alive.
It glistens in the light, giving off an eerie presence.

As soon as you approach him, his cock jolts to life, hardening and spurting out pre.
He grins maniacally.

“That&#39;s it, come to me.”

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Transformation_Incubus_Level1_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="691" name="Transformation_Incubus_Level1_1_2" tags="" position="100,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
His muscles throb with strength as he pulls you close to him. He seems fully healed.

“Your Essence, the one that comes straight from your core, I need it.”

He gently grasps your hand and guides it to his cock.
It hums beneath your fingertips, sending pleasurable ripples through your body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level1_1_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="692" name="Transformation_Incubus_Level1_1_3" tags="" position="225,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Pleasure courses through you like a wave, heightening your senses, urging you to explore further.
The intensity builds and you begin to lose yourself in the sensation.

You reach out to him, open up your soul to the demon&#39;s influence.

His slitted eyes suddenly glow in response.

\&lt;&lt;run setup.choice(&quot;[[Give him Essence-&gt;Transformation_Incubus_Level1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="693" name="Transformation_Incubus_Level1_2" tags="" position="350,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
In one sudden rush of energy, he moans as strength fills his whole frame.
His newfound energy is bringing him to the edge of orgasm.

&quot;Ahhhhh... This power...&quot;

His hands are firm and tense as they roam over your chest and your hard pecs.
With raw demonic power pulsing through his fingertips, he traces circles around your nipples, sending sparks of sensation through your body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level1_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="694" name="Transformation_Incubus_Level1_2_1" tags="" position="475,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
He continues to move down, exploring your tight abs.

The behemoth&#39;s hands move lower still, finally coming to rest on your hard cock.
He grips it firmly, running his fingers up and down it, teasing and tantalizing you.

His touch is electric and your body responds eagerly to his caresses.
You can feel yourself getting harder and harder beneath his touch, your arousal intensifying with each stroke.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level1_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="695" name="Transformation_Incubus_Level1_2_2" tags="" position="600,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&quot;You made the right choice.&quot;

Your heart races as your lips touch his.
His kiss is passionate, every instant sends sparks of electricity down your spine.


\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level1_2_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="696" name="Transformation_Incubus_Level1_2_3" tags="" position="725,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You can feel yourself melting into him as his hands wander down your body, exploring every inch of you.

A dark red sigil suddenly appears around you.

\&lt;&lt;run setup.choice(&quot;[[Let demonic powers enter you-&gt;Transformation_Incubus_Level1_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="697" name="Transformation_Incubus_Level1_3" tags="" position="850,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;

You feel it surround you. An energy that you don&#39;t quite understand.
It&#39;s fiery and passionate, like a force of nature.

It shoots inside your soul and taints it to the core.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level1_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="698" name="Transformation_Incubus_Level1_3_1" tags="" position="975,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You feel your restraints melt away; lust, sex and power slowly become your most significant needs.
\&lt;&lt;if ($CharacterSheet_Player.info.anatomy.horns.number == 0)&gt;&gt;
Two nubs start to push from your forehead.
\&lt;&lt;elseif ($CharacterSheet_Player.info.anatomy.horns.number == 1)&gt;&gt;
Your horn starts to shift to the side, and a nub begins appearing on the opposite side of your forehead.
\&lt;&lt;else&gt;&gt;
Your horns start to absorb his energy, beginning to glow with energy.
\&lt;&lt;/if&gt;&gt;

Ethrex grins as he kneels down to face your cock.
His hot mouth begins to worship every &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; of your cock.
With every lick, you feel it pulsate with energy.

\&lt;&lt;run setup.choice(&quot;[[Embrace his demonic powers-&gt;Transformation_Incubus_Level1_3_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="699" name="Transformation_Incubus_Level1_3_2" tags="" position="1100,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;if ($CharacterSheet_Player.info.anatomy.horns.number == 0)&gt;&gt;
The nubs on your forehead suddenly split.
Massive, curvy horns rise from your forehead until they reach &lt;&lt;print setup.getHornsSize($CharacterSheet_Player)&gt;&gt;.
\&lt;&lt;elseif ($CharacterSheet_Player.info.anatomy.horns.number == 1)&gt;&gt;
Your new horn soon grows into a massive, curvy horn, and your existing horn matches until they both reach &lt;&lt;print setup.getHornsSize($CharacterSheet_Player)&gt;&gt;.
&lt;&lt;else&gt;&gt;
Your horns suddenly warp and twist into massive, curvy figures until they reach &lt;&lt;print setup.getHornsSize($CharacterSheet_Player)&gt;&gt;.
&lt;&lt;/if&gt;&gt;

Each one is almost as thick as your wrists.

\&lt;&lt;run setup.changeLimbsNumber($CharacterSheet_Player, &quot;horns&quot;, 2, setup.mod.ATLEAST)&gt;&gt;
\&lt;&lt;run setup.setRaceLimbs($CharacterSheet_Player, [&quot;horns&quot;,&quot;eyes&quot;], setup.RacePool.INCUBUS)&gt;&gt;
Ethrex sucks you faster and harder. You&#39;re so close to the edge.
You look down at the demon with your now slitted eyes.

\&lt;&lt;run setup.choice(&quot;[[Complete the transformation-&gt;Transformation_Incubus_Level1_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="700" name="Transformation_Incubus_Level1_4" tags="" position="1225,8725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability_DemonicCorruption);&gt;&gt;
\&lt;&lt;run setup.upgradeEthrexStats(1)&gt;&gt;

Seeing your changed form is bringing Ethrex to the edge.
He pulls back, freeing your now &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; purple cock.

The sight of it drives the incubus wild.

&quot;GRAAAAHHHH&quot;

You both roar and cum, shooting your load all over each other.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level1_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="701" name="Transformation_Incubus_Level1_5" tags="" position="100,8850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = false&gt;&gt;

You keep going, having sex for hours and hours.
Yet your lust is never satisfied, you need more than sex.

The urge to grow even more demonic never goes away.

∇: You gain the &quot;Minor Demon&quot; ability.
∇: You grow 2 demonic horns.
∇: Your teeth become demonic and sharp.
∇: Your tongue, eyes, cocks, and balls become demonic, and take a royal shade of purple.
∇: Ethrex&#39;s power has increased.

\&lt;&lt;run setup.setRaceLimbs($CharacterSheet_Player, [&quot;teeths&quot;,&quot;jaws&quot;,&quot;horns&quot;,&quot;tongues&quot;,&quot;eyes&quot;,&quot;cocks&quot;,&quot;balls&quot;], setup.RacePool.INCUBUS)&gt;&gt;
\&lt;&lt;run setup.colourLimbs($CharacterSheet_Player, [&quot;tongues&quot;,&quot;eyes&quot;,&quot;cocks&quot;,&quot;balls&quot;], setup.ColourPool.PURPLE)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Return Home-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="702" name="Transformation_Incubus_Level2_1" tags="" position="225,8850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Ethrex falls down in exhaustion but grins all the same.
He knows you want more, no one could resist the appeal of demonic powers.

He rushes to you and licks your cock out of sheer need.

&quot;Hehehe... This is it, yours is more potent than anything I’ve ever tasted.&quot;

His lips are pulled back in a wicked grin, and you can feel the heat of his breath on your skin.

\&lt;&lt;run setup.choice(&quot;[[Grant him Essense-&gt;Transformation_Incubus_Level2_1_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="703" name="Transformation_Incubus_Level2_1_1" tags="" position="350,8850" size="100,100">\&lt;&lt;run setup.upgradeEthrexStats(2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You can feel his power growing with every touch, every caress.
He is already getting bigger, his &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;height&quot;))&gt;&gt; body becoming more muscular and powerful.

A dark red aura bursts out of him.

&quot;I WANT MORE!!!&quot;

\&lt;&lt;run setup.choice(&quot;[[Grant him Essense-&gt;Transformation_Incubus_Level2_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="704" name="Transformation_Incubus_Level2_1_2" tags="" position="475,8850" size="100,100">&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
His cock shakes and throbs like it&#39;s possessed.
He grasps the base and pulls his head back.

&quot;Ohhhh... Fuuuuuck...&quot;

Your eyes widen as his cock pushes forward. Pounds upon pounds of thick flesh piles on his already massive tool.
He unleashes a maniacal laugh as cum gushes out of his growing dick.

∇: Ethrex&#39;s cock grows by &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Ethrex, &quot;cock&quot;, 8))&gt;&gt;.

\&lt;&lt;run setup.choice(&quot;[[Accept Ethrex&#39;s Reward-&gt;Transformation_Incubus_Level2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="705" name="Transformation_Incubus_Level2_2" tags="" position="600,8850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You notice his hands smoking with black, demonic energy.

&quot;Now, let my god enter your being...&quot;

A circle of pure darkness suddenly forms from under you, and you can see movement under its glass-like surface.
Stange shapes forms along the surface.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level2_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="706" name="Transformation_Incubus_Level2_2_1" tags="" position="725,8850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;happy&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Those shapes throb and grow, gathering the surrounding darkness to expand outward.
They form into long, fat tendrils that ooze a thick purple liquid oozing from their tip.

&quot;Hmmm... Accept this gift from beyond.&quot;

\&lt;&lt;run setup.choice(&quot;[[Take his gift-&gt;Transformation_Incubus_Level2_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="707" name="Transformation_Incubus_Level2_2_2" tags="" position="850,8850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
One of them slowly slithers towards you, you grab it and eagerly suck the tip.
The sharp, bitter taste makes you shiver.

Your eyes widen; your cock throbs harder than it ever has.
An unholy lust rises within you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level2_2_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="708" name="Transformation_Incubus_Level2_2_3" tags="" position="975,8850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;happy&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
More tendrils emerge from the dark portal.
They writhe and curl, wrapping around you in a tight, warm embrace.

You hear Ethrex release a loud moan.
\&lt;&lt;set setup.applyGrowth($CharacterSheet_Ethrex, &quot;cock&quot;, 4)&gt;&gt;
His still growing cock reaches &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;cock&quot;))&gt;&gt; as tendrils grant him some demonic energy of his own.

\&lt;&lt;run setup.choice(&quot;[[Give in to Lust-&gt;Transformation_Incubus_Level2_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="709" name="Transformation_Incubus_Level2_3" tags="" position="1100,8850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;

Some tendrils join the other and crawl to your mouth, others coil around your cock, jerking it slowly.
Others reach for your ass.

They explore your body and take you further and further into a blissful trance.
You can feel yourself trembling with pleasure as your pleasure peaks, you can&#39;t help but scream out in ecstasy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level2_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="710" name="Transformation_Incubus_Level2_3_1" tags="" position="1225,8850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You pant as Ethrex jerks off in front of you, he is completely lost in arousal.

The three tendrils push deep inside your ass while four others massage your cock and balls.
A thin one slowly enters your cock slit, feeding your tool with demonic energy.

You can only scream for more.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Transformation_Incubus_Level2_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="711" name="Transformation_Incubus_Level2_4" tags="" position="100,8975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You can feel a new strength coursing through your veins, and a primal instinct taking over your mind.

Something grows over your arms and legs.
The skin around them turns darker and darker until it becomes completely black.

It then grows outward, turning into hard black scales. A bright purple glow emanating between each of them.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level2_4_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="712" name="Transformation_Incubus_Level2_4_1" tags="" position="225,8975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You grin and gaze at your arms.
Your fingernails extend and warp to become thick black claws.

You force yourself down on the tentacles penetrating your ass.
It&#39;s too much to bear; you&#39;re about to cum.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Transformation_Incubus_Level2_4_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="713" name="Transformation_Incubus_Level2_4_2" tags="" position="350,8975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
More tentacles suddenly rise and massage every inch of your body.
Your muscles bask in the sheer lust of this otherworldly beast pleasuring you.

Your form slowly expands bigger as you cum over and over.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Transformation_Incubus_Level2_4_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="714" name="Transformation_Incubus_Level2_4_3" tags="" position="475,8975" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
Deep moans of yours could be heard all over the barrens.

A black forked tail suddenly bursts from behind you; its thickness increases as it pulls out of you.
You instinctively coil it around your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; as you cum the last remains of your mortal seed.

You drench yourself with your now thick dark purple cum.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level2_4_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="715" name="Transformation_Incubus_Level2_4_4" tags="" position="600,8975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = false&gt;&gt;
As if to react to your humanity finally leaving you, the tentacles pull back, and the beast leaves this plane of existence.

\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability_DemonicCorruption);&gt;&gt;
You are now a &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt; demon with a &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; cock.

Ethrex lets out a deep chuckle before giving you an intense, monstrous kiss.
A never-ending lust courses through your vein, a curse that will lead you in a path of sin.

“Go on then, &#39;hero&#39;. Show the world what you’re made of.”

∇: You gain the &quot;Major Demon&quot; ability.
∇: You can now use the &quot;Incubus Call&quot; fight move.
∇: Ethrex&#39;s power has increased.

\&lt;&lt;run setup.setRaceLimbs($CharacterSheet_Player, [&quot;arms&quot;,&quot;hands&quot;,&quot;legs&quot;,&quot;tails&quot;],  setup.RacePool.INCUBUS)&gt;&gt;
\&lt;&lt;run setup.colourLimbs($CharacterSheet_Player, [&quot;arms&quot;,&quot;hands&quot;,&quot;legs&quot;,&quot;tails&quot;], setup.ColourPool.BLACK)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="716" name="Transformation_Incubus_Level3_1" tags="" position="725,8975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
Ethrex can&#39;t wait any longer.

He comes to you and grabs you by the back of the head and pulls into a deep kiss.
He feels his old powers reaching out to him, just a little more essence before he regains his former strength.

You both need this more than anything.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="717" name="Transformation_Incubus_Level3_1_2" tags="" position="850,8975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You break the kiss and push his head down to suck on your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; cock.
He can barely handle it, yet he forces himself to take you.

He rolls his wet demonic tongue on your cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_1_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="718" name="Transformation_Incubus_Level3_1_2_1" tags="" position="975,8975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You want to make him work for his powers.
With every suck, you allow him to have a little more Essence.

His moans turn deeper each time.

You see his shoulder growing wider and filling with strength. His whole body starts to grow.
You feel his head getting larger under your hand. His tongue covering more and more of your cock.

\&lt;&lt;run setup.choice(&quot;[[Give him more...-&gt;Transformation_Incubus_Level3_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="719" name="Transformation_Incubus_Level3_2" tags="" position="1100,8975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Hundreds of pounds of muscles begin to develop on his demonic body.

He smiles as he grabs your waist and sucks you down to your balls.
With a thunderous roar, you flood him with cum. And with it, your Essence rushes inside him.

His whole body starts to shake.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="720" name="Transformation_Incubus_Level3_2_1" tags="" position="1225,8975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
He looks up to you, his eyes completely red and glowing with demonic powers.

\&lt;&lt;run setup.applyGrowth($CharacterSheet_Ethrex, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Ethrex, &quot;cock&quot;) * 4)&gt;&gt;
&quot;Oh, yes... Here it comes...&quot; He moans as his cock grows. He can barely handle it.
He drools, gazing at his now &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;cock&quot;))&gt;&gt; monster cock.

&quot;I need more...&quot; He grins and looks at his gigantic cock.

&quot;But first... My end of the bargain, &lt;&lt;print $CharacterSheet_Player.info.name&gt;&gt;&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="721" name="Transformation_Incubus_Level3_2_2" tags="" position="100,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You shudder with excitement as he pierces the ground with his claws.
A deep and black rot starts to flow in the earth around you.

The few plants around you become warped and corrupted as it spreads for more than &lt;&lt;print setup.getLength(30)&gt;&gt;.
The center is jet black, you recognize the glass like surface from before.

But this time it&#39;s beyond massive.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_2_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="722" name="Transformation_Incubus_Level3_2_3" tags="" position="225,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&quot;You see, this god that&#39;s under us, it&#39;s only a fragment of what he used to be. He watches our every move, whispers to us in our most vulnerable moments.&quot;

The demon&#39;s body shakes as power builds inside him.
His scales pulsate with red demonic energy.

&quot;And I&#39;m gonna make him whole again.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_2_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="723" name="Transformation_Incubus_Level3_2_4" tags="" position="350,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;set _oldHeight = setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;height&quot;))&gt;&gt;
\&lt;&lt;run setup.applyGrowth($CharacterSheet_Ethrex, &quot;height&quot;, setup.getStatValue($CharacterSheet_Ethrex, &quot;height&quot;) * 1.5)&gt;&gt;
He grows and grows until his previously &lt;&lt;print _oldHeight&gt;&gt; body reaches &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;height&quot;))&gt;&gt;.

His laughs become more dominant and wicked.

Thick pre-cum oozes from his cock as he grasps his monster with glee.

\&lt;&lt;run setup.choice(&quot;[[Embrace the Corruption-&gt;Transformation_Incubus_Level3_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="724" name="Transformation_Incubus_Level3_3" tags="" position="475,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.stopSoundActions()&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Suddenly, countless tentacles burst from the depth of the black portal. They feed on the unholy lust radiating from the both of you.
Some coils around Ethrex&#39;s &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;cock&quot;))&gt;&gt; cock and massage it from every angle.

But most of them crawl towards you.

The smell of your black soul, begging to be thoroughly corrupted, drives them mad.
They rush up your legs and invade your ass without warning.

\&lt;&lt;run setup.choice(&quot;[[Embrace the Corruption-&gt;Transformation_Incubus_Level3_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="725" name="Transformation_Incubus_Level3_3_1" tags="" position="600,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your roars are louder than the giant demon&#39;s.
Tentacles move along your cock and balls, drenching them with the same demonic liquid that changed you last time.

But now you can take so much more... You force your ass down on the tentacles, inviting them to fill you deeper.
You grasp some of them and jerk them off, they drench your body with their corrupting seed in response.

\&lt;&lt;run setup.choice(&quot;[[Embrace the Corruption-&gt;Transformation_Incubus_Level3_3_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="726" name="Transformation_Incubus_Level3_3_2" tags="" position="725,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
As if to respond to your mad need for pleasure, countless other black tendrils emerge.

You feel them slither around your legs, completely covering every inch of your scales in a wet and warm embrace.
Once they reach your waist, you unleash a raw scream of manic lust. The tendrils attach to your cock and ball, injecting their demonic seed directly inside them.

\&lt;&lt;run setup.choice(&quot;[[Embrace the Corruption-&gt;Transformation_Incubus_Level3_3_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="727" name="Transformation_Incubus_Level3_3_3" tags="" position="850,9100" size="100,100">\&lt;&lt;run setup.upgradeEthrexStats(3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&quot;Oh, fuck... Oh fuuuuuck... Moooooore...&quot; Ethrex moans beside you.

&lt;h1&gt;&quot;FUCK YESSSSS! MOOOOORE!&quot;&lt;/h1&gt;

Your cock shoots blanks over and over again.
The tendrils crawl up your chest, and a massive one enters your mouth.

You suck it like your life depends on it. It bulges and expands as litres of thick demonic goo erupts from it.

You try to take it all in.

\&lt;&lt;run setup.choice(&quot;[[Become Something More...-&gt;Transformation_Incubus_Level3_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="728" name="Transformation_Incubus_Level3_4" tags="" position="975,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;]);&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability_DemonicCorruption);&gt;&gt;

Ethrex could only stare in amazement, you are entirely covered by so many tentacles, it is like being encased in a black cocoon.

You could feel your muscles filling with power as your silhouette changes.
The cocoon can barely contain your growing form.

Ethrex knows you are turning into more than a demon, you have been chosen. Blessed by lust itself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_4_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="729" name="Transformation_Incubus_Level3_4_1" tags="" position="1100,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
All you need is one last push.
And Ethrex would gladly provide it.

He cums, jet-black seed gushing out of his cock like a broken dam.

It completely drenches your cocoon and you feel your body feed on its unholy energy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Transformation_Incubus_Level3_4_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="730" name="Transformation_Incubus_Level3_4_2" tags="" position="1225,9100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Scales slowly grow along every surface of your body.
Your head throbs as a new set of massive horns emerge from your temples.

\&lt;&lt;run setup.changeLimbsNumber($CharacterSheet_Player, &quot;horns&quot;, 2)&gt;&gt;
Your cock is pressing on the walls of your enclosure as it keeps growing bigger and bigger.
You could feel your own dam breaking.

\&lt;&lt;run setup.choice(&quot;[[Emerge-&gt;Transformation_Incubus_Level3_4_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="731" name="Transformation_Incubus_Level3_4_3" tags="" position="100,9225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
The tentacles cannot hold you anymore, you slash at the surface of your cocoon with your now thicker claws.
Litres of thick demonic seed flows as you step out.

You are now fully covered in black spiky scales. A purple glow radiates from between each of them.

The purple slit of your eyes are now surrounded by pure black scleras. Your now &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; cock constantly throbs with need.
Ethrex drools at your new form, and you grin at him in response, exposing your new set of sharp, pointed teeth.

Calling you a demon would be an understatement at this point, your total devotion to your arousal has turned you into something more...

A true Lord of Lust.

\&lt;&lt;run setup.setRace($CharacterSheet_Player, setup.RacePool.LORD_OF_LUST, {keepExtras: true, keepColours: true, keepNonRaceLimbs:false})&gt;&gt;
\&lt;&lt;run setup.colourLimbs($CharacterSheet_Player, [&quot;heads&quot;,&quot;abdominals&quot;,&quot;arms&quot;,&quot;hands&quot;,&quot;legs&quot;,&quot;tails&quot;], setup.ColourPool.BLACK)&gt;&gt;
\&lt;&lt;run setup.colourLimbs($CharacterSheet_Player, [&quot;eyes&quot;,&quot;cocks&quot;,&quot;balls&quot;,&quot;tongues&quot;], setup.ColourPool.PURPLE)&gt;&gt;

∇: You gain the &quot;Lord of Lust&quot; ability.
∇: You now use the &quot;Incubus Slash&quot; fight move.
∇: Your body fully becomes that of a Major Demon.
∇: Ethrex&#39;s power has increased.

\&lt;&lt;run setup.choice(&quot;[[Emerge-&gt;Transformation_Incubus_Level3_4_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="732" name="Transformation_Incubus_Level3_4_4" tags="" position="225,9225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;

You growl like a true beast. The sheer sound of your voice is enough to bring Ethrex to the edge once more.

“Hehehe, make this world your plaything, Lord.”

And so you set your gaze back towards your home.
Your cock throbs in anticipation to the chaos you&#39;re about to unleash.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="733" name="Encounter_Intro_Ethrex_LowRela" tags="" position="350,9225" size="100,100">As you traverse the Barrens, you feel a familiar taint fill the air.
Every breath you take makes your heartbeat faster and more forceful.

You remember the familiar feeling of being around a certain demonic behemoth.

\&lt;&lt;run setup.choice(&quot;[[Seek the source of the Corruption-&gt;Encounter_Intro_Ethrex_LowRela_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="734" name="Encounter_Intro_Ethrex_LowRela_2" tags="" position="475,9225" size="100,100">&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;hooded&quot;)&gt;&gt;
The behemoth slowly strides along the Barrens.
He seems lost in thought, and shows no signs of having spotted you.

His cock lays there for you to gaze at. 
Its entire &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;cock&quot;))&gt;&gt; length heavily bounces with every step.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="735" name="Encounter_Intro_Ethrex_LowRela_3" tags="" position="600,9225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
A wide, maniacal smile grows on his face and his cock suddenly hardens.

He stands, and looks around him. Almost as if he feels your growing arousal.
Like he could taste the power that awaits him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="736" name="Encounter_Intro_Ethrex_LowRela_4" tags="" position="725,9225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = false&gt;&gt;
His grin grows animalistic, his forked tail flicks behind his muscular back.
He now looks straight at you with slitted, piercing eyes.

&quot;Back for more, are we now?&quot;

He raises a clawed hand and beckons you to come closer.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Ethrex)&gt;&gt;</tw-passagedata><tw-passagedata pid="737" name="Encounter_Loss_Ethrex_0" tags="" position="850,9225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
Exhaustion takes you over, and all you can focus on is the approaching behemoth.

His muscular frame is slick with sweat, his chest rises and falls with each satisfied breath.
He reaches to lift your chin up, and your eyes meet.
You can feel the intensity of the moment, and the heat of his body.

&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Ethrex.encounterLossFlavour)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Ethrex_0_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="738" name="Encounter_Loss_Ethrex_0_Flavour_LowRela" tags="" position="975,9225" size="100,100">“I can tell, you&#39;re not like others who roam the Barrens.”
\</tw-passagedata><tw-passagedata pid="739" name="Encounter_Loss_Ethrex_0_Flavour_MinorDemon" tags="" position="1100,9225" size="100,100">“Your soul is so perplexing... Let&#39;s see how it handles my powers.”
\</tw-passagedata><tw-passagedata pid="740" name="Encounter_Loss_Ethrex_0_Flavour_MajorDemon" tags="" position="1225,9225" size="100,100">“Hmmmm... I&#39;m gonna enjoy this.”
\</tw-passagedata><tw-passagedata pid="741" name="Encounter_Loss_Ethrex_0_Flavour_LordOfLust" tags="" position="100,9350" size="100,100">“Let&#39;s get this over with.”
\</tw-passagedata><tw-passagedata pid="742" name="Encounter_Loss_Ethrex_0_1" tags="" position="225,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
His lips curl in a wicked smile as the Essence that built in the intensity of the fight rushes towards him.
His eyes glow brighter than ever.

You can almost feel the power radiating from him, a tangible force that you can almost touch.

He is like a live wire, and you can feel your own lust increasing as his demonic aura grows.

∇: Ethrex&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Ethrex, &quot;height&quot;, 10))&gt;&gt;.
∇: Ethrex&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Ethrex, &quot;cock&quot;, 12))&gt;&gt;.
∇: Ethrex&#39;s balls grow &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Ethrex, &quot;balls&quot;, 4))&gt;&gt;.

You fall down on your knees, your cock pulsing and begging for release.

\&lt;&lt;run setup.choice(&quot;[[Crawl towards him-&gt;Encounter_Loss_Ethrex_0_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Run Away-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="743" name="Encounter_Loss_Ethrex_0_2" tags="" position="350,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Ethrex grins in victory as red demonic energy flows from his hands and into your cock.
Your dick eagerly absorbs the demonic energy.

A deep pleasurable moan seeps out of your lips.

\&lt;&lt;run setup.choice(&quot;[[Kiss him-&gt;Encounter_Loss_Ethrex_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="744" name="Encounter_Loss_Ethrex_1" tags="" position="475,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You reach up to the behemoth and kiss him deeply.
He pushes it further, his own tongue reaching down your throat as if to taste something inside you.

You feel your orgasm being blocked by his magic. It builds into a hunger for release that can&#39;t be sated.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Ethrex_1_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="745" name="Encounter_Loss_Ethrex_1_1" tags="" position="600,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
You whimper to the demon who grins maniacally in response.

&quot;You&#39;re not ready yet. And I won&#39;t settle for an undercooked meal.&quot;

He brings both hands to your shaft and let his demonic magic flow inside your flesh.

\&lt;&lt;run setup.choice(&quot;[[Beg for more-&gt;Encounter_Loss_Ethrex_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="746" name="Encounter_Loss_Ethrex_2" tags="" position="725,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;

You feel your cock starting to grow bigger; the energy entering into it, filling you with potential.

Ethrex kisses you again, his taste drives you wild, you can&#39;t get enough.
You feel your balls get denser and fuller.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Ethrex_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="747" name="Encounter_Loss_Ethrex_2_1" tags="" position="850,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = true&gt;&gt;
Your cock gorges on his demonic energy, making it grow to &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;) + 31)&gt;&gt;.

The incubus then pulls back and brings his cock to your face.
He grabs the back of your head and pulls you towards it.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Encounter_Loss_Ethrex_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="748" name="Encounter_Loss_Ethrex_3" tags="" position="975,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Every touch hits you like a tidal wave, and soon you go over the edge.
You can only scream under the sheer intensity of it all.

The incubus licks his lips in anticipation.
Your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;) + 31)&gt;&gt; monster trembles under the upcoming flood.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Ethrex_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="749" name="Encounter_Loss_Ethrex_4" tags="" position="1100,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
A roar burst out of you, one that could be heard for miles.

The sheer size of it is almost too much for you to handle, but you keep going.
Hot, thick streams of cum begin to shoot out, flooding your surroundings and coating everything in sight.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Ethrex_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="750" name="Encounter_Loss_Ethrex_5" tags="" position="1225,9350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Ethrex.quest.cockOut = false&gt;&gt;
You can feel your orgasm intensifying as cum never stops gushing out.

The demon looks down on you with a devilish smile.
Your vision slowly blurs, yet you stare at Ethrex with utter admiration for his new form.

&quot;Grow in strength, then come back to me.&quot; He whispers before letting out a deep chuckle.

The demonic growth fades from your cock, but not fully...

∇: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 3))&gt;&gt;.

\&lt;&lt;run setup.choice(&quot;[[Pass out-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="751" name="Encounter_Intro_Ethrex_LowRela_Win" tags="" position="100,9475" size="100,100">\&lt;&lt;set $CharacterSheet_Ethrex.quest.beatenOnce = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Ethrex stumbles back, his feet slipping out from beneath him. 
He falls onto his back with a thud but begins to laugh uncontrollably.

His body shakes with mirth and his eyes crinkle in joy.
Laughter reverberates through the air.

“Yesssss, that’s it. You might be the one he spoke of.”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="752" name="Encounter_Intro_Ethrex_LowRela_Win_2" tags="" position="225,9475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
He tries to lift himself up but only manages to stand on one knee.

His eyes glow a deep red, he surveys you with an unsettling intensity. 

“Only one way to find out.”

Your battle has brought forth a massive reserve of Essence, one that is now rushing towards you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="753" name="Encounter_Intro_Ethrex_LowRela_Win_3" tags="" position="350,9475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
You can feel the Essence wrap around you, seeping into your pores and filling your veins with its presence. 
As it infuses your body, you feel an power coursing through your veins. 

Ethrex looks on with approval, his eyes twinkling with satisfaction.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="754" name="Encounter_Intro_Ethrex_LowRela_Win_4" tags="" position="475,9475" size="100,100">More Essence rushes into you, fills your soul with raw, pleasurable power.

You clasp your fists, feel your veins surge out. 
It pushes into your mouth like a sentient cloud, making your soul flare out in a sudden burst of power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_Win_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="755" name="Encounter_Intro_Ethrex_LowRela_Win_5" tags="" position="600,9475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;

Pleasure rises within you, raw, potent pleasure.

Suddenly, Ethrex whispers with a mischievous grin.

“Surely you want more, don’t you? Grant me some Essence, and I’ll show you what true power feels like.”

You try to contain deep moans and feel yourself being brought to the edge.

\&lt;&lt;if $Essence &gt;= setup.getDemonicTFCost($CharacterSheet_Player)&gt;&gt;
    &lt;&lt;print &quot;[[Grant him Power (&quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot; Essence)-&gt;&quot;+setup.getDemonicTFPassage($CharacterSheet_Player)+&quot;][$Essence -= &quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot;]]&quot;&gt;&gt;
\&lt;&lt;else&gt;&gt;
    &lt;&lt;print &quot;&lt;span class = &#39;inactive&#39;&gt;[[Grant him Power (&quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot; Essence)-&gt;&quot;+setup.getDemonicTFPassage($CharacterSheet_Player)+&quot;]]&lt;/span&gt;&quot;&gt;&gt;
\&lt;&lt;/if&gt;&gt;
[[Refuse-&gt;Encounter_Intro_Ethrex_LowRela_Win_Leave]]</tw-passagedata><tw-passagedata pid="756" name="Encounter_Intro_Ethrex_LowRela_Win_Leave" tags="" position="725,9475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
“Tsk, what a waste of wonderfully potent Essence.”

Even after tasting defeat, Ethrex is an imposing figure. 
He stares at you, as if daring you to reconsider, before sighing in disappointment.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_Win_Leave_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="757" name="Encounter_Intro_Ethrex_LowRela_Win_Leave_2" tags="" position="850,9475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;hooded&quot;)&gt;&gt;

The demonic behemoth turns his back on you and starts walking away.

He does not look back.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_LowRela_Win_Leave_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="758" name="Encounter_Intro_Ethrex_LowRela_Win_Leave_3" tags="" position="975,9475" size="100,100">With Ethrex gone, you feel yourself more in control of the pleasure rushing through your body.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="759" name="Encounter_Intro_Ethrex_MidRela" tags="" position="1100,9475" size="100,100">The sun beats down on your shoulders, and you feel the sweat start to form on your skin. 

You pause, sniffing the air, and feel a shiver run down your spine. 
The scent is musky and sweet, debauchery taken form.

You recognize the smell of Ethrex, the incubus.

\&lt;&lt;run setup.choice(&quot;[[Investigate the smell-&gt;Encounter_Intro_Ethrex_MidRela_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="760" name="Encounter_Intro_Ethrex_MidRela_2" tags="" position="1225,9475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
It is not long before you see Ethrex in the distance.

He stands tall and strong, his massive lats spread wide. 

He grins, eyeing you from head to toes. His cock throbs faster the more he gazes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_MidRela_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="761" name="Encounter_Intro_Ethrex_MidRela_3" tags="" position="100,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
He steps towards you, every step causing an audible thud.
His cock now leaks out precum like a damaged pipe. 

“Hmmmm... Finally. I’ve been waiting for you to come back.”

Deep moans below out of his now brutish face.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Ethrex)&gt;&gt;</tw-passagedata><tw-passagedata pid="762" name="Encounter_Ethrex_MidRela_Win" tags="" position="225,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;

Ethrex stumbles back, his feet slipping out from beneath him. 
He falls onto his back with a thud but begins to laugh uncontrollably.

His body shakes with mirth and his eyes crinkle in joy.
Laughter reverberates through the air.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_MidRela_Win_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="763" name="Encounter_Ethrex_MidRela_Win_1_2" tags="" position="350,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;

You can feel the Essence wrap around you, seeping into your pores and filling your veins with its presence. 
As it infuses your body, you feel an power coursing through your veins. 

Ethrex lets out a monstrous grin.

“Yes... This is what I was promised by my god. TAKE IT ALL!”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_MidRela_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="764" name="Encounter_Ethrex_MidRela_Win_2" tags="" position="475,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
More Essence rushes into you, fills your soul with raw, pleasurable power.

You clasp your fists, feel your veins surge out. 
It pushes into your mouth like a sentient cloud, making your soul flare out in a sudden burst of power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_MidRela_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="765" name="Encounter_Ethrex_MidRela_Win_3" tags="" position="600,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
Pleasure rises within you, raw, potent pleasure.
Suddenly, Ethrex whispers with a mischievous grin.

“Now’s the time, give that Essence to me, and I’ll turn you into a true demon.”

You try to contain deep moans and feel yourself being brought to the edge.

\&lt;&lt;if $Essence &gt;= setup.getDemonicTFCost($CharacterSheet_Player)&gt;&gt;
    &lt;&lt;print &quot;[[Grant him Power (&quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot; Essence)-&gt;&quot;+setup.getDemonicTFPassage($CharacterSheet_Player)+&quot;][$Essence -= &quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot;]]&quot;&gt;&gt;
\&lt;&lt;else&gt;&gt;
    &lt;&lt;print &quot;&lt;span class = &#39;inactive&#39;&gt;[[Grant him Power (&quot;+setup.getDemonicTFCost($CharacterSheet_Player)+&quot; Essence)-&gt;&quot;+setup.getDemonicTFPassage($CharacterSheet_Player)+&quot;]]&lt;/span&gt;&quot;&gt;&gt;
\&lt;&lt;/if&gt;&gt;
[[Refuse-&gt;Encounter_Intro_Ethrex_LowRela_Win_Leave]]</tw-passagedata><tw-passagedata pid="766" name="Encounter_Ethrex_MidRela_Win_Leave" tags="" position="725,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
“You can&#39;t be serious...”

Even after tasting defeat, Ethrex is an imposing figure. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_MidRela_Win_Leave_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="767" name="Encounter_Ethrex_MidRela_Win_Leave_2" tags="" position="850,9600" size="100,100">The demonic behemoth turns his back on you and starts walking away.

He does not look back.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="768" name="Encounter_Intro_Ethrex_Teammate" tags="" position="975,9600" size="100,100">The sun beats down on your shoulders, and you feel the sweat start to form on your corrupted, scaled.

You pause, sniffing the air, and your cock throbs in response.

You could recognize that smell anywhere.

\&lt;&lt;run setup.choice(&quot;[[Meet Ethrex-&gt;Encounter_Intro_Ethrex_Teammate_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village][setup.flagTimePasses($CharacterSheet_Ethrex)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="769" name="Encounter_Intro_Ethrex_Teammate_2" tags="" position="1100,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
It is not long before you see Ethrex in the distance.
He is a momunent of raw lust, a &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Ethrex, &quot;height&quot;))&gt;&gt; tall demonic demi-god.

He steps towards you, every step causing the ground to crack.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_Teammate_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="770" name="Encounter_Intro_Ethrex_Teammate_Menu" tags="" position="1225,9600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;

“Let&#39;s get moving, Lord of Lust. This world calls for our Corruption.”

You feel a chill run down your spine as he stops in front of you, his eyes blazing with an intense, fiery intensity.

\&lt;&lt;run setup.choice(&quot;[[Decide when Ethrex attacks-&gt;Ethrex_Teammate_ChangeAttackTiming]]&quot;);&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerSparExhaustion == true&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Fight Him-&gt;Ethrex_Teammate_Fight]] (You must rest before sparring again.)&lt;/span&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;Ethrex_Teammate_Fight]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Return home-&gt;Village][setup.flagTimePasses($CharacterSheet_Ethrex)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="771" name="Ethrex_Teammate_ChangeAttackTiming" tags="" position="100,9725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;

&quot;I care not about how you fight, just the rewards that come after.&quot;

&lt;&lt;print setup.displayAttackTimingDescription($CharacterSheet_Ethrex)&gt;&gt;

[[Attack before me-&gt;Encounter_Intro_Ethrex_Teammate_Menu][$CharacterSheet_Ethrex.fight.teammateSettings.attackTiming = setup.AttackTiming.BEFORE_PLAYER]]
[[Attack after me, but before our enemy-&gt;Encounter_Intro_Ethrex_Teammate_Menu][$CharacterSheet_Ethrex.fight.teammateSettings.attackTiming = setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY]]
[[Attack after me, but after our enemy-&gt;Encounter_Intro_Ethrex_Teammate_Menu][$CharacterSheet_Ethrex.fight.teammateSettings.attackTiming = setup.AttackTiming.AFTER_ENEMY]]</tw-passagedata><tw-passagedata pid="772" name="Ethrex_Teammate_Fight" tags="" position="225,9725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
“Hmmmm, your soul is too far gone to empower me anymore, but there is still Essence we can bring forth.”
\&lt;&lt;set $CharacterSheet_Player.info.tags.partnerSparExhaustion = true;&gt;&gt;
&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Ethrex)&gt;&gt;</tw-passagedata><tw-passagedata pid="773" name="Encounter_Ethrex_FinalRela_Win_Teammate" tags="" position="350,9725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
Ethrex&#39;s lips are locked with yours and you can feel his breath on your face.
His hands are spread out around you, gripping your body with a fervor you&#39;d never experienced before.

Slowly, he pulls away, his lips reluctantly leaving yours.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_FinalRela_Win_Teammate_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="774" name="Encounter_Ethrex_FinalRela_Win_Teammate_2" tags="" position="475,9725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
He begins to move, pushing himself up off of you, and you can feel the heat radiating from his body.
His muscles flex with effort as he rises, and you can&#39;t help but admire his strength and beauty.

&quot;Gahhhhh... You truly are lust given form.&quot;

The meaning of his words resonate within your soul.
Through your days of endless debauchery, you&#39;ve felt stronger than ever.

∇: You gain the &quot;Lust Incarnate&quot; ability.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.LustIncarnate)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Ethrex_Teammate_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="775" name="Encounter_Intro_God_Beast" tags="" position="600,9725" size="100,100">\&lt;&lt;run setup.choice(&quot;[[Fight-&gt;FightLogic]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="776" name="Encounter_Start_God_Beast" tags="" position="725,9725" size="100,100"></tw-passagedata><tw-passagedata pid="777" name="Encounter_Win_God_Beast" tags="" position="850,9725" size="100,100">\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="778" name="Encounter_Loss_God_Beast" tags="" position="975,9725" size="100,100">\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="779" name="Village_Herald_Loss" tags="" position="1100,9725" size="100,100">The Herald is merciless in his offense. He kicks your leg, forcing you down on one knee.

&quot;Our Bastion is not for monsters such as you.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Loss_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="780" name="Village_Herald_Loss_1" tags="" position="1225,9725" size="100,100">His fury is evident, but he still seems in complete control. Every move feels deliberate, and even though he desires to push it further, he stops himself. 

His arms drop to his side before he gestures to you to leave.

&quot;I will show mercy, explorer. Lose this Corruption coursing through your body, so that you can be judged once again.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave the Golden Bastion-&gt;Village_Exiled]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="781" name="Village_Herald_Win" tags="" position="100,9850" size="100,100">\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfTheLost&quot;);&gt;&gt;

The herald crumples before you. All strength, all vigor, all of his glory melts from his body like ice in the desert sun.
The idea that you may have once admired the Herald for their strength seems like a lifetime away.

In many ways, it is.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="782" name="Village_Herald_Win_1" tags="" position="225,9850" size="100,100">“You can&#39;t do this! We won&#39;t let you!” You hear a voice shout and your gaze drifts from the fallen Herald to see the Bastion&#39;s guards running at you.

You see their faces. They are familiar, one and all. You know that they are meant to be pillars of strength and resolve.
Something inside of you has changed however. A realization perhaps?

Yes. . .

They are weak.

\&lt;&lt;run setup.choice(&quot;[[Strike them down-&gt;Village_Herald_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="783" name="Village_Herald_Win_2" tags="" position="350,9850" size="100,100">You let them know just how weak they truly are, as you strike them aside with just a handful of seconds and as many swings of your powerful arms.
They pose no threat to you anymore.

All you see is their weakness; though perhaps there is still a chance for them yet. You have the means to grant them some of the strength within you, after all.

But first things first. You roar out, ushering forth a primal bellow understood since the dawn of time.
With that thunderous roar, you let the world know of your victory and call upon all to acknowledge it.

Your roar is answered.

Not from within the Bastion, hoard of weakness that it is, but from outside.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="784" name="Village_Herald_Win_3" tags="" position="475,9850" size="100,100">You hear the howls, the cries, the screams and snarls of those who have taken the first steps to embrace pure power.

With its defenders lying beaten and scattered, the Bastion lies defenseless before the swarm of Lost as they heed your call.

Your lesser kin roar at the sight of your victory over those who seemed unbeatable until now.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="785" name="Village_Herald_Win_4" tags="" position="600,9850" size="100,100">The strong grow stronger and the weak inevitably fall in line. There is no defiance and no fear; there is only submission and raw unadulterated lust.

They know their place and their position compared to you. They see you as what you are: the pinnacle of what they could be.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="786" name="Village_Herald_Win_5" tags="" position="725,9850" size="100,100">Glistening muscle-bound titans in their own right, they approach you like the feral beasts they are, and yet in every motion of theirs you can see the zealous reverence.

They come to flank you, come to stand before you, and some kneel while others press themselves against your body.

\&lt;&lt;run setup.choice(&quot;[[Let them worship you-&gt;Village_Herald_Win_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="787" name="Village_Herald_Win_6" tags="" position="850,9850" size="100,100">You let them; after all, is this not your due reward? You have proven, over and over again, that you are among the strongest, if not even the strongest!
They should adore, worship and service you in every way they could imagine!

The air is thick with arousal, both yours as well as theirs. Their hands roam over your muscular legs and your flaring lats. Their tongues slather your balls and maleness.
The corrupt runes that adorn your body glow as a stream of liquid corruption gushes from your member in place of pre, which the Lost eagerly lap up.

And you provide them plenty, as each little lick, each stroke of their hands, feels like a jolt of lightning surging through your massive maleness.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="788" name="Village_Herald_Win_7" tags="" position="975,9850" size="100,100">Fat veins along your member throb and feed it bigger each time. The steady stream turns into a volley of thick globs of goo, each massive jet of corruptive fluid as big as a grown man&#39;s torso.

There is no stopping it; quite the opposite in fact, as you can feel your balls grow fuller and heavier by the second instead of losing mass with each heavenly spurt.
The runes covering them pulse with growing vigor and fill your loins with an incredible heat.

Your gaze is hazy and unfocused as you look around and see the growing mass of bodies.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="789" name="Village_Herald_Win_8" tags="" position="1100,9850" size="100,100">More and more Lost are flocking in, all driven to worship the one who single-handedly took down the Golden Bastion&#39;s defenses.
Some of the village&#39;s remaining citizens join in and soon swell with muscle and size, all from the sheer power you radiate.

They. Are. Yours. Yours to do with as you see fit.

And you know exactly what they want.

\&lt;&lt;run setup.choice(&quot;[[Grow for your worshippers-&gt;Village_Herald_Win_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="790" name="Village_Herald_Win_9" tags="" position="1225,9850" size="100,100">You can feel their desire fill you and your body responds to the demand.
Heat flows through you, spreads into your limbs, stretches through your chest and flushes your genitals. You can feel an incredible pressure mount as the Lost obey and worship their pinnacle, their god.

United in a singular purpose, sharing in the Corruption that flows freely through them, both their bodies and yours surge in waves of growth.
The hungering howls of the beasts worshiping your maleness turned into ecstatic gurgles as their bodies begin to merge into yours.
Their massive, muscular frames sink into your own glistening flesh. The sensation as their mass flows into and spreads through you is exhilarating by itself already, like an incredible feast where you could eat your fill.

Thankfully, your hunger is endless, because so is the feast.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="791" name="Village_Herald_Win_10" tags="" position="100,9975" size="100,100">Another triumphant roar thunders its way across the skies as your body expands. Your power mounts even in excess of your size.
Your strength soars as your muscles tighten and stretch your skin.
Thick and powerful cords strain as massive veins throb beneath your skin to supply your growing bulk.

You watch as the buildings around you shrink away even further, become ever less noteworthy when compared to your glory, and as your gaze rises higher, above even the walls that surround the city, you cannot help but roar out again.

\&lt;&lt;run setup.choice(&quot;[[Outgrow the Golden Bastion-&gt;Village_Herald_Win_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="792" name="Village_Herald_Win_11" tags="" position="225,9975" size="100,100">The volume of your voice grows while its pitch deepens with the thickening and barrelling of your chest. It carries out over the plains and beyond the horizon.

The Lost answer again as within moments even more appear over the horizon to heed your call.
You can see their massive lumbering forms as they come running far, far faster than any being of such size had the right to.
They paid little heed for each other as those larger and faster smothered those who were too small, too slow, only to absorb them mid-stride and mutate and expand larger for it.

The Lost are now throwing themselves at you. They merged into your legs, your balls, your cock. Their forms submerge into your flesh as they add their size, their power, their lust and potential to you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="793" name="Village_Herald_Win_12" tags="" position="350,9975" size="100,100">Each new wave of Lost sacrificing themselves to you is like an explosion that propels you to new heights of pleasure. They all see you soar into the heavens of orgasmic bliss.
The immense monster between your legs, fed and constantly growing, erupts with a cataclysmic deluge of your corrupted seed.
Black glistening goo, of the same coloration as the Lost and, by now, your own flesh, ushers forth with such weight, volume and force that it sweeps even the more titanic of the Lost off their legs.

However, you fare no better. The sheer volume of your ever-intensifying orgasm piles the goo so high before you that it flows back and engulfs your lower body.
Your legs disappear in the writhing mass of corruption and you can feel a connection form.
It is no different from your flesh at this point, and it is no different from the Lost merging with you either.

Your legs become one with the mass.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="794" name="Village_Herald_Win_13" tags="" position="475,9975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

Slowly it lifts you higher as even your immense member is swallowed by it, but it feels better than ever. Hundreds, thousands of hands are worshiping your glorious size, unseen and unfelt by anyone but you.

You rise atop the growing sea beneath you, as Lost and Corruption become your body.
Your mass, formless and writhing, smothers the city, uninhabited but far from silent. Doors crash and walls buckle as you expand unceasingly and claim more and more for yourself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="795" name="Village_Herald_Win_14" tags="" position="600,9975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

You grow stronger by the second, and the world weakens by comparison. You engulf the Golden Bastion and subsume it into your form without any conscious effort on your part.
You watch as your gooey mass uproots what had once been your home, before it is easily crushed away, only to contribute even more to your mass.

You seep into the very ground below and draw it upwards and into yourself, only for it to contribute even more. You raise your arms and flex them.
Mountains rise up around you as the world vanishes from view. You can see nothing but your own vastness.

The immensity of your pectorals, seem like the mesas of the desert, while to your left and right, your deltoids and biceps fight for the claim of who rises higher.

You cannot look behind you, as between the size of your monstrous neck and the looming traps, there is nothing to see but more of you.

There is no stopping your growth; your ascension.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="796" name="Village_Herald_Win_15" tags="" position="725,9975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

Throes of orgasmic pleasure rush through you and with each wave of pleasure comes another surging wave of growth.

You stand taller, expand wider, grow deeper, no matter where you look, you only see more of yourself as your gooey mass expands outward.
You tower as tall as a mountain as you rise out of the ruins of the city. Its walls fall and buckle underneath you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="797" name="Village_Herald_Win_16" tags="" position="850,9975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

You can feel how they are crushed beneath your weight and it feels as if you did so by smashing your dick down upon them. And you realize that you can do just that.
Your form is yours after all. Malleable and willing, it will shape itself and do whatever you desire.

Desire.

To grow.

To consume.

To expand.

You are a god of lust and excess as you take full advantage of your ever expanding form.

&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠ G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠ G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠ G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠&quot;&gt;[[Grow, Consume, Expand-&gt;Village_Herald_Win_17]]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="798" name="Village_Herald_Win_17" tags="" position="975,9975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

Sights that would fill a mortal with awe and wonder fall beneath you, as they are not nearly as interesting as the enclaves of other groups of survivors.

None of them have any hope to resist you, as you are a towering advancing wall of change, which moves with the force of a hurricane .
Like a mountainside on the march, a glacier of corruption, you crush their pitiful resistance beneath you.
And yet, while even the biggest among them - who if given the chance may have well become like you now - is still miniscule compared to your immense form, each of them still provide absolutely ecstatic pleasure as they are subsumed and absorbed inside you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_18]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="799" name="Village_Herald_Win_18" tags="" position="1100,9975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

Engulfed in your body, they are utterly at your mercy. You fuck them with gooey cocks, formed specifically just for them in the cocoons you form within your mass.
Your corruption overtakes them within seconds. Their bodies swell with brawn while skin, scale and fur ooze from every pore until they are engulfed head to toe.

They grow to become the best they could ever be, the greatest they could ever achieve.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_19]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="800" name="Village_Herald_Win_19" tags="" position="1225,9975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

Once they outgrow their cocoons, once you have sated a vanishingly small fraction of your insatiable libido, they merge into your body like countless others before them.

The passage of time becomes meaningless to you, if it ever had much meaning to begin with, but even so you realize, or perhaps remember, that there was something else you wanted to do, that there is something else which requires your attention.

The temple of the Eldest.

It stands above all else, a beacon of a forgotten order.

You gaze upon it, and you can feel it gaze back. It radiates with hidden power beyond what you&#39;ve been ever allowed to access.

\&lt;&lt;run setup.choice(&quot;[[Absorb the Eldest&#39;s Temple-&gt;Village_Herald_Win_20]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="801" name="Village_Herald_Win_20" tags="" position="100,10100" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending.png&quot;, undefined, true)&gt;&gt;

You reach out, not just with your hand, but with your mind, and pluck the temple from its foundation.

It fits into your palm like an apple and with a simple clench of your fist, you crush its shell and make contact with the tremendous energies that were hidden inside!

You feel like you have been electrified as every nerve in your monstrous body fires at the same time.
You feel pain and immense pleasure, heat and cold, as the stellar power courses through your veins.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_21]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="802" name="Village_Herald_Win_21" tags="" position="225,10100" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_2_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_2.png&quot;, undefined, true)&gt;&gt;

Unimaginable power courses through you; the runes across your body glow in a blindingly bright purple.
Wave upon wave of growth roils through your mass and it feels like your body is about to burst from the sheer strength of your muscles. No mortal could ever withstand such pleasure.

Incredible orgasms thunders through you as your sensations heighten to the point that the slightest of breezes would be enough to set you off .

You might have cum for minutes, hours or even days, it didn&#39;t matter as there is now only one constant:

Your unending, unceasing, unstoppable growth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_22]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="803" name="Village_Herald_Win_22" tags="" position="350,10100" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_2_lowres.png&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/lost_ending_2.png&quot;, undefined, true)&gt;&gt;

You yearn to keep going, to consume and grow.

To grow the shell of existence cracks under your own weight.

And once you do, all worlds will feel your neverding lust.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Herald_Win_23]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="804" name="Village_Herald_Win_23" tags="" position="475,10100" size="100,100">All will feel your influence, like a sun burning into their flesh.

You reach out, to all that would succumb to your own selfish urges.

All will feel your light.

\&lt;&lt;run setup.choice(&quot;[[The End-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="805" name="Encounter_Intro_Imp" tags="" position="600,10100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Imp.encounterPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="806" name="Encounter_Start_Imp" tags="" position="725,10100" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Imp, &#39;encounterStartFlavour&#39;)&gt;&gt;</tw-passagedata><tw-passagedata pid="807" name="Encounter_Win_Imp" tags="" position="850,10100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Imp.postFightPassagesWin)&gt;&gt;</tw-passagedata><tw-passagedata pid="808" name="Encounter_Loss_Imp" tags="" position="975,10100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Imp.postFightPassagesLoss)&gt;&gt;</tw-passagedata><tw-passagedata pid="809" name="Imp_FirstMeeting_Intro" tags="" position="1100,10100" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.met = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_firstTime = false&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
You walk under the gaze of scorching sunlight, keeping your sight up on the lookout for Losts and other monsters.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_FirstMeeting_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="810" name="Imp_FirstMeeting_Intro_2" tags="" position="1225,10100" size="100,100">Hours pass as you traverse a dried-up oasis without noticing any threat. Still, you have the unshakable feeling that you are being watched.

The Lost are not known for their subtlety, but who knows what other horror could lie in ambush.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_FirstMeeting_Intro_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="811" name="Imp_FirstMeeting_Intro_3" tags="" position="100,10225" size="100,100">The sound of a snapping tree branch suddenly catches your attention.

You turn and immediately notice a small figure lying on his back. Based on his red skin and bat-like wings, it is clearly an imp.
While you have been warned of all kinds of demons in the past, imps are mostly known for their trickery rather than any raw aggressiveness.

The lesser demon slowly gets up, eyes cast down in embarrassment.

&quot;Damn it...&quot; He mutters before meeting your gaze.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_FirstMeeting_Intro_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="812" name="Imp_FirstMeeting_Intro_4" tags="" position="225,10225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;What an introduction, pffff&quot; He says, dusting off his wings while studying you out of the corner of his eyes.

His clawed feet dig into the sand as if he is preparing to pounce at any time.

\&lt;&lt;run setup.choice(&quot;[[Ready yourself-&gt;Imp_FirstMeeting_Intro_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="813" name="Imp_FirstMeeting_Intro_5" tags="" position="350,10225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

He grins, a glint of mad hunger showing in his devilish smile.

&quot;A man of a few words, I see. That&#39;s fine by me; I can already taste the Essence within you.&quot;

Within less than a second, his wings unfold.

&quot;We&#39;re all in this quest for power now, and I will not be left behind!&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="814" name="Imp_EncounterStart_Growth_Cock_1To2" tags="" position="475,10225" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_growthCock1to2 = false&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;

The more you explore, the more you feel at ease with the enigmatic landscapes of the Barrens. Ruins become familiar; traps and points of ambush become increasingly easy to recognize.

As such, you immediately recognize a lone leafless tree lying between forgotten dunes.

\&lt;&lt;run setup.choice(&quot;[[Inspect the tree from afar-&gt;Imp_EncounterStart_Growth_Cock_1To2_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="815" name="Imp_EncounterStart_Growth_Cock_1To2_2" tags="" position="600,10225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

As you could have guessed, the familiar imp lies in ambush upon one of the old branches. He is struggling to stay hidden.

\&lt;&lt;run setup.choice(&quot;[[Walk to him-&gt;Imp_EncounterStart_Growth_Cock_1To2_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him alone-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="816" name="Imp_EncounterStart_Growth_Cock_1To2_3" tags="" position="725,10225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

The imp fumbles as he notices you coming towards him, yet he can catch himself before falling off the tree.

He climbs down and walks towards you with pride.

&quot;We meet again, wanderer... I&#39;ve been eagerly itching for your return.&quot;

His hands suddenly explore his own body. Without an ounce of shame, he grasps his demonic cock, feels the ridges of his throbbing veins.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Cock_1To2_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="817" name="Imp_EncounterStart_Growth_Cock_1To2_4" tags="" position="850,10225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Hmmm... I&#39;ve been growing, but I&#39;m sure you noticed already~.&quot;

His cock rises to his chest, a long drop of pre sliding down the shaft and curving around his full, pumping balls.

&quot;Trust me, this is only the beginning... I&#39;ll grow until everyone looks up to me with lust burning in their eyes~.&quot;

With one hand grasping his mighty tool, he grins, his legs bent as he gets ready to pounce towards you.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="818" name="Imp_EncounterStart_Growth_Cock_2To3" tags="" position="975,10225" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_growthCock2to3 = false&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
The now-familiar deserts of the Barrens welcome you once again.

You walk confidently, keeping an eye out for treasures and listening for potential monsters lurking between the dunes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Cock_2To3_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="819" name="Imp_EncounterStart_Growth_Cock_2To3_2" tags="" position="1100,10225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
You suddenly hear a familiar voice in the distance.

Deep, lustful grunts.

It sounds very familiar.

\&lt;&lt;run setup.choice(&quot;[[Investigate-&gt;Imp_EncounterStart_Growth_Cock_2To3_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="820" name="Imp_EncounterStart_Growth_Cock_2To3_3" tags="" position="1225,10225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
You rise from a nearby dune and see the imp giving in to his inner urges.

His three-fingered hands coil his shaft as he licks his cock slit, moaning and shaking with arousal. \
His whole body shivers, with pre-cum oozing out of his monstrous tool.

&quot;G-guhhhhh... Hmmmmmm...&quot; He moans without an ounce of shame.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Cock_2To3_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="821" name="Imp_EncounterStart_Growth_Cock_2To3_4" tags="" position="100,10350" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Imp&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
His pleasure-filled growls suddenly stop as his glance meets yours.

He gives out an annoyed grunt.

&quot;How dare...&quot;

He gets up, annoyed but still clearly aroused.

&quot;I should be grateful for seeing you here, but no one interrupts me without paying the price!&quot;

He jumps towards you, his expression quickly turning into one of devilish desire.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="822" name="Imp_EncounterStart_Growth_Cock_3To4" tags="" position="225,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_growthCock3to4 = false&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;

Soon after you leave the Golden Bastion, a sound resounds across the desert.

It is deep, lustful and familiar. Focusing on it is an increasingly arousing act.

As your cock slowly springs to life, you recognize where you heard these moans before.
The moans of the ever-growing imp.

He gets louder with every encounter; his voice grows more profound, more powerful.

Surely he would not mind a visit.

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Imp_EncounterStart_Growth_Cock_3To4_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="823" name="Imp_EncounterStart_Growth_Cock_3To4_2" tags="" position="350,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

He sees you coming as if he has been waiting for your arrival.
His gaze soon drifts back to his cock. His meaty fingers pinch one of his nipples. He shivers in response.

&quot;It feels so good to grow, to feel your cock expand in your hands.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Cock_3To4_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="824" name="Imp_EncounterStart_Growth_Cock_3To4_3" tags="" position="475,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

His demonic cock reaches past his mouth now. It pulses with need, with thick veins pulsing angrily as if molten lava coursed through them.

&quot;I bet it&#39;s the same for you too... I bet you ache to grow just like this.&quot; He grins, bending his knees slightly.

His usual combat stance is increasingly difficult to pull off, considering how much meat he&#39;s packing. Yet, he wouldn&#39;t have it any other way.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="825" name="Imp_EncounterStart_Growth_Cock_4To5" tags="" position="600,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_growthCock4to5 = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;

&quot;Soooo biiiiiiiig...&quot; He mumbles, his mind bathing in the pleasure of his throbbing flesh grazing the warm wind.

He finally notices you and grins. Even in his state, he recognizes you.

&quot;Yesssss... MAKE ME BIGGER!&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="826" name="Imp_EncounterStart_Growth_Cock_5To6" tags="" position="725,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
It&#39;s not long after you leave the city that a familiar sound reverberates through the air.

Those moans of his are like rolls of thunder. It&#39;s powerful, so much more powerful than before.
They act like a clarion call to your libido. When you look down you realize the sound already has you rock hard and leaking pre.

The imp&#39;s powers are even more intense than before if he&#39;s able to affect you this badly from so far away without even trying.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Cock_5To6_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="827" name="Imp_EncounterStart_Growth_Cock_5To6_2" tags="" position="850,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
You know he must be even larger, even stronger than the last time you met him. Its enough to make you eager, excited, even nostalgic for the prior encounters that led you here.

It&#39;s even almost enough to make you nervous.

Dare you approach once again to see what has become of the monstrosity of an imp?

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Imp_EncounterStart_Growth_Cock_5To6_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="828" name="Imp_EncounterStart_Growth_Cock_5To6_3" tags="" position="975,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_growthCock5to6 = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

His cock is already rock hard, not that you could even imagine that leviathan to ever go soft. It takes both of his disproportionately massive hands to even begin to cover a reasonable amount of his cock.
You know this because he&#39;s been shamelessly jerking himself off since you came into view.

To your surprise, he doesn&#39;t actually look bigger. Not that he&#39;s not still gigantic beyond reason both in size and proportion. But he hasn&#39;t grown any larger than your last encounter.

All except for one part.

\&lt;&lt;run setup.choice(&quot;[[Gaze at his balls-&gt;Imp_EncounterStart_Growth_Cock_5To6_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="829" name="Imp_EncounterStart_Growth_Cock_5To6_4" tags="" position="1100,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

His balls have ballooned to outright ridiculous proportions. His massive testicles now are each the size of his own torso and resting firmly upon the ground even with him standing. \
You could actually see the sheer amount of cum sloshing back and forth with each movement he makes.

Now you understand why that lust-inducing effect of his is so much stronger.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Cock_5To6_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="830" name="Imp_EncounterStart_Growth_Cock_5To6_5" tags="" position="1225,10350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;
The rest of his body may not have enlarged further but his virility seems to have grown more than enough for the rest of him! \
His cock is letting out a constant stream of pre that makes the ground at his feet into a quagmire of musky mud.

He takes a moment to simply wrap his lips around the head of his cock and greedily guzzle a few mouthfuls of his own pre before releasing it again with a happy sigh.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Cock_5To6_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="831" name="Imp_EncounterStart_Growth_Cock_5To6_6" tags="" position="100,10475" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Imp&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
As the imp beckoned you closer he didn&#39;t even bother trying to take his normal fighting stance knowing full well his new proportions wouldn&#39;t allow it. Yet that did nothing to dampen the look of confidence on his face.

&quot;Soon I&#39;ll be bigger than a god.&quot; The imp bragged before slapping the side of one of his enormous nuts.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="832" name="Imp_EncounterStart_Growth_Body_MediumToLarge" tags="" position="225,10475" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_growthBodyMediumToLarge = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

The deserts of the Barrens swallow you once again. Its endless dunes and valleys seemingly shift with every expedition, but some parts are just too massive to lose sight of.
What started as a tiny imp has become one of these; you see him tower over the dunes. The ground shakes under each of his thunderous steps.
Long, drawn-out moans bellow out of him, his voice now ten times deeper than it used to be.

Monstrous meaty hands grasp his cock as he notices your presence. He jerks it, grinning at you, letting you bask at his mountainous form.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Body_MediumToLarge_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="833" name="Imp_EncounterStart_Growth_Body_MediumToLarge_2" tags="" position="350,10475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;
You rise from a nearby dune and see the imp giving in to his inner urges.

The imp you once knew is but a memory at this point. He is now a demonic beast, big enough to crush anything that stands in his way.

Yet, his mischievous charm remains; he grins at you with the same old devilish smile.

&quot;I&#39;m so freaking big...&quot; He opens his monstrous hand, marvels at how it&#39;s bigger than his head.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EncounterStart_Growth_Body_MediumToLarge_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="834" name="Imp_EncounterStart_Growth_Body_MediumToLarge_3" tags="" position="475,10475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;But we can keep growing... We could be so much MORE!&quot; He grins, his cock throbbing with anticipation.

It feels like fighting you is no longer a fight at all.
It&#39;s an exchange of power and lust. A dance of beasts ascending into godhood.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="835" name="Imp_EndingLoop" tags="" position="600,10475" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.info.name = &quot;Kanathar&quot;&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_WordOfPower&quot;);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

Your bond with the imp feels closer than ever.

Except.

Seeing this imp grow stronger with every encounter, the pleasure you&#39;ve shared, it all feels strangely familiar.
Suddenly, a name appears in your mind, a powerful realization that shakes you to your core.

This imp, he is so much more. You remember him growing bigger than buildings. You&#39;ve seen him absorb a power beyond anything mortals could ever touch. Your memories of you worshipping every inch of his impossibly huge form appear vividly in your mind.
You utter his name, the name that has conquered the limits of memories.

Kanathar.

\&lt;&lt;run setup.choice(&quot;[[Say his name-&gt;Imp_EndingLoop_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="836" name="Imp_EndingLoop_2" tags="" position="725,10475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

The imp&#39;s eyes widen. It seems familiar to him as well.

&quot;That word... It&#39;s a name, right?&quot;

He suddenly grasps his chest in discomfort and grunt. The weight of his own past and future suddenly dawn upon him as well.

&quot;That&#39;s... That&#39;s my name!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EndingLoop_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="837" name="Imp_EndingLoop_3" tags="" position="850,10475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

The heavy truth soon dawns upon you both, and the power hidden within his name takes no time to enter its owner.

His whole frame shivers as an aura of fiery purple envelop him.

&quot;Oh gods,&quot; he says, &quot;This power, it&#39;s all mine.&quot;
His pecs begin to balloon as he gropes them tentatively. His biceps grow to look even more intimidating and powerful. You can feel the power rushing into him, and it only flows into him even faster.

Δ: Kanathar&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;height&quot;, 12 * 12))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Imp, &quot;muscles&quot;, 90)&gt;&gt;
Δ: Kanathar&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Imp)&gt;&gt;(+$growth).

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EndingLoop_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="838" name="Imp_EndingLoop_4" tags="" position="975,10475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Hmmmmm... Gahhhhh!&quot;

His whole body pulses and bloats with power. His moans grow increasingly deep, and his cock snake down his legs. You have to step back as the Imp frame suddenly bursts out in size.

Δ: Kanathar&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;cock&quot;, 11 * 12))&gt;&gt; longer.
Δ: Kanathar&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;balls&quot;, 9 * 12))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EndingLoop_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="839" name="Imp_EndingLoop_5" tags="" position="1100,10475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Imp, 100)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;GRRAHHHHHH!!!&quot;

His eyes fill with the same purple fire surrounding his body, the true essence of power, a boundless gift from a forgotten god. It&#39;s all for him, all for Kanathar.
His broken horn suddenly grows and reforms, giving him the stature of a true demon.

It is as it should be.

Δ: Kanathar&#39;s Corruption has increased by 100.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_EndingLoop_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="840" name="Imp_EndingLoop_6" tags="" position="1225,10475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;

Kanathar now grasps his cock and flexes with a deep cackle. Without a doubt, he&#39;s enjoying his gift.
Thick white cum oozes and drips down of his impossibly huge cock, and based on how huge his balls have grown, and you can tell that he&#39;ll be cumming for hours before emptying them.

&quot;Hehehe, this is gonna be fun...&quot; For the first time since you&#39;ve met the imp, he honestly seems satisfied with himself.
But of course, it&#39;s not long before his demonic ambitions soon make him yearn for more.

&quot;I&#39;ll be seeing soon; I&#39;m sure there&#39;s a lot to discover with this new power.&quot;

\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Imp, setup.Ability.NeverendingGrowth)&gt;&gt;
Δ: Kanathar gains the &quot;Never-ending Growth&quot; ability.

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="841" name="Imp_Low_Rela_EncounterStart" tags="" position="100,10600" size="100,100">\&lt;&lt;run setup.buffImpEncounter()&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

As you rummage some ruins in search of salvage, you hear a familiar voice resound in the distance.

&quot;You again! I&#39;ve been training, waiting for the day I&#39;d meet you in my travels again! Prepare yourself!&quot; 

It is closer to screeching than anything else, but you do recognize that voice. You turn to face the imp that you previously met.

He is determined to fight you once more.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="842" name="Imp_LukkaReservoir_QuestHint" tags="" position="225,10600" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.available_LukkaReservoir_QuestHint = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.relationshipScoring++&gt;&gt;
The imp clutches his chest and falls to one knee, yet he snickers amidst the pain. He seems strangely satisfied.

But your attention is diverted to Lukka&#39;s Essence reservoir. 
The apparatus beings to glow in a soft red light.

You can sense that the reservoir fills itself with the imp&#39;s Essence.

∇: Lukka&#39;s Essence reservoir glows brighter than before.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_LukkaReservoir_QuestHint_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="843" name="Imp_LukkaReservoir_QuestHint_2" tags="" position="350,10600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The imp senses your distraction and takes advantage of the opportunity to make its escape.

&quot;Keep your eyes on the prize, wanderer.&quot;

He flaps its wings and takes off into the sky.

His wings seem to sparkle in the sunlight and it gracefully soars higher and higher into the sky, eventually fading into the horizon. 
You are left alone in the Barrens once more.

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="844" name="Imp_Low_Rela_Win_Idle" tags="" position="475,10600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

The imp clutches his chest and falls to one knee, yet he snickers amidst the pain. He seems strangely satisfied.

&quot;Hehehe... I haven&#39;t felt the thrill of the fight in a long time...&quot;

His legs shake, overburdened by the sheer act of standing up.
The imp falls unceremoniously, his wings slowly laying flat beside him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Low_Rela_Win_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="845" name="Imp_Low_Rela_Win_Idle_2" tags="" position="600,10600" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.relationshipScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
A faint white mist rises from the ground around you both.

You feel the energy of the Essence in the air, and it&#39;s electrifying. You can feel it coursing through your veins.

&quot;Be proud of this victory, wanderer. Next time, this Essence will be mine.&quot;

[[Absorb the Essence-&gt;Imp_Low_Rela_Win_Idle_2_1]]</tw-passagedata><tw-passagedata pid="846" name="Imp_Low_Rela_Win_Idle_2_1" tags="" position="725,10600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You close your eyes and take a deep breath, letting the power of the Essence wash over you. Your skin tingles as the energy enters your body, and you can feel your heart beating faster.
You groan as your cock throbs firmly, sending pulses of power all around you.

&quot;The Barrens can feel the passion of battle, empower the mighty no matter what.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Low_Rela_Win_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="847" name="Imp_Low_Rela_Win_Idle_3" tags="" position="850,10600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You squeeze your monstrous cock head with all your strength. Soon cum gushes out of your tool as you roar in bliss, letting this rush of power shake you to your core.

The imp clenches his fists, and groans with jealousy.

Δ: Your bond with the imp has become stronger.

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="848" name="Imp_Low_Rela_Loss_Idle" tags="" position="975,10600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
You clutch your chest and fall to one knee as the imp walks to you.

&quot;This was... Exhilarating!&quot; He laughs devilishly, feeling himself as he tastes the Essence flowing within him.

&quot;At this rate, I will become a true demon in no time.&quot; 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Low_Rela_Loss_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="849" name="Imp_Low_Rela_Loss_Idle_2" tags="" position="1100,10600" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.relationshipScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
One of his hands grasps his cock and heartily jerks it at the thought. He loses himself in his pride.

&quot;But of course, ascension does not happen in one day.&quot; A high-pitched chuckle seeps out of him before his focus drifts back to you.

&quot;May we meet again, wanderer. Hopefully, next time brings something more than a friendly spar~.&quot; 

He bursts into laughter, his cock throbbing with lustful satisfaction as he flies away. 

Δ: Your bond with the imp has increased slightly.

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="850" name="Imp_Low_Rela_Win_EnterMidRela" tags="" position="1225,10600" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.available_postFightPassagesWin_lowRelaEnterMidRela = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The imp falls once more, exhaustion taking the best of him. His head lifts up to you in disbelief.

&quot;You&#39;re not mortal, are you? Another monster cursed by the Eclipse?&quot;

He laughs, his gaze studying you with fascination.

&quot;You remind me of my old master.&quot;

His cock throbs with need, as much as he tries to ignore it.

\&lt;&lt;run setup.choice(&quot;[[Say you&#39;re the same as anyone else-&gt;Imp_Low_Rela_Win_EnterMidRela_No]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Imply that you&#39;re not sure-&gt;Imp_Low_Rela_Win_EnterMidRela_Yes]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="851" name="Imp_Low_Rela_Win_EnterMidRela_Yes" tags="" position="100,10725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Then you know what is happening to me as well...&quot; He relaxes.

&quot;The Lost will keep getting stronger no matter what, but I will be on top of those mindless monsters. This is a race for ascension.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Low_Rela_Win_EnterMidRela_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="852" name="Imp_Low_Rela_Win_EnterMidRela_No" tags="" position="225,10725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;You are even more intriguing than I thought...&quot; He takes the time to look you over, admiring your form. 

&quot;One with the body and strength of a titan who is still humble at his core. Can&#39;t say I&#39;ve ever encountered that before.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Low_Rela_Win_EnterMidRela_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="853" name="Imp_Low_Rela_Win_EnterMidRela_2" tags="" position="350,10725" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.relationshipScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
He looks you in the eyes.

&quot;Maybe it won&#39;t be me who ascends after all...&quot; He stands to his feet and gives you a swift, curt bow. 

&quot;...but maybe that&#39;s not such a bad thing...&quot; 

He flicks his tongue towards you before spreading his wings and taking off into the skies, leaving you to your thoughts.

Δ: Your bond with the imp has increased slightly.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="854" name="Imp_MasterChoice" tags="" position="475,10725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;Incredible...&quot; The imp mutters between exhausted breaths. He suddenly folds his wings back, taking a more relaxed stance.

&quot;Alright, you win.&quot; He says, crossing his arms.

&quot;We both know that I don&#39;t have a chance here, so why do you keep seeking me out? Surely you can take on bigger monsters at this point.&quot;

\&lt;&lt;if State.variables.CharacterSheet_Imp.quest.masterScoring &gt;= 3&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Say you enjoy his company-&gt;Imp_MasterChoice_Positive]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Say you want to keep growing stronger-&gt;Imp_MasterChoice_Positive]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Tell him he&#39;s just another monster standing in your way-&gt;Imp_MasterChoice_Negative]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if State.variables.CharacterSheet_Imp.quest.servantScoring &gt;= 3&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Tell him that you want to keep seeing him grow-&gt;Imp_Loss_ServantChoice_2]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="855" name="Imp_MasterChoice_Negative" tags="" position="600,10725" size="100,100">&quot;What?&quot; Looks surprised and confused.

&quot;I better take my leave then...&quot;

The imp leaves, unable to hide his disappointment.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="856" name="Imp_MasterChoice_Positive" tags="" position="725,10725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
His eyes suddenly light up, gleaming with newfound hope.

&quot;Then we are aligned~,&quot; He says, nearly blushing.

&quot;I am still not sure what you are exactly, but I have been thinking about you since we first met.&quot;

His tone is somewhat shy; not often does he show this much honesty to people.

He walks up to you/climbs you, his arms crossing around your neck. He stares into your eyes and freezes as if he&#39;s thinking of the right words to use.

Suddenly, he whispers:
&quot;Let me serve you...&quot;

\&lt;&lt;run setup.choice(&quot;[[Accept-&gt;Imp_MasterChoice_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse-&gt;Imp_MasterChoice_Negative]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="857" name="Imp_MasterChoice_2" tags="" position="850,10725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;Yes... Thank you...&quot; He says as a rush of emotions flows through him.

&quot;Master...&quot; His voice lowers down to a whisper but it shakes you to your core.

Master.

Hearing this word coming from the demon feels right.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_MasterChoice_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="858" name="Imp_MasterChoice_3" tags="" position="975,10725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;
The imp&#39;s body suddenly glows in a deep red hue as he reaches for your cock. His tongue flows out; he pants with need.

&quot;There&#39;s no need for me to hold back now...&quot;

\&lt;&lt;run setup.choice(&quot;[[Make him suck you off-&gt;Imp_MasterChoice_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="859" name="Imp_MasterChoice_4" tags="" position="1100,10725" size="100,100">\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Imp&quot;])&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
&quot;Oh fffuuuuuck.&quot; The imp growls under his breath as you grasp the back of his head.

You look down. A puddle of cum is building in front of the imp. He cannot stop oozing out his demonic seed.

&quot;Master...&quot;

It seems like he has been looking forward to this. His whole body heats up.

&quot;G-god... I give in... Forget plans and schemes... I want you for real...&quot; He grabs your cock and moans loudly, without any shame.

The red hue suddenly transfers to your cock. It feels like a bomb suddenly goes off. Your teeth clench as your dick suddenly burst with size. It throbs and swells, pushing the imp back.

&quot;Grow, master... Take this world as your own!&quot;

\&lt;&lt;run setup.choice(&quot;[[Attempt to contain your growing lust-&gt;Imp_MasterChoice_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="860" name="Imp_MasterChoice_5" tags="" position="1225,10725" size="100,100">\&lt;&lt;run setup.stopSoundActions()&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;

Your cock slams into the sand. You attempt to jerk it as a rush of arousal courses through you, but it grows out of your grasp. It pulses and throbs like a possessed beast.

You roar as it grows to reach your face easily. It suddenly moves against your will, as if its arousal had to be sated no matter what.

You try to jerk your cock to calm its lustful fury, but it is simply not enough. It suddenly bends and reaches your mouth, urging for you to suck it.

\&lt;&lt;run setup.choice(&quot;[[Suck yourself off-&gt;Imp_MasterChoice_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="861" name="Imp_MasterChoice_6" tags="" position="100,10850" size="100,100">\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
You taste your own seed, feel the demonic corruption coursing within it.

Your body feels tight and packed as a strange warmth spreads within you.

You feel... Pride.

A shameless love of the power that resonates within you and the imp. Your body begins to swell, your muscles growing larger and harder. \
You grab the end of your cock and bring it closer, eagerly tasting more and more of your demonic cum. \
You raise your arms, veins snake across your skin, feeding the rapidly-growing muscles. You flex and marvel at your impossibly impressive arms.

This turns you on even more...

\&lt;&lt;run setup.choice(&quot;[[Pridefully roar-&gt;Imp_MasterChoice_7][setup.stopSoundActions();]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="862" name="Imp_MasterChoice_7" tags="" position="225,10850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
Your roar, your prideful display is rewarding you with even more pleasure. Your massive dick lays nestled between your growing pecs, every flex of your muscles pleasuring your cock further.

The imp&#39;s moans are impossible to ignore. Soon you feel him press himself on your cock, rubbing and massaging the shaft with his whole body.

Your cock eventually grows too massive to be taken by your mouth. Cum sprays into the air, dripping down onto you both with no signs of stopping.

Upon seeing your head freed from the demonic cock, the imp quickly crawls to you and kisses you wildly.

&quot;Master...&quot;

\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Achievement_MemoriesOfKanathar&quot;)&gt;&gt;
\&lt;&lt;run setup.impJoinsPlayer()&gt;&gt;

Δ: The imp will now join you in battle!

\&lt;&lt;run setup.choice(&#39;[[Utter his name-&gt;Imp_EndingLoop][setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])]]&#39;);&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Kiss him back-&gt;Imp_MasterChoice_8]]&lt;/span&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Kiss him back-&gt;Imp_MasterChoice_8]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="863" name="Imp_MasterChoice_8" tags="" position="350,10850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
\&lt;&lt;run setup.impJoinsPlayer()&gt;&gt;
&quot;Ggggaaaaahhhh...&quot; Your imp moans within the kiss, his body overwhelmed by your raw masculinity.

That being said, the experience has left you both exhausted. You lay down, with the imp resting on top of you.

&quot;I can&#39;t wait to see what kind of adventures await us next, master.&quot; He whimpers before you put your arms around him. He pulls you into a long kiss once more.

You both slowly doze off.

Δ: The imp will now join you in battle!

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village][setup.stopRealizationPackages([&#39;CharacterSheet_Imp&#39;, &#39;CharacterSheet_Player&#39;])]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="864" name="Imp_Mid_Rela_EncounterStart" tags="" position="475,10850" size="100,100">\&lt;&lt;run setup.buffImpEncounter()&gt;&gt;
Soon after you leave the Golden Bastion, you notice a winged figure flying overhead.
With his red skin and bat-like wings, you recognize the imp that you&#39;ve fought in the past.

He suddenly drops, landing in front of you in one sweep of his wings.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Mid_Rela_EncounterStart_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="865" name="Imp_Mid_Rela_EncounterStart_2" tags="" position="600,10850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;We meet again, wanderer.&quot; He looks you over and grins.

&quot;I gotta say, you&#39;re getting easier to find, not that that&#39;s a bad thing~.&quot;

His claws suddenly curl out, and his knees bend slightly. You unsheath your weapon in reaction, knowing that he&#39;s about to pounce.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="866" name="Imp_Mid_Rela_Loss_Idle" tags="" position="725,10850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

With one last hit from the imp, you fall on your back, your gaze never leaving the demon.
His wings unfold in triumph.

&quot;Looks like I win this time!&quot; he exclaims with excitement, his arms spread out, eagerly awaiting the flow of Essence to reach him.

A soft white hue suddenly envelops him, and he closes his eyes and groans.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Mid_Rela_Loss_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="867" name="Imp_Mid_Rela_Loss_Idle_2" tags="" position="850,10850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Grrrrr..... Yyyessssss~!&quot; His body shivers with pleasure, his clawed hand reaching down to wrap tightly around his demonic cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Mid_Rela_Loss_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="868" name="Imp_Mid_Rela_Loss_Idle_3" tags="" position="975,10850" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.relationshipScoring++&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;Look at me... I&#39;m finally becoming a true demon!&quot;

With every movement of his hands caressing his sensitive tool, his breaths grow faster. His cock pulses with increasing need.
His shaft bloats a little longer and thicker with each jerk; more veins surge out, pumping the demonic dick into more and more of a beast worthy of the name!

The imp moans in prideful lust, one of his fingers wiping a growing bead of precum from the head of his dick before seductively licking it clean.

&quot;I bet you&#39;re aching to have a taste~&quot; he teases, his new, thicker member oozing demonic pre...

Δ: The imp&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;cock&quot;, 3))&gt;&gt; longer.
Δ: The imp&#39;s balls grow &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;balls&quot;, 1))&gt;&gt; wider.

Δ: Your bond with the imp has increased slightly.

\&lt;&lt;run setup.choice(&quot;[[Pleasure him-&gt;Imp_Mid_Rela_Loss_IncreaseServant]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Press him against your pecs-&gt;Imp_Mid_Rela_Win_Idle_IncreaseMaster]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="869" name="Imp_Mid_Rela_Win_Idle" tags="" position="1100,10850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.relationshipScoring++&gt;&gt;

This fight has lasted long enough, as you are both aware. The flow of Essence gathers you both and suddenly rushes to you.
You boom in pleasure, throwing your head back, letting out a deep groan.

The imp can only look on as you take your reward, but he does not seem too bothered with that outcome. \
Seeing you revel in pleasure and power seems a reward in it of itself. \
He ogles your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt; and slowly steps closer. \

His unusually shy composure is impossible to ignore. You flex for him in response.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Mid_Rela_Win_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="870" name="Imp_Mid_Rela_Win_Idle_2" tags="" position="1225,10850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;HHHrrr... Fuck...&quot; The imp groans. He is getting overwhelmed by your musk.

Δ: Your bond with the imp has increased slightly.

\&lt;&lt;run setup.choice(&quot;[[Pleasure him-&gt;Imp_Mid_Rela_Loss_IncreaseServant]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Press him against your pecs-&gt;Imp_Mid_Rela_Win_Idle_IncreaseMaster]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="871" name="Imp_Mid_Rela_Win_Idle_IncreaseMaster" tags="" position="100,10975" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.relationshipScoring++&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.masterScoring++&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
You grab his hand, grinning at how flustered he is. He does not hold back; his gaze is locked into your chest, hypnotized by your masculine strength. \
You effortlessly bring his hand to your pec, making him shiver with lust, your nipples bending between his clawed fingers.

&quot;A-ahhh... I...&quot; The imp&#39;s eyes close slightly. His warm breath slide across your chest, his fingers press in harder, shamelessly at your chest.

You can tell how much he wants this. His cock is already dripping with pre.

Without warning, you shove the demon between your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;pecs&quot;)&gt;&gt;. \
Both of his hands gripped along under your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;pecs&quot;)&gt;&gt;, desperately squeezing your muscles.

\&lt;&lt;run setup.choice(&quot;[[Press him harder-&gt;Imp_Mid_Rela_Win_Idle_IncreaseMaster_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="872" name="Imp_Mid_Rela_Win_Idle_IncreaseMaster_2" tags="" position="225,10975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
Your pecs shake as he moans into them, his eyes rolling shut.

&quot;NNNnhhhh!! Ahhhhhh!&quot; This is all it took to drive him over the edge. \
The imp bites his lips and shamelessly shoots volley upon volley of demonic cum on your chest.

You feel the demonic cum absorb within your skin as if it was attracted to your dominating nature. \
Your chest starts to swell, building into the ideal living only in the imp&#39;s fantasies.
A burst of growth suddenly reaches your abs, pushing the imp back. You pull your head back and roar.

Δ:Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 7))&gt;&gt; taller.
Δ:Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).

Δ: You feel more inclined to dominate the imp.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Mid_Rela_Win_Idle_IncreaseMaster_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="873" name="Imp_Mid_Rela_Win_Idle_IncreaseMaster_3" tags="" position="350,10975" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Imp&quot;, &quot;CharacterSheet_Player&quot;])&gt;&gt;
The imp suddenly realizes what he has done.

He cannot surpass you at this rate, but somehow, this feels right.

He shakes his head and turns his back to you, unfolding his wings.

&quot;I-I... I have to take care of something...&quot;

Small puffs of sand booms out as he flies away.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="874" name="Imp_Mid_Rela_Loss_IncreaseServant" tags="" position="475,10975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The imp&#39;s lust is infectious! While the remnants of your sanity scream for you to resist and not give in to his influence, it&#39;s just too hot to resist. You close in on the imp and collapse to your knees before him.

&quot;Hehehe,&quot; he chuckles, &quot;don&#39;t worry; I&#39;ll make it worth your while...&quot;

His hand suddenly grasps the back of your head and pulls you in. Your eyes widen as the first drop of his potent pre touches your tongue! \
It is invigorating. You steady yourself by grasping the imp&#39;s waist, eagerly pressing your tongue against his cockslit, begging for more!

&quot;Yessss... you like that, runt?&quot; the imp growls. His voice sounds more profound and more dominant despite his size.

\&lt;&lt;run setup.choice(&quot;[[Nod and suck him off-&gt;Imp_Mid_Rela_Loss_IncreaseServant_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="875" name="Imp_Mid_Rela_Loss_IncreaseServant_2" tags="" position="600,10975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

In response, you take his whole dick deep into your mouth and throat. Warmth spreads from your core, your body shaking with anticipation. It keeps getting warmer and warmer, like a fire spreading to your muscles and cock.

You feel proud, proud of your endless hunger for pleasure and power; proud of changing and growing until you become unstoppable!

&quot;Let desire flow through you,&quot; the imp moans, his breaths coming quicker as release closes in. With a deep bellow, he clenches his toes and arches his back as thick loads of his demonic cum shoot out of his growing cock!

\&lt;&lt;run setup.choice(&quot;[[Swallow eagerly-&gt;Imp_Mid_Rela_Loss_IncreaseServant_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="876" name="Imp_Mid_Rela_Loss_IncreaseServant_3" tags="" position="725,10975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
You do not waste a single drop of this imp&#39;s tangy ambrosia. Every gulp spreads the heat within you until it feels like a roiling inferno! You jerk your cock harder and feel it growing thicker in your palm!

\&lt;&lt;run setup.choice(&quot;[[Look up to the imp-&gt;Imp_Mid_Rela_Loss_IncreaseServant_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="877" name="Imp_Mid_Rela_Loss_IncreaseServant_4" tags="" position="850,10975" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Imp&quot;, &quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
You gaze up to the imp who grabs his balls, his face split into a satisfied grin. His ambition is undeniable; this small imp certainly could grow into something more.

As you let his demonic energy course through you, a vision seeps into your mind. You see the imp, taller than any beast or structure, with muscles massive enough to crush mountains—the ultimate demon of pride, a lord amongst untamable beasts.

The vision is too much for your mind to bear; it soon dissipates into blackness.

You pass out.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Mid_Rela_Loss_IncreaseServant_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="878" name="Imp_Mid_Rela_Loss_IncreaseServant_5" tags="" position="975,10975" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.servantScoring++&gt;&gt;
You wake up shortly after, covered in a mix of your and the imp&#39;s cum. He is nowhere to be seen.

Hopefully, you&#39;ll meet him again.

Δ: Your cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 3))&gt;&gt; longer.
Δ: Your balls have grow &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, 1))&gt;&gt; wider.

Δ: You feel more inclined to serve the imp.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="879" name="Imp_Servant_EncounterStart" tags="" position="1100,10975" size="100,100">\&lt;&lt;run setup.buffImpEncounter()&gt;&gt;
Soon after you leave the Golden Bastion, you notice a winged figure flying overhead.

Immediately, you recognize Kanathar, your master, flying above and coming your way.
Your mouth waters, your cock hardens.

With one sweep of his demonic wings, he lands in front of you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Servant_EncounterStart_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="880" name="Imp_Servant_EncounterStart_2" tags="" position="1225,10975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;Show me how much you&#39;ve grown, pet~,&quot; He says, grinning in anticipation for what&#39;s to come.

His claws suddenly curl out, and his knees bend slightly. \
You unsheath your weapon in reaction, yet you shiver with lust, unable to contain the excitement of being with your master once more.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="881" name="Imp_Loss_ServantChoice" tags="" position="100,11100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The imp&#39;s final blow proves too much for you to bear. His strength has undoubtedly increased since you first encountered him.

He grins wide as you crumble to your knees at his feet.

&quot;It seems your Essence has been worthwhile after all!&quot; he sneers, flexing for you, letting you bast in his demonic might.

&quot;But I could be so much more...&quot;

\&lt;&lt;if State.variables.CharacterSheet_Imp.quest.masterScoring &gt;= 3&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Tell him he&#39;d be better as your servant-&gt;Imp_MasterChoice_2]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if State.variables.CharacterSheet_Imp.quest.servantScoring &gt;= 3&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Loss_ServantChoice_2]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="882" name="Imp_Loss_ServantChoice_2" tags="" position="225,11100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
He reaches down and lifts your chin, forcing you to gaze into his slitted eyes.

&quot;I can feel that need within you, too,&quot; he whispers lustily, his cock throbbing with arousal.

&quot;Give yourself to me as I grow into a demon lord!&quot;

\&lt;&lt;run setup.choice(&quot;[[Accept-&gt;Imp_Loss_ServantChoice_Yes]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse-&gt;Imp_Loss_ServantChoice_No]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="883" name="Imp_Loss_ServantChoice_Yes" tags="" position="350,11100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;Then come closer...&quot; He grabs at the back of your neck, holding you in place.

&quot;You&#39;re gonna turn me into a GOD~&quot; His voice is low and deep, making you shiver to your core.

\&lt;&lt;run setup.choice(&quot;[[Please your master-&gt;Imp_Loss_ServantChoice_Yes_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="884" name="Imp_Loss_ServantChoice_Yes_2" tags="" position="475,11100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
He grips his cock and brings it inches away from your face.

It&#39;s so close but so far away. You get the inclination that he wants you to take it yourself, to prove to him that you&#39;re genuinely his.

\&lt;&lt;run setup.choice(&quot;[[Suck him off-&gt;Imp_Loss_ServantChoice_Yes_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="885" name="Imp_Loss_ServantChoice_Yes_3" tags="" position="600,11100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;

The taste is maddening, warmth spreading all over your body as you taste your new master&#39;s cock. His whole body shudders in response, the act changing him to his core.

&quot;Yessss... Finally!!&quot;

A dark, red glow emanates from his whole form.

&quot;To bring a mortal to its knees - this is my first step to ascension!&quot; he snarls, grinning at you before thrusting his cock deeper into your throat.

&quot;GIVE ME MORE!&quot; he growls.

\&lt;&lt;run setup.choice(&quot;[[Suck harder-&gt;Imp_Loss_ServantChoice_Yes_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="886" name="Imp_Loss_ServantChoice_Yes_4" tags="" position="725,11100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
You suddenly feel the hand grasping the back of your head expand as you lose yourself in the taste of the hot, barbed demonic cock.

&quot;Fuck...&quot; your new master hisses, making you look back up at him. His head is rolling around in bliss, and he bellows out in a deepening moan.

His horns suddenly begin to burst further out of his skull, the base growing in width as more than a foot of new, bony length emerges. \
Your jaws contort as it becomes harder and harder to take his cock, its girth thickening significantly. \
Your mouth fills more and more with every powerful thrust of your master&#39;s hips.

But you persevere, sucking faster while fondling your master&#39;s growing cum factories. \
The imp&#39;s growls deepen further in pitch as he leers down at you. His neck seems like it has doubled in width as monstrous traps bulge out, joining his shoulders like a chain of muscly mountains.

&quot;Grrrrrrrrrraaaaa... Keep going... //pet ~//&quot;

\&lt;&lt;run setup.choice(&quot;[[Suck like your life depends on it-&gt;Imp_Loss_ServantChoice_Yes_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="887" name="Imp_Loss_ServantChoice_Yes_5" tags="" position="850,11100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

The growing imp pants, hissing through clenched teeth. &quot;Ssssoooo gooooood!!&quot;

Demonic pre shoots out hard inside your mouth. Your body responds by bellowing out a deep, involuntary groan. \
The taste of the demon&#39;s pre spikes your arousal beyond mortal limits, a pleasure that makes your muscles clench as pulses of thunderous lust fill every fibre of your being!

And yet, you need MORE!

\&lt;&lt;run setup.choice(&quot;[[Make your master cum-&gt;Imp_Loss_ServantChoice_Yes_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="888" name="Imp_Loss_ServantChoice_Yes_6" tags="" position="975,11100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;
\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
You suck your master&#39;s cock as though your life depended on it, taking it as deep as you possibly can. The pleasure becomes too much to bear; you feel pre oozing continuously from your cock!

&quot;I&#39;m gonna make you mine,&quot; he growled deeply, &quot;feed you with demonic cum until you&#39;re unrecognizable!&quot; He grinned wide with newfound confidence. \
His words hold significantly more weight than before.

&quot;Now...cum. Show your master just how much you love him...&quot;

You have no choice but to comply, fat ropes of pearlescent jizz flying from your cock, desperately moaning as you continue to try to suck the imp lord&#39;s cock in hopes of not displeasing your master. \
With a deafening roar, he also begins to cum, shooting loads upon loads of his hot demonic spunk down your throat, filling you with a newfound lust that cannot be reasoned with!

\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Achievement_MemoriesOfKanathar&quot;)&gt;&gt;

\&lt;&lt;set setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.ServantOfKanathar)&gt;&gt;
Δ: You gain the &quot;Servant of Kanathar&quot; ability, it will become more powerful the more you serve your master.
\&lt;&lt;set $CharacterSheet_Imp.quest.storylineProgress = setup.StorylineProgress_Imp.SERVANT&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Utter Kanathar&#39;s name-&gt;Imp_EndingLoop][setup.stopSoundActions();]]&quot;);&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Continue-&gt;Imp_Loss_ServantChoice_Yes_7]]&lt;/span&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Loss_ServantChoice_Yes_7][setup.stopSoundActions();]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="889" name="Imp_Loss_ServantChoice_Yes_7" tags="" position="1100,11100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
He pants, sweat dripping down his thick, leathery skin, his demonic form radiating with a new potent, masculine musk. It would be blasphemy to call him a mere imp at this point.

He grins, eyes glowing bright with a burning passion. &quot;Go, my pet. Spread the word that Kanathar will soon ascend!&quot;

He flexes a thick, powerful arm and kisses his peaked bicep while gazing deep into your eyes. &quot;Soon, ALL will worship us as GODS!!&quot;

\&lt;&lt;set $CharacterSheet_Imp.info.name = &quot;Kanathar&quot;&gt;&gt;
\&lt;&lt;set setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.ServantOfKanathar)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Imp, setup.Ability.NeverendingGrowth)&gt;&gt;
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Imp, &quot;muscles&quot;, 22)&gt;&gt;
Δ: Kanathar gains the &quot;Never-ending Growth&quot; ability.
Δ: Kanathar&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;height&quot;, 25))&gt;&gt; taller.
Δ: Kanathar&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Imp)&gt;&gt;(+$growth).
Δ: Kanathar&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;cock&quot;, 10))&gt;&gt; longer.
Δ: Kanathar&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;balls&quot;, 6))&gt;&gt; wider.

Δ: You gain the &quot;Servant of Kanathar&quot; ability, it will become more powerful the more you serve your master.
\&lt;&lt;set $CharacterSheet_Imp.quest.storylineProgress = setup.StorylineProgress_Imp.SERVANT&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="890" name="Imp_Loss_ServantChoice_No" tags="" position="1225,11100" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Imp&quot;, &quot;CharacterSheet_Player&quot;])&gt;&gt;
Looks surprised and confused.

&quot;How?&quot;

&quot;No matter... Once I become as strong as a god, all will bow down to me regardless...&quot;

The imp leaves, unable to hide his disappointment.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="891" name="Imp_Loss_MasterPath" tags="" position="100,11225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;I feel... So powerful!&quot; He can barely talk from the exhaustion of the fight, yet his gaze remains locked onto yours.

&quot;I&#39;ve grown so much since first meeting you.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="892" name="Imp_Loss_ServantPath" tags="" position="225,11225" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.servantLosses++&gt;&gt;
\&lt;&lt;set setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.ServantOfKanathar)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Imp, setup.Ability.NeverendingGrowth)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You recoil from Kanathar&#39;s final hit, he grins in response.

&quot;You&#39;ve grown stronger, pet... But you could be so much more...&quot; He walks up to you and grabs the back of your head, his forked tongue oozing out of a devilish grin.

&quot;Together, we&#39;ll keep growing stronger. No one will ever stop us.&quot;

He pulls you into a deep kiss. There is nothing left of the old imp that you once knew. Kanathar is now a true demon of pride, his mind utterly consumed with the desire to grow and rule over everything.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Loss_ServantPath_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="893" name="Imp_Loss_ServantPath_2" tags="" position="350,11225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
His massive cock throbs against your body. &quot;Then, all will be ours.&quot; He kisses your neck, licking slowly before biting down on the meat of your muscular shoulder.

&quot;I&#39;m going to show this whole world that you&#39;re mine! My body aches for more... grow me, pet. Turn me into a monster, one to which all will soon bow to!&quot;

On command, cum gushes from your cock as orgasm washes over you.

Once your dick dribbles the last of its seed, he steps back, satisfied.

\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Imp, &quot;muscles&quot;, 4)&gt;&gt;
Δ: Kanathar&#39;s &quot;Never-ending Growth&quot; ability is now stronger.
Δ: Kanathar&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;height&quot;, 7))&gt;&gt; taller.
Δ: Kanathar&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Imp)&gt;&gt;(+$growth).
Δ: Kanathar&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;cock&quot;, 3))&gt;&gt; longer.
Δ: Kanathar&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;balls&quot;, 1))&gt;&gt; wider.

Δ: Your &quot;Servant of Kanathar&quot; ability now grants slightly more health.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Loss_ServantPath_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="894" name="Imp_Loss_ServantPath_3" tags="" position="475,11225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;Now... grow stronger for your master, pet. Make the world tremble in my name!&quot;

He unfurls his massive wings with a bellowing roar and launches himself into the air and out of sight.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="895" name="Imp_Win_MasterPath" tags="" position="600,11225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;Master... You&#39;ve grown so strong...&quot; He can barely talk from the exhaustion of the fight, yet his gaze remains locked onto yours.

&quot;Soon you&#39;ll be unstoppable!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="896" name="Imp_Win_ServantPath" tags="" position="725,11225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.servantWins++&gt;&gt;
\&lt;&lt;set setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.ServantOfKanathar)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Imp, setup.Ability.NeverendingGrowth)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
Kanathar recoils back from that final hit but instantly grins back at you.

&quot;How powerful you&#39;ve become, pet!&quot; He walks up to you and grabs the back of your head, his forked tongue oozing out of a devilish grin.

&quot;Together, we&#39;ll keep growing stronger. No one will ever stop us.&quot;

He pulls you into a deep kiss. There is nothing left of the old imp that you once knew. Kanathar is now a true demon of pride, his mind utterly consumed with the desire to grow and rule over everything.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Win_ServantPath_1_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="897" name="Imp_Win_ServantPath_1_1" tags="" position="850,11225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
His massive cock throbs against your body. &quot;Then, all will be ours.&quot; He kisses your neck, licking slowly before biting down on the meat of your muscular shoulder.

&quot;I&#39;m going to show this whole world that you&#39;re mine! My body aches for more... grow me, pet. Turn me into a monster, one to which all will soon bow to!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Win_ServantPath_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="898" name="Imp_Win_ServantPath_1_2" tags="" position="975,11225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
On command, cum gushes from your cock as orgasm washes over you.

Once your dick dribbles the last of its seed, he steps back, satisfied.

\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Imp, &quot;muscles&quot;, 4)&gt;&gt;

Δ: Kanathar&#39;s &quot;Never-ending Growth&quot; ability is now stronger.
Δ: Kanathar&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;height&quot;, 7))&gt;&gt; taller.
Δ: Kanathar&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Imp)&gt;&gt;(+$growth).
Δ: Kanathar&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;cock&quot;, 3))&gt;&gt; longer.
Δ: Kanathar&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;balls&quot;, 1))&gt;&gt; wider.

Δ: Your &quot;Servant of Kanathar&quot; ability now grants slightly more Prowess.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_Win_ServantPath_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="899" name="Imp_Win_ServantPath_2" tags="" position="1100,11225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Now... grow stronger for your master, pet. Make the world tremble in my name!&quot;

With a bellowing roar, he unfurls his massive wings and launches himself into the air and out of sight.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="900" name="Teammate_Imp_Chat" tags="" position="1225,11225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;What did you want to talk about?&quot;

\&lt;&lt;run setup.choice(&quot;[[Ask what happened to his tree-&gt;Teammate_Imp_Chat_Tree]]&quot;);&gt;&gt;
\&lt;&lt;if !setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Achievement_MemoriesOfKanathar&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Ask him his name-&gt;Teammate_Imp_Chat_Name]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="901" name="Teammate_Imp_Chat_Tree" tags="" position="100,11350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&quot;My tree? I don&#39;t know what you&#39;re talking about,&quot; he responds with incredulous eyes as he shakes his head.

&quot;Oh you mean that old thing! I just found it. It looked comfortable at the time, but it would not carry me anymore. If it even exists still.&quot;

He chortles as he ominously flexes his muscles and then gives you a wide grin.

&quot;For all I know, it shattered during one of our tussles.&quot;

He then rolls his thick shoulders in what could easily be considered a shrug at his size. Seems like that covers it for him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Chat]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="902" name="Teammate_Imp_Chat_Name" tags="" position="225,11350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;My name? Our kinds are usually not given such things.&quot; The imp&#39;s gaze lowers.

&quot;They say that once an imp grows in status, their name will emerge from deep within their soul.&quot; He suddenly looks up to you with growing determination.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Chat_Name_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="903" name="Teammate_Imp_Chat_Name_2" tags="" position="350,11350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;But ever since we&#39;ve met, I feel like I&#39;ve gotten closer to reaching that point than ever before. Once I grow into my true self, everyone shall know my name!&quot;

His usual grin shines upon you once more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Chat]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="904" name="Teammate_Imp_Examine" tags="" position="475,11350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Imp, &#39;goMeetImp_Height&#39;, 1)&gt;&gt;</tw-passagedata><tw-passagedata pid="905" name="Teammate_Imp_Examine_Size_Small" tags="" position="600,11350" size="100,100">Your demon lands with a thud and a huff. His height of &lt;&lt;ImpHeight&gt;&gt; gives him a rather modest, but not unpleasant stature. 

It certainly does make it easier for him to stay out of sight of the Bastion&#39;s guards, if nothing else.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Examine_Muscles]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="906" name="Teammate_Imp_Examine_Size_Large" tags="" position="725,11350" size="100,100">The form of the descending demon grows and grows and grows, before the massive beast lands. \
The ground shakes beneath his tonnage as a cloud of dust is kicked up and engulfs you both for mere moments. A beat of his wings is all it takes to dispel the cloud again.

&quot;My apologies, master,&quot; he utters with a voice that has lost much of its previous high pitch to the sheer size of his body. 

A moment of pride overcomes him as he raises to his full height of &lt;&lt;ImpHeight&gt;&gt; as he seems fully aware of how far he has come beneath you and cherishes the fact. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Examine_Muscles]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="907" name="Teammate_Imp_Examine_Size_Huge" tags="" position="850,11350" size="100,100">The form of the descending demon grows and grows and grows! 
More and more of the land is cast into shadow and you seriously have to wonder just how far above in the sky he must have been for him to appear so small at a distance. 
It takes minutes almost and the landing itself is like a cataclysm all in itself. 

The earth splits beneath the gigantic paws of the demon and explodes outwards into a crater. 

An instinctive beat of his wings keeps any dust cloud from forming as torrential winds buffet the area and send weak trees and smaller boulders flying. 

A deep throaty chuckle leaves his throat as he rolls his immense shoulders and erects himself to his full, staggering height of &lt;&lt;ImpHeight&gt;&gt;. \
A carpet bombing would have been more subtle than his arrival here.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Examine_Muscles]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="908" name="Teammate_Imp_Examine_Muscles" tags="" position="975,11350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
Stature, as impressive as it may be, is only one part of the whole that made the physical presence. After all, girth is just as important.

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Imp, &#39;goMeetImp_Muscles&#39;, 1)&gt;&gt;</tw-passagedata><tw-passagedata pid="909" name="Teammate_Imp_Examine_Muscles_Small" tags="" position="1100,11350" size="100,100">In that regard, your demon is no slouch. Naturally stocky and wide shouldered, \
his pecs would make for passable drums already, while thick muscles bulge his hide and burden his limbs with a delectable amount of weight. 

However the same can be said about the average inhabitant of the Golden Bastion. 

There is much untapped potential in your demon&#39;s body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Examine_Genitals]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="910" name="Teammate_Imp_Examine_Muscles_Large" tags="" position="1225,11350" size="100,100">And in that regard, your demon can certainly impress. His body burgeons with an incredible musculature which made even bodybuilders of old look small by comparison. 

His pectorals are gigantic slabs and their bulging overhang provides shade and rain protection for his cobblestone road of hard cut abdominals. \
Even without attempting the motion, you already know that the demon would not be able to scratch the cleft between his swollen chest muscles, as the biceps are simply too large already. 

Any step he takes happens with an exaggerated sway of his hips, as his thighs fight each other for the limited space below. \
His naturally stocky frame had only become even more exaggerated by his musculature, as he stands nearly as wide as he is tall. 

A delectable sight indeed, and yet you are sure there is room for more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Examine_Genitals]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="911" name="Teammate_Imp_Examine_Muscles_Huge" tags="" position="100,11475" size="100,100">Your demon has all the reason to be proud in this regard, as he is positively overflowing with girth. \
His shoulders stand as wide as his height, rendering him into a perfect square, which is further enhanced by the dimension of his outrageous depth. 

The immense barrel of a torso rippling with such muscle, you find yourself salivating just looking at it. \
The pectorals are cliff-like overhangs which cast their shadow upon the labyrinthine canyons of his abdominals. \
The two slabs could serve as dinner tables to the imp, who hardly deserve that kind of classification at this point, he struggles to look over them. \

In fact, he struggles to look many ways, as his head is practically swallowed between his looming deltoids and traps; \
not even his massive neck, which put bulls to shame, could hope to raise him out of the valley of his musculature. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Examine_Muscles_Huge_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="912" name="Teammate_Imp_Examine_Muscles_Huge_2" tags="" position="225,11475" size="100,100">He cherishes it however and instinctually your minion clenches his gigantic fists. \
His forearms tense and you can watch the tightening of his muscles roll up all the way into his massive arms. 

His biceps rise even greater and he briefly attempts to grab onto their peaks, \
only for his monstrous forearms to collide with them already, and it is only thanks to his oversized mitts that he could reach them at all. 

If he raised his arm, the peak would reach far past his head, or his horns even. 

A simple flex of his legs is enough to create an audible and even visible shockwave as they bloom to easily twice their size. \
They soon relax again and return to an ever so slightly smaller yet still monstrously pumped state. 

His wings look laughably tiny upon his gigantic chest, and yet they must contain a frightfully immense power to be able to bring him aloft. \
Or his magic had grown considerably, to the point that he did not need them anymore to fly at all.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Examine_Genitals]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="913" name="Teammate_Imp_Examine_Genitals" tags="" position="350,11475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

The imp&#39;s excitement meanwhile is readily apparent, as just by looking upon you, \
the maleness between his legs has grown fully engorged in a matter of seconds, if he could go soft at all.

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Imp, &#39;goMeetImp_Genitals&#39;, 1)&gt;&gt;</tw-passagedata><tw-passagedata pid="914" name="Teammate_Imp_Examine_Genitals_Small" tags="" position="475,11475" size="100,100">With &lt;&lt;ImpCockLength&gt;&gt;, your demon is nothing to sneeze at. 

The tool throbbing between his legs is impressive indeed, and it drips with pre as his &lt;&lt;ImpBallsSize&gt;&gt; orbs churn with growing need. The need for more, the desire to grow and swell, is palpable in the air. 

You are unsure if it&#39;s your desire, his, or a mingling of both. There is so much room, so much space, which has yet to be filled with pulsating, throbbing, musky flesh.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="915" name="Teammate_Imp_Examine_Genitals_Large" tags="" position="600,11475" size="100,100">You can hear the throbbing of the demon&#39;s &lt;&lt;ImpCockLength&gt;&gt; member between his legs. 

Each pulse sees a whole bucket&#39;s worth of pre flying forth, and it is only a taste of what his trembling &lt;&lt;ImpBallsSize&gt;&gt; testicles really hold. \
The masculine reek of the demon is already incredible and it is steadily intensifying as more of his arousal drips forth. \
His hands fumble with his monster of a cock as it rises into his field of vision and he tries to push it back down, so that it would not get in the way of looking at you. 

It is a fight that he is only barely winning, and which only excites him even further.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="916" name="Teammate_Imp_Examine_Genitals_Huge" tags="" position="725,11475" size="100,100">The very ground shakes with the demon&#39;s arousal. 

The churning cum factories between his short legs measure a staggering &lt;&lt;ImpBallsSize&gt;&gt; in diameter and tremble with a virility that made itself known for what had to be miles around. 

They are more than big enough to rest firmly on the ground and if he wants to move with any kind of speed, \
he has to step over them and drag them behind himself, or go attempt the monumental feat of lifting and juggling them in his hands. 

Even so, his &lt;&lt;ImpCockLength&gt;&gt; mammoth of a member swings wildly with each step. \
It is a weapon in its own right, fit to lay siege to just about any fortification.

The preseed that gushes from it is already sufficient to create lakes, while a full orgasm could reshape the very land itself as the lance of seed would carve the earth. 

And yet the lust that permeates the air only hungers for one thing. 

Growth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="917" name="Teammate_Imp_GrowHim" tags="" position="850,11475" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Imp, &#39;goMeetImp_GrowImp&#39;, 1)&gt;&gt;

/*-----------------------------------Grow Large---------------------------------*/</tw-passagedata><tw-passagedata pid="918" name="Teammate_Imp_GrowHim_Large" tags="" position="975,11475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

His already crimson cheeks turn shades of purple and his rock hard cock belches forth thick demonic seed and splatters it across the floor before him. \
A gasp escapes him as he grits his teeth and visibly attempts to calm down.

&quot;Y-you want me to grow, Master? Using your essence!?&quot; just saying those words, and repeating what you had just told him in his own mind, almost saw him unload again before you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Large_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="919" name="Teammate_Imp_GrowHim_Large_2" tags="" position="1100,11475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
Despite his words, there is no real question.

You raise your &lt;&lt;LimbDesc &quot;hands&quot;&gt;&gt; and the warm white glow of essence promptly engulfs them as you reach forward. \
You grab the imp&#39;s massive pectoral slabs and a startled hissing escapes his throat as his muscles draw tight.

The glow of the essence shoots into his body and a gurgling inhale follows.

His chest inflates, but stays just as large when he exhales and a guttural squeaking noise leaves him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Large_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="920" name="Teammate_Imp_GrowHim_Large_3" tags="" position="1225,11475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
Your hands feel how his already steely musculature grows even more powerful, even more unyielding beneath your digits.

His body heats up and sweat pours forth in an effort to cool him, only for it to steam right off his body and fill your nostrils with the overbearingly masculine scent of the demon.
Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;, {verb:[&#39;throbs&#39;,&#39;throb&#39;]})&gt;&gt; heavily in response and before you even know it, you find yourself grinding your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;, {verb:[&#39;throbs&#39;,&#39;throb&#39;]})&gt;&gt; against the imps chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Large_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="921" name="Teammate_Imp_GrowHim_Large_4" tags="" position="100,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&quot;M-Master!&quot; the demon huffs and drools as his huge tongue lols free from his maw. His large eyes barely manage to focus on you, in no short part thanks to his swelling, burgeoning pectorals.

It is not the only thing that grows about him as the essence crashes through his body.
Thick veins throb beneath his skin, as his muscles engorge with new mass and power. \
The definition of his already incredible physique grows not just more intense, but more pronounced by the second.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Large_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="922" name="Teammate_Imp_GrowHim_Large_5" tags="" position="225,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;
The air is filled not only by his heavy breathing and the eager flow of his and your arousal, but also with the groaning of skin straining against bulging muscle, \
as well as the cracking and creaking of bones growing larger.

His entire frame is following suit in an attempt to provide space for the swelling musculature, to save him from becoming an immobile muscle blob.

&lt;&lt;print setup.growImp()&gt;&gt;

He topples; between his muscles twitching in barely contained growth-spasms and your rock hard cock grinding into his chest, he simply cannot maintain balance.
The earth shakes as his growing ass lands on the ground, promptly followed by a second impact as his gigantic torso follows.

You are on him without even giving him a second to recover. Your &lt;&lt;LimbDesc &quot;hands&quot;&gt;&gt; continue to grope and massage his swelling chest, as you ground your member into his pectoral valley. \
Mustering all the strength you have, you massage his man-tits around your virile rod to share the feelings of his ecstatic growth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Large_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="923" name="Teammate_Imp_GrowHim_Large_6" tags="" position="350,11600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;
You can feel the muscles ripple, just as you can feel the heat surging through them. \
Each excited heartbeat of the imp sees them swell bigger around your dick, while his own massive maleness rises bigger behind you and soon gushes his seed towards the sky, \
raining his dark, tainted demonjuice over you and the surroundings.

You in turn flood his face with your own jizz as your release follows swiftly and violently. \
Your &lt;&lt;LenAndDesc &quot;balls&quot;&gt;&gt; draw tight as they unleash everything they got upon the imp&#39;s face, who does his very best to drink it all down.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Large_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="924" name="Teammate_Imp_GrowHim_Large_7" tags="" position="475,11600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 5)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
You have no idea how long you spend like this, your orgasm seems endless. They come in such quick succession that they might as well be a single one.
But you know that time is passing, for you have a very good measure of that in the growth of your minion.

The demon beneath you swells larger and larger, his body wracks by the essence you are giving him. His flesh and mass billows forth as his practically petite form - compared to what it once had been - surges bigger and bigger.
The larger he becomes, the faster he grows. He maintains this rate of expansion all the way until it eventually comes to an abrupt and sudden stop with little to no warning.

&lt;&lt;print setup.growImp()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Large_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="925" name="Teammate_Imp_GrowHim_Large_8" tags="" position="600,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
You are both left winded. Your minion teeters at the edge of consciousness. He drools and babbles like a drunkard as his enormously enlarged limbs swat the air.
You could make out praise for yourself somewhere in his slurred speech.

You struggle to dismount. The feeling in your own limbs returns slowly, now that not every single sensation are dominated by your orgasm.

You take a few, or maybe quite a lot of, steps back in order to have a good look at your demon pet and appreciate your handiwork.

Each movement on his part has such weight to it that the earth itself groans in ceaseless protest beneath him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Final]]&quot;);&gt;&gt;

/*-----------------------------------Grow Huge---------------------------------*/</tw-passagedata><tw-passagedata pid="926" name="Teammate_Imp_GrowHim_Huge" tags="" position="725,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The air begins to vibrate as the white glowing essence once more gathers in your hands. Energy builds into an oppressive physical presence that it feels like you are wearing thick gloves.
Your digits grow stiff as you force the essence to accumulate, rather than to disperse back into your body.

The colossal demon recoils more at the sensation than at sight that permeates the surroundings. \
The ground shakes as his enormous foot carves a trench through the rocky ground.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Huge_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="927" name="Teammate_Imp_GrowHim_Huge_2" tags="" position="850,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
You could hear, rather than see, how his tongue lashes in excitement over his face.

&quot;S-so much essence!&quot; he utters with his outrageously deep voice. His words are like the booms of thunder, while his breathing being the distant ominous growl accompanying it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Huge_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="928" name="Teammate_Imp_GrowHim_Huge_3" tags="" position="975,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
His massive member already spurts his load over the landscape from sheer excitement. It comes crashing down in the distance where it could very well cause catastrophic damage.

An electric crackle resonates through the air as you transferre the essence. The imp can only roar as the energy surges through him.

&quot;M-Master!&quot; he howls out as his entire body seizes up. You watch as arcs of red energy dance over his crimson body and thick veins beginning to engorge with rising power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Huge_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="929" name="Teammate_Imp_GrowHim_Huge_4" tags="" position="1100,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
His breathing quickens, and each inhale is deeper than the last, each exhale is more powerful. The gargantuan demon is already so big that even the greatest of ancient ruins are little more than doll houses compared to him.

Each time his heart beat, which resonates like the impact of a hammer on an anvil, growth surges through his body. \
Each booming pulse sends a quake through the earth. Fissures and cracks grow rapidly larger as the imprints of his feet become larger. \
Cataclysmic tremors follow as the imp shifts his feet and adjust his footing.

&lt;&lt;print setup.growImp()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Huge_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="930" name="Teammate_Imp_GrowHim_Huge_5" tags="" position="1225,11600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
The earth explodes as the demonic beast falls forward. \
His huge hands smash into the ground in an attempt to brace himself, only for his fall to be stopped by his immense chest and gargantuan dong.

He is getting so thick and so utterly massive that his huge digits could barely even touch the belly of his raging erection. \
A shockwave ripples outwards from him and rips a gigantic crater from the sheer excess of his immense size.

It is an almost natural progression for him to start fucking the ground, as his attempts to rise up only sees him dig himself deeper.

&quot;Y-yes! S-so huge!&quot; The demon bellows with laughter. He strains and arcs his back through as he looks upwards to the sun. \
You could see the glint in his eyes as he raised a hand towards it, only to bring it right back down as he braces himself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Huge_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="931" name="Teammate_Imp_GrowHim_Huge_6" tags="" position="100,11725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;

&quot;Masterrrrrr~&quot; He tries to say more, but it only escapes as an incoherent blurb. However, the way he braces his legs and raises his massive tail left very little up to the imagination about what he might want.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Final]]&quot;);&gt;&gt;


/*-----------------------------------Grow Final---------------------------------*/</tw-passagedata><tw-passagedata pid="932" name="Teammate_Imp_GrowHim_Final" tags="" position="225,11725" size="100,100">\&lt;&lt;if setup.getStatValue($CharacterSheet_Imp, &quot;height&quot;) &gt; setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)&gt;&gt;
&lt;&lt;include Teammate_Imp_GrowHim_Final_PlayerSmaller&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;include Teammate_Imp_GrowHim_Final_PlayerBigger&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="933" name="Teammate_Imp_GrowHim_Final_PlayerSmaller" tags="" position="350,11725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
To strengthen such a beast is a daunting task.

Given the gigantic, and still mounting, size of your massive pet.
Just getting around him took precious time.

\&lt;&lt;run setup.choice(&quot;[[Feed him more power-&gt;Teammate_Imp_GrowHim_Final_PlayerSmaller_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="934" name="Teammate_Imp_GrowHim_Final_PlayerSmaller_2" tags="" position="475,11725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
The air flickers with the heat emanating from the fiery red testicles and steam wafts off them as the sweat evaporates all too fast again.
They are hot to the touch and churn with incredible need. Your price though lays further up and you cross the enormously swollen taint of the demon.

The muscle bulge with incredible size, and it was duly necessary too in order to lift and move the cock he rocks. Beyond that still, you find the needy hole.

You slide your cock in and are met with a near paradoxical sensation. \
You find practically no resistance on your way in as his heated flesh parts eagerly around your intruding member, only for a sudden and steely grip to clench around you as he flexes his core muscles.

&quot;Ghhhhhh~Ahhhhhhh!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Final_PlayerSmaller_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="935" name="Teammate_Imp_GrowHim_Final_PlayerSmaller_3" tags="" position="600,11725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
You two are ferocious, snarling beasts as you fuck and he grows. You fuck him bigger as your pre gushes into his bowels, and before long, your roar announced the full blown orgasm.
Your thick, heavy spunk gushes into him, floods his insides and pushes him in turn over the edge.

His cock, still buried deep in the earth, bounces once more as the taint beneath your feet draw tight and his balls clench.

You could feel the bulges of his cum travel through his inner piping on its way out. He howls out when as it erupts from his member.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Final_PlayerSmaller_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="936" name="Teammate_Imp_GrowHim_Final_PlayerSmaller_4" tags="" position="725,11725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 5)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
The earth around you begins to crack and huge geysers of cum erupt all around you. \
His hips buck and thrust wildly as the last surges of growth roll through his body, leaving his size worthy of legend and beyond the comprehension of regular mortals.

With &lt;&lt;ImpHeight&gt;&gt;, people are less than ants to him.

He is gargantuan, a god-like being, worthy of full ascension. Yet he is and always will be yours.

&lt;&lt;print setup.growImp()&gt;&gt;
&lt;&lt;include Teammate_Imp_GrowHim_Final_StatUp&gt;&gt;</tw-passagedata><tw-passagedata pid="937" name="Teammate_Imp_GrowHim_Final_PlayerBigger" tags="" position="850,11725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
You do not hesitate and act with a determination befitting your size. The world quakes in fear beneath your movements as you position yourself behind the demon.

An excited squeak leaves his throat as you grab his glutes and squeeze them firmly. The imp&#39;s eyes go wide and spittle flies from his maw as the air leaves his lungs as a bellow.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Teammate_Imp_GrowHim_Final_PlayerBigger_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="938" name="Teammate_Imp_GrowHim_Final_PlayerBigger_2" tags="" position="975,11725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
Your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;cocks&quot;, {verb:[&#39;spreads&#39;,&#39;spread&#39;]})&gt;&gt; his ass cheeks wide apart. You plough into him like a train without breaks, flattening and stretching his insides with unfathomable power.
His huge hands claw at the ground. \
One of your &lt;&lt;print setup.DESC.getLimbDesc($CharacterSheet_Player, &quot;hands&quot;, {num:1, verb:[&#39;grabs&#39;,&#39;grab&#39;]})&gt;&gt; his tail, while the other presses down on his back.&quot;

You keep him pinned, keep him fucking the earth, even as he continues to grow beneath you. You run your fingers along the swells of his back muscles and feel them grow deeper and more pronounced by the moment.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Final_PlayerBigger_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="939" name="Teammate_Imp_GrowHim_Final_PlayerBigger_3" tags="" position="1100,11725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
The demon pants and drools as he struggles to maintain any kind of composure beneath your overpowering thrusts. He moans like an animal in heat, begging for more of your gigantic tool to slam into him.

You gladly oblige until your groin meets his ass cheeks and your balls bury his.

&quot;Ghhhhhh~Ahhhhhhh!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_GrowHim_Final_PlayerBigger_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="940" name="Teammate_Imp_GrowHim_Final_PlayerBigger_4" tags="" position="1225,11725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
You rut for an incredibly long time. Long enough that the imp&#39;s growth finally comes to a stop. Your &lt;&lt;ImpHeight&gt;&gt; tall demon still cries out for more, even when he after already orgasming.
His deluge of cum into the earth finds enough resistance to splash back up, and with no other space to go, his cum erupts like geysers all around you.

Eventually you hilt inside him again and bellow out your own climax.

The imp&#39;s belly inflates rapidly with your immense load and his own roar dies in his throat as he instead coughs up thick globs of your seed.
Wet slapping soon follows as your thrusts pick back up again, a single climax hardly enough to satisfy your need in this world, especially considering how rarely you come across a hole you can actually fuck properly.

\&lt;&lt;run setup.choice(&quot;[[Keep fucking the imp-&gt;Teammate_Imp_GrowHim_Final_PlayerBigger_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="941" name="Teammate_Imp_GrowHim_Final_PlayerBigger_5" tags="" position="100,11850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;, true)&gt;&gt;
Days pass, perhaps even weeks, until you finally exhaust yourself and collaps on the utterly gargantuan imp.

The afterglow has you both groaning as you slowly come back to your senses.

With a schlorping noise, you pull your member free and unleash a flood upon the land as you step back to look upon your handiwork. It would take him a bit to recover from this.

It was nothing you couldn&#39;t wait out.

&lt;&lt;print setup.growImp()&gt;&gt;
&lt;&lt;include Teammate_Imp_GrowHim_Final_StatUp&gt;&gt;</tw-passagedata><tw-passagedata pid="942" name="Teammate_Imp_GrowHim_Final_StatUp" tags="" position="225,11850" size="100,100">\&lt;&lt;set $levelUpResult = setup.levelUpImp()&gt;&gt;
&lt;&lt;print &quot;∇: &quot;+$CharacterSheet_Imp.info.name+ &quot; has gained &quot;+ $levelUpResult.hp + &quot; health!&quot;&gt;&gt;
&lt;&lt;print &quot;∇: &quot;+$CharacterSheet_Imp.info.name+ &quot; has gained &quot;+ $levelUpResult.stamina + &quot; prowess!&quot;&gt;&gt;
&lt;&lt;print &quot;∇: &quot;+$CharacterSheet_Imp.info.name+ &quot; has gained &quot;+ $levelUpResult.strength + &quot; strength!&quot;&gt;&gt;
&lt;&lt;print &quot;∇: &quot;+$CharacterSheet_Imp.info.name+ &quot; has gained &quot;+ $levelUpResult.critChance + &quot; critical hit chance!&quot;&gt;&gt;
&lt;&lt;print &quot;∇: &quot;+$CharacterSheet_Imp.info.name+ &quot; has gained &quot;+ $levelUpResult.critDamage + &quot; critical hit damage multiplier!&quot;&gt;&gt;
\&lt;&lt;unset $levelUpResult&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="943" name="Teammate_Imp_Leave" tags="" position="350,11850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
Your demon&#39;s ears droop a little and the perpetual smirk on his face turns upside down.

&quot;Aww, already?&quot; he asks, with a glimpse of sadness before returning to his usual grin. 

&quot;Alright Master, I&#39;ll be waiting for you to return from that silly city!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Leave_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="944" name="Teammate_Imp_Leave_2" tags="" position="475,11850" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Imp, &#39;leaveImp&#39;, 1)&gt;&gt;</tw-passagedata><tw-passagedata pid="945" name="Teammate_Imp_Leave_Small" tags="" position="600,11850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The demon&#39;s leg muscles tense and he jumps upwards. \
A beat of his powerful wings follows and kicks up dust as it catapults him several feet higher into the sky. 

Another beat follows, then another, each one carrying him further away as he ascends upwards far faster than those tiny wings of his had any right to. 

Within a minute he is barely visible and indistinguishable from just about anything else that is flying up there. 

You make your way back to the Bastion.
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village][setup.flagTimePasses($CharacterSheet_Imp)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="946" name="Teammate_Imp_Leave_Large" tags="" position="725,11850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The air fills with an ominous creak as the gigantic musculature of the imp draws tight. \
You could watch his enormous quadriceps bulge and ripple in flexing, before a shockwave follows and kicks up a storm of dust and stone. 

The ground shatters as the demon jumps upwards towards the sky. \
His tiny wings beat with a power far in excess of their size as they drag him higher yet and dispel the massive cloud of debris he leaves behind. 

A being this gigantic has no right to fly with such ease, especially with wings this small. \
They should have cast you and half the world into shadow as they spread, yet they barely even crosses his own shoulders. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp_Leave_Large_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="947" name="Teammate_Imp_Leave_Large_2" tags="" position="850,11850" size="100,100">Either way, the demon ascends towards the sky, higher and higher, while huge globs of his pre rains down upon the land around you. 

Each impact is as powerful as a boulder launched by a catapult. It takes precious minutes for him to reach a height where he became impossible to identify from the other creatures of the sky. 

By that point, you decide that it is time to head back to the Bastion.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village][setup.flagTimePasses($CharacterSheet_Imp)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="948" name="Teammate_Imp_Leave_Huge" tags="" position="975,11850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
A creature the size of the demon is a living cataclysm; an extinction event waiting to happen. 

Every single one of his movements change the face of this ravaged world. On top of that it happens with a speed that is utterly unbelievable for such a titan. 
The earth beneath the immense paws of the imp shatters as he leaps up into the sky and immediately covers yards with a single leap. 

You wander back through the newly created valley, surrounded by mountains, while you wonder what the people at the Bastion would think. 

No doubt they must have seen this.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village][setup.flagTimePasses($CharacterSheet_Imp)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="949" name="Village_GoMeetImp" tags="" position="1100,11850" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Imp, &#39;Village_GoMeetImp_Intro&#39;, 1)&gt;&gt;</tw-passagedata><tw-passagedata pid="950" name="Village_GoMeetImp_heightFlavour_small" tags="" position="1225,11850" size="100,100">\
&quot;Already time for another run?&quot; the gate guard asks as you pass them, but you shake your head in response.

You just have to &#39;check&#39; on something.

&quot;Oh, okay,&quot; the guard nods, &quot;Be careful out there.&quot;

He hardly needs to tell you that.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_GoMeetImp_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="951" name="Village_GoMeetImp_heightFlavour_large" tags="" position="100,11975" size="100,100">\
You push open the gates like so many times before, even before the guards could react to your rapid approach.

&quot;I would go and wish him good luck, but nothing&#39;s gonna happen to him. It&#39;s he who happens to others,&quot; \
you can hear one of the guards remark towards the other, followed by snickering, but the gait of your steps saw you breeze off already.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_GoMeetImp_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="952" name="Village_GoMeetImp_heightFlavour_huge" tags="" position="225,11975" size="100,100">\
Walls and gates have become a laughable concept to you. \
With but a single step you clear obstacles and buildings alike and leave the city in your shadow.

The sun slowly returns to the gleaming beacon of civilization as your towering stature departs. \
It takes you mere minutes to cover a distance for which other people would take a day or more, and yet you could still see the city despite being so far away.

You know you are being followed, but even so it takes a while longer for them to catch up.

At least you can be sure that nobody in the Bastion would be able to actually make out any details at this outrageous distance.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_GoMeetImp_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="953" name="Village_GoMeetImp_2" tags="" position="350,11975" size="100,100">You don&#39;t plan to go far anyway, just a few miles to make sure that nobody from the city could see you. \
And yet, you could barely shake the feeling that someone is watching you ever since you left the walls.

\&lt;&lt;run setup.choice(&quot;[[Go meet the imp-&gt;Teammate_Imp_Appears]]&quot;);&gt;&gt;


/*--------------------------Exiled Intro--------------------------------------------*/</tw-passagedata><tw-passagedata pid="954" name="Exiled_GoMeetImp" tags="" position="475,11975" size="100,100">\
The winds of your new home whip around you as you walk through the dust, clinging to you briefly before being blown away by the next gust.

The silence between each powerful gust of wind is enough to bring your mind back to your banishment from the village. A pang hits your heart:
\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= setup.CorruptionComparators.TAINTED&gt;&gt;
&lt;&lt;print setup.corruptSpan(&quot;GROW SPREAD CORRUPT&quot;, &quot;You want them.&quot;)&gt;&gt;\
\&lt;&lt;else&gt;&gt;
\You miss them, if only for a moment.
\&lt;&lt;/if&gt;&gt;

Your thoughts are interrupted as your servent approaches, as he was called for.
\&lt;&lt;run setup.choice(&quot;[[Go meet the imp-&gt;Teammate_Imp_Appears]]&quot;);&gt;&gt;

/*--------------------------Village+Exiled Intro--------------------------------------------*/</tw-passagedata><tw-passagedata pid="955" name="Teammate_Imp_Appears" tags="" position="600,11975" size="100,100">&quot;Master!&quot; the demon&#39;s voice bellows, and yet it is more a feeling than something you actually hear.

Your gaze is drawn upwards and you can see the winged beast descent towards you. \
At a distance he would be easily mistakable for a bird of some kind, but that rapidly changes as he closes in.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Teammate_Imp]]&quot;);&gt;&gt;

/*--------------------------Teammate Imp Navigation--------------------------------------------*/</tw-passagedata><tw-passagedata pid="956" name="Teammate_Imp" tags="" position="725,11975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

Your demon looks expectantly at you, he fidgets with the desire to act and his hands tremble as he desperately holds back on groping either you or himself. At least until you give the command for it.

\&lt;&lt;run setup.choice(&quot;[[Examine him-&gt;Teammate_Imp_Examine]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Talk to him-&gt;Teammate_Imp_Chat]]&quot;);&gt;&gt;

\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerSparExhaustion == true&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Spar with him-&gt;Teammate_Imp_Spar]] (You are exhausted, you must rest before sparring again.)&lt;/span&gt;
&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Spar with him-&gt;Teammate_Imp_Spar]]&quot;);&gt;&gt;
&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Change his fighting style-&gt;Teammate_Imp_ChangeFightingStyle]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Decide when the imp attacks-&gt;Teammate_Imp_DecideWhenTheImpAttacks]]&quot;);&gt;&gt;

&lt;&lt;print setup.displayImpModsPassages()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Teammate_Imp_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="957" name="Teammate_Imp_Spar" tags="" position="850,11975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Of course Master, time to show you how much I&#39;ve grown~&quot;

His wings flap outwards as he eagerly lunges towards you.
\&lt;&lt;set $CharacterSheet_Player.info.tags.partnerSparExhaustion = true;&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="958" name="Teammate_Imp_ChangeFightingStyle" tags="" position="975,11975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;I am already the best fighter this wasteland has ever seen!&quot;

Your minion proclaims with pride as he rests his massive hands on his hips and puffs out his chest, only to then suddenly and abruptly deflate again when reality catches up to him.

&quot;Second only to you of course. So yes, teach me your ways, Master! I will be the best student!&quot;

[[Fight agressively-&gt;Teammate_Imp][setup.impSetAggressiveMoveset()]]
[[Use Sigils-&gt;Teammate_Imp][setup.impSetSigilMoveset()]]
[[Focus on growing-&gt;Teammate_Imp][setup.impSetGrowthMoveset()]]

\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="959" name="Teammate_Imp_DecideWhenTheImpAttacks" tags="" position="1100,11975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Just say the word Master. You know more about this strategy business anyway.&quot;

&lt;&lt;print setup.displayAttackTimingDescription($CharacterSheet_Imp)&gt;&gt;

[[Attack before me-&gt;Teammate_Imp][$CharacterSheet_Imp.fight.teammateSettings.attackTiming = setup.AttackTiming.BEFORE_PLAYER]]
[[Attack after me, but before our enemy-&gt;Teammate_Imp][$CharacterSheet_Imp.fight.teammateSettings.attackTiming = setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY]]
[[Attack after me, but after our enemy-&gt;Teammate_Imp][$CharacterSheet_Imp.fight.teammateSettings.attackTiming = setup.AttackTiming.AFTER_ENEMY]]

\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Teammate_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="960" name="Encounter_Intro_Harbinger" tags="" position="1225,11975" size="100,100">You found your bae!

\&lt;&lt;run setup.choice(&quot;[[Return-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="961" name="Encounter_Intro_Lost_Naga" tags="" position="100,12100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Lost_Naga.encounterPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="962" name="Encounter_Loss_Lost_Naga_1" tags="" position="225,12100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Lost_Naga.postFightPassagesLoss)&gt;&gt;</tw-passagedata><tw-passagedata pid="963" name="Encounter_Win_Lost_Naga" tags="" position="350,12100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Lost_Naga.postFightPassagesWin)&gt;&gt;</tw-passagedata><tw-passagedata pid="964" name="Encounter_Intro_Lost_Naga_LowRela" tags="" position="475,12100" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Naga.quest.met = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Naga.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
After an hour of searching, you find yourself in what appears to be a swamp, or at least used to be one.
Much of it has fallen to the spreading corruption. What once had been natural plants have been replaced with vulgar, multicoloured mutants.

You don&#39;t get much time to inspect them as a sudden, scraping rustle draws your attention to the canopy above.

\&lt;&lt;run setup.choice(&quot;[[Take a closer look-&gt;Encounter_Intro_Lost_Naga_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="965" name="Encounter_Intro_Lost_Naga_1" tags="" position="600,12100" size="100,100">Wrapped around the massive tree trunk is a serpentine monstrosity.
His smooth hide shines with a purple so bright it&#39;s nearly pink.

Yet there is an oily sheen to it, an iridescent shimmer in the light. It shifts with each idle flex and twitch of the coils.
The skin creaks and groans as the muscles beneath dance and contort it with their size.

\&lt;&lt;run setup.choice(&quot;[[Take a closer look-&gt;Encounter_Intro_Lost_Naga_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="966" name="Encounter_Intro_Lost_Naga_1_2" tags="" position="725,12100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;

The cobra hood of the gooey naga flares as he spots you. A low hissed &quot;Prrreeeyyy.&quot; escapes his muzzle as he bares his fangs.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Intro_Lost_Naga_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="967" name="Encounter_Intro_Lost_Naga_2" tags="" position="850,12100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;

You get to watch the herculean musculature of the beast tense proper as his coils turn the massive tree into little more than splinters between them.
The mud muffles the thud as the beast falls to the ground, but you could still feel the small quake in the wake of its tonnage.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Lost_Naga)&gt;&gt;</tw-passagedata><tw-passagedata pid="968" name="Encounter_Start_Lost_Naga" tags="" position="975,12100" size="100,100">Slowly the serpent rises to his full height, presenting a colossus of muscle and virility. His shaft swollen and engorged to enormous size, while his lips drool with hunger.</tw-passagedata><tw-passagedata pid="969" name="Encounter_Win_Lost_Naga_LowRela" tags="" position="1100,12100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;

After a terrible battle, the naga finally collapses into a heap. Pink goo runs from the wounds he has sustained.
But even now, you could see that they are closing.

There is little doubt that in just a few minutes, the beast would be in perfect shape again.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_2_Normal]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="970" name="Encounter_Win_Lost_Naga_2_Normal" tags="" position="1225,12100" size="100,100">\&lt;&lt;set State.variables.CharacterSheet_Lost_Naga.quest.cockOut = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
Fighting has awakened a primal desire within him, but he&#39;s too weak to be on top.

Yet he stands tall, eagerly jerking his monstrous cock for any kind of relief.

\&lt;&lt;if setup.removeCurseOfTheNaga()&gt;&gt;
[[Purge the naga&#39;s curse-&gt;Encounter_Win_Lost_Naga_2_Cursed]]
\&lt;&lt;/if&gt;&gt;
[[Continue-&gt;Encounter_Win_Lost_Naga_2_Normal_2]]</tw-passagedata><tw-passagedata pid="971" name="Encounter_Win_Lost_Naga_2_Cursed" tags="" position="100,12225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;

You place your hand on the wounded naga&#39;s head. He immediately shivers as thick pink goo rushes along your arm.
The goo slowly enters your muscles. Your biceps, curls, abs and glutes suddenly pulsates.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_2_Cursed_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="972" name="Encounter_Win_Lost_Naga_2_Cursed_2" tags="" position="225,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;

Growth rushes through you with every heartbeat. You pull your head back and moan as a burst of power courses through you.
Your body explodes with more strength that the naga took from you.
&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, Math.ceil(setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;) * 0.1))&gt;&gt;
∇: Your muscles become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
∇: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, Math.ceil(setup.getStatValue($CharacterSheet_Player, &quot;height&quot;) * 0.1)))&gt;&gt; taller.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_2_Cursed_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="973" name="Encounter_Win_Lost_Naga_2_Cursed_3" tags="" position="350,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;

You feel more and more pink goo rush down your arm. It crawls along your chest to finally coil around your cock.
You immediately see it throb and expand. Deep lustful moans escape you as your dick crawls along your legs.

\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, Math.ceil(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;) * 0.1))&gt;&gt;
You grasp the base of your now &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; cock and jerk it intensely.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_2_Normal]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="974" name="Encounter_Win_Lost_Naga_2_Normal_2" tags="" position="475,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
&quot;Maaaaaaaate...&quot; He growls, unsure of who he&#39;s even adressing anymore.

The naga&#39;s golden eyes glow with a mix of hunger and longing.

\&lt;&lt;run setup.choice(&quot;[[Fuck the naga-&gt;Encounter_Win_Lost_Naga_Fuck_1]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="975" name="Encounter_Win_Lost_Naga_Fuck_1" tags="" position="600,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
Your hands grip his massive cock, and you can almost hear your digits squeak over the gooey skin.
His member is rockhard, firm enough to serve as a bludgeon, no doubt.

You give it a tentative stroke, trace along the swollen veins along its length before you start to grin devilishly. You&#39;ve heard that snakes are supposedly very stretchy.
You decide to put it to the test.

You jerk the serpent&#39;s cock down towards your own member.

\&lt;&lt;run setup.choice(&quot;[[Fuck the naga-&gt;Encounter_Win_Lost_Naga_Fuck_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="976" name="Encounter_Win_Lost_Naga_Fuck_2" tags="" position="725,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
Your tips touch, and with a grin, you press onward. The naga gasps out weakly, his muscles arms flex in a futile flail.
Really his head doesn&#39;t even manage to raise high enough to see you over his own pectoral mountains.

\&lt;&lt;set $CharacterSheet_Lost_Naga.quest.fuckedByPlayer = true&gt;&gt;
\&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &#39;height&#39;, $CharacterSheet_Lost_Naga) &gt;= setup.Size.Comparators.EQUAL&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Press the naga&#39;s cock on your slit-&gt;Encounter_Win_Lost_Naga_Fuck_PlayerBigger_1]]&quot;);&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Fuck the naga&#39;s cock slit-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_1]]&lt;/span&gt;
\&lt;&lt;else&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Press the naga&#39;s cock on your slit-&gt;Encounter_Win_Lost_Naga_Fuck_PlayerBigger_1]]&lt;/span&gt;
\&lt;&lt;run setup.choice(&quot;[[Fuck the naga&#39;s cock slit-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_1]]&quot;);&gt;&gt;
&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;

\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt;= 75&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Absorb his very being (needs 75 or more corruption)-&gt;Encounter_Win_Lost_Naga_Fuck_Absorb_1]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="977" name="Encounter_Win_Lost_Naga_Fuck_Absorb_1" tags="" position="850,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
You start to grin, lust wells up within you again. Why not fill the empty yawning in your balls with the snake himself?
The naga growls softly before you, his hands rubbing his enormous and engorged balls.

You lunge, grab his tail tip with your hand. Before the reptile knows what is happening, you already stuff it into your cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_Absorb_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="978" name="Encounter_Win_Lost_Naga_Fuck_Absorb_1_2" tags="" position="975,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
It&#39;s barely bigger than his member, you can easily take it. With both hands on the tail, you pull, pull and push to feed it into your member.
You flex your taint, flex your cock, make it swallow and gulp. Inches first, soon entire feet. The naga goes wide-eyed when he realizes what&#39;s happening.

Hisses and snarls leave his lips as he twists and contorts, his hands dig into the muddy ground, yet your massive cock is beyond aluring.
He grasps for anything to find a hold on, anything to use as anchor.

\&lt;&lt;run setup.choice(&quot;[[Pull him in-&gt;Encounter_Win_Lost_Naga_Fuck_Absorb_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="979" name="Encounter_Win_Lost_Naga_Fuck_Absorb_2" tags="" position="1100,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
Feet upon feet of coils bulge out your shaft and begin to fill your balls.
Before long, his entire tail is gone. His fat hips are next. His waist soon follows.

Then you grab his shoulders and squish him right in. His goo body is contorting, conforming to your shaft.

\&lt;&lt;run setup.choice(&quot;[[Pull him in-&gt;Encounter_Win_Lost_Naga_Fuck_Absorb_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="980" name="Encounter_Win_Lost_Naga_Fuck_Absorb_3" tags="" position="1225,12225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
Your meaty hand pushes into his face, pushes it down into your member, which greedily swallows him up entirely.

Your balls squirm and jostle with the trashing naga, but soon its shape begins to soften, to melt as your symbiote overtakes it.
You absorb the monster, turn it into more of you. You could hear your skin creak, your bones ache as your body swells larger.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 4)&gt;&gt;

Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 7))&gt;&gt; taller.
Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).

Your hands stroke your swelling member, veins throbbing violently as it engorges ever bigger.
It grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 5))&gt;&gt; longer.
\&lt;&lt;run setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, 2))&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_Absorb_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="981" name="Encounter_Win_Lost_Naga_Fuck_Absorb_4" tags="" position="100,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 4)&gt;&gt;
It does not take long before you cum with a bellow.
A deluge of your cum splatters everywhere, with the bright pink color hinting that he&#39;ll reform from that later.

You briefly look upon the mess, give a snorting chuckle, move on.

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Naga.quest.hasBeenVored = true&gt;&gt;
∇: You gain 8 corruption.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="982" name="Encounter_Win_Lost_Naga_Fuck_PlayerBigger_1" tags="" position="225,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;

He doesn&#39;t get to see how your cock swallows his instead.
His member squishes and fits itself into your pipe with remarkable ease. The sensation leaves you huffing, panting, feeling the thick gooey warmth in your shaft.

\&lt;&lt;run setup.choice(&quot;[[Push forward-&gt;Encounter_Win_Lost_Naga_Fuck_PlayerBigger_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="983" name="Encounter_Win_Lost_Naga_Fuck_PlayerBigger_1_2" tags="" position="350,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;

Slowly you start to push forward, claiming inches of the naga&#39;s cock with your own with each thrust.
The naga&#39;s gooey nature makes this way too easy, he just slides down your member with little resistance.

With just a few thrusts, you take him to the very hilt, claim his entire length, and with a flex of your mighty taint, you pull on his shaft.

\&lt;&lt;run setup.choice(&quot;[[Keep thrusting-&gt;Encounter_Win_Lost_Naga_Fuck_PlayerBigger_1_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="984" name="Encounter_Win_Lost_Naga_Fuck_PlayerBigger_1_3" tags="" position="475,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;

You loom over the fallen serpent and continue to thrust onto him.

The tickling sensation continues to run down your pipe, down into your loins. It fills your prostate with the most pleasant feelings.
Slowly the pressure builds, higher and higher, growing more potent with each hammer strike of your hips.

Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 4))&gt;&gt; bigger.
Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 3))&gt;&gt; longer.
\&lt;&lt;run setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, 1))&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Encounter_Win_Lost_Naga_Fuck_PlayerBigger_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="985" name="Encounter_Win_Lost_Naga_Fuck_PlayerBigger_2" tags="" position="600,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
You cry out as you cum. Your impossibly large load unleashes onto the serpent.

So much of your cum flows past his shaft, it splatters onto his loins, and yet you are sure there should have been more.
His balls swell, engorge and expand. They grow $CharacterSheet_Player.symbiote.info.colour with all the seed you pump into him as his member drinks down your load like a greedy whore.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_PlayerBigger_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="986" name="Encounter_Win_Lost_Naga_Fuck_PlayerBigger_3" tags="" position="725,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
You keep pumping out more and more seed, so much more than a single climax would typically do. Until your fat orbs clench and hurt, unable to spill another drop.

You let out a deep guttural growl, feeling surprising exhaustion after the act. Your gaze drifts over the stirring serpent.
He&#39;d recover momentarily, no doubt. Then your eyes move past the absurdly swollen boulders he had for balls.

There is no way he could chase you with those. He begins to rest on his tail tip in exhaustion.

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
∇: You gain 8 corruption.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="987" name="Encounter_Win_Lost_Naga_Fuck_NagaBigger_1" tags="" position="850,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
He doesn&#39;t get to see how his cock swallows yours. The slit spread around your member. It is forced to accept your intruding shaft.
The entrance is so tight, so wet, like fucking an ass and yet...

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="988" name="Encounter_Win_Lost_Naga_Fuck_NagaBigger_1_2" tags="" position="975,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
You piston your hips forward, pushing in inch after inch of your length into the serpentine rod, grunting and snarling like a feral beast while the naga below you gasps weakly time and time again.

You laugh as you ram your cock in deeper.

Despite the size difference, it is still so tight, almost as if it contracts around your shaft. Sucking on it. Gulping.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_1_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="989" name="Encounter_Win_Lost_Naga_Fuck_NagaBigger_1_3" tags="" position="1100,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;

Soon you two were grunting in tandem with each other, your hands holding his massive balls, pressing them up against his shaft as if you were handling a pair of gigantic glutes.
You grope and knead them with your eyes closed as you feel the pressure in your loins build.

Just a few more...

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="990" name="Encounter_Win_Lost_Naga_Fuck_NagaBigger_2" tags="" position="1225,12350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
You cry out as you cum. Your balls clench, pulled tight to your groin as you unload into the naga.
You could feel his cock suck it up eagerly.

It drinks your seed with vigour.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="991" name="Encounter_Win_Lost_Naga_Fuck_NagaBigger_3" tags="" position="100,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;
Your eyes suddenly go wide as his cock lurches upwards and swallows your member all the way to the base.

His gooey cum rockets up around your member and splatters over your loins, but much more importantly, you could feel how it floods down your shaft.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="992" name="Encounter_Win_Lost_Naga_Fuck_NagaBigger_4" tags="" position="225,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;

It stretches it and violates your prostate as it floods into your balls. Your orbs swell with size; they engorge as they take the naga&#39;s orgasm in return.

∇: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 4))&gt;&gt; taller.
∇: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 3))&gt;&gt; longer.
∇: Your balls grow &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, 2))&gt;&gt; bigger.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_Fuck_NagaBigger_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="993" name="Encounter_Win_Lost_Naga_Fuck_NagaBigger_5" tags="" position="350,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;

The pressure in your loins returns with a vengeance.
But only for a few seconds.

You nearly collapse to your knees as you climax again, your swollen sack shrinking as all the gooey cum flood back into the naga&#39;s member, pumped out by your shaft in exhausting fashion.

You&#39;d never thought that would actually happen in this place, but when you finally pull out of the naga&#39;s cock, you actually feel a little exhausted. Drained even.
Almost as if something more than just your seed has been taken.

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
∇: You gain 8 corruption.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="994" name="Encounter_Loss_Lost_Naga_1_LowRela" tags="" position="475,12475" size="100,100">\&lt;&lt;set State.variables.CharacterSheet_Lost_Naga.quest.cockOut = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
You buckle as your strength leaves you. The vicious blows and devastating lashes of the serpent are too powerful to resist.
Immediately the beast seizes the opening and its massive coils wrap around your body and pull tight. Incredible musculature grinds against your body as the naga holds you tight.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Lost_Naga_1_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Escape-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="995" name="Encounter_Loss_Lost_Naga_1_2" tags="" position="600,12475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;
His balls, his cock push into your face as he props himself up before you, his thick gooey precum drips into your hair.

&quot;Preeyyyy... feeeeeed.&quot; He growls above you as he then bends down.

His head comes closer, his breath washes over your face before his maw opens wide, wider than it has any right to.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Lost_Naga_1_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="996" name="Encounter_Loss_Lost_Naga_1_3" tags="" position="725,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;
The corners of his mouth turn into gooey strands as he gives you a view down the abyss of his gullet.

His maw then engulfs your head, his whole being flows around you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Lost_Naga_1_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="997" name="Encounter_Loss_Lost_Naga_1_4" tags="" position="850,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;

His lips run over your broad shoulders like liquid, they overwhelm your powerful chest with near mocking ease.
Your waist follows, and he only briefly pauses on your groin to give your member a few brief licks.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Lost_Naga_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="998" name="Encounter_Loss_Lost_Naga_2" tags="" position="975,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;
You can feel gravity shift as the serpent rears up and lets you slide down his gooey, stretchy gullet.
You struggle with all the might you could still muster, you push and punch, your legs kick, and yet there is nothing solid to hit, not even a proper sign of resistance.
It is as if you are caught in a rubber tube.

&quot;Yesss, sttrrrruuggglle.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Lost_Naga_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="999" name="Encounter_Loss_Lost_Naga_2_1" tags="" position="1100,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;

But your disgrace is far from over. Whatever kind of stomach this was, it does not work like a regular one. There are no acids to take you apart, there is only goo.
In the pitch darkness of the gut, it begins to flood into your ass, cock and mouth. The thick quasi liquid forces its way into your body.
\&lt;&lt;set $curseStatus = setup.applyCurseOfTheNaga()&gt;&gt;
\&lt;&lt;if $curseStatus == &quot;Cursed&quot;&gt;&gt;

Still, it goes even deeper as you could feel the strangest sensation.
Already beaten, and with no chance for recovery, the naga assimilates parts of you.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Loss_Lost_Naga_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1000" name="Encounter_Loss_Lost_Naga_2_2" tags="" position="1225,12475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;tongue&quot;)&gt;&gt;

The last thing you hear is the thundering groaning of swelling snake bulk and the bellowing roars of orgasm.

&quot;YESSSS SSSOOOO MUCH POWER!&quot;

The naga roars as you fade away to become part of a superior predator.

\&lt;&lt;run setup.choice(&quot;[[Let Go-&gt;Encounter_Loss_Lost_Naga_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1001" name="Encounter_Loss_Lost_Naga_3" tags="" position="100,12600" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Lost_Naga&quot;])&gt;&gt;
You wake up hours later, with your senses slowly awakening from a long dreamless sleep.

\&lt;&lt;if $curseStatus == &quot;Cursed&quot;&gt;&gt;
∇: The Lost Naga has taken some of your size, only by defeating him can you get your strength back.

∇: Your muscles are reduced to &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt; (-&lt;&lt;print $CharacterSheet_Player.quest.curseOfTheNagaStatDrain.muscles&gt;&gt;).
∇: Your body is shortened by &lt;&lt;print setup.getLength($CharacterSheet_Player.quest.curseOfTheNagaStatDrain.height)&gt;&gt;.
∇: Your cock&#39;s length is reduced by &lt;&lt;print setup.getLength($CharacterSheet_Player.quest.curseOfTheNagaStatDrain.cock)&gt;&gt;.
\&lt;&lt;elseif $curseStatus == &quot;AlreadyCursed&quot;&gt;&gt;
∇: The Lost Naga has already stolen some of your size, only by defeating him can you get your strength back.
\&lt;&lt;else&gt;&gt;
∇: The Lost Naga has grown, but your form is too small to lose any more size.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Return home-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1002" name="Encounter_Win_Lost_Naga_ShardFight_FirstTime" tags="" position="225,12600" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Naga.quest.saidWantSpawn = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
The Lost Naga hunches forward and nearly falls down, but he catches himself at the last second.
Yet his eyes brim with relentless conviction, and there lurks something more... a captivation, a craving.. 

A single impish grin frolics across his lips as he quips, &quot;Seeking something are we? Your eyes, they betray your desire.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_ShardFight_FirstTime_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1003" name="Encounter_Win_Lost_Naga_ShardFight_FirstTime_2" tags="" position="350,12600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
Suddenly, out of nowhere, he brandishes something from behind his back.

A fragment of the Eye of the Void. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_ShardFight_FirstTime_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1004" name="Encounter_Win_Lost_Naga_ShardFight_FirstTime_3" tags="" position="475,12600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
His eyes narrow, studying your reaction intently. &quot;How about a simple trade for it? I seek a Spawn of Nyx in return,&quot; he pronounces, feeling the tension once again escalate.

Your gaze meets his squarely. 
Running a hand across a brawny arm, he can feel the Corruption shifting beneath his skin. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_ShardFight_FirstTime_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1005" name="Encounter_Win_Lost_Naga_ShardFight_FirstTime_4" tags="" position="600,12600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
&quot;A fair trade it would seem,&quot; he growls, the resonance in his voice reverberating in the desolate desert surrounding them. 

&quot;The relic for a Spawn of Nyx. Capture one, or infest yourself. It matters not to me.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Lost_Naga.bringSpawnOptions, 3)&gt;&gt;</tw-passagedata><tw-passagedata pid="1006" name="Encounter_Win_Lost_Naga_ShardFight_Return" tags="" position="725,12600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;worried&quot;)&gt;&gt;
The Lost Naga hunches forward and nearly falls down, but he catches himself at the last second.
Yet his eyes brim with relentless conviction, and there lurks something more... a captivation, a craving.. 

A grin frolics across his lips as he quips, &quot;You win again, Salvager. Now, do you want your precious relic after all?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_ShardFight_Return_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1007" name="Encounter_Win_Lost_Naga_ShardFight_Return_2" tags="" position="850,12600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
Suddenly, out of nowhere, he brandishes something from behind his back.

A fragment of the Eye of the Void. 

&quot;The relic for a Spawn of Nyx. Capture one, or infest yourself. It matters not to me.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Lost_Naga.bringSpawnOptions, 3)&gt;&gt;</tw-passagedata><tw-passagedata pid="1008" name="Encounter_Win_Lost_Naga_NoSpawn" tags="" position="975,12600" size="100,100">[[Return home-&gt;Village]]</tw-passagedata><tw-passagedata pid="1009" name="Encounter_Win_Lost_Naga_BringSpawnCaptured_Link" tags="" position="1100,12600" size="100,100">[[Give him the captured spawn-&gt;Encounter_Win_Lost_Naga_BringSpawnCaptured]]</tw-passagedata><tw-passagedata pid="1010" name="Encounter_Win_Lost_Naga_BringSpawnCaptured" tags="" position="1225,12600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
While he analyzes the unconscious spawn of Nyx, an unexpected emotion rises, piercing through his menacing facade; Greed. 
A desire not linked to any physical pleasure he has known but for a power not yet tasted.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnCaptured_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1011" name="Encounter_Win_Lost_Naga_BringSpawnCaptured_1" tags="" position="100,12725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
The thought of what he might transform into with a spawn of Nyx infesting his already imposing physique shakes him to his core. 
His muscles bulge, mirroring the internal conflict now raging within him. 

He could be stronger, more dominant. He could be unstoppable.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnCaptured_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1012" name="Encounter_Win_Lost_Naga_BringSpawnCaptured_2" tags="" position="225,12725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
&quot;A trade then,&quot; he whispers, tracing a large finger over the glowing relic ingrained in his chest. &quot;Your spawn of Nyx for my relic.&quot;

The sound of his voice echoes eerily across the Barrens. 
His towering form seems to blend with the darkness, tension lining each monstrous muscle.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnCaptured_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1013" name="Encounter_Win_Lost_Naga_BringSpawnCaptured_3" tags="" position="350,12725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
With a deep chuckle, he outstretches his hand and takes the parasite from your palm. 
Its smooth, squirming form writhing in his massive grip, mirroring his own anticipation. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnCaptured_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1014" name="Encounter_Win_Lost_Naga_BringSpawnCaptured_4" tags="" position="475,12725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
How fascinating it is to consider such a trivial being could amplify his power. 

The thought is indeed riveting.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1015" name="Encounter_Win_Lost_Naga_BringSpawnAlive_Link" tags="" position="600,12725" size="100,100">[[Give him one of your spawn-&gt;Encounter_Win_Lost_Naga_BringSpawnAlive]]</tw-passagedata><tw-passagedata pid="1016" name="Encounter_Win_Lost_Naga_BringSpawnAlive" tags="" position="725,12725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
&quot;Prove you&#39;re a worthy host. Show me you can handle the power of Nyx. Spread your spawns to me~&quot;

His eyes blaze with hedonistic pleasure as he watches you fondle your cock unabashed, provoking the dormant spawns within your balls.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnAlive_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1017" name="Encounter_Win_Lost_Naga_BringSpawnAlive_2" tags="" position="850,12725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
It stirs the Lost Naga into a feral joy.
He leans closer, the palpable anticipation crackling in the air like a brewing thunderstorm.

&quot;I can feel them...&quot; He grasps your cock, his grip careful gentle his monstrous might. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnAlive_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1018" name="Encounter_Win_Lost_Naga_BringSpawnAlive_3" tags="" position="975,12725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
&quot;They&#39;re eager, thrilled to meet their new vessel!&quot;

Demonic laughter rumbles from his chest as he lifts his gaze, his mesmerizing eyes meeting yours.

The tendrils on his back twitch and writhe, ensnaring your cock and jerking it fervently.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnAlive_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1019" name="Encounter_Win_Lost_Naga_BringSpawnAlive_4" tags="" position="1100,12725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
Soon, a spawn is drawn forward, I uncurled it to its full, intimidating length, revealing the writhing monstrosity.

Quickly, he lowers his head and consumes your cock in his monstrous maw, sucks it like his life depended on it. 
You soon it that critical mingling point of pleasure and pain.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Lost_Naga_BringSpawnAlive_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1020" name="Encounter_Win_Lost_Naga_BringSpawnAlive_5" tags="" position="1225,12725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
Your climax starts to rush forth, and he pulls back to let your spawns spread all over him. 

&quot;Yesssssss~&quot; He mused, tenderly lifting a spawn to the harsh daylight. 
The spawn squirms wildly, a chaotic dance that only makes the Naga&#39;s grin widen.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1021" name="TakeParasite" tags="" position="100,12850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Lost_Naga&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
Fixing his gaze onto you, he lowers his hand, bringing the parasite near his looming cock.

“Brace yourself,” he snarls, just before pushing the parasite inside. 
The feeling was new, uncharted - a wave of pleasure overwhelms his already heightened senses. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1022" name="TakeParasite_2" tags="" position="225,12850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Lost_Naga&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
The spawn squirms, exploring its new home with an undying curiosity that sends waves of unchecked lust coursing through his massive frame.

His back arches in pleasure as the parasite fuses with him, his roars echoing ominically in the barren wasteland. 
He tilts his head back, eyes closed, consumed in the euphoria of this intimate act.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1023" name="TakeParasite_3" tags="" position="350,12850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
As the spawn of Nyx merges with his flesh, he feels himself pulse with an energy potent beyond comprehendible dimensions - a mind bending rush of raw might. 

&quot;YESSSSS!!!!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1024" name="TakeParasite_4" tags="" position="475,12850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
Every inch of muscle within him tightens and expands spasmodically, straining against the relentless torrents of power coursing through his veins.

Then it happens. 
He can feel his form bloating, the unremitting pressure swells within as his muscles craft a new, formidable form of their own. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1025" name="TakeParasite_5" tags="" position="600,12850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Lost_Naga&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;
&quot;HHHMMMMMM... THIS IS SO GOOOOOOOD~&quot;

Powered by the untamable energy embodied by the spawn of Nyx, his form erupts with an overwhelming burst of power. 
Towering over the dunes, muscles spreading into an intimidating panorama, he lords over the barren landscape. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1026" name="TakeParasite_6" tags="" position="725,12850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Lost_Naga&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
&quot;MOOOOOOORE!!!!&quot;

As if a dam has cracked, he unloads an unstoppable flood of corrupted seed. 
The thunderous of his orgasmic roars reverberates across the desert, a primal proclamation of newfound power that dares to challenge his authority over the Barrens.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1027" name="TakeParasite_7" tags="" position="850,12850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Lost_Naga&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;happy&quot;)&gt;&gt;
&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;GROW! FUCK! SPREAD!&quot;&lt;/span&gt;

With raw pleasure rippling through him, he cum again, subjugated by the pure ecstasy of his monstrous metamorphosis. 
Spastic waves of delight course through him, tearing his senses away with the intensity of his explosive release.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;TakeParasite_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1028" name="TakeParasite_8" tags="" position="975,12850" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Naga.quest.givenShard = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Naga.quest.saidWantSpawn = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.gatheredShard++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Naga, &quot;normal&quot;)&gt;&gt;

When the echoes of his orgasm disolves, he stands commandingly over the dunes.

The lingering aftershocks of the experience washes over him, leaving him with an unquenchable thirst... a thirst for more.

&quot;Thank you Salvagers, I will remember this~&quot;

∇: You gained a shard of the Eye of the Void

\&lt;&lt;run setup.choice(&quot;[[Return home-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1029" name="Encounter_Start_Lost_Prisoner" tags="" position="1100,12850" size="100,100"></tw-passagedata><tw-passagedata pid="1030" name="Encounter_Intro_Lost_Prisoner" tags="" position="1225,12850" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Lost_Prisoner.encounterIntro)&gt;&gt;</tw-passagedata><tw-passagedata pid="1031" name="Lost_Prisoner_FirstMeeting_Intro" tags="" position="100,12975" size="100,100">You have been traversing the unforgiving dersertic expanses of the Barrens for what feels like an eternity.
The omnipresent sun casts long, eerie shadows of half-buried ruins that emerge sporadically from the desert.

But a tenacious warrior, your strength and resolve has outgrown fatigue.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_FirstMeeting_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1032" name="Lost_Prisoner_FirstMeeting_Intro_2" tags="" position="225,12975" size="100,100">In your journey&#39;s midst, a chill suddenly slithers down your spine.

Your senses immediately pick up on an abrupt change in the environment.
The sun begins to sink below the horizon, its waning gold streaks giving way to a creeping purple that distorts into pitch-black.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_FirstMeeting_Intro_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1033" name="Lost_Prisoner_FirstMeeting_Intro_3" tags="" position="350,12975" size="100,100">An otherworldly howl pierces the silence, echoing throughout the vast, deserted landscape.
It&#39;s a sound you&#39;ve learned to fear: the howl of a werewolf.

The hairs on your neck prickle up as adrenaline floods your body, sharpening your senses and readying you for battle.

Suddenly, he emerges from behind a nearby dune.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_FirstMeeting_Intro_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1034" name="Lost_Prisoner_FirstMeeting_Intro_4" tags="" position="475,12975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

You remember him all too well. The beast is massive, ferocious, an embodiment of primal rage and raw strength.
It was only through the combined effort of you and Abel that you managed to subdue the beast.

\&lt;&lt;if $CharacterSheet_Player.quest.lostPrisonerUntied == false&gt;&gt;
Apparently, though, the Bastion&#39;s prison was not enough to contain him.
\&lt;&lt;else&gt;&gt;
But then of course, you helped him escape.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_FirstMeeting_Intro_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1035" name="Lost_Prisoner_FirstMeeting_Intro_6" tags="" position="600,12975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

But no one can help you in the echoing vastness of the Barrens, face to face with the escaped beast.
The werewolf stands there, as imposing and ferocious as your darkest memory recalls.

His eyes, as dark as Corruption itself, find yours immediately.
They&#39;re the color of every lost soul, of every instinct screaming at you to give in.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_FirstMeeting_Intro_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1036" name="Lost_Prisoner_FirstMeeting_Intro_7" tags="" position="725,12975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

You circle each other warily, the tension building with each passing moment.

&quot;It&#39;s just you and me this time.&quot; He snarls.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Lost_Prisoner)&gt;&gt;</tw-passagedata><tw-passagedata pid="1037" name="Lost_Prisoner_LowRela_Intro" tags="" position="850,12975" size="100,100">Across endless miles of parched earth and sun-bleached sand dunes, the desert wasteland stretches out, barren and devoid of life.

Well, almost devoid of life, there is something else, something lurking...
You could feel its presence ever since you started your expedition.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_LowRela_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1038" name="Lost_Prisoner_LowRela_Intro_2" tags="" position="975,12975" size="100,100">A chilling howl echoes across the vast desolation, making your skin prickle in anticipation.
That voice... that guttural, animalistic yowl, it belongs to him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_LowRela_Intro_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1039" name="Lost_Prisoner_LowRela_Intro_3" tags="" position="1100,12975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

A gust of wind stirs the sand beneath your feet, carrying with it a hint of wet fur and rancid breath.

&quot;I can smell you, from miles away,&quot; the snarl fills the air around you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_LowRela_Intro_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1040" name="Lost_Prisoner_LowRela_Intro_4" tags="" position="1225,12975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&quot;I&#39;ll hunt you anywhere you go.&quot;

His presence is so overwhelming and pervasive, almost as if he has saturated the very air around you with his existence.
A malevolent aura wraps around you like a tight coil, constricting your breath.

&quot;You&#39;re mine~&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Lost_Prisoner)&gt;&gt;</tw-passagedata><tw-passagedata pid="1041" name="Lost_Prisoner_MidRela_Intro" tags="" position="100,13100" size="100,100">Across infinite spans of arid land and sun-bleached sand dunes, the desert wasteland extends, barren and lifeless.

Well, almost lifeless, there&#39;s something else, something unseen...
You&#39;ve felt its presence since the start of your journey.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_MidRela_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1042" name="Lost_Prisoner_MidRela_Intro_2" tags="" position="225,13100" size="100,100">Your heart hammers against your chest, the heavy thump echoing loudly in your ears as a familiar beast steps forward, clawed feet crunching the barren ground underfoot.
His glowing purple eyes send a twisted mixture of terror and lust across your body.

A rumbling growl reverberates from his chest, a haunting harmonic that seals your fate.

You&#39;re face to face with the Lost werewolf.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_MidRela_Intro_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1043" name="Lost_Prisoner_MidRela_Intro_3" tags="" position="350,13100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

&quot;I&#39;ve got you,&quot; he grates, his voice the primeval growl of a predator.

He continues, &quot;I&#39;ve been yearning for this moment.&quot; There are no signs of mercy in his glacier-cold eyes.

But there&#39;s something odd about the distance between you this time. There&#39;s almost an allure, a strange attraction pulling you both.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Lost_Prisoner)&gt;&gt;</tw-passagedata><tw-passagedata pid="1044" name="Encounter_Loss_Lost_Prisoner" tags="" position="475,13100" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Lost_Prisoner.postFightPassagesLoss)&gt;&gt;</tw-passagedata><tw-passagedata pid="1045" name="Lost_Prisoner_Low_Rela_Loss" tags="" position="600,13100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
You stagger back, the pain echoing through you like a drumbeat.
The world spins around as you crumble to your knees, defeated, but not broken.

In the quiet of the approaching dusk, the werewolf speaks, his voice gruff yet proud.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Loss_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1046" name="Lost_Prisoner_Low_Rela_Loss_2" tags="" position="725,13100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
His growls cut through the silence.

Suddenly, his frame starts to shiver, a low growl rattling ominously in his chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Loss_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1047" name="Lost_Prisoner_Low_Rela_Loss_3" tags="" position="850,13100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;

He doubles over, a lustful moan savaging the eerie silence. You watch, paralyzed with fear and anticipation as Essence surges within his soul.
Growth rip through his back, muscles rippling and swelling like tidal waves in a storm.

&quot;I&#39;ll never stop growing, become the strongest beast there is!&quot;

He grows, his already formidable muscles bulging and flexing, transforming it into an even more formidable monster.
Essence rushes into his chest, making his heart throb erratically as it tries to keep pace with the onslaught of power.

∇: The Lost Werewolf&#39;s has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;height&quot;, 10))&gt;&gt; taller.
∇: The Lost Werewolf&#39;s cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;cock&quot;, 4))&gt;&gt; longer.
∇: The Lost Werewolf&#39;s balls have grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;balls&quot;, 2))&gt;&gt; in diameter.
∇: The Lost Werewolf&#39;s muscles have grown (&lt;&lt;print setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;muscles&quot;, 5)&gt;&gt;).

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Loss_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1048" name="Lost_Prisoner_Low_Rela_Loss_4" tags="" position="975,13100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
&quot;Grrrrrrr... GrrRaaaaAAAAAA!&quot;

His pecs bulge and stretch, tightening as well as expanding in size, becoming monstrously huge.
A half snarl, half laugh rumbles in its throat, shaking you to your very core.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Loss_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1049" name="Lost_Prisoner_Low_Rela_Loss_5" tags="" position="1100,13100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Suddenly, the beast turns and stalks away, its bared teeth glinting menacingly.

&quot;Your end at my hands would be too comfortable. I prefer my prey to squirm, to live with the knowledge of its impending demise.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Loss_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1050" name="Lost_Prisoner_Low_Rela_Loss_6" tags="" position="1225,13100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&quot;Who&#39;s to say I even need Apothus~&quot;

With great difficulty, you push yourself to your knees and watch as the silhouette of the werewolf slowly dissolves into the swirling curtain of sand.
Drained of strength, you slump back, each labored breath serving as a brutal reminder of your encounter.

Better to leave before he changes his mind.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1051" name="Lost_Prisoner_Mid_Rela_Loss" tags="" position="100,13225" size="100,100">The pulsating agony of his last hit sends you reeling backwards.

A final clash, elegant and tragic, ends with his claws sinking into your shoulder.
Searing pain follows, growing with each heartbeat.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Loss_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1052" name="Lost_Prisoner_Mid_Rela_Loss_2" tags="" position="225,13225" size="100,100">Yet, as he leans in, his snout dangerously close, he doesn&#39;t strike the final blow.
Instead, he utters words you never expected to hear from this beast.

&quot;Hmmmm~ You&#39;d make for such a wonderful mate if you gave in.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Loss_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1053" name="Lost_Prisoner_Mid_Rela_Loss_3" tags="" position="350,13225" size="100,100">His words stir within you, a maelstrom of confusion and disbelief.
Yet, even though the confusion overwhelms your senses, a part of you starts to believe him.
The way he has always been there, always finding you, always pushing you to fight.

Maybe there is something more.

Lost in the newfound emotions, you succumb to the gravitating pull and slither to your knees.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Loss_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1054" name="Lost_Prisoner_Mid_Rela_Loss_4" tags="" position="475,13225" size="100,100">The werewolf watches as you fall, his purple eyes full of longing.

He gives you a cocky smirk, mirth dancing in its eyes, and licks its furred lips.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Loss_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1055" name="Lost_Prisoner_Mid_Rela_Loss_5" tags="" position="600,13225" size="100,100">The sight saps your remaining strength, the realization sinking in that he has truly won.

“What will you do now, human?” It asks, leaning closer, its breath hot and warm against your face. “Flee or submit?”

\&lt;&lt;run setup.choice(&quot;[[Flee-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Submit-&gt;Lost_Prisoner_Mid_Rela_Loss_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1056" name="Lost_Prisoner_Mid_Rela_Loss_6" tags="" position="725,13225" size="100,100">With how fast I&#39;m growing, running will soon no longer be an option~-

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1057" name="Encounter_Win_Lost_Prisoner" tags="" position="850,13225" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Lost_Prisoner.postFightPassagesWin)&gt;&gt;</tw-passagedata><tw-passagedata pid="1058" name="Lost_Prisoner_Low_Rela_Win_Idle" tags="" position="975,13225" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.relationshipScoring++&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
The werewolf staggers back, echoing pain coursing through him like a drumbeat.
He crumbles to his knees, defeated but not broken.

You notice his wounds are already starting to heal. He smirks in response.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1059" name="Lost_Prisoner_Low_Rela_Win_2" tags="" position="1100,13225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
His words cut through the silence.

&quot;Don&#39;t you dare think this is over, warrior.&quot;

Suddenly, his body shivers, a low growl rattling ominously in his chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1060" name="Lost_Prisoner_Low_Rela_Win_3" tags="" position="1225,13225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

&quot;Corruption flows through me, granting me the power I need to become the strongest beast The Barrens have ever witnessed.&quot;

He doubles over, a lustful moan savaging the eerie silence.
Growth rips through his back, muscles rippling and swelling like tidal waves in a storm.

&quot;I will grow... breeed... SPREAD!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Win_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1061" name="Lost_Prisoner_Low_Rela_Win_3_1" tags="" position="100,13350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

He expands, his daunting sinews blossoming and convulsing, morphing him into an entity of unrelenting terror even more fearsome than before.
A corrupted tide surges into his core, causing his heart to dance a wild rhythm of pandemonium, striving to match the torrential deluge of raw might.

∇: The Lost Werewolf&#39;s has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;height&quot;, 4))&gt;&gt; taller.
∇: The Lost Werewolf&#39;s cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;cock&quot;, 1))&gt;&gt; longer.
∇: The Lost Werewolf&#39;s balls have grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;balls&quot;, 0.3))&gt;&gt; in diameter.
∇: The Lost Werewolf&#39;s muscles have grown (&lt;&lt;print setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;muscles&quot;, 5)&gt;&gt;).

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1062" name="Lost_Prisoner_Low_Rela_Win_4" tags="" position="225,13350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
&quot;Grrrrrrr... GrrRaaaaAAAAAA!&quot;

His pectorals swell and contort, straining under an otherworldly strength, evolving into behemoth proportions of almost mythical stature.
A sound midway between a guttural growl and a sinister chuckle bubbles from the beast&#39;s throat, sending ominous tremors through the very essence of your being.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Win_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1063" name="Lost_Prisoner_Low_Rela_Win_5" tags="" position="350,13350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Abruptly, the creature whips around and slinks away on all four, his teeth gleaming wickedly, a sinister light illuminating the sharp, threatening points.

&quot;I&#39;ll hunt you down in your most unsuspecting moments, descending upon you like your worst nightmares.&quot;

As his muscular form hits the hot desert sand, a guttural growl rumbles on the horizon.
He starts to run, and before you can even muster an answer, he is swallowed whole by the monstrous expanse of burning sands.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Low_Rela_Win_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1064" name="Lost_Prisoner_Low_Rela_Win_6" tags="" position="475,13350" size="100,100">Drained of strength, you slump back, each laboured breath serving as a brutal reminder of your encounter.

∇: Your bond with the Lost Prisoner has strengthened.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1065" name="Lost_Prisoner_Mid_Rela_Win_Idle" tags="" position="600,13350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
The smell of Corruption and sweat covers you both. This was an intense battle.
The Barrens are silent once more, save for your heartbeat, echoing of the warrior within, undefeated and indomitable.

The werewolf makes no move to respond verbally, yet you see it in every line of his hulking form. The tension seeping out of his muscles, his lowered gaze, the slump in his broad shoulders.
He lets out a low, throaty whimper.

It is a clear act of yielding.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1066" name="Lost_Prisoner_Mid_Rela_Win_Idle_2" tags="" position="725,13350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
&quot;Ggrrarrr...&quot;

The beast stays motionless, kneeling at your feet in total exhaustion.

&quot;There&#39;s a satisfaction in overpowering the weak, the strong, the defiant.&quot; His voice interweaved with a haunting animal growl.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1067" name="Lost_Prisoner_Mid_Rela_Win_Idle_3" tags="" position="850,13350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
His cock is hard and exposed. Tainted pre has been oozing out of it ever since he raised his head to look at you.
His body continues to grow, his heartbeat fueling his muscles with enough Corruption to break a man&#39;s soul.

&quot;But this... This is something else.&quot;

His heel digs deeper into the shifting sands beneath him.
He grasps his throbbing shaft and growls.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1068" name="Lost_Prisoner_Mid_Rela_Win_Idle_4" tags="" position="975,13350" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.tentaclesOut = true&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Without warning, long, slender tendrils begin to emerge from his back.
They crawl down towards his ass before pushing themselves in, stretching and lubricating it out of instinct.

&quot;I feel the urge to give in, to be guided into a realm of true pleasure.&quot;

\&lt;&lt;run setup.choice(&quot;[[Take him-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_5]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1069" name="Lost_Prisoner_Mid_Rela_Win_Idle_5" tags="" position="1100,13350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
You lift his chin and guide your cock towards his awaiting mouth.

With a determined growl, he starts sucking without a hint of hesitation.
His audacious acceptance sends a thrilling shiver cascading down your spine.

The once terrifying predator is now gorging down your tool, his own hand jerking himself off with increasing desperation.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1070" name="Lost_Prisoner_Mid_Rela_Win_Idle_6" tags="" position="1225,13350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
The Corruption that clads his body surround your cock.
Like a second skin, it encapsulates it. It&#39;s a sensation that is alien and yet somehow incredibly intimate.

This Corruption spreads all throughout you, tracing thick, pulsating lines along your veins and arteries.

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
Δ: You gain 8 Corruption.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1071" name="Lost_Prisoner_Mid_Rela_Win_Idle_7" tags="" position="100,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You feel him expand beneath you, your breath catching in sync with each powerful thrust.
His body tenses, biceps hardening.

Each motion radiates a new wave of subtle growth, blossoming into long, deep moans.

Corruption seeps into your thoughts and urges you to take this to the next level.

To make him yours.

\&lt;&lt;run setup.choice(&quot;[[Take him-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1072" name="Lost_Prisoner_Mid_Rela_Win_Idle_8" tags="" position="225,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You pull out and grin at the sight of the panting wolf.
The cold, wild air tingles across your skin, magnified by the Corruption coursing through your veins.

He whines, already missing the taste of your cock.

But as you go behind him and grab him by the waist, he knows what&#39;s coming.
You can sense the anticipation surging through him, giving you more impetus. His arms, previously relaxed at his sides, cross over his chest instinctively.

&quot;Just take me already...&quot;

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1073" name="Lost_Prisoner_Mid_Rela_Win_Idle_9" tags="" position="350,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
His gooey body shivers as you press your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; cock against his ass.
The thrust, letting your growing instincts take over. You push yourself all the way in, causing his body to twitch.

&lt;h2&gt;&quot;Take me!!!!&quot;&lt;/h2&gt;

You&#39;ve never felt such raw intensity before, the deep connection pulling you closer, even as his monstrous form attempts to adjust to you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1074" name="Lost_Prisoner_Mid_Rela_Win_Idle_10" tags="" position="475,13475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
&lt;h1&gt;&quot;Grraaaaaaaaaahhh!&quot;&lt;/h1&gt;

The werewolf begins to grow once more.
It&#39;s an instinctual response of relentless survival.

The wolf&#39;s grisly eyes hold yours, piercing and probing, searching.
As if he were daring you to try and control him, to see what kind of monster you could become.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1075" name="Lost_Prisoner_Mid_Rela_Win_Idle_11" tags="" position="600,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
His stance remains unyielding, his gaze steadfast; he seems more like a provocateur awaiting a duel, inviting a worthy adversary than a victim submitting to your control.

Another surge of growth rushes through him. His glutes flex hard, sucking down your cock and taking you deeper.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1076" name="Lost_Prisoner_Mid_Rela_Win_Idle_12" tags="" position="725,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
The Corruption seeps further inside your cock, and it grows faster than the wolf&#39;s entire body.
This sudden growth sends an overwhelming tide of lust through your veins, amplifying your need to dominate him.

&lt;h1&gt;&quot;FUUUUUUUCK!!!!&quot;&lt;/h1&gt;

His gigantic body, writhing and twisting, submits to the overwhelming might of your power.
Each of his huffing breaths becomes increasingly staggered, a telling indication of his upcoming orgasm.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1077" name="Lost_Prisoner_Mid_Rela_Win_Idle_13" tags="" position="850,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
The once deafening growls that echoed through the Barrens are reduced to impassioned moans.

He gives in. You&#39;ve won.

This brings you over the edge.

\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &gt; 200&gt;&gt;
[[Cum-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal]]
[[Transform him-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change]]
\&lt;&lt;else&gt;&gt;
[[Cum-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal]]
&lt;span class = &#39;inactive&#39;&gt;[[Transform him-&gt;Village]] (Need over 200 Corruption)&lt;/span&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1078" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal" tags="" position="975,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You are overwhelmed by this exquisite orgasm fueled by Corruption.
It rushes through you like a thunderous waterfall, saturating every recess of your being.

It crashes upon the shores of your consciousness and covers you in the forbidden pleasures of the void.
You let it all out, a mighty load that electrifies your soul.

\&lt;&lt;run setup.choice(&quot;[[Contiue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1079" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_2_1" tags="" position="1100,13475" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&lt;h1&gt;&quot;SPREEEEEEEAD!!!!&quot;&lt;/h1&gt;

Then, with a visceral grunt, the werewolf unleashes his load, a dark, vicious energy that radiates Corruption.
It shoots off him like a turbulent wave, flooding everything around him.

Including you.

\&lt;&lt;run setup.choice(&quot;[[Absorb his Corruption-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1080" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_2" tags="" position="1225,13475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Without hesitation, you open yourself to his seductive call.
An intoxicating warmth spreads across your skin as if you&#39;ve dipped your body into a lake of liquid fire.

His touch is invigorating, and your body welcomes it with unprecedented hunger.

\&lt;&lt;run setup.choice(&quot;[[Absorb his Corruption-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1081" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_3" tags="" position="100,13600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
It seeps into your pores, coursing through your veins like molten obsidian.
It&#39;s a feverish invasion, an otherworldly connection between you and the beast, a silent promise of power whispered into your soul.

Your body shivers, your bones shifting, stretching, becoming stronger with every drop of cum you absorb.

\&lt;&lt;run setup.choice(&quot;[[Absorb his Corruption-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1082" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_3_1" tags="" position="225,13600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Your flesh bulges and reshapes. Once lean and defined, your arms now swell, the mass increasing to unnatural levels.
The Corruption weaves into your biceps and triceps, seeping down into your forearms.

Your shoulders and back widen, stretching and growing every muscle it can spread to.
It feels like power pulsating, taking root in your body - a primal and raw force that speaks of dominance and might.

Each drop of Corruption draws out more of your developing fierceness, the savage power lurking deep within you.

Δ: Your muscles grow bigger (&lt;&lt;print setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 4)&gt;&gt; ).
Δ: You gain 9 Corruption.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1083" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_4" tags="" position="350,13600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
The werewolf&#39;s grinning maw widens as he lifts his beastly gaze up to you, howling with delight and anticipation.
The raw power of his voice - asserting his triumph, resonates with your slowly transforming self, stirring something primal within you.

Your pulse spikes, your nails lengthen, and a sudden surge of animalistic energy rushes through your veins, making your senses sharpen alarmingly.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1084" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_5" tags="" position="475,13600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&lt;h2&gt;&quot;Hmmmm look at you~&quot;&lt;/h2&gt;

His grin haunts you, becoming the embodiment of the Corruption spreading throughout your being.
His eyes hold an echo of your future.

You&#39;re becoming one of them.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1085" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_6" tags="" position="600,13600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

Gradually, with intention, the creature flexes for you, emphasizing the raw power held within his muscles.
The werewolf&#39;s pecs ripple under the sun&#39;s intense stare, visibly displaying his tremendous strength.
His powerful arms display an equal amount of monstrous power.

&quot;Good luck on your next hunt, warrior.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Normal_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1086" name="Lost_Prisoner_Mid_Rela_Win_Idle_Normal_7" tags="" position="725,13600" size="100,100">You watch him sprint off into the Barrens.
As he bounds forward, displaying raw, primal strength, you can&#39;t help but feel the sheer size and majesty of his being.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1087" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change" tags="" position="850,13600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;

Your climax sends shockwaves through both of you, making his body glow an otherworldy purple.
Every contour of him pulsates, radiating an otherworldly energy that seems to emanate in time with your shared pleasure.

His howls of ecstasy merge with cries of surprise and might be mistaken for pain by someone uninitiated.
But this is nothing to be scared of, nothing to resist.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1088" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_2" tags="" position="975,13600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;h1&gt;&quot;Guhhhh. What are you...&quot;&lt;/h1&gt;

His cries fill the air as the moment of ecstasy ripens into something more surreal.
A cascade of pure energy, radiant like the streak of a falling star, explodes from you with an echoing sound like the melody of the cosmos.
It arcs through the air so fast it blurs, embedding itself with a vicious crack into the werewolf&#39;s sides.

&lt;h1&gt;&quot;Grraaaaaaaaaahhh!&quot;&lt;/h1&gt;

The beast howls out, a sound that echoes through the Barrens.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1089" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_2_1" tags="" position="1100,13600" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Prisoner.info.bodyVisual = &quot;BodyVisualSheet_Lost_Prisoner_Ascended&quot;&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.ascended = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.tentaclesOut = false&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
The silence settles in again. Everything around you feels amplified.
The werewolf&#39;s heavy receding growls grow deeper as you gaze at him, transforming before your very eyes.

It&#39;s like the werewolf&#39;s flesh and fur are boiling together, churning, and reforming in a pulsating, sinewy mass that sends chills racing down your spine.
This is an evolution - an intimate bond that transforms the body and soul.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1090" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_2_2" tags="" position="1225,13600" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.extraArms = true&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_AscendedPrisoner&quot;);&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
Two additional arms burst from the werewolf&#39;s sides with a rush of corrupted energy.
As the newly formed limbs extend, so does your feeling of dominant pride, the certainty that you&#39;ve just irrevocably fractured the barrier between mortal and titan.

These new arms, bearing savage claws, writhe wildly as if tasting freedom for the first time.

&lt;h1&gt;&quot;MOOOOOOOORE!&quot;&lt;/h1&gt;

∇: The Lost Werewolf has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;height&quot;, 15))&gt;&gt; taller.
∇: The Lost Werewolf&#39;s cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;cock&quot;, 5))&gt;&gt; longer.
∇: The Lost Werewolf&#39;s balls have grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;balls&quot;, 2))&gt;&gt; in diameter.
∇: The Lost Werewolf&#39;s muscles have grown (&lt;&lt;print setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;muscles&quot;, 15)&gt;&gt;).

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_2_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1091" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_2_3" tags="" position="100,13725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
The werewolf creature stands taller now, his fury amplified, his being elevated, an even greater nightmare than before.

And you are the mastermind behind this monster.

No longer simply a beast, he is a god among his kind, driven to the brink of madness by his thirst for power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1092" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_4" tags="" position="225,13725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
His deep, purple eyes glow ominously in the dim light, matching the sharp gleam of his sharp fangs.

Yet, you stand undeterred. You both know that he is beneath you.
It instills you with an uncommon sense of command and authority that makes you meet the beast&#39;s piercing gaze unflinchingly.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1093" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_5" tags="" position="350,13725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
You stand tall, exuding an aura of control that permeates the tense air surrounding you.

The werewolf, sensing your resolve, whines lowly.

&quot;Thank you for this gift~&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1094" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_6" tags="" position="475,13725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.info.name = &quot;Ferro&quot;&gt;&gt;
\&lt;&lt;run setup.ferroJoinsPlayer()&gt;&gt;
The beast flexes for you, showing you the raw power he now possesses.

&quot;Can&#39;t wait to test these on some unsuspecting prey.&quot;

The rippling muscles across the werewolf&#39;s torso undulate under the sun&#39;s burning gaze.
His four mighty arms bulge with monstrous strength.

&quot;And by the way, the name&#39;s Ferro.&quot;

Δ: Ferro will now join you in battle!

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1095" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_7" tags="" position="600,13725" size="100,100">He sprints into the Barrens, the untouched wilderness extending beyond the clearing.
As he bounds forward with an outward display of primal strength, you can&#39;t help but be taken aback by this creature&#39;s sheer intensity and majesty.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Mid_Rela_Win_Idle_Change_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1096" name="Lost_Prisoner_Mid_Rela_Win_Idle_Change_8" tags="" position="725,13725" size="100,100">His figure becomes smaller with distance as he seamlessly blends with the desert.

Yet his triumphant howl echoes back to you, a haunting serenade that leaves you with a heightened yearning - a silent, pulsating promise of unimaginable pleasures yet to come.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1097" name="Lost_Prisoner_Partner_Intro" tags="" position="850,13725" size="100,100">Not long after you embark on your perilous journey to the Barrens, you feel a sudden movement in your periphery.
Your heart pounds in anticipation, and adrenaline surges through your veins.

You turn on your heel to confront the newcomer and grin at the sight.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1098" name="Lost_Prisoner_Partner_Intro_2" tags="" position="975,13725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
His muscles ripple and bulge, each fluxing with overwhelming power.
It is as if every fibre of his being pulsates with brutish strength.

Tentacles unfurl from his back, constricting and writhing as each appendage seeks prey to latch on to.

&quot;Found you~&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1099" name="Lost_Prisoner_Partner_Menu" tags="" position="1100,13725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Lost_Prisoner.partnerMenuFlavour)&gt;&gt;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Lost_Prisoner.partnerMenuChoices, 9)&gt;&gt;\

\&lt;&lt;run setup.choice(&quot;[[Return home-&gt;Village][setup.flagTimePasses($CharacterSheet_Lost_Prisoner)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1100" name="Lost_Prisoner_Partner_Spar_Link" tags="" position="1225,13725" size="100,100">\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerSparExhaustion == true&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Spar with him-&gt;Lost_Prisoner_Partner_Spar]] (You must rest before sparring again.)&lt;/span&gt;
&lt;&lt;else&gt;&gt;
[[Spar with him-&gt;Lost_Prisoner_Partner_Spar]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1101" name="Lost_Prisoner_Partner_Spar" tags="" position="100,13850" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&quot;Hehehe, you thirst for it, don&#39;t you?&quot;

He eagerly lunges towards you, not giving you any time to prepare for the fight.
\&lt;&lt;set $CharacterSheet_Player.info.tags.partnerSparExhaustion = true;&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Lost_Prisoner]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1102" name="Lost_Prisoner_Partner_Loss" tags="" position="225,13850" size="100,100">&lt;&lt;include Lost_Prisoner_Partner_Menu&gt;&gt;</tw-passagedata><tw-passagedata pid="1103" name="Lost_Prisoner_Partner_Win" tags="" position="350,13850" size="100,100">&lt;&lt;include Lost_Prisoner_Partner_Menu&gt;&gt;</tw-passagedata><tw-passagedata pid="1104" name="Lost_Prisoner_Partner_Menu_Normal" tags="" position="475,13850" size="100,100">All four of his arms are extraordinarily muscular, evident even beneath the layers of Corruption.

The beast&#39;s presence is unsettling yet comforting.</tw-passagedata><tw-passagedata pid="1105" name="Lost_Prisoner_Partner_Menu_Macro" tags="" position="600,13850" size="100,100">All four of his arms are extraordinarily muscular, evident even beneath the layers of Corruption.

The Barrens shake under the weight of this monstrous titan.</tw-passagedata><tw-passagedata pid="1106" name="Lost_Prisoner_Partner_Menu_MacroCorrupted" tags="" position="725,13850" size="100,100">The Barrens&#39; air is thick with your combined Corruption.
Mortal minds would melt upon meeting your gaze.

Your partner could only dream of reaching your level of depravity.</tw-passagedata><tw-passagedata pid="1107" name="Lost_Prisoner_Partner_Menu_Infested" tags="" position="850,13850" size="100,100">The Barrens&#39; air is thick with your combined Corruption.
Mortal minds would melt upon meeting your gaze.

Your spawns wriggle in excitement at the sight of their brethren.</tw-passagedata><tw-passagedata pid="1108" name="Lost_Prisoner_Partner_Infest_Inactive_Link" tags="" position="975,13850" size="100,100">&lt;span class=&#39;inactive&#39;&gt;[[Infest him-&gt;Village]]&lt;/span&gt;
\</tw-passagedata><tw-passagedata pid="1109" name="Lost_Prisoner_Partner_Infest_Link" tags="" position="1100,13850" size="100,100">[[Infest him-&gt;Lost_Prisoner_Partner_Infest]]
\</tw-passagedata><tw-passagedata pid="1110" name="Lost_Prisoner_Partner_Infest" tags="" position="1225,13850" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.tentaclesOut = true&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Seeing the look of desire flash through your eyes, a wicked grin tugs at the corners of his large, toothy maw.
His tentacles twitch with anticipation.

The scent of lust thickens in the already heavy air, causing his four arms to flex involuntarily, the raw muscular power a silent display of corrupted power.

&quot;Seems like someone&#39;s eager.&quot; He taunts, a raspy chuckle escaping from his throat.

\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerRecentSex  == true&gt;&gt;
You had already unleashed your load today, but whatever refactory period you once had seems gone. You know you will be with him long into the night and into next morning, filling him both with your seed and your precious spawn.
&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1111" name="Lost_Prisoner_Partner_Infest_2" tags="" position="100,13975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
A chuckle rumbles deep within his chest, the sound reverberating through the open, desolate expanse around you.
You tug uncomfortably at your loincloth, your smile growing wider.

As his hands stroke your muscular body in reverence, each touch sends riveting shocks through his skin.
His tentacles respond independently, curling around his wrists. His heightened senses tell him something is different.

Your spawns yearn to infest him. One is ready to emerge from your cock at any point.

\&lt;&lt;run setup.choice(&quot;[[Let it out-&gt;Lost_Prisoner_Partner_Infest_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1112" name="Lost_Prisoner_Partner_Infest_3" tags="" position="225,13975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
A shudder courses through him at the sight of the creature sliding out of your slit.
The sight should be grotesque, but the way the parasite takes hold of this moment, moving like a part of you, only enhances the allure.

It crawls its way to his cock.

\&lt;&lt;run setup.choice(&quot;[[Urge it to infest him-&gt;Lost_Prisoner_Partner_Infest_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1113" name="Lost_Prisoner_Partner_Infest_4" tags="" position="350,13975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Your grin is contagious, pulling a rumbling chuckle from the werewolf&#39;s maw.
His monstrous paw props the spawn up and leads it to its prize.

&quot;Alright, mate.&quot; he quips, muscles tensing as an anticipatory twitch rushes through him.

&quot;Let&#39;s see what lies on the other side.&quot; He says, a sudden flare of determination washing away any remnants of doubt.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1114" name="Lost_Prisoner_Partner_Infest_5" tags="" position="475,13975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
It suddenly dives into his slit, and the sudden intrusion sends a shockwave of pleasure rolling up his spine.

A surprised roar reverberates through the desolate wasteland.
His hands tighten around your torso, anchoring him to you as he embraces the forbidden creature coursing through him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_5_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1115" name="Lost_Prisoner_Partner_Infest_5_2" tags="" position="600,13975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
He feels the monster planting itself in him, burrowing deeper... and then, it is starts to be absorbed.
The sensation is like nothing he&#39;s ever experienced, a twisting, seething riot of pulsating warmth spreading throughout him.

Almost instantly, growth hits him. His body expands, each muscle filling with power and vigour.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_5_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1116" name="Lost_Prisoner_Partner_Infest_5_3" tags="" position="725,13975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
A low growl rumbles in his chest as he feels the euphoria wash over him, the pulses of pleasure getting stronger with each heartbeat.

This new presence, your presence within his body, is transforming him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1117" name="Lost_Prisoner_Partner_Infest_6" tags="" position="850,13975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Lost_Prisoner, setup.Ability.NyxParasiteInfection)&gt;&gt;
\&lt;&lt;run State.variables.CharacterSheet_Lost_Prisoner.quest.infested = true&gt;&gt;
His massive form quakes under the surges of pleasure.
The sight of his ever-growing body and the feel of his expanding power makes you more and more aroused.

For the briefest moment, he worries about what will happen, about what he&#39;s becoming.
But then, he feels the parasite thriving, moving inside him like a primal, intoxicating dance, and these thoughts are washed away.

Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_6_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1118" name="Lost_Prisoner_Partner_Infest_6_2" tags="" position="975,13975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
The palpable sense of widening strength and surging desire becomes his new reality.
He revels in the sensation, his towering form looming over, his four arms pulsating with ever-increasing power.

He manages to growl out between gasps and shudders, &quot;Yesss...&quot; His voice shakes, rendered breathless by the profound changes coursing through him.

His eyes meet yours, glowing with an increasingly alluring light. The reflection of his metamorphosis glares back. It is a dangerous promise of what&#39;s yet to come.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Lost_Prisoner_Partner_Infest_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1119" name="Lost_Prisoner_Partner_Infest_7" tags="" position="1100,13975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
Within seconds, your cock presses upon his entrance, and you push yourself in.

Your spawns yearn for more.

&quot;INFEST MEEEEE!!!&quot; He screams.

\&lt;&lt;run setup.choice(&quot;[[Fuck him harder-&gt;Lost_Prisoner_Partner_Infest_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1120" name="Lost_Prisoner_Partner_Infest_8" tags="" position="1225,13975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
Each thrust sends waves of delicious pressure spiralling through him, ripples of pure ecstasy radiating from his core.
The sensation is magnified when the additional parasites make their presence known, ambitions intent on moulding him further.

They spread quickly, their influence seeping into every fibre of his being, transforming him into something... more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1121" name="Lost_Prisoner_Partner_Infest_9" tags="" position="100,14100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
With each surge of their power, he feels his body bulge, his muscles expanding, his skin stretching to accommodate the near-overpowering might swarming within him.

&quot;Hahahaha... HAHAHAHA!&quot; He screams madly at the power and pleasure rushing through him.

He can feel his massive form grow even larger, his body almost obscenely muscular.

\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;muscles&quot;, 22)&gt;&gt;

Δ: Ferro&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;height&quot;, 14))&gt;&gt; taller.
Δ: Ferro&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Lost_Prisoner)&gt;&gt;(+$growth).
Δ: Ferro&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;cock&quot;, 6))&gt;&gt; longer.
Δ: Ferro&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;balls&quot;, 2))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1122" name="Lost_Prisoner_Partner_Infest_10" tags="" position="225,14100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
Driven by desire, he throws his head back, a deep, carnal moan echoing into the night.

The feel of you, the sensations caused by the creatures within him, all pushing him towards a maddening edge of pleasure.

&quot;More... MORE. MOOOOOOOORE!!!!!&quot; He begs, his voice raspy, echoing deeply around you.

\&lt;&lt;run setup.AbiHndlr.setAbilityRank(State.variables.CharacterSheet_Lost_Prisoner, setup.Ability.NyxParasiteInfection, 3)&gt;&gt;
Δ: Ferro gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro gains the &quot;Nyx Spawn Infection&quot; Ability.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1123" name="Lost_Prisoner_Partner_Infest_11" tags="" position="350,14100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Your repeated thrusts send him spiralling deeper into an abyss of pleasure, each one more potent than the last.
Filled with a chaotic blend of hunger and power, he pulls the other closer, your bodies colliding with each thud of the thrusts.

The further they delve into this frenzied dance of lust, pleasure, and power, the more he loses himself to it.

Every fibre in his body aches for you, yearns for more, for release.

\&lt;&lt;run setup.choice(&quot;[[Cum more spawns inside him-&gt;Lost_Prisoner_Partner_Infest_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1124" name="Lost_Prisoner_Partner_Infest_12" tags="" position="475,14100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
A sudden burst of hot, wriggling life fills him. New spawns have been released into him, each one feeling like an explosive star of pure ecstasy.
There&#39;s no room for fear or hesitation this time - he embraces them, welcomes them, and lets them descend upon his being like a rain of transcendental pleasure.

A throbbing, pulsating wave of delight floods him, a tsunami of pleasure that centers on their joining before radiating outwards through every vein and nerve.

\&lt;&lt;run setup.AbiHndlr.setAbilityRank(State.variables.CharacterSheet_Lost_Prisoner, setup.Ability.NyxParasiteInfection, 12)&gt;&gt;
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.
Δ: Ferro&#39;s gains the &quot;Nyx Spawn Infection&quot; Ability.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1125" name="Lost_Prisoner_Partner_Infest_13" tags="" position="600,14100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
His body convulses with overwhelming ecstasy, expanding once again as it&#39;s filled with countless wriggling lifeforms.
The sensation of growth is dizzying in its intensity.

His form undergoes a breath-taking transformation in what feels like the blink of an eye.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;muscles&quot;, 33)&gt;&gt;

Δ: Ferro&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;height&quot;, 33))&gt;&gt; taller.
Δ: Ferro&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Lost_Prisoner)&gt;&gt;(+$growth).
Δ: Ferro&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;cock&quot;, 20))&gt;&gt; longer.
Δ: Ferro&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Lost_Prisoner, &quot;balls&quot;, 17))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1126" name="Lost_Prisoner_Partner_Infest_14" tags="" position="725,14100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
His once merely impressive muscles are now utterly awe-worthy, pulsating with might that&#39;s nothing short of divine.

A Hive Lord, an embodiment of Corruption and power in equal measures.
His mind spins with the new reality, adrift in an ocean of sensory overload.

&quot;Yes... YES!&quot; he roars.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1127" name="Lost_Prisoner_Partner_Infest_15" tags="" position="850,14100" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
He looks upon you, the source of all this, with amazement.
You have not just gifted him with pleasure but a profound power that holds the potential to reshape everything.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Infest_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1128" name="Lost_Prisoner_Partner_Infest_16" tags="" position="975,14100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.tentaclesOut = false&gt;&gt;
Flexing his formidable muscles, his stare never waning from the form before him, he lets out a heady, triumphant roar, filling the desolate wasteland with the sound of his newfound power.
Even as a corrupted Hive Lord, some primal instincts never change.

\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerRecentSex  == true&gt;&gt;
Dawn breaks having spent the entire night with your infested partner, feeling your spawn wriggle between the two of you freely.
\&lt;&lt;run setup.addDays(1)&gt;&gt;
&lt;&lt;/if&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.info.tags.partnerRecentSex  = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1129" name="Lost_Prisoner_Partner_Discuss_Apothus_Link" tags="" position="1100,14100" size="100,100">[[Ask what&#39;s on his mind-&gt;Lost_Prisoner_Partner_Discuss_Apothus]]
\</tw-passagedata><tw-passagedata pid="1130" name="Lost_Prisoner_Partner_Discuss_Apothus" tags="" position="1225,14100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.available_partnerMenuChoices_discussApothus = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.available_partnerMenuChoices_findApothus = true&gt;&gt;
You watch your four-armed werewolf partner simmer into fury, his broad features hardening with a ferocity that sets the hairs on your neck at attention.
His focus is miles away, thoughts hovering on a figure that looms mainly in his past - Apothus, his old master.

&quot;This worm... He promised me untold power if I managed to break the Bastion.&quot; Ferro grumbles.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Discuss_Apothus_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1131" name="Lost_Prisoner_Partner_Discuss_Apothus_2" tags="" position="100,14225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
His lips curl into a grimace, a grotesque display of sharpened fangs that would have terrified you in the past before you got accustomed to his monstrous appearance.
He turns to you, those eyes burning with fire.

&quot;I remember when he ambushed my tribe, and gave us a taste of Corruption. We quickly succumbed to it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Discuss_Apothus_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1132" name="Lost_Prisoner_Partner_Discuss_Apothus_3" tags="" position="225,14225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
You watch his four arms clench and unclench, an obvious reflection of the turmoil inside him.

&quot;This power was what we were seeking for years. But Apothus acted like he was the one destined to elevate us.&quot;


\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Discuss_Apothus_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1133" name="Lost_Prisoner_Partner_Discuss_Apothus_4" tags="" position="350,14225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
He hangs his head down low, his shoulders hunching.
You can almost see the vile memories wrapping around him like chains, causing his broad chest to heave.

&quot;Corruption has no master. It&#39;s ours to control, always will be.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1134" name="Lost_Prisoner_Partner_Sex_Link" tags="" position="475,14225" size="100,100">[[Tease him-&gt;Lost_Prisoner_Partner_Sex]]
\</tw-passagedata><tw-passagedata pid="1135" name="Lost_Prisoner_Partner_Sex" tags="" position="600,14225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
He&#39;s come to know that enthusiasm on your face, filled with undisguised fascination and a hint of more carnal longings.
Watching you approach, he halts, his large, lupine body still beneath the desert sky looming with night.

Anticipation prickles his hide, his muscles clenching and unclenching beneath your touch.

\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerRecentSex  == true&gt;&gt;
Your sex drive is insatiable, your last encounter was mere hours ago, but you know that you can go again through the night.
&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1136" name="Lost_Prisoner_Partner_Sex_2" tags="" position="725,14225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Each roaming hand over the waves of his firm abs only stirs a primal urge within him.

Your intrigue and boldness lure him in as no other creature can.

A low growl rumbles deep in his chest, his claws flexing into the scorched earth beneath.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1137" name="Lost_Prisoner_Partner_Sex_3" tags="" position="850,14225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
He raises his four arms, flexing them and showcasing the brute strength they possess.
Each bulging muscle ripples under his gooey skin, a spectacle of power that only you can truly appreciate.

He lowers his gaze to meet the determination in your eyes, acknowledging the strength of your need.

\&lt;&lt;run setup.choice(&quot;[[Pull him closer-&gt;Lost_Prisoner_Partner_Sex_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1138" name="Lost_Prisoner_Partner_Sex_4" tags="" position="975,14225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
His muscles tighten in expectation, answering the call of your touch.
His impressive cock grows with each teasing stroke of your hands, throbbing against the heat of his body.

The tightness of your legs against him serves only to tease him more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1139" name="Lost_Prisoner_Partner_Sex_5" tags="" position="1100,14225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
He sways his body closer to you, his chest brushing against yours, a wet yet satisfying sensation.
He utters a guttural growl, raw need coursing through his veins.

\&lt;&lt;run setup.choice(&quot;[[Kiss him-&gt;Lost_Prisoner_Partner_Sex_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1140" name="Lost_Prisoner_Partner_Sex_6" tags="" position="1225,14225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Your lips meet in a heated, passionate exchange.
The air is thick with rampant desire, and the tension crackles like a live wire.

As your lips part, he takes a moment to savour your taste.

\&lt;&lt;run setup.choice(&quot;[[Order him to submit-&gt;Lost_Prisoner_Partner_Sex_6_Dom]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Bend over-&gt;Lost_Prisoner_Partner_Sex_6_Sub]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1141" name="Lost_Prisoner_Partner_Sex_6_Sub" tags="" position="100,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
A primal growl escapes from between his gritted teeth, more animal than sentient being now.

Without any more prodding, he pushes you onto his pulsating cock.
He cradles you against his hardened pectorals.

\&lt;&lt;run setup.choice(&quot;[[Beg for more-&gt;Lost_Prisoner_Partner_Sex_6_Sub_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1142" name="Lost_Prisoner_Partner_Sex_6_Sub_2" tags="" position="225,14350" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.tentaclesOut = true&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
Your plea, raw and carnal, echoes through the air. His body trembles with desire.
He feels an insatiable urge to both claim you completely.

&quot;&lt;&lt;PlayerName&gt;&gt;&quot; he moans, burying his face into your neck and giving a heated nip. His scent mixes with yours.
Moving with renewed vigour, he wraps you tighter in his embrace, his tentacles coiling around your body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Sub_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1143" name="Lost_Prisoner_Partner_Sex_6_Sub_3" tags="" position="350,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Each pulsating throb echoes your fervour, each urgent thrust dwindling your restraint.

His hips find a rhythm with yours, encouraging him to go deeper.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Sub_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1144" name="Lost_Prisoner_Partner_Sex_6_Sub_4" tags="" position="475,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
All semblance of control is suddenly lost, and he takes on a primal frenzy.
Every stroke, every pulse, every hard thrust promises a pending climax, a crescendo waiting to crash over you.

With each mounting rise of pleasure, he feels your body tensing against his, your voice matching his growls.
The tension coils tighter, winding you up for an imminent peak.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Sub_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1145" name="Lost_Prisoner_Partner_Sex_6_Sub_5" tags="" position="600,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&quot;Maaaaaate.&quot; He growls out amidst your frenetic moans.

A sudden, primal roar rips from his chest, reverberating into the still night air as he succumbs to your shared passion.
It&#39;s a triumphant call, a testament to your unique bond.

\&lt;&lt;run setup.choice(&quot;[[Cum with him-&gt;Lost_Prisoner_Partner_Sex_6_Sub_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1146" name="Lost_Prisoner_Partner_Sex_6_Sub_6" tags="" position="725,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Your bodies convulse together, waves of release washing over you, binding you together in a moment that transcends our disparate existences.

He pulls you closer against him, ensuring you feel the full force of his release as he knots you as deep as he can.

\&lt;&lt;run setup.choice(&quot;[[Cum with him-&gt;Lost_Prisoner_Partner_Sex_6_Sub_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1147" name="Lost_Prisoner_Partner_Sex_6_Sub_7" tags="" position="850,14350" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.tentaclesOut = false&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Though no words are spoken, the shared heaves of your breathing tell its own story.
You both lie on the desert floor, basking beneath the watchful eyes of the burning sun.

He stretches out his four arms behind him, finding comfort in the arid sand beneath.
Tendrils softly trailing along the length of your spine sends a soft shiver down your back, an intimate language that belongs to only the two of you.

Δ: Ferro&#39;s gains the &quot;Apex Predator&quot; Ability.
\&lt;&lt;run setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Lost_Prisoner, setup.Ability.ApexPredator)&gt;&gt;

\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerRecentSex == true&gt;&gt;
Dawn breaks. You realize you have spent the entire night under his comforting gooey mass.
\&lt;&lt;run setup.addDays(1)&gt;&gt;
&lt;&lt;/if&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.info.tags.partnerRecentSex  = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1148" name="Lost_Prisoner_Partner_Sex_6_Dom" tags="" position="975,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
Your command is marked by an insidious power that sends shivers down his spine.
No resistance is met as he relinquishes control, the raw power in your hands stirring corruptive arousal within him.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Lost_Prisoner_Partner_Sex_6_Dom_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1149" name="Lost_Prisoner_Partner_Sex_6_Dom_2" tags="" position="1100,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
Caught in a moment of reckless abandon, your cock presses upon his entrance, and you push yourself in.
A guttural growl escapes him, a harsh yet gratifying response to your unrelenting assault.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Dom_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1150" name="Lost_Prisoner_Partner_Sex_6_Dom_3" tags="" position="1225,14350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
With each movement, he feels you growing inside him.
The world narrows down to the sensation of your cock buried in his depths, claiming him in ways he has never been taken before.

His claws dig into the sandy terrain beneath you, each breath from his bared fangs cascading onto the nape of your neck.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Dom_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1151" name="Lost_Prisoner_Partner_Sex_6_Dom_4" tags="" position="100,14475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
The sensation is overpowering, launching him to the brink of the precipice.
The resulting pleasure courses through your veins, wracking his massive form with spasms of ecstasy, every fibrous muscle twitching inches away from release.

Yet you continue to claim him, driving into him with each powerful push.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Dom_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1152" name="Lost_Prisoner_Partner_Sex_6_Dom_5" tags="" position="225,14475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
Each movement sends bolts of pleasure, electrifying him, drawing out an orchestra of primal grunts and roars.

Then, without warning, you lunge forward, delivering one mighty, powerful thrust that pushes you balls deep.
It shakes your connected bodies, lining inner warmth with a final layer of dominant claim.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Lost_Prisoner_Partner_Sex_6_Dom_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1153" name="Lost_Prisoner_Partner_Sex_6_Dom_6" tags="" position="350,14475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
Hot seed floods out, a warm stream that coats his insides.
The sensation reignites the embers of pleasure, making his body tremble anew as the pulsating rhythm of his arousal burns into climax.

Every muscle clenches, a desperate attempt to pull in every last drop of your essence.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Dom_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1154" name="Lost_Prisoner_Partner_Sex_6_Dom_7" tags="" position="475,14475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
The feeling of his warmth triggers a return of the previously dwindling orgasm, and you both shudder under the impact of mutual ecstasy.

The large body of your mate stays lodged around your cock.
Despite the exhausting pulse of pleasure that has your mind spinning, there&#39;s something oddly calming about the feeling of being still lodged inside him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Sex_6_Dom_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1155" name="Lost_Prisoner_Partner_Sex_6_Dom_8" tags="" position="600,14475" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
He curls his form around you, locking you together amidst your shared post-coital glow.
He nuzzles into his neck, his breath fanning his skin in small puffs, a steady rhythm that matches the sporadic twitch of your entwined bodies.

A low rumble of contentment rises in his chest and echoes into the silent wasteland around you both.

Δ: You gain the &quot;Apex Predator&quot; Ability.
\&lt;&lt;run setup.AbiHndlr.addAbility(State.variables.CharacterSheet_Player, setup.Ability.ApexPredator)&gt;&gt;

\&lt;&lt;if $CharacterSheet_Player.info.tags.partnerRecentSex == true&gt;&gt;
Dawn breaks with him still curled in your arms.
\&lt;&lt;run setup.addDays(1)&gt;&gt;
&lt;&lt;/if&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.info.tags.partnerRecentSex  = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1156" name="Lost_Prisoner_Partner_Return_To_Apothus_Link" tags="" position="725,14475" size="100,100">[[Ask how to find Apothus-&gt;Lost_Prisoner_Partner_Return_To_Apothus]]
\</tw-passagedata><tw-passagedata pid="1157" name="Lost_Prisoner_Partner_Return_To_Apothus" tags="" position="850,14475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.available_partnerMenuChoices_findApothus = false&gt;&gt;
You can tell he&#39;s thinking about it again - his tribe.
His teeth clenched together as though fighting the visceral urge to lash out.

&quot;Apothus locked me out of our realm and set up some nasty minotaur at its entrance.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Return_To_Apothus_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1158" name="Lost_Prisoner_Partner_Return_To_Apothus_2" tags="" position="975,14475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
The mere thought of being forcefully exiled from his own land, a land that hummed with his essence. It makes his blood boil.

&quot;This coward sent me to the Bastion to kick me out without dealing with the consequences.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Return_To_Apothus_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1159" name="Lost_Prisoner_Partner_Return_To_Apothus_3" tags="" position="1100,14475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lost_Prisoner.quest.toldNyxEntrance = true&gt;&gt;
As you watch, the gleaming claws of his multiple hands flex and retract in sync with the rhythm of his wrath.
An eerie and haunting melody that sends chills down your spine, this is no mere displeasure.

It is a deep-seated rage that screams out for retribution.

&quot;I know the way to reach his realm. We can force our way in.&quot;

∇: Ferro can now lead you to Nyx&#39;s realm.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Lost_Prisoner_Partner_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1160" name="Lost_Prisoner_Partner_AttackTiming_Link" tags="" position="1225,14475" size="100,100">[[Change combat strategy-&gt;Lost_Prisoner_Partner_AttackTiming]]
\</tw-passagedata><tw-passagedata pid="1161" name="Lost_Prisoner_Partner_AttackTiming" tags="" position="100,14600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;

&quot;How do you plan to approach the next hunt?&quot;

&lt;&lt;print setup.displayAttackTimingDescription($CharacterSheet_Lost_Prisoner)&gt;&gt;

[[Attack before me-&gt;Lost_Prisoner_Partner_Menu][$CharacterSheet_Lost_Prisoner.fight.teammateSettings.attackTiming = setup.AttackTiming.BEFORE_PLAYER]]
[[Attack after me, but before our enemy-&gt;Lost_Prisoner_Partner_Menu][$CharacterSheet_Lost_Prisoner.fight.teammateSettings.attackTiming = setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY]]
[[Attack after me, but after our enemy-&gt;Lost_Prisoner_Partner_Menu][$CharacterSheet_Lost_Prisoner.fight.teammateSettings.attackTiming = setup.AttackTiming.AFTER_ENEMY]]

\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Lost_Prisoner_Partner_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1162" name="Encounter_Intro_Swarm" tags="" position="225,14600" size="100,100">\&lt;&lt;set $CharacterSheet_Swarm.quest.met = true&gt;&gt;
\&lt;&lt;include Swarm_Flavours&gt;&gt;
\&lt;&lt;run $Encounter_Target=$CharacterSheet_Swarm&gt;&gt;

While searching through the wastelands, your ears perk up to a fiendish and gutteral howl.

It was fierce; powerful enough to rattle your ribcage.

The overwhelming presence of this creature could be felt across a massive distance - the aura of a Lost that could only have been birthed from the corrupted seed of your children.

\&lt;&lt;set _char = $CharacterSheet_Swarm&gt;&gt;
The corrupted &lt;&lt;print setup.getRaceName($CharacterSheet_Swarm)&gt;&gt; roars in ecstasy as it catches its master&#39;s scent. \
Soon, a hulking feral monstrosity bounds into view. Black oil drips off of its bulging body, the corrupt colour shimmering across its \
&lt;&lt;print setup.DESC.getLimbDesc(_char, &#39;heads&#39;, {article:true})&gt;&gt;. A &lt;&lt;print setup.DESC.getLimbDesc(_char, &#39;tongues&#39;, {num:1})&gt;&gt; hungrily \
rolls from his mouth as his &lt;&lt;charLimbDesc _char &#39;cocks&#39; &#39;hardens~harden&#39;&gt;&gt; with excitement.


\&lt;&lt;if setup.Size.compare($CharacterSheet_Swarm, &#39;height&#39;, $CharacterSheet_Player) &gt; setup.Size.Comparators.BIGGER&gt;&gt;
\&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Swarm, &quot;swarmEncounter&quot;, 1, $CharacterSheet_Player)&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;swarmEncounter&quot;, 1, $CharacterSheet_Swarm)&gt;&gt;
\&lt;&lt;/if&gt;&gt;


\&lt;&lt;run setup.choice(&quot;[[Go back-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1163" name="Swarm_Flavours" tags="" position="350,14600" size="100,100">\&lt;&lt;nobr&gt;&gt;
&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm,
    &quot;swarmEncounter&quot;,
    1,
    &quot;Skidding to a halt in front of you, the towering beast presses its chest down to the floor in a show of respect. Those glistening black eyes would almost pass as cute if &quot; +
    &quot;its slavering maw hadn&#39;t been the size of your entire body and then some. Your eyes trail downwards as you feel a rush of warm liquid slam against your shins; &quot; +
    &quot;you can&#39;t help but smile realising how &#39;excited&#39; he was to see you.\n\nYou scratch his head in approval. Now, what to do?&quot;
)&gt;&gt;

&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm
    &quot;swarmEncounter&quot;,
    2,
    &quot;Skidding to a halt in front of you, the gargantuan beast presses its chest down to the floor in a show of respect. You admire the immensity of your beast, his monstrous maw &quot; +
    &quot;containing teeth the size of your body. His ever-growing body consumes most of your field of view, pulsating with deliciously bulging muscle. &quot; +
    &quot;A torrent of corrupted seed explodes out from behind him, a tidal wave of masculinity! Before you are swept away, &quot; +
    &quot;your child&#39;s tongue slips from its mouth, wraps around you and holds you still.\n\nYou smile in approval. Now, what to do?&quot;
)&gt;&gt;

&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm,
    &quot;swarmEncounter&quot;,
    3,
    &quot;Skidding to a halt in front of you, the gargantuan beast presses its chest down to the floor in a show of respect. He is a titan compared to you, the blades of his shoulders rising &quot; +
    &quot;high enough into the sky to appear as bulging, growing mountains. His giant mouth alone could be mistaken for the interior of a living cave network. &quot; +
    &quot;A flood of corrupted seed erupts from somewhere behind him; a virile sea being forced from his @[all|cocks|noverb]! Before you are swept away, &quot; +
    &quot;your child&#39;s tongue slips from its mouth and wraps around you before lifting you above the voluminous alabaster sea.\n\nYou smile in approval. Now, what to do?&quot;
)&gt;&gt;

&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm,
    &quot;swarmEncounter&quot;,
    4,
    &quot;Skidding to a halt in front of you, the gargantuan beast presses its chest down to the floor in a show of respect. The sight is unreal. A beast larger than mountains - so tall &quot; +
    &quot;and wide that the entire land around you is caught in its magnificent shadow, is prostrating himself to you. The amount of muscle packed onto its frame billows outwards to an unbelievable &quot; +
    &quot;degree; every chord audibly vibrating and creaking like the sound of bending metal. &quot;+
    &quot; The ground Shakes. The creature&#39;s hot and torrential breath quickens before the sound of a volcano erupting splinters through the ambient noises of growth. &quot; +
    &quot;A devastating ocean of virile seed rockets across the land, washing away nearby foliage! Everything and anything it touches is twisted into black versions of its prior self. If living, turning into another one of your new children. &quot; +
    &quot; Before you are swept away &quot; +
    &quot; your child&#39;s tongue slips from its mouth and burrows into the ground beneath you before lifting the hunk of earth upwards and raising you above the voluminous alabaster sea.\n\nYou smile in approval. Now, what to do?&quot;
)&gt;&gt;

&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm,
    &quot;swarmEncounter&quot;,
    1,
    &quot;Skidding to a halt in front of you, the towering beast presses its chest down to the floor in a show of respect. Those glistening black eyes would almost pass as cute if &quot; +
    &quot;its slavering maw hadn&#39;t been the size of your entire body and then some. Your eyes trail downwards as you feel a rush of warm liquid slam against your shins; &quot; +
    &quot;you can&#39;t help but smile realising how &#39;excited&#39; he was to see you.\n\nYou scratch his head in approval. Now, what to do?&quot;
)&gt;&gt;

&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm,
    &quot;swarmEncounter&quot;,
    2,
    &quot;Skidding to a halt in front of you, the muscular beast presses its chest down to the floor in a show of respect. Glistening eyes stare up at you. &quot;+
    &quot;Who knew your hyper muscular child could be so cute? Your eyes trail downwards as you feel a rush of warm liquid slam against your ankles; &quot; +
    &quot;you can&#39;t help but smile, realising how your presence alone is causing the creature such intense levels of arousal.\n\nYou scratch his head in approval. Now, what to do?&quot;
)&gt;&gt;

&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm,
    &quot;swarmEncounter&quot;,
    3,
    &quot;Skidding to a halt in front of you, the muscular beast presses its chest down to the floor in a show of respect. Its pulsating form looks so small in comparison to your &quot;+
    &quot;towering figure. Regardless, you can&#39;t deny that its prostration was cute.\n\nYour eyes flick to a sudden movement from underneath your pet.\n\nAn explosion of black cum &quot; +
    &quot;rockets out from below its hefty bulk and paints the edges of your feet. Its mouth clamps shut, its body shudders and a new wave of growth takes it as your gigantic presence alone &quot; +
    &quot;amplifies its arousal by multiple folds. You smile while watching his orgasm chain and intensify for a good ten minutes.\n\nYou scratch his head in approval. &quot; +
    &quot;Now, what to do?&quot;
)&gt;&gt;

&lt;&lt;run setup.CharHndlr.addHeightFlavourText(
    $CharacterSheet_Swarm,
    &quot;swarmEncounter&quot;,
    4,
    &quot;Skidding to a halt in front of you, the muscular beast presses its chest down to the floor in a show of respect. Its pulsating form is but a tiny shifting speck of uncontrolled &quot;+
    &quot;arousal. Your power, your size, and strength radiates from you with such force that the creature had clearly painted the dunes black with seed in an endless orgasm just trying to reach you. &quot; +
    &quot;\n\nCute.\n\nCreaking thunders across the lands as your titanic legs bend. Although your child was small; he easily put everything else in this wasteland to shame. &quot; +
    &quot;\n\nYou scratch his head in approval. &quot; +
    &quot;Now, what to do?&quot;
)&gt;&gt;
\&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="1164" name="Quest_MQ002_Entrance_PlayerWins" tags="" position="475,14600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

The titan falls to his knees, the sheer weight of his armour is the only thing keeping him from falling over.

&quot;Good, That&#39;ll do.&quot;

\&lt;&lt;set $CharacterSheet_MQ002_Guard.quest.beaten = true&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_PlayerWins_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1165" name="Quest_MQ002_Entrance_PlayerWins_2" tags="" position="600,14600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;
He helps himself up with his axe, and walks towards the gate.

&quot;Follow me, and be mindful of the black sun above. It&#39;s power will be completely unfiltered beyond that point.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_PlayerWins_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1166" name="Quest_MQ002_Entrance_PlayerWins_3" tags="" position="725,14600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;
The minotaur pushes the gate open and instantly shivers in sudden pleasure.

&quot;Ghhh... Keep it together.&quot; He mumbles as a strange purple glow floods out of the doors.

He quickly slides through the massive gate like he is trying to prevent the light from spilling outside.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_NoGuard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1167" name="Quest_MQ002_Entrance_PlayerLoses" tags="" position="850,14600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

You try to stay up but the minotaur is too powerful to handle.
With an unceremonious thud, you fall down on your back.

The minotaur could strike you down at any moment, but instead, he kneels.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_PlayerLoses_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1168" name="Quest_MQ002_Entrance_PlayerLoses_1" tags="" position="975,14600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

&quot;Leave now before things get worse.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1169" name="Quest_MQ002_NyxParasiteEncounter_FightIntro" tags="" position="1100,14600" size="100,100">\&lt;&lt;set $CharacterSheet_MQ002_NyxParasite.quest.met = true&gt;&gt;
&lt;&lt;print setup.getFightStartPassages($CharacterSheet_MQ002_NyxParasite)&gt;&gt;</tw-passagedata><tw-passagedata pid="1170" name="Quest_MQ002_NyxParasiteEncounter_Capture" tags="" position="1225,14600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.capturedNyxSpawn = true&gt;&gt;
You look down upon the powerless spawn lying before you.

It lies, unmoving, if there&#39;s any moment to capture it, it would be now.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_NyxParasiteEncounter_Capture_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1171" name="Quest_MQ002_NyxParasiteEncounter_Capture_2" tags="" position="100,14725" size="100,100">You quickly grasp the spawn by the tail and seal it in a tight flask.

With it&#39;s head stuck in the bottom, it&#39;s hard to imagine it could wiggle out of there.

∇: You now carry a spawn of Nyx with you.

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_NyxSpawnFight&quot;)&gt;&gt;
&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="1172" name="Quest_MQ002_NyxParasiteEncounter_PlayerWins" tags="" position="225,14725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;
The &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_MQ002_NyxParasite, &quot;height&quot;))&gt;&gt; spawn falls flat on the ground.

Stuck in a dead-end, it has nowhere to go.

\&lt;&lt;if $CharacterSheet_Player.quest.capturedNyxSpawn == false&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Capture It-&gt;Quest_MQ002_NyxParasiteEncounter_Capture]]&quot;);&gt;&gt;
\&lt;&lt;endif&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Kill it-&gt;Quest_MQ002_NyxParasiteEncounter_KillIt]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;DO NOT̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;[[Kill it-&gt;Quest_MQ002_NyxParasiteEncounter_KillIt]]&lt;/span&gt;
\&lt;&lt;endif&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Let it enter you-&gt;Quest_MQ002_NyxParasiteEncounter_ConsentualInfest]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1173" name="Quest_MQ002_NyxParasiteEncounter_ConsentualInfest" tags="" position="350,14725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0&gt;&gt;
You look down upon the powerless spawn lying before you. You could kill it, right here and now. But something is stopping you.

The pleasure you felt when it bit you, it throbs within you more than ever. Who knows how pleasurable it will be if you fully let it take you?

Can it truly be called a parasite if you yearn its influence?
\&lt;&lt;else&gt;&gt;
Your brain throbs at the sight of the wounded spawn. You could never bring yourself to kill it.

Not when it could bring you so much...
\&lt;&lt;/if&gt;&gt;

You step towards it, openly presenting and rubbing your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; cock, letting it taste your arousal as you lick your lips eagerly.
\&lt;&lt;set $NyxParasiteEncounter_Won = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_NyxParasiteEncounter_Infection]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1174" name="Quest_MQ002_NyxParasiteEncounter_Infection" tags="" position="475,14725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;pink&quot;)&gt;&gt;
It crawls towards you with newfound vitality; you soon feel the wet spawn slither up along your legs.
\&lt;&lt;if $NyxParasiteEncounter_Won&gt;&gt;
Quickly, it reaches your chest and stands inches from your mouth, like it was waiting for you to let it in.

You gaze at its featureless form and grin, opening your mouth wide open.
It jumps at the opportunity; your whole body shivers as you taste the oily substance all over its skin.
It is a powerful aphrodisiac. You moan as it pushes deeper. Its body is feeling thicker around your mouth.

Your head lurches back as you rub your hard cock with both hands.
\&lt;&lt;else&gt;&gt;
Quickly, it reaches your chest and stands inches from your mouth, like a tiger about to pounce on its prey.

You gaze at its featureless form and can&#39;t stop yourself from gasping in terror.
It jumps at the opportunity; your whole body shivers as you taste the oily substance all over its skin.

It is a powerful aphrodisiac.

Your already exhausted body nearly gives up to the arousal that spikes within you.

Its body quickly feels thicker around your mouth as it crawls in.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_NyxParasiteEncounter_Infection_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1175" name="Quest_MQ002_NyxParasiteEncounter_Infection_2" tags="" position="600,14725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;pink&quot;)&gt;&gt;
Your moans are blocked by the monster rushing down your throat. You feel it flick its tail to slide down further inside you.

Soon you feel a hardness build along your waist. It crawls and slowly intrudes your nutsack; your balls bathe in its aphrodisiac oil.
You rub them experimentally; this is almost enough to make you cum on the spot.
They are growing sensitive beyond what is humanly possible, and the constant pressure makes the pulsate wildly.

You slurp on the last bit of the spawn&#39;s tail and moan while licking the oil around your lips.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_NyxParasiteEncounter_Infection_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1176" name="Quest_MQ002_NyxParasiteEncounter_Infection_3" tags="" position="725,14725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;pink&quot;)&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0&gt;&gt;
You rub your balls once more. You are not sure what the spawn is doing to them, but they are changing.
\&lt;&lt;else&gt;&gt;
You remember this feeling well, you rub and moan as your balls grow once again.
\&lt;&lt;/if&gt;&gt;

You feel your balls grow. They absorb the aphrodisiac oil of the spawn like a sponge in water.
You rub them hard; every touch now sends bolts of pleasure all over your body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_NyxParasiteEncounter_Infection_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1177" name="Quest_MQ002_NyxParasiteEncounter_Infection_3_1" tags="" position="850,14725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
The spawn gorges on your incoming load, yet the pressure is becoming too much to bear.
It grows in size, filling your balls even more. The sheer magnitude of your load is too much for the spawn as well.
You lurch your head back and scream as your swelled cock erupts like a fountain, litres and litres of cum jets out of your engorged balls, covering the hallway.
Your screams of utter ecstasy continue for minutes on end.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_NyxParasiteEncounter_Infection_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1178" name="Quest_MQ002_NyxParasiteEncounter_Infection_4" tags="" position="975,14725" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;
The hunger of the spawn keeps your arousal at an all-time high.
But it feels like this wasn&#39;t the only thing that changed within you.
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0&gt;&gt;
You feel an urge to spread this gift for yourself as well.
\&lt;&lt;else&gt;&gt;
With more spawns inside you, the urge to spread grows even stronger.
\&lt;&lt;/if&gt;&gt;

∇: You gain 8 corruption.
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
\&lt;&lt;run setup.MQ002_AddNyxParasiteInfection()&gt;&gt;
∇: You gain the &quot;Nyx Spawn Infection&quot; Ability.
\

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_NyxSpawnFight&quot;)&gt;&gt;

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="1179" name="Quest_MQ002_NyxParasiteEncounter_KillIt" tags="" position="1100,14725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;blue&quot;)&gt;&gt;
As soon as you see it fall, you rush towards it to deliver the final blow.
You stomp on the spawn over and over again, fear and adrenaline guiding you instinctively.
Groans of efforts echo along the hall as you keep going for as long as your body allows you to.
High pitched screams soon melt into wet splashes; its body convulses without intent.

You pant and take a few steps back.
The gruesome sight of the defeated spawn almost makes you sick.

You hold your breath and move to the door at the end of the hall.
Your eyes stay glued to the monster&#39;s corpse, in case it suddenly springs back to life.

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_NyxSpawnFight&quot;)&gt;&gt;

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="1180" name="Quest_MQ002_NyxParasiteEncounter_PlayerLoses" tags="" position="1225,14725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;

As you see the spawn crawl hungrily towards you, you crumble.

You only have a few seconds to react before it reaches you

\&lt;&lt;run setup.choice(&quot;[[Submit to the spawn-&gt;Quest_MQ002_NyxParasiteEncounter_Submit]]&quot;);&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Escape-&gt;Quest_MQ002_NyxParasiteEncounter_Escape]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;DO NOT̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;[[Escape-&gt;Quest_MQ002_NyxParasiteEncounter_Escape]]&lt;/span&gt;
\&lt;&lt;endif&gt;&gt;</tw-passagedata><tw-passagedata pid="1181" name="Quest_MQ002_NyxParasiteEncounter_Submit" tags="" position="100,14850" size="100,100">\&lt;&lt;set $NyxParasiteEncounter_Won = false&gt;&gt;
The door you came from lays a few feet behind you, but an overpowering mixture of exhaustion and aroused curiosity keeps you on your knees.

&lt;&lt;include Quest_MQ002_NyxParasiteEncounter_Infection&gt;&gt;</tw-passagedata><tw-passagedata pid="1182" name="Quest_MQ002_NyxParasiteEncounter_Escape" tags="" position="225,14850" size="100,100">Your body is about to give up, but the sheer terror of seeing this spawn crawl towards you gives you a second wind.

You turn your back to the monster and scream, the door is only a few feet away...
Without second thoughts, you hurl yourself back to the room you came from and force the door close with the little energy you have left.

You pant and expect the worst, but the monster does not seem to take chase.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="1183" name="Encounter_Intro_Shard_Ring" tags="" position="350,14850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
You travel through a wasteland of rusted iron covered by sand. It must have been an industrial complex at some point, but it&#39;s hard to tell.
Its purpose is long lost, but salvagers are known to take and reuse pieces of these ruins for themselves.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1184" name="Encounter_Start_Shard_Ring" tags="" position="475,14850" size="100,100"></tw-passagedata><tw-passagedata pid="1185" name="Encounter_Win_Shard_Ring" tags="" position="600,14850" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Shard_Ring.postFightPassagesWin)&gt;&gt;</tw-passagedata><tw-passagedata pid="1186" name="Encounter_Loss_Shard_Ring" tags="" position="725,14850" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Shard_Ring.postFightPassagesLoss)&gt;&gt;</tw-passagedata><tw-passagedata pid="1187" name="Shard_Ring_Intro_2" tags="" position="850,14850" size="100,100">You pick your way through the debris and rubble that litters the ground.
The only sound you can perceive is the crunch of your feet on the gravel and the occasional rustle of rats in the undergrowth.

You keep your head down and your eyes peeled for any signs of life.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Intro_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1188" name="Shard_Ring_Intro_3" tags="" position="975,14850" size="100,100">Suddenly, you feel the air thicken. It&#39;s like a storm is brewing.

A strong wind of Essence builds in the air, one that rushes through you and fills you with energy.

&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Shard_Ring.encounterIntro)&gt;&gt;</tw-passagedata><tw-passagedata pid="1189" name="Shard_Ring_LowScoring_Intro" tags="" position="1100,14850" size="100,100">You catch a glimpse of a familiar ring floating in the air.
It spins and begins to glow with a soft green light. And then, as if drawn by an invisible hand, it begins to move towards you.

&lt;span class=&#39;bind1&#39;&gt;&quot;I&#39;ve been waiting for you.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;I&#39;ve missed you.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_LowScoring_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1190" name="Shard_Ring_LowScoring_Intro_2" tags="" position="1225,14850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
You feel heat radiate from it as it gets closer, as the air thickens with Essence.

&lt;span class=&#39;bind1&#39;&gt;&quot;You are a fierce opponent.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;one that can make me burst with Essence once more.&quot;&lt;/span&gt;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Shard_Ring)&gt;&gt;</tw-passagedata><tw-passagedata pid="1191" name="Shard_Ring_FullDom_Intro" tags="" position="100,14975" size="100,100">Your cock ring is cold to the touch, but it sends a warm shiver up your spine nonetheless.
You feel the spirit within quake with excitement.

It can taste the Essence building around you and makes your cock harder than ever.
The ring shifts, becoming slightly ethereal and translucent.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FullDom_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1192" name="Shard_Ring_FullDom_Intro_2" tags="" position="225,14975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
It starts to move on its own, swirling around your cock and sending shivers up your spine.

&lt;span class=&#39;bind1&#39;&gt;&quot;It&#39;s been too long since I last manifested.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;You look great from here.&quot;&lt;/span&gt;

The cock ring morphs and warps as it gathers the Essence in the air, turning into the ghostly humanoid form you know and love.

&lt;span class=&#39;bind1&#39;&gt;&quot;How about a spar?&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;I&#39;ve been yearning to feel your power for myself.&quot;&lt;/span&gt;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Shard_Ring)&gt;&gt;</tw-passagedata><tw-passagedata pid="1193" name="Shard_Ring_FullSub_Intro" tags="" position="350,14975" size="100,100">The collar suddenly grows warmer, the constant reminder of your submission bursting with life. You feel the spirit within quake with excitement.
He can taste the Essence building around you, making your cock harder than ever.

You feel the ring shift, becoming slightly ethereal and translucent. Then it starts to move on its own, swirling around your neck and sending shivers up your spine.
Part of you feels left out as it detaches from your neck, but you know that seeing your master will make it all worth it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FullSub_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1194" name="Shard_Ring_FullSub_Intro_2" tags="" position="475,14975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
&lt;span class=&#39;bind1&#39;&gt;&quot;Show me what you can do.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Let the Gods witness our might.&quot;&lt;/span&gt;

Your master wants to see your powers, and you feel compelled to show him.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Shard_Ring)&gt;&gt;</tw-passagedata><tw-passagedata pid="1195" name="Shard_Ring_FirstMeeting_Intro" tags="" position="600,14975" size="100,100">You turn in the direction of this powerful breeze, and your gaze catches a glowing metallic object buried under some scraps.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FirstMeeting_Intro_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1196" name="Shard_Ring_FirstMeeting_Intro_1" tags="" position="725,14975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/bind_ring_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/bind_ring.jpg&quot;, undefined, true)&gt;&gt;

It looks like an old ring, glowing in bright, viridian green.

\&lt;&lt;run setup.choice(&quot;[[Dig it out-&gt;Shard_Ring_FirstMeeting_Intro_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave it be-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1197" name="Shard_Ring_FirstMeeting_Intro_2" tags="" position="850,14975" size="100,100">\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;strength&quot;) &gt; 20&gt;&gt;
You give the ring a closer look and manage to grasp it from under the rubble.
It is buried under quite a bit of debris, and it takes a lot effort to retrieve.

But with a strong tug, you manage to free it from  the mountain of scraps above it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FirstMeeting_Intro_3]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
You attempt to dig it out and take a closer look.
However with each attempt to tug it free, the ring appears to bury itself deeper.

It seems that you do not have the strength to pull it out for now.

&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/bind_ring_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/bind_ring.jpg&quot;, undefined, true)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave it be-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1198" name="Shard_Ring_FirstMeeting_Intro_3" tags="" position="975,14975" size="100,100">\&lt;&lt;set $CharacterSheet_Shard_Ring.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
\&lt;&lt;set $CharacterSheet_Shard_Ring.quest.unearthed = true&gt;&gt;
Your hand suddenly recoils back by instinct as if the ring were burning hot, yet you only felt a cool, glassy surface.

It falls to the ground, but never makes impact, continuing to glow and hovering a few inches above the sand.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FirstMeeting_Intro_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1199" name="Shard_Ring_FirstMeeting_Intro_4" tags="" position="1100,14975" size="100,100">Suddenly, it rises to the height of your chest.

Green runes pulse across the ring&#39;s surface with the rhythm of a beating heart.
It hovers and shakes, condensing the Essence in the air to form sounds in the wind.

You take a careful stance and are ready for anything.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FirstMeeting_Intro_4_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1200" name="Shard_Ring_FirstMeeting_Intro_4_1" tags="" position="1225,14975" size="100,100">A voice burst forth from all around you.

&lt;span class=&#39;bind1&#39;&gt;&quot;WARRIOR!&quot;&lt;/span&gt;

You watch more Essence rise from the ruins below and rush towards the ring.

&lt;span class=&#39;bind1&#39;&gt;&quot;YOUR STRENGTH HAS GROWN ENOUGH FOR YOU TO CALL ME FORTH.&quot;&lt;/span&gt;

The presence around the ring shakes as a growing mist builds within its center. Its glow becomes nearly blinding, the brilliant green light shimmering, energy crackling through the air.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FirstMeeting_Intro_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1201" name="Shard_Ring_FirstMeeting_Intro_5" tags="" position="100,15100" size="100,100">You notice a figure materializing from the light, transparent at first, but gradually more of its features become apparent.

It is muscular and well-defined, with a broad chest and powerful arms.
A rugged face forms atop this warrior&#39;s body, one with a long scar that goes from his left eye to his mouth.
He has no hair, and his eyes seem to shimmer with an inner light, the same green color of the ring&#39;s aura.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FirstMeeting_Intro_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1202" name="Shard_Ring_FirstMeeting_Intro_6" tags="" position="225,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
He seems almost solid as if it could reach out and touch you.

With a voice that seems to come from every direction, he exclaims:

&lt;span class=&#39;bind1&#39;&gt;&quot;ONLY A STRONG WARRIOR CAN GIVE ME WHAT I SEEK.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;If you would so kindly oblige to help.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_FirstMeeting_Intro_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1203" name="Shard_Ring_FirstMeeting_Intro_7" tags="" position="350,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
With an unblinking gaze, his knees bend slightly, sending a gust of Essence around him. His fists are clenched, and he seems ready to fight.

&lt;span class=&#39;bind1&#39;&gt;&quot;Essence is what I yearn for. And the passion of us warriors clashing, that is what harnesses it.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;I&#39;ve been yearning for it for so long.&quot;&lt;/span&gt;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Shard_Ring)&gt;&gt;</tw-passagedata><tw-passagedata pid="1204" name="Shard_Ring_Low_Rela_Win_Idle" tags="" position="475,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
The spirit let out a final, thunderous cough.
A thick, green mist spews forth from his mouth, filling the air with an eerie, otherworldly glow.
It swirls and eddies around him before finally dissipating into his body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1205" name="Shard_Ring_Low_Rela_Win_Idle_2" tags="" position="600,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;happy&quot;)&gt;&gt;
\
Suddenly, the ghostly figure bends on one knee in respect, and you feel a sudden chill run down your spine.

&lt;span class=&#39;bind1&#39;&gt;&quot;YOU...&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;You are worthy of my powers.&quot;&lt;/span&gt;

The Essence in the air seems to drift towards you, slowly infusing your body with strength and vitality.

He gets up and slowly steps closer.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1206" name="Shard_Ring_Low_Rela_Win_Idle_3" tags="" position="725,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\
&lt;span class=&#39;bind1&#39;&gt;&quot;I HAVE BEEN WORSHIPED BY COUNTLESS WARRIORS&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;and have worshiped countless more.&quot;&lt;/span&gt;

As he gets closer, you start to feel a tingling sensation all over your body.
You can feel your body harden and pulse with desire.

&lt;span class=&#39;bind1&#39;&gt;&quot;WHERE DOES YOUR HEART STAND?&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;I will bestow power where you wish it most.&quot;&lt;/span&gt;

[[Say you yearn to be dominant-&gt;Shard_Ring_Win_Dominant_Idle]]
[[Say you yearn to be submissive-&gt;ShardRing_Win_Sub_Idle]]

[[Leave-&gt;Village]]</tw-passagedata><tw-passagedata pid="1207" name="Shard_Ring_Low_Rela_Loss" tags="" position="850,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
The spirit looks down at you. His eyes are cold, and its mouth is set in a grim line.
You can see some regret in its eyes.

&lt;span class=&#39;bind1&#39;&gt;&quot;Keep fighting, warrior, for as long as you are willing to grow in strength.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;I will be waiting.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Loss_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1208" name="Shard_Ring_Low_Rela_Loss_2" tags="" position="975,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
The ring fades away into nothingness, becoming less and less visible until it finally disappears.
Whatever energy or focus it needed to stay whole is now gone.

You slowly stand up and leave the ruins empty-handed.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1209" name="Shard_Ring_Win_Dominant_Idle" tags="" position="1100,15100" size="100,100">\&lt;&lt;set $CharacterSheet_Shard_Ring.quest.relationshipScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\
The spirit grins at you, eyeing you up and down in a confidant gaze.

&lt;span class=&#39;bind1&#39;&gt;&quot;YES... YOU ARE BOUND TO BRING PLEASURE TO COUNTLESS OTHERS.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Make them all beg for more.&quot;&lt;/span&gt;

He grasps your shaft, cutting your breath short as an intense warmth radiates into it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Win_Dominant_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1210" name="Shard_Ring_Win_Dominant_Idle_2" tags="" position="1225,15100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
&lt;span class=&#39;bind1&#39;&gt;&quot;TO BE DOMINANT IS TO BE A SHEPHERD OF PLEASURE, TO SHOW BOUNDLESS MASCULINITY TO ALL WHO YEARN FOR YOU.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;You&#39;ll take so much Essence within you.&quot;&lt;/span&gt;

Your cock throbs as you thrust into his warm ethereal hands.
He gets closer and bends down slightly, guiding your cock to push between his pecs.

&lt;span class=&#39;bind1&#39;&gt;&quot;GROW, DEAR WARRIOR.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;BECOME A TITAN.&quot;&lt;/span&gt;

You blink, and he is suddenly bending down in front of you. Your cock is pressing hard against his cheeks and angrily throbs with anticipation.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Shard_Ring_Win_Dominant_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1211" name="Shard_Ring_Win_Dominant_Idle_3" tags="" position="100,15225" size="100,100">\&lt;&lt;set State.variables.CharacterSheet_Shard_Ring.quest.cockOut = true&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\
You feel the warmth of his strangely smooth skin flush against the head of your dick, then thrust in.

&lt;span class=&#39;bind1&#39;&gt;&quot;GRRRRRRAHHHHHHH!&quot;&lt;/span&gt;

His whole body lights up, his lust burning bright enough to heat him up.
He can&#39;t help but moan for more, making you want to fuck him even harder.

\&lt;&lt;run setup.choice(&quot;[[Fuck him harder-&gt;Shard_Ring_Win_Dominant_Idle_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1212" name="Shard_Ring_Win_Dominant_Idle_4" tags="" position="225,15225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
You swell with a sense of power, a burning flame of pleasure that feeds on his desperate moans. Precum squirts out of his cock in response.

Your cock begins to absorb the overflow of Essence building within him; It grows and pulses as your thrust stretch the limits of what the spirit can hold.

∇: Your cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 1))&gt;&gt; longer.

But you give him more.

\&lt;&lt;run setup.choice(&quot;[[Thrust balls deep into him-&gt;Shard_Ring_Win_Dominant_Idle_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1213" name="Shard_Ring_Win_Dominant_Idle_5" tags="" position="350,15225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
\
He wants to feel a warrior&#39;s might, so you grant him his wish.
You thrust balls deep within him with a grin that brings him over the edge.

&lt;span class=&#39;bind1&#39;&gt;&quot;OH GODS...&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Shard_Ring_Win_Dominant_Idle_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1214" name="Shard_Ring_Win_Dominant_Idle_6" tags="" position="475,15225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
\
You cum deep within him and roar in pleasure, shattering your limits as a torrent of potent seed bursts within him.
His gut expands with every spurt, and you hold him tightly against you to make sure he takes it all.

&lt;span class=&#39;bind1&#39;&gt;&quot;Ahhhh... Ahhhhh. AHHHHHHHH!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Win_Dominant_Idle_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1215" name="Shard_Ring_Win_Dominant_Idle_7" tags="" position="600,15225" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Shard_Ring.dominantExit)&gt;&gt;</tw-passagedata><tw-passagedata pid="1216" name="Shard_Ring_Low_Rela_Win_Dominant_NormalExit" tags="" position="725,15225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;]);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
\
His load spurts out in tandem with yours to build a monstrous mess in the area around you.
With each shot of glowing green cum, you feel his form dissipate in the thick fog of Essence that now fills the air.

His focus is long gone, and you now stand alone in the Barrens once again.

You look down and grin in approval. Your cock has grown through this experience.

∇: Your cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 1))&gt;&gt; longer.
∇: The Bind considers you more dominant.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1217" name="Shard_Ring_Low_Rela_Win_Dominant_FirstTF" tags="" position="850,15225" size="100,100">The spirit grins at you, eyeing you up and down in a confidant gaze.

&lt;span class=&#39;bind1&#39;&gt;&quot;I FEEL YOUR CONFIDENCE.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;The sheer weight of your presence.&quot;&lt;/span&gt;

Your attitude is inspiring him, leading him to a greater sense of self.
A wave of Essence courses through the air, drawn to the ethereal being.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_FirstTF_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1218" name="Shard_Ring_Low_Rela_Win_Dominant_FirstTF_2" tags="" position="975,15225" size="100,100">With a gentle yet commanding touch, it draws it into himself, igniting his core with glowing green flames.

He embraces your dominance, reveling in the intoxicating sensation of becoming a confident, muscular beast.
His once slender neck grows thicker and more powerful. Veins trace a mesmerizing pattern across its surface, coursing an otherworldly energy that fuels the creature&#39;s transformation.

&lt;span class=&#39;bind1&#39;&gt;&quot;GRRRRRRR. MORE!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Gods yes!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_FirstTF_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1219" name="Shard_Ring_Low_Rela_Win_Dominant_FirstTF_3" tags="" position="1100,15225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;set State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_firstTF = false&gt;&gt;
Each of his deltoid swell with power, greatly widening his frame as he growls.
Their sculpted contours bulge out until they fight for space.

His growth suddenly accelerates, biceps balloon in size, flexing with an impressive display of strength.
Forearms ripple with coiling muscles, bulging his arms and giving him a grip strong enough to shatter steel.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_FirstTF_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1220" name="Shard_Ring_Low_Rela_Win_Dominant_FirstTF_4" tags="" position="1225,15225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;

Ghostly skin clings tightly to his growing limbs, showcasing the intricate network of veins pulsating with otherworldly power.

&lt;span class=&#39;bind1&#39;&gt;&quot;MORE! MORE! GIVE IT TO ME!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Gaaaaahhhhh&quot;&lt;/span&gt;

Suddenly, his pectorals swell and harden. The rise and fall of each breath sending ripples of growth through his muscular expanse of a chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_FirstTF_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1221" name="Shard_Ring_Low_Rela_Win_Dominant_FirstTF_5" tags="" position="100,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;

&lt;span class=&#39;bind1&#39;&gt;&quot;BIGGERRRRR!!!!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;MHHHHHHH&quot;&lt;/span&gt;

The transformation extends to the entity&#39;s core, where muscles emerge like chiseled ridges.
One at a time, rows of deep, hard abs bulge out of his midsection, inviting worshippers to explore their curvy depths.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_FirstTF_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1222" name="Shard_Ring_Low_Rela_Win_Dominant_FirstTF_6" tags="" position="225,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

His transformation, muscle by muscle, has built a commanding presence and an undeniable aura of dominance.
Yet he knows that you&#39;re the one in charge, the dominant beast who bestowed his power upon him.

He turns around and flexes his monstrous back, inviting you in.

&lt;span class=&#39;bind1&#39;&gt;&quot;TAKE WHAT&#39;S YOURS, YOU BEAST.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;I&#39;m yours...&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Shard_Ring_Win_Dominant_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1223" name="Shard_Ring_Low_Rela_Win_Dominant_Final" tags="" position="350,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;

His tight hole grips your cock as you thrust in and out of him; the sensation is unbelievable.
You can feel every inch of you inside him, which makes you even more aroused.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1224" name="Shard_Ring_Low_Rela_Win_Dominant_Final_2" tags="" position="475,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
Your cock once again becomes fully erect and starts to leak.
The spirit is moaning in pleasure, and you can tell he&#39;s enjoying it just as much as you are.

&lt;span class=&#39;bind1&#39;&gt;&quot;I want this to go on. To always feel your godlike cock within me.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;pleeeeeease~&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Give him another thrust-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1225" name="Shard_Ring_Low_Rela_Win_Dominant_Final_3" tags="" position="600,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;set State.variables.CharacterSheet_Shard_Ring.quest.cockOut = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
It feels as if he is melting on your cock.

His Essence hardens around your shaft, molding itself to your contours and providing an exhilarating sensation as you thrust into him.
The spirit moans as he&#39;s filled with your cock, his translucent body trembling with ecstasy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1226" name="Shard_Ring_Low_Rela_Win_Dominant_Final_4" tags="" position="725,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;

You feel power gather around him, binding to his soul as he fully gives in to your dominant might.

His body is changing once more...

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_4_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1227" name="Shard_Ring_Low_Rela_Win_Dominant_Final_4_1" tags="" position="850,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;set State.variables.CharacterSheet_Shard_Ring.quest.fullDom = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

His chest expands outward, its pectoral muscles stretching to mammoth proportions. The once-defined pecs now resemble formidable boulders, each curve and crevice accentuating the sheer magnitude of the creature&#39;s might.

With every breath, his colossal chest rises and falls, exuding an air of indomitable power.
The muscular wrecking balls devour space under his chin with each pulse of growth, consuming it all and turning it with raw, powerful flesh.

&lt;span class=&#39;bind1&#39;&gt;&quot;THIS IS IT! MY FULL POTENTIAL&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Give it to me!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_4_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1228" name="Shard_Ring_Low_Rela_Win_Dominant_Final_4_2" tags="" position="975,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;

Simultaneously, the entity&#39;s back broadens, transforming into a labyrinth of sculpted muscle.
Each vertebra seems to stack upon the other. The muscles flow across the entity&#39;s back like a chiseled landscape, seemingly capable of supporting the weight of worlds.

His thighs thicken and grow, becoming massive pillars of might.
Each quadricep muscle swells to gargantuan proportions, pulsating with an otherworldly power.

&lt;span class=&#39;bind1&#39;&gt;&quot;GIVE ME MORE!! MOOOOOOORE!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Mmgfh! Hnngh!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_4_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1229" name="Shard_Ring_Low_Rela_Win_Dominant_Final_4_3" tags="" position="1100,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;happy&quot;)&gt;&gt;

You then feel his calves expand, becoming formidable columns of muscle. Each calf muscle appears as if carved from stone, flexing and contracting with every step.
The entity&#39;s lower legs now exude a sense of unbreakable stability.

The green ghostly entity gradually transcends the boundaries of his previous size, becoming an awe-inspiring, unnatural colossus.

&lt;span class=&#39;bind1&#39;&gt;&quot;MOOOOOOOOOOOOORE!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;MOOOOOOOOOOOOORE!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_4_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1230" name="Shard_Ring_Low_Rela_Win_Dominant_Final_4_4" tags="" position="1225,15350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;,&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

He shudders and clings to you tightly, his body pulsing around your cock as he cums again.

&lt;span class=&#39;bind1&#39;&gt;&quot;Ahhhh...!&quot;&lt;/span&gt; He whines, clinging to you as his body trembles with pleasure.

The ghostly form begins to take shape around your cock, moulding himself to your every contour. You can feel the spirit&#39;s energy entering you, making your cock harder than before.
The spirit slowly becomes a large metallic cock ring as you cum load after load.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Final_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1231" name="Shard_Ring_Low_Rela_Win_Dominant_Final_5" tags="" position="100,15475" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;]);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;happy&quot;)&gt;&gt;
\
You feel its warmth pulse all over your shaft, keeping it rigid and throbbing with lust.

&lt;span class=&#39;bind1&#39;&gt;&quot;YESSSSS.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Let&#39;s find some warriors to dominate~.&quot;&lt;/span&gt;

∇: Your cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 4))&gt;&gt; longer.
∇: You gain the &quot;Cock Ring of the Bind&quot; Ability.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.CockRingOfTheBind)&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_CockRingOfTheBind&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1232" name="Shard_Ring_Low_Rela_Win_Dominant_Idle" tags="" position="225,15475" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;]);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

His tight hole is gripping your cock tightly as you thrust in and out of him.
You can feel every inch of him inside you, which makes you even more aroused.

&lt;span class=&#39;bind1&#39;&gt;&quot;I never want this to end.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Gods, being your cock ring is the highest honor.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1233" name="Shard_Ring_Low_Rela_Win_Dominant_Idle_2" tags="" position="350,15475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
Your cock once again becomes fully erect and starts to leak.

&lt;span class=&#39;bind1&#39;&gt;&quot;I want this to go on. To always feel your godlike cock within me.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;pleeeeeease~&quot;&lt;/span&gt;

It feels as if he is melting on your cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1234" name="Shard_Ring_Low_Rela_Win_Dominant_Idle_3" tags="" position="475,15475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
\
His ectoplasm hardens around your cock, moulding itself to your contours and providing an exhilarating sensation as you thrust into him.

He shudders and clings to you tightly, his body pulsing around your cock as he cums.
You feel its warmth pulse all over your shaft, keeping it rigid and throbbing with lust.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Dominant_Idle_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1235" name="Shard_Ring_Low_Rela_Win_Dominant_Idle_4" tags="" position="600,15475" size="100,100">He slowly turns back into your cock ring, except it feels bigger and heavier than before.

&lt;span class=&#39;bind1&#39;&gt;&quot;I&#39;m yours...&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;All yours...&quot;&lt;/span&gt;

∇: Your cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 4))&gt;&gt; longer.
∇: Your &quot;Cock Ring of the Bind&quot; Ability is now stronger.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.CockRingOfTheBind)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1236" name="Shard_Ring_Dom_Loss" tags="" position="725,15475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
The spirit looks down at you. His eyes are cold, and its mouth is set in a grim line.
You can see some regret in its eyes.

&lt;span class=&#39;bind1&#39;&gt;&quot;Seems you&#39;ve lost&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;that can&#39;t be right.&quot;&lt;/span&gt;

With a blink, the ghost vanishes from your sight, but you feel the familiar pressure of your cock ring building on your shaft again.
The green runes across the ring pulse softly, without the usual bright intensity.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1237" name="ShardRing_Win_Sub_Idle" tags="" position="850,15475" size="100,100">\&lt;&lt;set $CharacterSheet_Shard_Ring.quest.relationshipScoring--&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
The spirit gives you a slight smile, eyeing you up and down in a confidant gaze.

&lt;span class=&#39;bind1&#39;&gt;&quot;HMMMM YES... OTHER&#39;S GIFTS ARE YOURS TO EXPERIENCE.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;You shall be blessed with raw pleasure.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;ShardRing_Win_Sub_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1238" name="ShardRing_Win_Sub_Idle_2" tags="" position="975,15475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;happy&quot;)&gt;&gt;
\
The spirit approaches you, his eyes alight with hunger. As his hands reach for you, you can feel the warmth emanating from his ethereal form.
Electrifying fingers trace the lines of your body, and you shiver in response.

The touch of the spirit is strangely intoxicating, and you find yourself wanting more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;ShardRing_Win_Sub_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1239" name="ShardRing_Win_Sub_Idle_3" tags="" position="1100,15475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;set State.variables.CharacterSheet_Shard_Ring.quest.cockOut = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

The spirit presses you against him. You can feel the need pulsing within him, and you are not afraid.
There is an undeniable allure to whatever this spirit has to offer.

His ghostly mouth descends on yours, and you are lost in a fiery kiss.

\&lt;&lt;run setup.choice(&quot;[[Kiss Back-&gt;ShardRing_Win_Sub_Idle_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1240" name="ShardRing_Win_Sub_Idle_4" tags="" position="1225,15475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
Your body responds to the spirit and melts into it. The kiss deepens, and you are pulled into a whirling vortex of pleasure.

You feel his hot breath on your neck and shiver as his tongue runs up and down your skin.
You&#39;re completely helpless as the spirit continues to explore your body, his hands roaming over your skin, sending chills down your spine.

\&lt;&lt;run setup.choice(&quot;[[Take a deep breath-&gt;ShardRing_Win_Sub_Idle_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1241" name="ShardRing_Win_Sub_Idle_5" tags="" position="100,15600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;

The musk radiating from him suddenly strikes you, and your cock instinctively spurts a small blast of pre.
You both become overwhelmed in lust through the intoxicating Essence thickening around you.

The spirit feels an intense need to breed, only worsened by your arousal.

&lt;span class=&#39;bind1&#39;&gt;&quot;MOAN FOR ME...&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Moan-&gt;ShardRing_Win_Sub_Idle_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1242" name="ShardRing_Win_Sub_Idle_6" tags="" position="225,15600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
His whole body is boiling with lust, and he can&#39;t contain it anymore.
The spirit&#39;s demanding tone devolves into orgasmic growls as you overwhelm him with pleasure.

Sparing the formalities, he quickly shoves his cock inside you and unleashes a long, drawn-out moan.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;ShardRing_Win_Sub_Idle_6_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1243" name="ShardRing_Win_Sub_Idle_6_1" tags="" position="350,15600" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Shard_Ring.subExit)&gt;&gt;</tw-passagedata><tw-passagedata pid="1244" name="Shard_Ring_Low_Rela_Win_Sub_NormalExitChoice" tags="" position="475,15600" size="100,100">\&lt;&lt;run setup.choice(&quot;[[Beg for more-&gt;Shard_Ring_Low_Rela_Win_Sub_LowRelaExit]]&quot;);&gt;&gt;
&lt;span class = &#39;inactive&#39;&gt;[[Give yourself up to him-&gt;Village]] (The Bind still feels some restraint within you.)&lt;/span&gt;</tw-passagedata><tw-passagedata pid="1245" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice" tags="" position="600,15600" size="100,100">\&lt;&lt;run setup.choice(&quot;[[Beg for more-&gt;Shard_Ring_Low_Rela_Win_Sub_LowRelaExit]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Give yourself up to him-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1246" name="Shard_Ring_Low_Rela_Win_Sub_LowRelaExit" tags="" position="725,15600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
\
He roars and cums, grasping your neck hard enough for the Essence to burn against your skin.
His load spurts out in tandem with yours to build a monstrous mess in the area around you.

With each shot of glowing green cum, you feel his form dissipate in the thick fog of Essence that now fills the air.

The ring and its spirit have disappeared from the area.

∇: The Bind&#39;s cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Shard_Ring, &quot;cock&quot;, 1))&gt;&gt; longer.
∇: The Bind considers you more submissive.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1247" name="Shard_Ring_Low_Rela_Win_Submissive_FirstTF" tags="" position="850,15600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

With a gentle yet demanding touch, it draws it into himself, igniting his core with glowing green flames.

He embraces your submissiveness, revels in the intoxicating sensation of becoming a yearning, muscular slut.

&lt;span class=&#39;bind1&#39;&gt;&quot;HMMMMM... YES!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Gods yes!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Submissive_FirstTF_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1248" name="Shard_Ring_Low_Rela_Win_Submissive_FirstTF_2" tags="" position="975,15600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;set State.variables.CharacterSheet_Shard_Ring.quest.available_postFightPassagesWin_firstTF = false&gt;&gt;
His once slender neck grows thicker and more powerful. Veins trace a mesmerizing pattern across its surface, coursing an otherworldly energy that fuels the creature&#39;s transformation.

Each of his deltoid swell with power, greatly widening his frame as he growls. Their sculpted contours bulge out until they fight for space.
His growth suddenly accelerates, biceps balloon in size, flexing with an impressive display of strength.

Forearms ripple with coiling muscles, bulging his arms and giving him a grip strong enough to shatter steel.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Submissive_FirstTF_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1249" name="Shard_Ring_Low_Rela_Win_Submissive_FirstTF_3" tags="" position="1100,15600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
&lt;span class=&#39;bind1&#39;&gt;&quot;GAHHHHH...&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Turning into a b-beast!&quot;&lt;/span&gt;

Ghostly skin clings tightly to his growing limbs, showcasing the intricate network of veins pulsating with otherworldly power.

Suddenly, his pectorals swell and harden. The rise and fall of each breath sending ripples of growth through his muscular expanse of a chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Submissive_FirstTF_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1250" name="Shard_Ring_Low_Rela_Win_Submissive_FirstTF_4" tags="" position="1225,15600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;

&lt;span class=&#39;bind1&#39;&gt;&quot;GIVE ME MORE!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;MHHHHHHH&quot;&lt;/span&gt;

The transformation extends to the entity&#39;s core, where muscles emerge like chiseled ridges.
One at a time, rows of deep, hard abs bulge out of his midsection, inviting worshippers to explore their curvy depths.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Submissive_FirstTF_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1251" name="Shard_Ring_Low_Rela_Win_Submissive_FirstTF_5" tags="" position="100,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

His transformation, muscle by muscle, bestows upon it an otherworldly yearning for pleasure.
Yet he knows that you&#39;re the one in charge, the submissive slut who bestowed your power upon him.

He turns you around and flexes his monstrous cock, inviting you in.

&lt;span class=&#39;bind1&#39;&gt;&quot;TAKE MY COCK!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;All yours...&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Take him-&gt;ShardRing_Win_Sub_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1252" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2" tags="" position="225,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
\
You feel power gather around him, binding to his soul as he fully embraces your submissive urges.

His body is changing once more...

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1253" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_1" tags="" position="350,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;set State.variables.CharacterSheet_Shard_Ring.quest.fullSub = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;

His chest expands outward, his pectoral muscles stretching to mammoth proportions. The once-defined pecs now resemble formidable boulders, each curve and crevice accentuating the sheer magnitude of the creature&#39;s might.

With every breath, his colossal chest rises and falls, exuding an air of indomitable power.
The muscular wrecking balls devour space under his chin with each pulse of growth, consuming it all and turning it with raw, powerful flesh.

&lt;span class=&#39;bind1&#39;&gt;&quot;THIS IS IT! MY FULL POTENTIAL!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;YOU&#39;RE MINE!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1254" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_2" tags="" position="475,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;

Simultaneously, the entity&#39;s back broadens, transforming into a labyrinth of sculpted muscle.
Each vertebra seems to stack upon the other. The muscles flow across the entity&#39;s back like a chiseled landscape, seemingly capable of supporting the weight of worlds.

His thighs thicken and grow, becoming massive pillars of might.
Each quadricep muscle swells to gargantuan proportions, pulsating with an otherworldly power.

&lt;span class=&#39;bind1&#39;&gt;&quot;GIVE ME MORE!! MOOOOOOORE!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;YESSSSSSSSS!!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1255" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_3" tags="" position="600,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;happy&quot;)&gt;&gt;

You then feel his calves expand, becoming formidable columns of muscle.
The entity&#39;s lower legs now exude a sense of unbreakable stability.

The green ghostly entity gradually transcends the boundaries of his previous size, becoming an awe-inspiring, unnatural colossus.

&lt;span class=&#39;bind1&#39;&gt;&quot;MOOOOOOOOOOOOORE!&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;MOOOOOOOOOOOOORE!&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1256" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_2_4" tags="" position="725,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
He fucks you hard, and you can feel his cum churning inside you until he explodes again.
The spirit&#39;s cum is warm inside you. You can feel every inch of him.

You can feel yourself reaching climax with him.

Nothing could be better than this.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1257" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_3" tags="" position="850,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
He suddenly pulls you close, his eyes locking into yours.

He grasps your neck with one hand, and you suddenly feel warmth build between his fingers.

&lt;span class=&#39;bind1&#39;&gt;&quot;Yesssss&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;You&#39;re perfect...&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1258" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_4" tags="" position="975,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;happy&quot;)&gt;&gt;
\
Metal forms under his touch, and an unknown alloy grows around your neck.

&lt;span class=&#39;bind1&#39;&gt;&quot;This is for you.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Wear it well.&quot;&lt;/span&gt;

His voice like a whisper on the wind.

He steps back, admiring its handiwork.

&quot;Now you are bound to me.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1259" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_5" tags="" position="1100,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
You look down and see a sizable metallic collar that now adorns your neck.

&lt;span class=&#39;bind1&#39;&gt;&quot;I&#39;m going to make you feel things you never thought possible.&quot;&lt;/span&gt;

The ghostly hands rest on your body, and you shiver as his touch sends a thrill of pleasure through you.
He explores your body, pushing you to the brink of ecstasy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1260" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_6" tags="" position="1225,15725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;happy&quot;)&gt;&gt;
\
You cry out as the spirit brings you over the edge, your body writhing in pleasure as you float in the afterglow.
The spirit watches you, a satisfied smirk on its face.

&lt;span class=&#39;bind1&#39;&gt;&quot;You&#39;re mine.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1261" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_7" tags="" position="100,15850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;]);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
His touch is electric. It sends shivers down your spine as the afterglow takes effect.

You feel your body relax, and the stress of the day just melts away under the touch of the spirit.
It&#39;s like being wrapped in a warm, comforting blanket, and you can&#39;t help but laze and relax into it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1262" name="Shard_Ring_Low_Rela_Win_Sub_FinalExitChoice_8" tags="" position="225,15850" size="100,100">Your eyes close for a second, and you have no idea how much time has passed.

You wake up feeling both relaxed and energized at the same time.
The spirit of the ring is now gone, but you can still feel his presence within your collar.

∇: You can feel The Bind&#39;s presence within your soul.
∇: You gain the &quot;Collar of the Bind&quot; Ability.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.CollarOfTheBind)&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_CollarOfTheBind&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1263" name="Shard_Ring_Low_Rela_Win_Sub_IdleExit" tags="" position="350,15850" size="100,100">You moan as the spirit looms over you, his long, hard cock thrusting deep inside you.
He is relentless, repeatedly pounding away at your hole, making you moan and writhe in pleasure.

You are entirely at the spirit&#39;s mercy, and he loves it.

&lt;span class=&#39;bind1&#39;&gt;&quot;I will always be with you.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;All will know who owns you.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Moan for him-&gt;Shard_Ring_Low_Rela_Win_Sub_IdleExit_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1264" name="Shard_Ring_Low_Rela_Win_Sub_IdleExit_2" tags="" position="475,15850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\
&lt;span class=&#39;bind1&#39;&gt;&quot;You&#39;re mine.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Grrrrrrrahhhh!!&quot;&lt;/span&gt;

You moan as he fills you with his ectoplasmic cum, your ass throbbing with pleasure.
His seed feels amazing as it gushes into your hole, coating your insides with its slippery goodness.

You can feel it starting to seep out of you, dripping down your thighs.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Low_Rela_Win_Sub_IdleExit_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1265" name="Shard_Ring_Low_Rela_Win_Sub_IdleExit_3" tags="" position="600,15850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;normal&quot;)&gt;&gt;
\
He grins as he watches you squirm in ecstasy, your ass still dripping with his cum.

You feel his vast knowledge flood your soul. His presence grows within your mind, and with it, your ability to learn from your experiences.

∇: Your &quot;Collar of the Bind&quot; Ability is now stronger.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.CollarOfTheBind)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1266" name="Shard_Ring_Sub_Loss" tags="" position="725,15850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\
The spirit laughs out in triumph.

&lt;span class=&#39;bind1&#39;&gt;&quot;Seems you&#39;ve lost.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;After so many victories, you finally give in?&quot;&lt;/span&gt;

He approaches you and starts to stroke your body. His touch is electric.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Sub_Loss_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1267" name="Shard_Ring_Sub_Loss_2" tags="" position="850,15850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
He kisses you passionately, and you can feel his ghostly hands exploring your body. He nibbles your neck and gently bites your earlobe.

&lt;span class=&#39;bind1&#39;&gt;&quot;It&#39;s all a game to you, isn&#39;t it?&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Fine, I&#39;ll play along.&quot;&lt;/span&gt;

He presses his body against yours; you can feel his hardness pressing against you. He reaches down and takes your hand, guiding it to his cock.
You stroke him slowly but increase the pace as his breathing becomes heavier.

&lt;span class=&#39;bind1&#39;&gt;&quot;I&#39;ll be taking some of that sweet essence of yours.&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Make you feel minuscule compared to me.&quot;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Sub_Loss_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1268" name="Shard_Ring_Sub_Loss_3" tags="" position="975,15850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;angry&quot;)&gt;&gt;
\
You moan louder and louder as he hovers behind you and brings his cock to your entrance.
Suddenly, you feel his cock thrust inside you, deep and hard.
He fills you, his huge cock stretching you wide.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Sub_Loss_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1269" name="Shard_Ring_Sub_Loss_4" tags="" position="1100,15850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;aroused&quot;)&gt;&gt;
\
You can feel your Essence leave your body as you cum.

&lt;span class=&#39;bind1&#39;&gt;&quot;Yesssssss...&quot;&lt;/span&gt; &lt;span class=&#39;bind2&#39;&gt;&quot;Moooooore...&quot;&lt;/span&gt;

Your Essence rushes into him, making him pulse in a brilliant green glow.

His arms bulge with newfound strength, his chest expands, and his legs thicken with newfound might.
Every part of him, muscles, cock and balls, expand as you roar out in ecstasy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Sub_Loss_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1270" name="Shard_Ring_Sub_Loss_5" tags="" position="1225,15850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Shard_Ring&quot;, &quot;CharacterSheet_Player&quot;]);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Shard_Ring, &quot;worried&quot;)&gt;&gt;
\
He flexes his massive muscles, admiring the way they ripple and bulge. A squeeze of his biceps makes him moan as he feels the raw power coursing through his veins.
He is growing into a force to be reckoned with.

&lt;&lt;print setup.bindLossSubEffect()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Shard_Ring_Sub_Loss_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1271" name="Shard_Ring_Sub_Loss_6" tags="" position="100,15975" size="100,100">With only a blink, the spirit vanishes from your sight, but you feel the familiar pressure of your collar reminding you of his dominance over you.

The green runes across the collar pulses brightly, and it feels much heavier than before.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1272" name="Encounter_Intro_Slime" tags="" position="225,15975" size="100,100">\&lt;&lt;set $CharacterSheet_Slime.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
\&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;height&quot;, $CharacterSheet_Slime) &gt;= setup.Size.Comparators.GIGA&gt;&gt;
As you traverse through the Barrens, you feel something strangely sticky underneath your heel.
Whatever it was, it&#39;s gone now, it either ran away or was entirely obliterated by your step.

Perhaps you should be more careful? Or not, after all, what&#39;s going to oppose you?

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;if $Essence &lt; 200&gt;&gt;
As you traverse through the Northern Barrens, you see an amorphous blob of goo. It seems to pay no attention to you, idly minding its own business.

You consider if it&#39;s a wise idea to approach it or not.

\&lt;&lt;run setup.choice(&quot;[[Approach-&gt;Encounter_Intro_Slime_EssenceLow_1]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;elseif $Essence &gt;= 200 &amp;&amp; $Essence &lt; 600&gt;&gt;
As you traverse the Northern Barrens&#39; desertic landscapes, you notice a strange amorphous goo rise from a nearby dune. It seems to be heading towards you, seemingly intrigued by your presence. The sun shines through its wet green surface, letting you perceive the white glow of Essence within its core.

The intents of the being are unclear, would it be wiser to strike or escape?

\&lt;&lt;run setup.choice(&quot;[[Attack-&gt;Encounter_Intro_Slime_EssenceMedium_1]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Encounter_Intro_Slime_EssenceMedium_Leave]]&quot;);&gt;&gt;
\&lt;&lt;elseif $Essence &gt;= 600&gt;&gt;
As you traverse through the Northern Barrens, your ears pick up on noisy rustling nearby.

You barely have enough time to react to a blob of goo hurling itself at you.

Whatever the slime wants, it certainly has something to do with you, and with the way it darts around you agitatedly, it doesn&#39;t seem to want to let you go so without a fight.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Slime)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1273" name="Encounter_Intro_Slime_EssenceMedium_1" tags="" position="350,15975" size="100,100">Whatever it wants, it seems to be drawn to you. Adopting a fighting stance, you decide it&#39;s best to attack first before it gets any sudden ideas.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Slime)&gt;&gt;</tw-passagedata><tw-passagedata pid="1274" name="Encounter_Intro_Slime_EssenceMedium_Leave" tags="" position="475,15975" size="100,100">You quickly back away from the slime, whatever it wants is none of your business.

It trails behind you, but gives up interest after a moment.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1275" name="Encounter_Intro_Slime_EssenceLow_1" tags="" position="600,15975" size="100,100">As you approach the aberration, it seemingly pays no attention to you. The creature is a strange slime, with a green coat, giving its body a shiny hue.

The slime is shaped into an ellipse, roughly &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Slime, &quot;height&quot;))&gt;&gt; in height.

It doesn&#39;t seem to pose much threat, but it could be a nuisance in the future, who knows what it may be planning.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Slime)&gt;&gt;</tw-passagedata><tw-passagedata pid="1276" name="Encounter_Start_Slime" tags="" position="725,15975" size="100,100"></tw-passagedata><tw-passagedata pid="1277" name="Encounter_Win_Slime" tags="" position="850,15975" size="100,100">The slime collapses, flattening against the ground, unwilling to continue fighting.

As you approach, it almost bounces with eagerness, as if it wants you to do something to it?

Its surface moves and writhes like it is trying to move limbs it doesn&#39;t possess. The way it distorts reminds you of the first time you saw &lt;&lt;SymbioteName&gt;&gt;. Just like with them, your thoughts seem to warp its form.

Perhaps there&#39;s more to this creature than it seems.

\&lt;&lt;run setup.choice(&quot;[[Reshape the slime-&gt;Encounter_Win_Slime_Reshape_Race]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1278" name="Encounter_Win_Slime_Reshape_Race" tags="" position="975,15975" size="100,100">As you consider how you want to reshape the slime, it seems to respond to your thoughts.

First, you inspect its overall being; small nubs push from its gooey form. They steadily grow longer and more defined, building limbs on this previously formless creature. Its core stretches, gaining definition until it becomes the toned upper body of your thoughts.

You eye it warily, thinking about what you want its general appearance to look like.

[[Humanoid-&gt;Encounter_Win_Slime_Reshape_Humanoid][$ReshapeRace = &quot;Humanoid&quot;]]
[[Naga-&gt;Encounter_Win_Slime_Reshape_Naga][$ReshapeRace = &quot;Naga&quot;]]
[[Minotaur-&gt;Encounter_Win_Slime_Reshape_Minotaur][$ReshapeRace = &quot;Minotaur&quot;]]
[[Werewolf-&gt;Encounter_Win_Slime_Reshape_Werewolf][$ReshapeRace = &quot;Werewolf&quot;]]</tw-passagedata><tw-passagedata pid="1279" name="Encounter_Win_Slime_Reshape_Displacer" tags="" position="1100,15975" size="100,100">You focus the changing slime, reshaping it into a displacer beast. &lt;&lt;SymbioteName&gt;&gt; resonates with your thoughts, enhancing your will beyond the capabilities of a single being.

The slime quickly reshapes.

Its legs take on a more feral form, and a long prehensile tail sprouts from the base of where its spine would be.
It grows an extra set of arms, and dual whip-like tentacles sprout from its back, the tips lined with rows of razor-teeth like appendages.
It remains bipedal, a somewhat humanoid displacer beast with a twin row of arms.

&lt;&lt;include Encounter_Win_Slime_Size&gt;&gt;</tw-passagedata><tw-passagedata pid="1280" name="Encounter_Win_Slime_Reshape_Werewolf" tags="" position="1225,15975" size="100,100">You focus your thoughts, thinking about reshaping the creature into a werewolf.

&lt;&lt;SymbioteName&gt;&gt; resonates with your thoughts, enhancing your will beyond the capabilities of a single being.

The slime quickly reshapes.

Its legs become more canine-like, a small tail sprouts from the base of where its spine would belong as the rest of the body follows.
Faux-claws shape from its hands and feet, its face stretches into a muzzle adorned with floppy canine ears.
The slime now resembles a werewolf in all its bipedal glory.

&lt;&lt;include Encounter_Win_Slime_Size&gt;&gt;</tw-passagedata><tw-passagedata pid="1281" name="Encounter_Win_Slime_Reshape_Minotaur" tags="" position="100,16100" size="100,100">You focus your thoughts, thinking about reshaping the creature into a minotaur.

&lt;&lt;SymbioteName&gt;&gt; resonates with your thoughts, enhancing your will beyond the capabilities of a single being.

The slime quickly reshapes.

Its legs become more bovine-like, a long tail sprouts from the base of where its spine would belong, and its head reshapes into that of a bull&#39;s with a clean set of horns.
The slime now resembles a minotaur, head, and legs of a bull, but the torso of a human.

&lt;&lt;include Encounter_Win_Slime_Size&gt;&gt;</tw-passagedata><tw-passagedata pid="1282" name="Encounter_Win_Slime_Reshape_Naga" tags="" position="225,16100" size="100,100">You focus your thoughts, thinking about reshaping the creature into a naga.

&lt;&lt;SymbioteName&gt;&gt; resonates with your thoughts, enhancing your will beyond the capabilities of a single being.

The slime quickly reshapes.

Its legs merge into a serpent-like tail, but its torso and head remain mostly humanoid-shaped.
The slime now resembles a standard naga, half-human, half serpent.

&lt;&lt;include Encounter_Win_Slime_Size&gt;&gt;</tw-passagedata><tw-passagedata pid="1283" name="Encounter_Win_Slime_Reshape_Humanoid" tags="" position="350,16100" size="100,100">You eye the slime, content on having it remain with its humanoid figure.
It has all the standard features you&#39;d expect on a human on the otherwise featureless slime.

&lt;&lt;include Encounter_Win_Slime_Size&gt;&gt;</tw-passagedata><tw-passagedata pid="1284" name="Encounter_Win_Slime_Size" tags="" position="475,16100" size="100,100">Its current stature is very slim and stands at about 5ft tall. You consider how you&#39;d want to reshape its body.

[[Focus on giving it a slim body-&gt;Encounter_Win_Slime_Size_Slim][$ReshapeSize = &quot;Slim&quot;]]
[[Focus on giving it a muscular body-&gt;Encounter_Win_Slime_Size_Muscular][$ReshapeSize = &quot;Muscular&quot;]]
[[Focus on giving it a chubby body-&gt;Encounter_Win_Slime_Size_Chubby][$ReshapeSize = &quot;Chubby&quot;]]
[[Focus on giving it a hyper body-&gt;Encounter_Win_Slime_Size_Hyper][$ReshapeSize = &quot;Hyper&quot;]]</tw-passagedata><tw-passagedata pid="1285" name="Encounter_Win_Slime_Size_Slim" tags="" position="600,16100" size="100,100">You look down at the slime&#39;s form.
It&#39;s a fairly standard build, if not a little short, but you see no reason to change anything else.

&lt;&lt;include Encounter_Win_Slime_SexualOrgans&gt;&gt;</tw-passagedata><tw-passagedata pid="1286" name="Encounter_Win_Slime_Size_Muscular" tags="" position="725,16100" size="100,100">You focus your thoughts on making its form more muscular. The slime shifts slightly, its body quickly morphing further to accompany your desire.

Its arms begin to swell with strength; its torso expands with enhanced musculature.
\&lt;&lt;if $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
It raises each arm, flexing its massive biceps as if to entice you.
\&lt;&lt;else&gt;&gt;
It raises two of its arms, flexing its massive biceps as the other two idly stroke its torso
\&lt;&lt;/if&gt;&gt;
Perhaps it&#39;s not used to the muscular form, but the slime seems to be enjoying its new stature.

\&lt;&lt;if $ReshapeRace == &quot;Naga&quot;&gt;&gt;
It flicks its tail about, bringing the tip of its serpentine mass to run along the creases of its abs, admiring the form of its physique.
\&lt;&lt;else&gt;&gt;
Its legs grow in tandem, the muscular quads swell with muscle as it flexes its legs, admiring the form of its physique.
\&lt;&lt;/if&gt;&gt;

Its height increases slightly as well, it is at least a foot taller.
It continues its brief bout of self-worship, admiring the muscle tone of its torso and the rest of its body.
But you&#39;re not entirely done yet; there&#39;s still the final pieces to consider.

&lt;&lt;include Encounter_Win_Slime_SexualOrgans&gt;&gt;</tw-passagedata><tw-passagedata pid="1287" name="Encounter_Win_Slime_Size_Chubby" tags="" position="850,16100" size="100,100">You focus your thoughts on making its form a little chubbier.
The slime shifts slightly, its body quickly morphing to accompany your desire further.

Its arms thicken, the weight they carry seems decently strong, but it&#39;s not as defined as a bodybuilder&#39;s would be.
The slime wriggles and stretches, but otherwise doesn&#39;t make any attempts to show off for you.

\&lt;&lt;if $ReshapeRace == &quot;Naga&quot;&gt;&gt;
Its tail is more than sturdy enough to support the weight of its new build. It brings its tail up to admire the shape of its round belly.
\&lt;&lt;else&gt;&gt;
Its legs thicken as well, sturdy enough to support the weight of its new figure.
\&lt;&lt;/if&gt;&gt;

The rest of the body follows suit, its gut expanding enough to be notable, but shy of what one could consider fat.
Overall, the build it carries is akin to that of a burly yet portly person.

Its height increases slightly as well, it is at least a foot taller.
It runs its hands over its frame, admiring the strange new shape of its stout body.
But you&#39;re not entirely done yet; there&#39;s still the final pieces to consider.

&lt;&lt;include Encounter_Win_Slime_SexualOrgans&gt;&gt;</tw-passagedata><tw-passagedata pid="1288" name="Encounter_Win_Slime_Size_Hyper" tags="" position="975,16100" size="100,100">&lt;&lt;run setup.applyGrowth($CharacterSheet_Slime, &quot;height&quot;, setup.getStatValue($CharacterSheet_Slime, &quot;height&quot;))&gt;&gt;
You know it can be more, you want it to be more. You draw your focus on its body, the slime jiggles slightly as your thoughts intrude its own.
It responds to your whims, its body swelling with mass—the gooey exterior grows to a massive size.
The sheer height of the creature more than doubles, easily standing over &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Slime, &quot;height&quot;))&gt;&gt; tall now.
Its arms follow suit, bulging with muscles so massive it seems like there&#39;s barely any room for them to move.

\&lt;&lt;if $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
The dual set of arms are so massive that they&#39;re practically fighting with each other for space.
\&lt;&lt;/if&gt;&gt;

The sheer volume of muscle mass the slime is now exuding is causing its entire balance to shift.
\&lt;&lt;if $ReshapeRace == &quot;Naga&quot;&gt;&gt;
Even so, it brings its serpentine tail up to its abs, admiring the shape of its tremendous physique.
\&lt;&lt;else&gt;&gt;
Its legs bulge with power, extremely sturdy, if not overbearing.
\&lt;&lt;/if&gt;&gt;

The slime is impossibly huge; it seems to be at its limit now.
\&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;height&quot;, $CharacterSheet_Slime) &gt;= setup.Size.Comparators.MASSIVE&gt;&gt;
Yet its limit can&#39;t even escape the shadow of something as massive as you are.
\&lt;&lt;/if&gt;&gt;

&lt;&lt;include Encounter_Win_Slime_SexualOrgans&gt;&gt;</tw-passagedata><tw-passagedata pid="1289" name="Encounter_Win_Slime_SexualOrgans" tags="" position="1100,16100" size="100,100">You&#39;re left to consider the final pieces of the slime.

[[Focus on giving it a penis-&gt;Encounter_Win_Slime_SexualOrgans_Penis][$ReshapeSexualOrgan = &quot;Penis&quot;]]
[[Focus on giving it a vagina-&gt;Encounter_Win_Slime_SexualOrgans_Vagina][$ReshapeSexualOrgan = &quot;Vagina&quot;]]
[[Focus on its ass-&gt;Encounter_Win_Slime_SexualOrgans_OnlyAss][$ReshapeSexualOrgan = &quot;None&quot;]]</tw-passagedata><tw-passagedata pid="1290" name="Encounter_Win_Slime_SexualOrgans_Intro" tags="" position="1225,16100" size="100,100">You eye the slime once more, admiring the shape of its form.</tw-passagedata><tw-passagedata pid="1291" name="Encounter_Win_Slime_SexualOrgans_OnlyAss" tags="" position="100,16225" size="100,100">&lt;&lt;include Encounter_Win_Slime_SexualOrgans_Intro&gt;&gt;
You think that it needs nothing more than an ass to work with, after all, you have a particular goal in mind, and anything else is but a distraction.

It is facing away from you, but you keep a close eye on the translucent slime.
The shape of its ass gains additional mass as well as a proper hole for you to use.

&lt;&lt;include Encounter_Win_Slime_Sex&gt;&gt;</tw-passagedata><tw-passagedata pid="1292" name="Encounter_Win_Slime_SexualOrgans_Vagina" tags="" position="225,16225" size="100,100">&lt;&lt;include Encounter_Win_Slime_SexualOrgans_Intro&gt;&gt;
At the junction of the hips, a humanoid vagina begins to take shape. A pair of folded lips emerge along with a half-inch clitoris.

It erects slightly.

You grin in satisfaction at the sight of it, you know very well that it has an ass to play with as well.

&lt;&lt;include Encounter_Win_Slime_Sex&gt;&gt;</tw-passagedata><tw-passagedata pid="1293" name="Encounter_Win_Slime_SexualOrgans_Penis" tags="" position="350,16225" size="100,100">&lt;&lt;include Encounter_Win_Slime_SexualOrgans_Intro&gt;&gt; It just wouldn&#39;t be complete without a penis, after all, it&#39;s one of the most defining characteristics of a creature.

At the junction of the hips, a humanoid penis begins to take shape, extending outwardly for you.
\&lt;&lt;if $ReshapeSize == &quot;Hyper&quot;&gt;&gt;
Like the massive body of the slime, the huge erection swells out, reaching just past its thick pectorals.
\&lt;&lt;/if&gt;&gt;

You grin in satisfaction at the sight of it, you know very well that it has an ass to play with as well.

&lt;&lt;include Encounter_Win_Slime_Sex&gt;&gt;</tw-passagedata><tw-passagedata pid="1294" name="Encounter_Win_Slime_Sex" tags="" position="475,16225" size="100,100">With the slime morphed to your desire, you consider what you could do to it.

\&lt;&lt;if $ReshapeSexualOrgan == &quot;Penis&quot; &amp;&amp; setup.hasLimb($CharacterSheet_Player, &quot;vaginas&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Ride Vaginal-&gt;Encounter_Win_Slime_Sex_RideVaginal]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if $ReshapeSexualOrgan == &quot;Penis&quot;&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Ride Anal-&gt;Encounter_Win_Slime_Sex_RideAnal]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;cock&quot;, $CharacterSheet_Slime, &quot;height&quot;) &gt;= setup.Size.Comparators.BIGGER&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Attempt to fuck it-&gt;Encounter_Win_Slime_Sex_TooBig]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;if $ReshapeSexualOrgan == &quot;Vagina&quot;&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Penetrate Vagina-&gt;Encounter_Win_Slime_Sex_PenetrateVagina]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Penetrate Ass-&gt;Encounter_Win_Slime_Sex_PenetrateAss]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Abandon-&gt;Encounter_Win_Slime_Sex_Abandon]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1295" name="Encounter_Win_Slime_Sex_Intro" tags="" position="600,16225" size="100,100">As you approach the slime, you can&#39;t resist from eyeing the massive member you&#39;ve given it.
\&lt;&lt;if $ReshapeSize == &quot;Hyper&quot;&gt;&gt;
Especially considering the massive size it is now.
\&lt;&lt;/if&gt;&gt;
You push it to the ground, getting it into position for yourself.

You waste no time disrobing, making sure that nothing is obstructing intimacy with this fascinating creature.
\&lt;&lt;if $ReshapeRace == &quot;Naga&quot;&gt;&gt;
As you straddle the slime, you can feel its serpentine tail dragging along your back.
\&lt;&lt;elseif $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
As you straddle the slime, it brings two arms to hold onto your hips as the other pair rests behind its head in an almost arrogant manner.
\&lt;&lt;else&gt;&gt;
As you straddle the slime, it brings both of its arms up to your hips.
\&lt;&lt;/if&gt;&gt;

&lt;&lt;include Encounter_Win_Slime_ShapeDescription&gt;&gt;</tw-passagedata><tw-passagedata pid="1296" name="Encounter_Win_Slime_Sex_RideVaginal" tags="" position="725,16225" size="100,100">&lt;&lt;include Encounter_Win_Slime_Sex_Intro&gt;&gt;
As you approach the slime, you can&#39;t resist from eyeing the massive member you&#39;ve given it.
\&lt;&lt;if $ReshapeSize == &quot;Hyper&quot;&gt;&gt;
Especially considering the massive size it is now.
\&lt;&lt;/if&gt;&gt;
You push it to the ground, getting it into position for yourself.

You waste no time disrobing, making sure that nothing is obstructing intimacy with this fascinating creature.
\&lt;&lt;if $ReshapeRace == &quot;Naga&quot;&gt;&gt;
As you straddle the slime, you can feel its serpentine tail dragging along your back.
\&lt;&lt;elseif $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
As you straddle the slime, it brings two arms to hold onto your hips as the other pair rests behind its head in an almost arrogant manner.
\&lt;&lt;else&gt;&gt;
As you straddle the slime, it brings both of its arms up to your hips.
\&lt;&lt;/if&gt;&gt;

&lt;&lt;include Encounter_Win_Slime_ShapeDescription&gt;&gt;

Your hand graps its erection, it&#39;s stiff and pliable but doesn&#39;t give form beneath your touch.
You don&#39;t even have to worry about lubrication considering just how slick it is already.

The slime makes little attempt to advance on you as you rub its tip along your lips, revelling in the warm, slimy feeling. Your lips align with the rod, you inch closer.

You prod at your clit, rubbing yourself in slow, circular motions as you bring its glans to part your lips.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_RideVaginal_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1297" name="Encounter_Win_Slime_Sex_RideVaginal_2" tags="" position="850,16225" size="100,100">You slowly drive down; it quickly shifts its size to better accommodate your cunt.

You can feel every inch of the throbbing member within you, you gently clench down onto it, working your muscles around its girth as you bring yourself closer to its body.

Your hands hold on to its chest as the slime&#39;s tool maintains a soft but unyielding grasp on your hips.
You bring your hips up and down slowly, giving yourself a chance to get accustomed to its size before you take the pace further.
\&lt;&lt;if $ReshapeRace == &quot;Naga&quot; || $ReshapeRace == &quot;Minotaur&quot; &gt;&gt;
You can feel its tail reach up from behind you, tenderly caressing your back in an almost affectionate manner.
\&lt;&lt;elseif $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
You notice its tentacles tenderly stroke your shoulders before moving down, rubbing your chest in an almost affectionate manner.
\&lt;&lt;/if&gt;&gt;

The slime gently bucks into you, but you don&#39;t reprimand it, it seems to be enjoying this just as much as you are.
There&#39;s an underlying sensation you cannot describe, perhaps it&#39;s the subtle lack of a heartbeat, but the gentle throbbing of its erection is enough to keep your mind distracted from the fact.
The gentle pace is almost intimate, but the slime makes no notable advances on you as if it were perfectly content on the subdued position.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_RideVaginal_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1298" name="Encounter_Win_Slime_Sex_RideVaginal_3" tags="" position="975,16225" size="100,100">The pace is under your complete control, every time you reach the base of its shaft, you can feel its thick balls press against your rear.
Soon enough you can feel your resistance wearing down as pressure builds within your loins.

You can feel its body contort slightly as a brief moment of weightlessness befalls you. Suddenly your face is planted directly onto its chest.
The slime looks at you with its featureless eyes, you&#39;re unsure what it could be thinking, but your thoughts are interrupted by your legs being pulled down onto its body as it then wraps its arms around your back, keeping you closely wound to its body.

Your breathing staggers as you can feel the pressure build within your loins. A long, wet tongue sticks out from its mouth as it gives you a sultry lick across your cheek.

Trapped within its embrace, it bucks almost aggressively into you. You cry out in pleasure as your climax hits, clenching down on its erection.
Your girlcum only serves to lubricate its already slimy erection further.
\&lt;&lt;if setup.hasLimb($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt;
Your erection pulsates as you shoot ropes of cum all over the slime&#39;s torso.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_RideVaginal_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1299" name="Encounter_Win_Slime_Sex_RideVaginal_4" tags="" position="1100,16225" size="100,100">You can feel its thick erection throb frantically, pulsating with eagerness as it cums as well.

You feel waves upon waves of warm, slimy seed spill into your womb as you press your weight on its body.
You can feel its erection deflate within you as it slowly slips out, trailing its ooze all over your nethers and its groin.

With a sigh of relief, you revel in the afterglow of its presence, enjoying the warm, soothing feeling of its slimy body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_RideVaginal_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1300" name="Encounter_Win_Slime_Sex_RideVaginal_5" tags="" position="1225,16225" size="100,100">After a few minutes, you decide it&#39;s best to move on with the day. You disentangle itself from its grasp with little resistance.
The slime hardly notices your missing presence, still lying on the earth as if you were still there. You pick up your belongings and continue with your day.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1301" name="Encounter_Win_Slime_ShapeDescription" tags="" position="100,16350" size="100,100">You admire the shape of its form, \
\&lt;&lt;if $ReshapeSize == &quot;Slim&quot;&gt;&gt;
its svelte figure is soft and unimposing.
\&lt;&lt;elseif $ReshapeRace == &quot;Muscular&quot;&gt;&gt;
its bulky frame is warm and inviting. You enjoy every crevice born of the shape of its musculature.
\&lt;&lt;elseif $ReshapeRace == &quot;Hyper&quot;&gt;&gt;
it&#39;s impossibly huge and muscular frame has almost completely inhibited its mobility, this slime is completely subdued, subject only to your will.
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1302" name="Encounter_Win_Slime_Sex_RideAnal" tags="" position="225,16350" size="100,100">&lt;&lt;include Encounter_Win_Slime_Sex_Intro&gt;&gt;

You try to get comfortable on top of it,
\&lt;&lt;if $ReshapeSize == &quot;Hyper&quot;&gt;&gt;
you bring your hands down to its thick, massive pecs for support as your feet can barely touch the ground.
\&lt;&lt;else&gt;&gt;
you bring your hands down to its chest for support, comfortably straddled on its figure.
\&lt;&lt;/if&gt;&gt;
Once you feel like your balance is well, you bring a hand down to admire the slick texture of its erection.
It&#39;s so warm and wet; you know you don&#39;t even have to worry about lubrication.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_RideAnal_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1303" name="Encounter_Win_Slime_Sex_RideAnal_2" tags="" position="350,16350" size="100,100">Aligning the tip of its erection to your backdoor, you gently tease its erection.
The slime doesn&#39;t force into you, but rather holds onto you for support with surprising gentleness.
You sink onto its girth, the slime shifts slightly to better accommodate your hole. You breathe heavily as you sink deeper until you&#39;ve reached the base of its crotch.
You&#39;re not entirely sure how many inches of its dick you&#39;ve just taken, but you relish the warm, gooey sensation.
\&lt;&lt;if $ReshapeRace == &quot;Naga&quot; || $ReshapeRace == &quot;Minotaur&quot;&gt;&gt;
You can feel its tail reach up from behind you, tenderly caressing your back in an almost affectionate manner.
\&lt;&lt;elseif $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
You notice its tentacles tenderly stroke your shoulders before moving down, rubbing your chest in an almost affectionate manner.
\&lt;&lt;/if&gt;&gt;

You bring your hand to your nethers, wanting to get the most out of the situation.
\&lt;&lt;if setup.hasLimb($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt;
You wrap your fingers around your length, using your precum as sufficient lubrication as you start with a slow, steady rhythm as you slowly bounce up and down its erection.
&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_RideAnal_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1304" name="Encounter_Win_Slime_Sex_RideAnal_3" tags="" position="475,16350" size="100,100">The slime slowly begins bucking into you, causing you to clench your sphincter around its girthy length.
You lean deeper forward, holding onto its slimy shoulders for support as it wraps its arms behind your rear.
The slime gently gropes at your backside as it continues bucking into you.

With a forceful thrust, the slime causes you to fall on top of it nearly.
With your head now closer to its face, it extends its tongue out toward you, giving your face a long, sultry lick.
It lifts a hand to your nethers,
\&lt;&lt;if setup.hasLimb($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt;
wrapping its slick fingers around your length, jerking you off as it continues thrusting deeper into you.
\&lt;&lt;/if&gt;&gt;
Your breathing grows staggered as you can feel yourself nearing the edge. You clench your grasp on its erection, wanting to milk it of everything it&#39;s worth.
With a cry of pleasure, your orgasm finally hits.
\&lt;&lt;if setup.hasLimb($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt;
Your aching manhood shoots several jets of seed all over its chest.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_RideAnal_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1305" name="Encounter_Win_Slime_Sex_RideAnal_4" tags="" position="600,16350" size="100,100">The slime gives you another determined thrust, hilting itself as deep as it can go into your hole as you can feel its throbbing erection pump several waves of seed directly into your ass.

You sink deeper into the slimy embrace as you can feel its erection slowly begin to deflate, slipping out of your rear, trailing links of slimy seed between the two of you.

You revel within the afterglow.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Encounter_Win_Slime_Sex_RideAnal_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1306" name="Encounter_Win_Slime_Sex_RideAnal_5" tags="" position="725,16350" size="100,100">You disentangle itself from its grasp with little resistance. The slime hardly notices your missing presence, still lying on the earth as if you were still there.
You pick up your belongings and continue with your day.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1307" name="Encounter_Win_Slime_Sex_PenetrateVagina" tags="" position="850,16350" size="100,100">As you approach the slime, you can&#39;t resist from eyeing the admirable shape it&#39;s been given.
\&lt;&lt;if $ReshapeSize == &quot;Hyper&quot;&gt;&gt;
Especially considering the massive size it is now.
\&lt;&lt;/if&gt;&gt;
You push it to the ground, getting it into position for yourself.

\&lt;&lt;if $ReshapeRace == &quot;Naga&quot;&gt;&gt;
You climb over the slime, pulling its tail around your waist as you align the tip of your length with the folds of its box.
\&lt;&lt;else&gt;&gt;
You climb over the slime, pulling its legs up around your waist as you align the tip of your dick with the folds of its box.
\&lt;&lt;/if&gt;&gt;
You press your glans along the labia; it&#39;s so warm and wet you don&#39;t even need to worry about lubrication considering the nature of the slime.
You place your hands at its side, keeping it pinned to the ground beneath your body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_PenetrateVagina_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1308" name="Encounter_Win_Slime_Sex_PenetrateVagina_2" tags="" position="975,16350" size="100,100">You drive your manhood deeper into its folds, its walls close in on you, wringing around and massaging your dick almost rhythmically.
You continue pumping into it with a steady rhythm. It feels like this slime only wants to serve you now.
\&lt;&lt;if $ReshapeRace == &quot;Naga&quot; || $ReshapeRace == &quot;Minotaur&quot;&gt;&gt;
You can feel its tail reach up from behind you, tenderly caressing your back in an almost affectionate manner.
\&lt;&lt;elseif $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
You notice its tentacles tenderly stroke your shoulders before moving down, holding onto your back for support.
\&lt;&lt;/if&gt;&gt;

You begin to increase your thrusts&#39; pace, dipping your manhood as deep into the slime as you can reach.
You&#39;re perfectly accommodated within it, even to the point where you can press your entire crotch within the slime. Its vagina has completely encompassed your dick, massaging it with rhythmic pulses.
Each thrust causes you to push through its slimy body; its body is perfect for your girth.

You can feel your dick begin throbbing with greater intensity as you close in on your climax.
Your full balls are desperate to unload every ounce of cum directly into the eager slime.
With one last forceful thrust and a cry of pleasure, you hilt as much of your dick as you can into its body, unleashing several waves of cum directly into the slime.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_PenetrateVagina_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1309" name="Encounter_Win_Slime_Sex_PenetrateVagina_3" tags="" position="1100,16350" size="100,100">The slime clenches and tightens around your erection, desperate to milk you of everything you&#39;re worth, eager to accept more of your cum.

You breathe a sigh of relief as your orgasm ends, slipping out of the abused womb. Trails of cum drip from the tip of your length as you take a moment to collect yourself.

You leave the slime alone on the ground after cleaning up and picking up your belongings.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1310" name="Encounter_Win_Slime_Sex_PenetrateAss" tags="" position="1225,16350" size="100,100">As you approach the slime, you can&#39;t resist from eyeing the admirable shape it&#39;s been given.
\&lt;&lt;if $ReshapeSize == &quot;Hyper&quot;&gt;&gt;
Especially considering the massive size it is now.
\&lt;&lt;/if&gt;&gt;
You bring it to the ground on its knees, getting it into position as you walk behind it.

You kneel behind the subdued slime, aligning the tip of your length with its rear.
You drag the tip of your manhood along its hole; its slimy exterior is inviting, you know you don&#39;t even have to worry about lubrication considering how wet it is already.
\&lt;&lt;if $ReshapeRace == &quot;Naga&quot; || $ReshapeRace == &quot;Minotaur&quot;&gt;&gt;
The slime whips its tail around, pulling you closer, practically begging for your entry with the wordless gesture.
\&lt;&lt;elseif $ReshapeRace == &quot;Displacer&quot;&gt;&gt;
The slime whips its tentacles back, wrapping around your torso, gently pulling your body closer, practically begging for your entry with the wordless gesture.
\&lt;&lt;else&gt;&gt;
The slime wiggles its hips for you enticingly, practically begging for your entry with the wordless gesture.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_PenetrateAss_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1311" name="Encounter_Win_Slime_Sex_PenetrateAss_2" tags="" position="100,16475" size="100,100">You slowly begin bucking into the slime, sliding into its gooey backdoor with minimal resistance. It clenches its sphincter around you as you spread it open.
The slime shifts slightly to better accommodate the size of your erection, making sure to be a tight, gooey sleeve for you as it pulsates rhythmically around your length.

As you begin to pick up the pace, the slime suddenly bucks back against you with eagerness, forcing you to stuff as much of your length as possible.
You grip it tightly, hugging the slime by the waist as you thrust into it with greater effort to remind it who&#39;s in charge.
Each thrust causes your heavy balls to slap against its body.

You cannot keep up the efforts for as long as you&#39;d hope due to the constant clenching and tugging the slime has on your dick.
You can feel your resistance beginning to wear down as your thrusts become more frantic. Your breaths stagger as you can feel your orgasm building up.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Win_Slime_Sex_PenetrateAss_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1312" name="Encounter_Win_Slime_Sex_PenetrateAss_3" tags="" position="225,16475" size="100,100">Giving one last forceful thrust, you hilt as much of your dick inside its ass as you can fit, making sure that it takes as much cum as possible.
The slime eagerly clenches around you, desperate to milk you of as much of your cum as possible.
\&lt;&lt;if setup.hasLimb($CharacterSheet_Slime, &quot;cocks&quot;)&gt;&gt;
It shoots several ropes of cum onto the ground beneath it as well.
\&lt;&lt;/if&gt;&gt;

You sigh in relief as the high of your climax dies down, your dick deflates within it trailing links of cum as you slide out.
For a brief moment before taking a moment to collect yourself, you revel in the afterglow.

You leave the slime alone; it falls lazily onto the ground once you let go of it.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1313" name="Encounter_Win_Slime_Sex_TooBig" tags="" position="350,16475" size="100,100">You eye the tiny slime, sure your creation is beautiful, but what could it do considering the sheer size you have over it?

\&lt;&lt;run setup.choice(&quot;[[Penile Masturbation-&gt;Encounter_Win_Slime_Sex_TooBig_PenileMasturbation]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Vaginal Masturbation-&gt;Encounter_Win_Slime_Sex_TooBig_VaginalMasturbation]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Hurl-&gt;Encounter_Win_Slime_Sex_TooBig_Hurl]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1314" name="Encounter_Win_Slime_Sex_TooBig_PenileMasturbation" tags="" position="475,16475" size="100,100">You look at the slime. So small, so vulnerable. Something about how tiny it is in comparison to your massive body turns you on.
The sight of your erection gives you a wicked idea.
\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;) &gt; 120 &amp;&amp; setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;) &gt; setup.getStatValue($CharacterSheet_Slime, &quot;height&quot;)&gt;&gt;
You grin to yourself as you bring it down to your girth, enjoying the sight of your penis towering over the smaller slime.
\&lt;&lt;else&gt;&gt;
While your dick doesn&#39;t tower over the slime, your body&#39;s sheer size is enough to satisfy you.
\&lt;&lt;/if&gt;&gt;

The slime does its best to wrap around your length as you keep it firmly clutched close to your body.
You almost crush the slime with your grasp, but it holds the form you gave it surprisingly well.

You continue jerking yourself off with slow, repeated strokes as you gradually increase the pace.
The slime continues worshipping your manhood, stroking with increasing eagerness.

Your chest heaves as your breathing becomes more frantic. Your climax quickly approaches, spurred on by the warm feeling of the slime on your length.
You clutch it tightly to your erection as your orgasm hits, shooting waves of cum into the air.
There is so much cum that the slime within your grasp is completely drenched in the white cream.

Satisfied, you laugh to yourself at its predicament, but you think a little reward is in order for the lesser creature.

You bring it to your mouth, licking the slime clean before setting it back down. You clean yourself off before deciding to continue with your day, refreshed from the session.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1315" name="Encounter_Win_Slime_Sex_TooBig_VaginalMasturbation" tags="" position="600,16475" size="100,100">You look at the slime. So small, so vulnerable.
Something about how tiny it is compared to your massive body turns you on. You can feel your clit aching with need, demanding your attention as it erects slightly.
You grin to yourself as you bring the slime down to your labia, placing its head against your clit.

The slime reflexively wraps its hands around you, bringing its face closer to give your throbbing clit a long, wet lick.

You reflexively clench your legs together, wanting to get more from this slime.
The slime eagerly works with your clit, tugging on it gently and making sure to rub it in all the right ways.

You dig a finger past your lips, fingering yourself gently as the slime continues worshipping your clit.

You clench around your fingers; you can feel your orgasm quickly approaching by the eager stimulation.
It doesn&#39;t last as long as you&#39;d hoped, but the slime has far greater technique than you would have expected.

Your chest heaves as your breathing grows more frantic. You clench your legs closer together as you wring your cunt around your fingers.
With a cry of pleasure, you finally cum. Girlcum slowly peters out from your lips, spilling out onto the ground beneath you as the slime continues licking and sucking on your clit.
\&lt;&lt;if setup.hasLimb($CharacterSheet_Player, &quot;cocks&quot;)&gt;&gt;
Your dick joins in as well, shooting several ropes of cum far into the sky.
\&lt;&lt;/if&gt;&gt;


Satisfied, you loosen your grip on your fingers and the slime. You set it down gently on the ground before deciding to continue with the day, refreshed from the session.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1316" name="Encounter_Win_Slime_Sex_TooBig_Hurl" tags="" position="725,16475" size="100,100">You look at the tiny slime. So small, so vulnerable.

You pick it up within your grasp, admiring the futility of its predicament. The slime doesn&#39;t show any signs of fear or concern for its well being. This gives you a wicked idea.

Gripping it tightly, you reel your arm back, preparing to throw it. With a forceful swing, you hurl the slime across the horizon.
You can almost swear you hear a squeal of pure glee as it passes your ear.

It flies out of view rapidly, who knows how far exactly you chucked it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1317" name="Encounter_Win_Slime_Sex_Abandon" tags="" position="850,16475" size="100,100">You leave the slime to itself. The slime quickly reverts to its spherical blob shape as you abandon it.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1318" name="Encounter_Loss_Slime" tags="" position="975,16475" size="100,100">The slime begins crawling over your form; its slick form glides along your torso as it sinks to your crotch.

\&lt;&lt;run setup.choice(&quot;[[Escape-&gt;Encounter_Loss_Slime_Escape]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Submit-&gt;Encounter_Loss_Slime_Submit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1319" name="Encounter_Loss_Slime_Escape" tags="" position="1100,16475" size="100,100">You kick and squirm at the slime, but your blows hardly make any impact on its exterior. Seeing your apparent discomfort, the slime slinks off your torso, giving you a chance to escape.

\&lt;&lt;run setup.choice(&quot;[[Run back to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1320" name="Encounter_Loss_Slime_Submit" tags="" position="1225,16475" size="100,100">Feeling weakened from the ordeal, you do not attempt to resist the encroaching slime. It continues uninterrupted.

\&lt;&lt;run setup.choice(&quot;[[Penis Submit-&gt;Encounter_Loss_Slime_Submit_Penis]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Chest Submit-&gt;Encounter_Loss_Slime_Submit_Chest]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Rear Submit-&gt;Encounter_Loss_Slime_Submit_Rear]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1321" name="Encounter_Loss_Slime_Submit_Penis" tags="" position="100,16600" size="100,100">The slime worms its way past your garments, sliding its slick body uninterrupted until it wraps around your shaft.

The constant assault of groping and squeezing causes your manhood to rise to full mast.
The creature eagerly latches onto your manhood, caressing your balls as its entire body shifts to gently massage your manhood with slow repeated strokes.

Every throb from your erection causes it to wobble slightly in overeagerness. Whatever it wants, it&#39;s seemingly enthralled by your girth.

There is hardly any semblance of technique within its actions, just an eager blob pulsating its entire body to massage your length.

The slime is clearly experienced because you can feel yourself growing closer to the edge.

With each pulse of your manhood, the slime writhes tighter around your form, desperate to coax you to release.
Your breathing grows staggered as your resistance falls, with one final thrust into it you finally reach climax.

Waves of your cum are absorbed into its body; you feel yourself growing weary from the exertion.
Is this what it wants? Are you nothing but a supplier to the hungry slime?

Disoriented, you pass out from exhaustion.

You wake up sometime later, not quite sure how much time has passed.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1322" name="Encounter_Loss_Slime_Submit_Chest" tags="" position="225,16600" size="100,100">You clutch onto the slime; its damp body contorts underneath your grasp as you draw it closer.

The slime wraps around your torso, slinking past your garments as it tenderly caresses your chest.
It wriggles and writhes around your torso, making sure to coat every inch it can reach.
Each attempt you make at touching it only causes it to bounce and squirm even more.

The sentient blob is seemingly content on attempting to latch onto your pectorals, rubbing around your areola, possibly in an attempt to entice you.
It pulsates with an increasingly faster rhythm.

Its presence causes heat to stir within your loins as it gropes your chest.
The slime isn&#39;t stopping with the tender caresses, leaving wicks of ooze in its wake.

It seems to take notice of your enjoyment, but before you truly relish the moment, it quickly shoots itself into your mouth, past your lips without drawing its presence away from your chest.

You gag and sputter at the strange taste of the slime, but you don&#39;t choke on it yet.
The slime just contorts further as you try to pull your head back, stretching its body to match your attempts at making distance.

Whatever it wants from you, it&#39;s going to get it now. You can feel a strange sensation of pressure building up within your chest.
Is it stealing your air? Or perhaps it&#39;s crushing your torso beneath its weight.

You&#39;re feeling dizzy, the world is spinning, and the difficulty of breathing with the slime down your throat isn&#39;t helping.

Disoriented, you pass out from exhaustion and pleasure.

You wake up sometime later, not quite sure how much time has passed.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1323" name="Encounter_Loss_Slime_Submit_Rear" tags="" position="350,16600" size="100,100">You shift away from the slime, pulling it down from your chest and closer to your rear.

Perhaps it wouldn&#39;t be the worst thing to happen if you offered your ass? After all, the slime seemingly does want something from you.

The slime wraps around your thighs, tenderly caressing your taint.
You shift slightly, trying to make room for its presence as it gently presses its body along your glutes.

It snakes its way through your sphincter, pulsating as it shifts several inches of itself deep into your hole.

You clench around it; a faint numbing pleasure fills your body as it digs deeper into your ass.
The muscles of your sphincter stretch out as the slimy creature continues burrowing, wearing down your resistance as you squirm in pleasure.

A rhythmic pulsing gently massages your nethers as it continues, slowly shifting in and out of your rear.
Gentle pumps coax you into relaxing as you give in to the pleasurable sensation.

You gasp as the entirety of the slime slips into your body, you can feel it writhing within you as you feel like you&#39;re ready to reach orgasm, but are prevented by a disorienting sensation.

It feels as if your body is going to give in as if at any moment the slime will burst out of you.
Your entire body gives out, consciousness fades as everything turns to black.

You wake up sometime later, not quite sure how much time has passed.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1324" name="Encounter_Intro_Torgar" tags="" position="475,16600" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Torgar.encounterPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="1325" name="Encounter_Start_Torgar" tags="" position="600,16600" size="100,100"></tw-passagedata><tw-passagedata pid="1326" name="Encounter_Win_Torgar" tags="" position="725,16600" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Torgar.postFightPassagesWin)&gt;&gt;</tw-passagedata><tw-passagedata pid="1327" name="Encounter_Loss_Torgar" tags="" position="850,16600" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Torgar.postFightPassagesLoss)&gt;&gt;</tw-passagedata><tw-passagedata pid="1328" name="Torgar_FirstMeeting_Intro" tags="" position="975,16600" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
You journey east, past endless dunes and onto ruins of a forgotten village. One filled with cheap scraps that are too much of a bother to carry home.

It has been looted for a long time, years if you were to make a guess.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_FirstMeeting_Intro_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1329" name="Torgar_FirstMeeting_Intro_1" tags="" position="1100,16600" size="100,100">A thin layer of sand covers everything all but the middle of the road; you can tell that people pass through more than anything.

That is until you notice a few boot prints drifting out of the path.

\&lt;&lt;run setup.choice(&quot;[[Inspect the boot prints-&gt;Torgar_FirstMeeting_Intro_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1330" name="Torgar_FirstMeeting_Intro_2" tags="" position="1225,16600" size="100,100">At nearly &lt;&lt;print setup.getLength(12)&gt;&gt; long, you can tell that their owner must be massive.

You notice a faint chemical smell coming from where they lead.

\&lt;&lt;run setup.choice(&quot;[[Investigate-&gt;Torgar_FirstMeeting_Intro_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1331" name="Torgar_FirstMeeting_Intro_3" tags="" position="100,16725" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.relationshipScoring++&gt;&gt;
You enter one of the ruined buildings of crumbling sandstones. Its ceiling is long gone.

While listening for any kind of unwelcome presence, you venture forth.

\&lt;&lt;run setup.choice(&quot;[[Keep an eye out for what could lie within-&gt;Torgar_FirstMeeting_Intro_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1332" name="Torgar_FirstMeeting_Intro_3_1" tags="" position="225,16725" size="100,100">Sure enough, you hear heavy footsteps nearby and drift your gaze toward their source.

A massive half-orc lifts a massive hand to cover the sun from his eyes; each of his fingers are almost as wide as a normal person&#39;s wrists.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_FirstMeeting_Intro_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1333" name="Torgar_FirstMeeting_Intro_4" tags="" position="350,16725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;

He gives you a surprised look before chuckling slightly, his breath making his impressive pectorals rise and fall in a raw display of power.

Booming steps resound louder and louder as he steps towards you. Besides his distracting bulge and impressive musculature, you can&#39;t help but notice the apparatus that he carries on his back.
The strange liquid within seems to swirl with excitement as he finally notices you.

&quot;Well, I&#39;ll be damned...&quot; He exclaims with a deep voice.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_FirstMeeting_Intro_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1334" name="Torgar_FirstMeeting_Intro_5" tags="" position="475,16725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

The half-orc bellows out a hearty laugh before walking up to you.
His clothes stretch tightly on his powerful muscles, making them audibly groan.

&quot;It&#39;s been a while since I saw a normal looking man out here. Thought you were all hiding in your cities by now.&quot;

He stops to take a closer look at you, his hand idly playing with his short beard. Whatever is on his mind, he seems satisfied with whatever assumption he can make based on your appearence.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_FirstMeeting_Intro_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1335" name="Torgar_FirstMeeting_Intro_6" tags="" position="600,16725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
He extends his hand in a welcoming manner.

&quot;I am Torgar, alchemist of the Shattered Peak!&quot;

His words boom with a warm confidence, but you can&#39;t help but be suspicious of him.

\&lt;&lt;run setup.choice(&quot;[[Shake his hand-&gt;Torgar_FirstMeeting_Intro_7_ShakeHand]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Greet him from a distance-&gt;Torgar_FirstMeeting_Intro_7_DistantGreet]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1336" name="Torgar_FirstMeeting_Intro_7_ShakeHand" tags="" position="725,16725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
His hand is incredibly firm. He gives you a warm smile, before letting go.

&quot;A nice welcome, that&#39;s something I haven&#39;t done in a while. But you shouldn&#39;t trust those who roam the Barrens so blindly.&quot; He exclaims in a somewhat serious tone.

&lt;&lt;include Torgar_FirstMeeting_Intro_7&gt;&gt;</tw-passagedata><tw-passagedata pid="1337" name="Torgar_FirstMeeting_Intro_7_DistantGreet" tags="" position="850,16725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;
&quot;Very smart of you, you don&#39;t want to trust those who roam the Barrens. Still, you could have stumbled upon way worse than me.&quot;

He bellows out a hearty laugh before lowering his hand.

&lt;&lt;include Torgar_FirstMeeting_Intro_7&gt;&gt;</tw-passagedata><tw-passagedata pid="1338" name="Torgar_FirstMeeting_Intro_7" tags="" position="975,16725" size="100,100">&quot;Monsters and beasts have a set of rules here. Where city dwellers would learn about someone through words, here they learn through combat. A most intimate kind of communication. Power is to be respected, worshiped even.&quot;

He instinctively grins with that last word. You can hear his knuckles crack soon after he says it.

&quot;At first I had a hard time grasping it, but now I have to say it has won me over.&quot;

He bends his knees slightly, making you instinctively raise your guard up.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_FirstMeeting_Intro_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1339" name="Torgar_FirstMeeting_Intro_8" tags="" position="1100,16725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;

&quot;So, go on then, show me what you got!&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1340" name="Torgar_Ascended_Path_Trigger_EncounterStart" tags="" position="1225,16725" size="100,100">Orc looks at you, his mind seemingly elsewhere, the goo covering him pulses
peacefully, as if listening to his thoughts curiously.
Tells the player he&#39;s close to some kind of breakthrough, this corruption, he
thinks it can be taught to listen. Conquered and used for what we want it to be.
Says he wants to show you.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1341" name="Torgar_Ascended_Path_Trigger_Win" tags="" position="100,16850" size="100,100">His whole body shakes, the goo reaches into him instead of reaching to cover
his body.
That&#39;s it...
His body grows. He reaches back, opening the container on his back.
The goo jumps to him, digging into his body.
Urghhh...
He shakes, his pecs bloating with mass.
I will master it... Use it to help those in need.
Runes suddenly appear on his body.
A master alchemist, that is who I am.
Arms suddenly burst from his back. He flexes, grinning.

YESSSSS!!!!

(This path will be expanded in later versions)

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1342" name="Torgar_Ascended_Path_Trigger_Loss" tags="" position="225,16850" size="100,100">Says he&#39;s so close... but he needs to see himself in a different angle, he needs
to find someone who can beat him so he reaches another level of mastery.

//up lost scoring

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1343" name="Torgar_Mid_Rela_Path_Change_Win_Lost" tags="" position="350,16850" size="100,100">&lt;&lt;include Torgar_Mid_Rela_Path_Change_EmbracePath&gt;&gt;</tw-passagedata><tw-passagedata pid="1344" name="Torgar_Mid_Rela_Path_Change_Loss_Lost" tags="" position="475,16850" size="100,100">&lt;&lt;include Torgar_Mid_Rela_Path_Change_EmbracePath&gt;&gt;</tw-passagedata><tw-passagedata pid="1345" name="Torgar_Mid_Rela_Path_Change_EmbracePath" tags="" position="600,16850" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesWin_midRelaPathChange = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesLoss_midRelaPathChange = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.lostScoring = 9999&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.progress = setup.TorgarProgress.LOST&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

Torgar gives you a hungry look and nearly drools.

&quot;Grrrr... I need more...&quot;

His legs bend down as he pulls his head back and roars.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Path_Change_EmbracePath_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1346" name="Torgar_Mid_Rela_Path_Change_EmbracePath_2" tags="" position="725,16850" size="100,100">Within seconds, you hear monstrous roars answer his call.

The lustful roars of the Lost.

&lt;h2&gt;&quot;I NEED MOOOOOORE!!!!&quot;&lt;/h2&gt;

He runs off, grunting hungrily at the thought of delving deeper into Corruption.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1347" name="Torgar_Lost_Path_Trigger_EncounterStart" tags="" position="850,16850" size="100,100">Lustful moans resound from afar, moans that you now recognize without much of a thought.

It is Torgar&#39;s voice, and by the intensity of his lustful roars, you can tell that he has been learning to embrace his lust more and more.

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Torgar_Lost_Path_Trigger_EncounterStart_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1348" name="Torgar_Lost_Path_Trigger_EncounterStart_2" tags="" position="975,16850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

With twisted laughter, he grasps his mighty cock.
You can see the fire in his eyes. What used to be a glint of curiosity is now an apparent devotion to lust and power.

&quot;Feels so good... Every muscle feels more sensitive than my cock used to be.&quot;

He flexes both of his arms for you. &quot;Grrrrr... Hmmmmm...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Trigger_EncounterStart_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1349" name="Torgar_Lost_Path_Trigger_EncounterStart_3" tags="" position="1100,16850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

His colossal tool twitches, spurting out loads of thick seed instinctively. It pleases him; he jerks his tool as he resumes.

&quot;I followed your advice, gave in to the pleasure that grew ever since this gift came in contact with me.&quot;

His arm grasps the other container on his back.

\&lt;&lt;run setup.choice(&quot;[[Look at the container on his back-&gt;Torgar_Lost_Path_Trigger_EncounterStart_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1350" name="Torgar_Lost_Path_Trigger_EncounterStart_3_1" tags="" position="1225,16850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
Even though it is open, the black goo within does not rush onto him; it stands, as if waiting for something.

&quot;I can feel its need... It needs a worthy host.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Trigger_EncounterStart_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1351" name="Torgar_Lost_Path_Trigger_EncounterStart_4" tags="" position="100,16975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
He finally lets go of his cock, but it nevertheless throbs in hunger.

&quot;You just might be the one...&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1352" name="Torgar_Lost_Path_Trigger_Win" tags="" position="225,16975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
With that last hit, Torgar suddenly drops his guard to look towards his shoulder.

&quot;Yessss...&quot;

His eyes widen, and he licks his lips as the other black mass emerges from its container.
It crawls along his back, heading towards his chest. Torgar bellows out a deep laugh in excitement.

&quot;Come... Embrace it, just like I did.&quot;

\&lt;&lt;run setup.choice(&quot;[[Embrace his gift-&gt;Torgar_Lost_Path_Trigger_Win_Accept]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse-&gt;Torgar_Lost_Path_Trigger_Win_Refuse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1353" name="Torgar_Lost_Path_Trigger_Win_Refuse" tags="" position="350,16975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;
&quot;Hmmmmrfff... Impossible.&quot;

The strange goo seems to react to what you just said, and it bounces back to its container like a snake.

&quot;I&#39;ll be there when you&#39;re ready for it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1354" name="Torgar_Lost_Path_Trigger_Win_Accept" tags="" position="475,16975" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_lostPathTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lostPathTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesWin_lostPathTrigger = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
&quot;Yessss...&quot;

The half-orcs body suddenly shivers in pleasure.
The black goo surrounding him suddenly expands, reaching further across his cock and arms, growing his glutes and legs.

&quot;Hmmmmmffff... Take it. Make us whole!&quot;

\&lt;&lt;run setup.choice(&quot;[[Kiss him-&gt;Torgar_Lost_Path_Trigger_Win_Accept_Kiss]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Turn around and tease him-&gt;Torgar_Lost_Path_Trigger_Win_Accept_Tease]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1355" name="Torgar_Lost_Path_Trigger_Win_Accept_Kiss" tags="" position="600,16975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;height&quot;, $CharacterSheet_Torgar) &gt;= setup.Size.Comparators.MUCH_BIGGER&gt;&gt;
You kneel to reach Torgar, who pulls your head into a deep kiss.
\&lt;&lt;else&gt;&gt;
You pulls Torgar into a deep kiss.
\&lt;&lt;/if&gt;&gt;
He coils his tongue around yours as it suddenly grows.
With each moan, it extends, more lengthy and fatter. You feel his saliva grow thicker.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Trigger_Win_Accept_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1356" name="Torgar_Lost_Path_Trigger_Win_Accept_Tease" tags="" position="725,16975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_lostPathTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lostPathTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesWin_lostPathTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.lostScoring = 9999&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.progress = setup.TorgarProgress.LOST&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
You turn around and give Torgar a wink.

&quot;Mpphh...MMhhffGg...Ggrrarrr... I&#39;m gonna breed you right here.&quot;

\&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;height&quot;, $CharacterSheet_Torgar) &gt;= setup.Size.Comparators.MUCH_BIGGER&gt;&gt;
You kneel so he can reach you, and he quickly climbs you to press his growing tool against your ass.
\&lt;&lt;else&gt;&gt;
He lifts you upon his growing tool, presses it against your entrance.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Trigger_Win_Accept_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1357" name="Torgar_Lost_Path_Trigger_Win_Accept_2" tags="" position="850,16975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
The huge black gooey mass crawls to his cock, he roars in response.

&lt;h2&gt;&quot;GRAHHHHHH&quot;&lt;/h2&gt;

His voice warps and deepens, getting more alien by the seconds.

&quot;Yess... Take him... Complete us both... Cover every inch of us!&quot;

The goo crawls and spreads upon his skin like a tight suit.
You feel the tip of his hands expand, growing into razor-sharp claws.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Torgar_Lost_Path_Trigger_Win_Accept_2_TorgarSpread][$bottom = false]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Make him fuck you-&gt;Torgar_Lost_Path_Trigger_Win_Accept_2_TorgarSpread][$bottom = true]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1358" name="Torgar_Lost_Path_Trigger_Win_Accept_2_TorgarSpread" tags="" position="975,16975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;if $bottom == true&gt;&gt;
He thrusts inside of you, holding you like a toy as his tongue flicks out in lustful madness.

&quot;I&#39;m gonna turn you into a monster...&quot;
\&lt;&lt;else&gt;&gt;
You hold him tight, grasping his waist before lifting him in a surge of strength.
Your cock presses tightly on his entrance as he moans.

&quot;Oh fuck... Yes!&quot;
\&lt;&lt;/if&gt;&gt;

His pecs bloat out, turning shiny and jet black as the goo reaches towards you.

Black spires emerge around his neck, growing higher than his head. You feel the power radiating from him, feel it ooze from his cock and into your body.

&quot;More...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Trigger_Win_Accept_2_TorgarSpread_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1359" name="Torgar_Lost_Path_Trigger_Win_Accept_2_TorgarSpread_2" tags="" position="1100,16975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.lost_FullyCovered = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
He growls, deep and monstrous as pleasure rushes through you both. You feel his need, his lust to grow and fuck rushing inside you. It is so potent... so delicious.
You both laugh madly as spurts of black tendrils spread all over your bodies.

&lt;h2&gt;GROOAAHHHHHHHHH!&lt;/h2&gt;

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Torgar_Lost_Path_Trigger_Win_Accept_2_TorgarSpread_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1360" name="Torgar_Lost_Path_Trigger_Win_Accept_2_TorgarSpread_3" tags="" position="1225,16975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
\&lt;&lt;if $bottom == true&gt;&gt;
You both roar as he cums deep inside you.
This alone is enough to bring you to the edge.
\&lt;&lt;else&gt;&gt;
You both roar and cum deep inside Torgar.
This alone is enough to bring him to the edge.
\&lt;&lt;/if&gt;&gt;

You both let out an earth-splitting howl, one that pushes the sand around you to form new dunes.
Black veins spread over your body as you snarl in orgasmic bliss.
You feel every fibre of muscle swell, getting infused with enough strength to crush mountains.

You are monsters, bound by lust and strength.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Trigger_Win_Accept_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1361" name="Torgar_Lost_Path_Trigger_Win_Accept_3" tags="" position="100,17100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;

This goo that you now share builds and grows like an intimate bond.
You feel Torgar&#39;s lust, pleasure, and strength as if they were your own.

&quot;Do you feel it too?&quot; He asks, flexing his arm into a monstrous peak.

&quot;Your strength... I feel it rushing through me... This is extraordinary!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Trigger_Win_Accept_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1362" name="Torgar_Lost_Path_Trigger_Win_Accept_4" tags="" position="225,17100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;

&quot;Who knows how powerful we can get if we both push ourselves to our fullest... Hmmmmm...&quot;

His monstrous clawed tries to grasp his cock in response, but it can barely reach it.

&quot;Let&#39;s keep growing... See how far we can push this~.&quot;

∇: Torgar&#39;s cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Torgar, &quot;cock&quot;, 7))&gt;&gt; longer.
∇: Torgar&#39;s balls have grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Torgar, &quot;balls&quot;, 3))&gt;&gt; in diameter.
∇: Torgar&#39;s muscles have grown (&lt;&lt;print setup.applyGrowth($CharacterSheet_Torgar, &quot;muscles&quot;, 5)&gt;&gt;).
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Torgar, 20)&gt;&gt;
∇: Torgar&#39;s Corruption has increased by 20.

∇: Your cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 7))&gt;&gt; longer.
∇: Your balls have grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, 3))&gt;&gt; in diameter.
∇: Your muscles have grown (&lt;&lt;print setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 5)&gt;&gt;).
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 15)&gt;&gt;
∇: Your Corruption has increased by 15.
∇: You have gained a &quot;Torgar&#39;s Corrupted Bond&quot; ability.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.TorgarsBond)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1363" name="Torgar_Lost_Path_Trigger_Loss" tags="" position="350,17100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;
Hmmmmrfff... You need to grow stronger to take this gift.

I&#39;ll be there when you&#39;re ready for it.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1364" name="Torgar_Lost_Path_Idle_EncounterStart" tags="" position="475,17100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
Deep, distorted moans resound from afar. Sounds of warped humanity, of intelligence seduced by pleasure.
You could recognize Torgar voice for hundreds of meters.

His footsteps resound in a thumping beat, shaking the sand beneath your feet.
There, he stands, his cock reaching up to the skies as he jerks it with all his might.
It is a mighty sight, such splendour and elegance bound to monstrous ferocity.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_EncounterStart_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1365" name="Torgar_Lost_Path_Idle_EncounterStart_2" tags="" position="600,17100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;

With a roar, he thrust forward, sending load upon a load of dark, corrupted seed upon the dunes. He&#39;s a beast, a true monster...
One who finally catches a glimpse of you.

&quot;Grrahhhhh... Ahhhhh... Come...&quot;

It is all he can mutter before standing to fight you.
His lust is infectious; you are not sure if he even wants to be on top; your corrupted bodies will guide you both.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1366" name="Torgar_Lost_Path_Idle_Win" tags="" position="725,17100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;
Groans and growls, his body not showing signs of any wounds.
Yet he is now on his knees, both hands clasping his cock in a surge of pleasure.

&quot;Grrrrrr... Get in there. Take me!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1367" name="Torgar_Lost_Path_Idle_Win_2" tags="" position="850,17100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
His impatence is showing, one of his hand reaches down to finger his own ass.

The power of your bond suddenly surges.
You feel the pleasure rush through him, urging you to take him.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Torgar_Lost_Path_Idle_Win_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1368" name="Torgar_Lost_Path_Idle_Win_3" tags="" position="975,17100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.relationshipScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;
You walk to him, using his desperate lust as a way to tease him.

&quot;Cmon... Fuck me!&quot;

He screams as you grasp his pecs from behind.

\&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;height&quot;, $CharacterSheet_Torgar) &gt;= setup.Size.Comparators.MUCH_BIGGER&gt;&gt;
You are impossibly huge compared to him; an ordinary mortal would break under the weight of your monstrous cock.
Thankfully, Torgar is no such thing anymore.

\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Win_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1369" name="Torgar_Lost_Path_Idle_Win_3_1" tags="" position="1100,17100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
You barely need to press your &lt;&lt;LimbDesc &quot;cocks&quot;&gt;&gt; upon his entrance for him to cling to you.

&lt;h2&gt;“GRAAHHHHH!!!”&lt;/h2&gt;

He roars, both hands clenching his nipples. Pleasure shakes him to his core as thick loads of black cum gushes out of his cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1370" name="Torgar_Lost_Path_Idle_Win_4" tags="" position="1225,17100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
Yet, you both know that it&#39;s only the beginning. Your heart pulses faster and faster with every thrust. Every dominant move makes Torgar&#39;s skin shiver.
You feel its lust, the corruption welcoming your body to dig your &lt;&lt;LimbDesc &quot;cocks&quot;&gt;&gt; even deeper.

&lt;h2&gt;&quot;Deeper...&quot;&lt;/h2&gt;Torgar says in response.

By uttering those words, you feel your cock throb, every inch of it that&#39;s now surrounded by corrupted flesh.
You feel it reach for you, digging into your man meat, pumping it longer, more prominent, fatter.

\&lt;&lt;run setup.choice(&quot;[[Thrust deeper-&gt;Torgar_Lost_Path_Idle_Win_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1371" name="Torgar_Lost_Path_Idle_Win_5" tags="" position="100,17225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
Your mouth opens as you join Torgar&#39;s lustful growls. It is like your cock is growing hard all over again.
Every thrust becomes tighter and much more pleasurable.

&lt;h2&gt;&quot;Yessssss&quot;&lt;/h2&gt; Torgar moans, feeling your powerful thrusts reach him to his core.

\&lt;&lt;run setup.choice(&quot;[[Thrust deeper still-&gt;Torgar_Lost_Path_Idle_Win_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1372" name="Torgar_Lost_Path_Idle_Win_6" tags="" position="225,17225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
You both growl; every thrust is now so deep that you feel your balls slap against the half-orc&#39;s corrupted form.
Every contact sends a sudden burst of growth upon them, sloshing more of your potent seed for him to enjoy.
They ripple with pleasure, embracing the dark powers of Torgar&#39;s corruption.

It only makes you hornier, so brimmed to the edge with pleasure.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Win_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1373" name="Torgar_Lost_Path_Idle_Win_7" tags="" position="350,17225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
You feel climax come to you like a freight train as you thrust balls deep into him.  But it can&#39;t seem to arrive.

You&#39;re stuck on the edge, with the limits of pleasure being pushed further and further away from you. It is so good, so good it&#39;s maddening.
You can only thrust deeper in the hopes that you can achieve pleasure beyond what it will now support.

\&lt;&lt;run setup.choice(&quot;[[Thrust even deeper-&gt;Torgar_Lost_Path_Idle_Win_7_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1374" name="Torgar_Lost_Path_Idle_Win_7_1" tags="" position="475,17225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
You clench your balls and nipples and focus on Torgar&#39;s mad pleasurable growls. His lust seeps into your thoughts, pushing you to grow even more...

&lt;h2&gt;&quot;Ohhhhh YESSSSSS!&quot;&lt;/h2&gt; He roars, shooting loads of thick black ooze all over you both. It rains upon you both as he desperately jerks himself off, but his climax never seems to end.

&lt;h2&gt;“YESSSSSSSS!!!!”&lt;/h2&gt; You don&#39;t notice how much bigger you&#39;re growing, but you feel your cock burst in size.

With one final thrust, you finally break the dam.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Torgar_Lost_Path_Idle_Win_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1375" name="Torgar_Lost_Path_Idle_Win_8" tags="" position="600,17225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
Vivid images of being surrounded by Lost fill your mind.
You stand among them, fucking and getting fucked by everthing around you in an endless chorus of lust and power.

&lt;h2&gt;&quot;Grahhhhhh!!!!&quot; &lt;/h2&gt;

Togar roars once more, pulling you back to reality as you unleash your load inside of him. His clawed hands dig into the ground, forcing him to take every drop.
He gasps for air, desperately holding on as he keeps on shooting his corrupted load.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Win_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1376" name="Torgar_Lost_Path_Idle_Win_9" tags="" position="725,17225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;
You feel compelled to hold him, to feel his gooey cock with your tongue.

You soon both fall, nearly passing out from the mind-shattering pleasure surging through you both.

&quot;This... Nothing could ever be better than this.&quot; Torgar says with surprising clarity.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Win_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1377" name="Torgar_Lost_Path_Idle_Win_10" tags="" position="850,17225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;
&quot;Thank you for opening my mind to all of this.&quot; He says before resting his head on your pecs.

You hold him, letting time pass without a care in the world.
At your size and stature, no one would dare disturb either of you.

∇: Torgar&#39;s cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Torgar, &quot;cock&quot;, 7))&gt;&gt; longer.
∇: Torgar&#39;s balls has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Torgar, &quot;height&quot;, 3))&gt;&gt; in diameter.
∇: Torgar&#39;s muscles have grown (&lt;&lt;print setup.applyGrowth($CharacterSheet_Torgar, &quot;muscles&quot;, 5)&gt;&gt;).
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Torgar, 200)&gt;&gt;
∇: Torgar&#39;s Corruption has increased by 200.

∇: Your cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 7))&gt;&gt; longer.
∇: Your balls has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 3))&gt;&gt; in diameter.
∇: Your muscles have grown (&lt;&lt;print setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 5)&gt;&gt;).
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 15)&gt;&gt;
∇: Your Corruption has increased by 15.
∇: You have gained a rank for &quot;Torgar&#39;s Corrupted Bond&quot;.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.TorgarsBond)&gt;&gt;

\&lt;&lt;if $CharacterSheet_Torgar.quest.relationshipScoring &gt;= 11&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Win_Epilogue]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1378" name="Torgar_Lost_Path_Idle_Win_Epilogue" tags="" position="975,17225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;])&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.progress = setup.TorgarProgress.LOST_TEAMMATE&gt;&gt;
\&lt;&lt;run setup.torgarJoinsPlayer()&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
&quot;Our bond is so strong; it truly feels like we could take on anything.
Maybe finding a haven for my people was not the best way to look at it.
Maybe I need to present everyone this power, let the hungry feed on our seed, let the weak grow into powerful beasts.&quot;

His massive tendrils wrap around your waist, grazing your cock.

&quot;Let me accompany you, grow with you, so we can make things right.&quot;

∇: Torgar has joined your party.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1379" name="Torgar_Lost_Path_Idle_Loss" tags="" position="1100,17225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
You fall, overwhelmed by the strength of the corrupted half-orc. His strength has increased; every hit comes with the might of whatever is now a part of him.

&quot;Guhhhhh... This is not enough...&quot; He moans.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Lost_Path_Idle_Loss_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1380" name="Torgar_Lost_Path_Idle_Loss_2" tags="" position="1225,17225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

The half-orc looks up to the skies and roars, his cock throbbing and standing completely upright as he does so.
It is impossibly loud, louder than hundreds of canons shooting simultaneously. You cover your ears in response.

When he&#39;s done, he idly jerks himself off, awaiting a response.

&quot;Until you show me what true power is, those Lost will have to do.&quot;

It only takes a few seconds for an equally loud screech to answer back, and he rushes towards it.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1381" name="Torgar_Lost_Teammate_EncounterStart" tags="" position="100,17350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
It only takes a short trek before Torgar finds and joins you in your expedition.

\&lt;&lt;run setup.choice(&quot;[[Decide when Torgar attacks-&gt;Torgar_Lost_Teammate_ChangeAttackTiming]]&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village][setup.flagTimePasses($CharacterSheet_Torgar)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1382" name="Torgar_Lost_Teammate_ChangeAttackTiming" tags="" position="225,17350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

&quot;Of course, even monsters like us can benefit from a good strategy.&quot;

&lt;&lt;print setup.displayAttackTimingDescription($CharacterSheet_Torgar)&gt;&gt;

[[Attack before me-&gt;Torgar_Lost_Teammate_EncounterStart][$CharacterSheet_Torgar.fight.teammateSettings.attackTiming = setup.AttackTiming.BEFORE_PLAYER]]
[[Attack after me, but before our enemy-&gt;Torgar_Lost_Teammate_EncounterStart][$CharacterSheet_Torgar.fight.teammateSettings.attackTiming = setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY]]
[[Attack after me, but after our enemy-&gt;Torgar_Lost_Teammate_EncounterStart][$CharacterSheet_Torgar.fight.teammateSettings.attackTiming = setup.AttackTiming.AFTER_ENEMY]]

\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Torgar_Lost_Teammate_EncounterStart]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1383" name="Torgar_Low_Rela_EncounterStart_Converse" tags="" position="350,17350" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
You follow old tracks in the desert. Pathways that traders or other salvagers could have used, it is hard to say for sure.
What&#39;s important is that you remember where those tracks lead.

It is the road you have taken to encounter that half-orc, Torgar. Meeting him once more could lead to more exciting outcomes.

\&lt;&lt;run setup.choice(&quot;[[Follow the tracks-&gt;Torgar_Low_Rela_EncounterStart_Converse_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Return home-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1384" name="Torgar_Low_Rela_EncounterStart_Converse_2" tags="" position="475,17350" size="100,100">You make your way to the ruined village with relative ease.

The half-orc is not difficult to find; his broad back has grown wider than the doors of the houses surrounding you.
You see him digging through some old rubble, but with only a glance, he drops a handful of rusted scraps to greet you.

&quot;Ah... Good to see you again, Salvager.&quot;

\&lt;&lt;run setup.choice(&quot;[[Greet Him-&gt;Torgar_Low_Rela_EncounterStart_Converse_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1385" name="Torgar_Low_Rela_EncounterStart_Converse_3" tags="" position="600,17350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

The half-orc gets up to greet you with a grand, welcoming smile.
He dusts off his hands before letting them rest at his side.

His physique is as impressive as ever, displaying a lifetime of heavy lifting and fighting.
Yet, there seems to be more to it. The half-orc&#39;s massive bulge hints towards some more... Unnatural growth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_Converse_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1386" name="Torgar_Low_Rela_EncounterStart_Converse_4" tags="" position="725,17350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;

&quot;Got something on your mind? Better to ask now, before we fight.&quot;

You take a step back, but it does not seem surprising for him to say such a thing on second thought.

At least he has given you a warning this time.

&lt;&lt;print setup.displayTorgarConverse()&gt;&gt;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1387" name="Torgar_Low_Rela_EncounterStart_GotBig" tags="" position="850,17350" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_GotBig = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

&quot;I wouldn&#39;t want to bore with the logistics of it, but I&#39;ve been studying it for a long time. I&#39;ve been making some concoctions to help with this. \
Corruption has so many remarkable properties when used in conjunction with Essence. It can awaken changes in one&#39;s body, gives them strength beyond what anyone can achieve on their own.&quot;

He grazes his hand across his biceps as he gives you a flex. It bursts, turning deliciously massive. Even Torgar himself seems excited at the sight of his bulk.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_GotBig_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1388" name="Torgar_Low_Rela_EncounterStart_GotBig_2" tags="" position="975,17350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;

The half-orc&#39;s face suddenly reddens with a blush.

&quot;Now now... I can&#39;t get ahead of myself... I still need to get used to this.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_GotBig_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1389" name="Torgar_Low_Rela_EncounterStart_GotBig_3" tags="" position="1100,17350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

He shakes his head, clenching his fists as his arm drops to his side.

&quot;That being said, we should put our gains to the test!&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1390" name="Torgar_Low_Rela_EncounterStart_Carry" tags="" position="1225,17350" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_Carry = false&gt;&gt;
\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

&quot;You mean this?&quot;

His arm reaches back, and he knocks on one of the glass containers.
It agitates whatever is within; purple goo swivels excitedly as an audible ding rings from the impact.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_Carry_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1391" name="Torgar_Low_Rela_EncounterStart_Carry_2" tags="" position="100,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

&quot;Incredible, aren&#39;t they? They&#39;re unlike anything I&#39;ve ever seen.&quot;

His enthusiasm is impossible to deny; he is elated at the idea of sharing his discovery.

&quot;I found them in a ruin deep below the surface, almost kicked the bucket on my way back, but it was worth it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_Carry_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1392" name="Torgar_Low_Rela_EncounterStart_Carry_3" tags="" position="225,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;

Upon holding a finger on the glass, you notice how the purple liquid within presses against it.

&quot;The power within these little guys is nothing short of legendary. I&#39;ve been extracting their power to concoct hundreds of enhancing potions and panaceas. There&#39;s probably more Essence within them than in an entire army.&quot;

He lets go of the glass cylinder with a frown. His finger waves in your direction like he is teaching a student.

&quot;But the Corruption within is just as potent. Very important to process it into something new entirely. You don&#39;t wanna turn into one of those Lost.&quot;

\&lt;&lt;run setup.choice(&quot;[[Warn him of the dangers of Corruption-&gt;Torgar_Low_Rela_EncounterStart_Carry_3_AntiCorr]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Hint that you&#39;d like to experiment with Corruption yourself-&gt;Torgar_Low_Rela_EncounterStart_Carry_3_ProCorr]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1393" name="Torgar_Low_Rela_EncounterStart_Carry_3_AntiCorr" tags="" position="350,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.pureScoring++&gt;&gt;
&quot;It sure is, hopefully no one ever needs to consume it as it is. If I were to make a guess I&#39;d say it was used to power whole districts of the Sunken World.&quot;

Torgar suddenly realizes how heavy the mood is getting; it makes him slightly uncomfortable.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_Carry_3_Fight]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1394" name="Torgar_Low_Rela_EncounterStart_Carry_3_Fight" tags="" position="475,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

&quot;Well, that&#39;s enough of that. I&#39;ve been eager to see if you&#39;ve grown any stronger during your journey. How about another fight?&quot;

With a grin, his fists clench.

It looks like he won&#39;t discuss it any further without fighting you again.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1395" name="Torgar_Low_Rela_EncounterStart_Carry_3_ProCorr" tags="" position="600,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

&quot;Under the right circumstances, it can yield some pretty incredible things.&quot;

He looks you over with a curious smile.

&quot;You&#39;re a weird one, Salvager. Usually, city dwellers treat Corruption as the root of evil itself.&quot;

\&lt;&lt;run setup.choice(&quot;[[Say you&#39;re not a city dweller anymore-&gt;Torgar_Low_Rela_EncounterStart_Carry_3_ProCorr_2_NotACityBoy]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Hint that you&#39;re only curious-&gt;Torgar_Low_Rela_EncounterStart_Carry_3_ProCorr_2_Curious]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1396" name="Torgar_Low_Rela_EncounterStart_Carry_3_ProCorr_2_NotACityBoy" tags="" position="725,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;

&quot;Hmmm... You&#39;re right; once you enter the Barrens, you never come back the same...&quot;

He seems slightly lost in his thoughts.

&quot;Maybe I should take this place more seriously myself.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_Carry_3_Fight]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1397" name="Torgar_Low_Rela_EncounterStart_Carry_3_ProCorr_2_Curious" tags="" position="850,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.ascendedScoring++&gt;&gt;

&quot;Of course! We know so little about it; there&#39;s so much to discover!&quot;

His passion is infectious; even when talking about something as dangerous as Corruption, you can&#39;t help but feel curious about what it could hold.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_Carry_3_Fight]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1398" name="Torgar_Low_Rela_EncounterStart_Origin" tags="" position="975,17475" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaIdle_Origin = false&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;

&quot;I come from the Shattered Peak along with my clan. I have so many memories of that time, but reminiscing is tiring...&quot;

He looks at the blue sky to hide his expression from you.

&quot;Most of us are out there now; there just weren&#39;t enough resources to stay.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_Origin_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1399" name="Torgar_Low_Rela_EncounterStart_Origin_2" tags="" position="1100,17475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;

&quot;Alright, enough about the past. Are you going to fight me or what?&quot;

His voice is tense. It feels like you struck a nerve by asking that question.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1400" name="Torgar_Low_Rela_EncounterStart" tags="" position="1225,17475" size="100,100">A short journey through the desert leads you to familiar ruins.

You stand where you first met Torgar, the alchemist.

Memories of your past encounters idly pass through your mind, of how the massive brute seems obsessed with his experiments.
It&#39;s hard to fully say whether he&#39;s genuinely accustomed to the harshness of the Barrens; his concoctions seem to lead him towards a strange path.

Yet, after having a taste yourself, part of you wishes for more...

\&lt;&lt;run setup.choice(&quot;[[Wait for his arrival-&gt;Torgar_Low_Rela_EncounterStart_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1401" name="Torgar_Low_Rela_EncounterStart_2" tags="" position="100,17600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
It is not long before he reveals himself. He walks towards you, his pants barely holding his growing bulge back. Every throb threatens to tear them into ribbons.

&quot;Here you are... I&#39;ve been thinking about you more and more.&quot; He says, his tongue grazing over one of his tusks.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_EncounterStart_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1402" name="Torgar_Low_Rela_EncounterStart_3" tags="" position="225,17600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;
The half-orc grasps his own bulge with a muffled moan, he seems to have grown slightly since you last encounter.

&quot;Just fight me already; there&#39;s I have to test the effects of my new concoctions...&quot;

He does not seem interested in discussing with you much more. You brace yourself for the incoming fight.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1403" name="Torgar_Low_Rela_Win_Idle" tags="" position="350,17600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

\&lt;&lt;if setup.getAvailableStoreFightMoveIDs($CharacterSheet_Player).length &lt; 2&gt;&gt;
&quot;Alright, you win again.&quot;
\&lt;&lt;else&gt;&gt;
&quot;Hehehe, you&#39;re better than I expected!&quot;
\&lt;&lt;/if&gt;&gt;

He catches his breath and focuses on keeping his balance after a tiring battle.

&quot;I gotta say, you fight like a demon.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Win_Idle_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1404" name="Torgar_Low_Rela_Win_Idle_2" tags="" position="475,17600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
&quot;Not a lot of people can push me to my limit like this, you&#39;re something special.&quot;

Torgar ponders amidst his exhausted grunts.

&quot;Yes, I feel like you could handle them. I&#39;m sure you&#39;ve gathered quite a bit of Essence at this point too.&quot;

He suddenly gets back up, builds back composure and gives you a warm smile.

&quot;There&#39;s something I&#39;d like to offer you, a trade if you will.&quot;

\&lt;&lt;run setup.choice(&quot;[[Listen to his offer-&gt;Torgar_Buy_Sigils]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1405" name="Torgar_Buy_Sigils" tags="" position="600,17600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
&quot;Great! Maybe you&#39;d offer some Essence to trade for some powerful concoctions I&#39;ve been working on?&quot; Torgar says with homely warmth.

He reaches for his belt with a groan. It seems like he has not dropped any of his strange potions during the fight.

&quot;Barely anyone even knows about this power anymore, so I&#39;ll gladly share it with someone trustworthy.&quot;

&lt;&lt;print setup.displayFightMoveStore()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1406" name="Buy_First_Sigil_1" tags="" position="725,17600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

With that, he takes one of the vials adorned on his waist and hands it to you.

&quot;Drink it, and enjoy...&quot; He says with a smirk.

\&lt;&lt;run setup.choice(&quot;[[Drink the vial-&gt;Buy_First_Sigil_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1407" name="Buy_First_Sigil_2" tags="" position="850,17600" size="100,100">You raise the vial to your mouth, and your eyes widen the instant that the strange liquid comes in contact with your tongue.

It burns, but there is an undeniable sweetness to it, like biting into an apple.

\&lt;&lt;run setup.choice(&quot;[[Drink the whole vial-&gt;Buy_First_Sigil_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1408" name="Buy_First_Sigil_3" tags="" position="975,17600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

You feel the burn spread all over your body, like $SigilColor lava pumping into your veins.
Torgar wasn&#39;t kidding; this is strong stuff.

&quot;That&#39;s it, let it do its thing. It makes it so much easier.&quot; He says, holding your shoulders as your whole body shakes.

You nearly lose your balance; only by holding on to Torgar&#39;s arms can you steady yourself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Buy_First_Sigil_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1409" name="Buy_First_Sigil_4" tags="" position="1100,17600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;

The burning feeling suddenly hits back with a vengeance, but the pain it causes hits you differently...

You moan, tilting your head back as warmth engulfs your core. You feel your balls churn and expand as the concoction finally reaches its goal.

They tingle in the best way; your breath quickens as the unstoppable chemical reaction makes your cock rise to full hardness.

&quot;That&#39;s it...&quot; Torgar mumbles before grasping your growing balls.

\&lt;&lt;run setup.choice(&quot;[[Moan in pleasure-&gt;Buy_First_Sigil_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1410" name="Buy_First_Sigil_5" tags="" position="1225,17600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;
You feel like your cum is boiling within your balls, a pleasurable warmth that screams to be unleashed.

Any second now, you feel like you&#39;d explode into the biggest orgasm you ever had.

Any second...

Only the slightest touch...

\&lt;&lt;run setup.choice(&quot;[[Jerk yourself off-&gt;Buy_First_Sigil_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1411" name="Buy_First_Sigil_6" tags="" position="100,17725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

Your hands grasp your cock and jerk your tool in a panic.
You feel your load coming, but something is different...

That burn is rising through your shaft, that pleasurable pain is reaching to be unleashed. Except now, it is a part of you, something that comes from your own body.

&quot;Hahaha! Unleash it!&quot; Torgar screams, overwhelmed by lust at the sight of your own experience.

\&lt;&lt;run setup.choice(&quot;[[Shoot your load-&gt;Buy_First_Sigil_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1412" name="Buy_First_Sigil_7" tags="" position="225,17725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;

You cum with a neverending torrent of thick seed, knocking Torgar back on his back. Amidst bestial growls, you try to grasp your cock, but it is beyond your control.

Torgar himself is brought to the edge, roaring in arousal at the intense power of your lust.

&quot;GRAHHHHHH!&quot; He screams, adding his own seed to the growing mess.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Buy_First_Sigil_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1413" name="Buy_First_Sigil_8" tags="" position="350,17725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
\&lt;&lt;run setup.stopSoundActions();&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;

Suddenly, amongst the exquisite pleasure, you feel your cum move along your skin.

It drifts down your pecs and core, down your legs and onto the ground. The mess you&#39;ve made condenses, concentrating towards Torgar.

&quot;UURHHHHHHHH!&quot; He groans. Your cum rushes to him faster and faster, condensing along his body.

You recognize this; this is the same technique that the half-orc has been using against you.
With a hard grasp of your balls, you grin; this power is now yours to use.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Buy_First_Sigil_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1414" name="Buy_First_Sigil_9" tags="" position="475,17725" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;]);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;, true)&gt;&gt;

Torgar gives out a hearty laugh.

&quot;Very good! I knew you&#39;d be able to handle this without issues. \
Best we clean ourselves up before we attract some of the Lost, but I&#39;d say this experiment was a resounding success!&quot;

He gets up, smiling in awe at your combined load.

&quot;I hope we can meet again soon, big guy.&quot;

&lt;&lt;print &quot;∇: Your balls have grown &quot;+ setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, 1.5)) + &quot; in diameter.&quot; &gt;&gt;
&lt;&lt;print &quot;∇: You can now equip a new technique into your moveset.&quot; &gt;&gt;
&lt;&lt;run setup.flagHighlightChoice(&quot;newCardAvail&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1415" name="Buy_More_Sigil" tags="" position="600,17725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
&quot;You know, back where I&#39;m from, we don&#39;t learn these new techniques by drinking the vial.&quot;

His hand suddenly lowers; he seems to be eyeing your bulge.

&quot;There&#39;s a much more efficient way to get it done. One that you might enjoy even more...&quot;

\&lt;&lt;run setup.choice(&quot;[[Let him continue-&gt;Buy_More_Sigil_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Take the vial and drink it-&gt;Buy_First_Sigil_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1416" name="Buy_More_Sigil_2" tags="" position="725,17725" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.usedVialOnPlayerDick = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
With a grin, he grasps your bulge and brings the vial to your cock.

&quot;Hold on to me; you&#39;re about to get hit pretty hard.&quot;

\&lt;&lt;run setup.choice(&quot;[[Hold on to him-&gt;Buy_More_Sigil_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1417" name="Buy_More_Sigil_3" tags="" position="850,17725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;
You feel him tip the vial onto the slit of your hardening cock. You instantly recoil back and shiver.

The burn you felt when you previously drank the other concoction is even stronger, as is the powerful throbbing feeling of pleasure rushing through your cock.
You feel it course down towards your urethra; every inch of progress makes your cock throb faster and faster.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Buy_More_Sigil_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1418" name="Buy_More_Sigil_4" tags="" position="975,17725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
Thick $SigilColor veins burst along the shaft as the urge to breed rises within you. Its raw, animalistic passion is infectious.
Torgar himself seems enthralled by it; he cups your balls in worship, part of him wants to see them grow even bigger...

Something big is coming, the concoction finally reaches your balls.
You growl, feeling your load building into a load that gods would envy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Buy_First_Sigil_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1419" name="Buy_Sigil_Used_Vial_On_Dick" tags="" position="1100,17725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

&quot;Now the question remains, how would you like to take this one?&quot;

\&lt;&lt;run setup.choice(&quot;[[Drink the vial-&gt;Buy_First_Sigil_1]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Tell him to use it on your cock-&gt;Buy_More_Sigil_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1420" name="Buy_Sigil_Growth" tags="" position="1225,17725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
&quot;This one is something special...&quot;

He hands you a vial filled with a glowing, golden liquid.

&quot;The Seed of Growth. It&#39;s said to grow its user&#39;s body when it activates. The effects are permanent too...&quot;

A wide smirk crawls across his brutish maw.

&quot;Of course, letting go of something this powerful comes with a price...&quot;
\&lt;&lt;set $linkDesc = &quot;Buy for &quot;+setup.FightMove.Sigil_Growth.essenceCost+&quot; Essence&quot;&gt;&gt;
\&lt;&lt;set $linkPath = setup.getSigilBoughtPassage()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[$linkDesc-&gt;$linkPath][setup.buyFightMove($CharacterSheet_Player, setup.FightMove.Sigil_Growth.id)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Torgar_Buy_Sigils]]&quot;);&gt;&gt;

&lt;&lt;set $SigilColor = &quot;golden&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="1421" name="Buy_Sigil_Pain" tags="" position="100,17850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
A vial filled with a jet purple liquid catches your attention.

&quot;Hmmm, the Seed of Pain. With enough of it running in someone&#39;s body, it can turn any attack into a fatal blow.&quot;

A wide smirk crawls up his brutish maw.
\&lt;&lt;set $linkDesc = &quot;Buy for &quot;+setup.FightMove.Sigil_Pain.essenceCost+&quot; Essence&quot;&gt;&gt;
\&lt;&lt;set $linkPath = setup.getSigilBoughtPassage()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[$linkDesc-&gt;$linkPath][setup.buyFightMove($CharacterSheet_Player, setup.FightMove.Sigil_Pain.id)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Torgar_Buy_Sigils]]&quot;);&gt;&gt;

&lt;&lt;set $SigilColor = &quot;dark red&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="1422" name="Buy_Sigil_Vitality" tags="" position="225,17850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
A vial filled with a moving turquoise liquid gets your attention.

&quot;This one is the Seed of Vitality. It converts the damaged flesh of your opponents into energy you can take for yourself.&quot;
\&lt;&lt;set $linkDesc = &quot;Buy for &quot;+setup.FightMove.Sigil_Vitality.essenceCost+&quot; Essence&quot;&gt;&gt;
\&lt;&lt;set $linkPath = setup.getSigilBoughtPassage()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[$linkDesc-&gt;$linkPath][setup.buyFightMove($CharacterSheet_Player, setup.FightMove.Sigil_Vitality.id)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Torgar_Buy_Sigils]]&quot;);&gt;&gt;

&lt;&lt;set $SigilColor = &quot;turquoise&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="1423" name="Torgar_Low_Rela_Loss_Idle" tags="" position="350,17850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

&quot;Looks like I win this time...&quot; He says with a grin.
Right as you&#39;re about to collapse out of exhaustion, Torgar reaches out and holds you by the shoulders.

&quot;Woah there, don&#39;t collapse on me now.&quot; He snaps his fingers inches away from your eyes, but the fight has genuinely taken its toll on you.

&quot;Here, drink this; it&#39;ll give you a burst of strength for a while.&quot;

You can barely see it, but he is holding what seems to be a glass vial against your hand.
It&#39;s hard to say if you should drink what he offers, but it is your only chance to act before you pass out.

\&lt;&lt;run setup.choice(&quot;[[Drink the vial-&gt;Torgar_Low_Rela_Loss_Idle_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Pass out-&gt;Torgar_Low_Rela_Loss_Idle_PassOut]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1424" name="Torgar_Low_Rela_Loss_Idle_2" tags="" position="475,17850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
As your vision darkens, you take the vial and chug its content as fast as you can.

&quot;Alright, I was worried that you&#39;d pass out before you could even drink it!&quot;

You still feel exhausted, but something jerks you awake, makes your muscles shiver.

&quot;This should get you back on your feet for a few days.&quot; Torgar says with a grin. Your whole body burns like after an intense workout. Was this how he got so big himself?

You brush your hands on your tingling pectorals and suddenly shiver in pleasure.
It feels beyond good; every touch feels like a full orgasm that gets increasingly stronger. It takes every bit of willpower not to cum on the spot.

It tingles all over your body, makes you stronger... You feel your muscles grow as you grasp your cock instinctively.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Loss_Idle_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1425" name="Torgar_Low_Rela_Loss_Idle_3" tags="" position="600,17850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

&quot;Feels good, doesn&#39;t it?&quot; Torgar groans himself; he can&#39;t stop himself from pressing his hands against your pecs, letting him feel them expand.

You moan as he pinches one of your nipples; it is turning inhumanly sensitive. Every touch is bringing you dangerously close to the edge.

\&lt;&lt;run setup.choice(&quot;[[Shoot your load-&gt;Torgar_Low_Rela_Loss_Idle_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1426" name="Torgar_Low_Rela_Loss_Idle_4" tags="" position="725,17850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
Part of you tries to hold it in, but nothing can stop the flood of pleasure rushing through your veins.

With a roar, you shoot load after load. Cum spills all over Torgar&#39;s pecs and abs.

&quot;Keep going...&quot; He urges you to cum, to bring your pleasure to its natural peak.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Loss_Idle_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1427" name="Torgar_Low_Rela_Loss_Idle_5" tags="" position="850,17850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;

Torgar pulls you in and kisses you as another orgasm rushes through you.
With your heads pulled back, you both unleash your biggest load yet. Carnal lustful roars bellow out of you as uncanny strength and vitality fill your whole being.

You feel more powerful than before...

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Loss_Idle_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1428" name="Torgar_Low_Rela_Loss_Idle_6" tags="" position="975,17850" size="100,100">\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.EmpoweringDrink)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;

&quot;Wow... That was something else.&quot; Torgar mumbles in between pants of exhaustion.

You nod, feeling more pumped than ever.

&quot;I&#39;ll prepare some more concoctions for you, now that I know how well your body takes them.&quot;

He pulls you in one last time, giving you a deep kiss. You can taste the remains of your loads in his mouth.

It seems like he&#39;s been enjoying the taste...

∇: You gain the &quot;Empowering Drink&quot; Ability for the next four days.

\&lt;&lt;run setup.choice(&quot;[[Make your way home-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1429" name="Torgar_Low_Rela_Loss_Idle_PassOut" tags="" position="1100,17850" size="100,100">Your vision fades as does the feeling of the burning sun upon your skin.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Loss_Idle_PassOut_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1430" name="Torgar_Low_Rela_Loss_Idle_PassOut_2" tags="" position="1225,17850" size="100,100">You wake up soon after, still exhausted but aware enough to recognize your surroundings.
The nearby mountains and dunes are instantly recognizable; you are only an hour&#39;s walk away from the Golden Bastion.

Has Torgar carried you there?

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1431" name="Torgar_Low_Rela_Mid_Rela_Trigger_EncounterStart" tags="" position="100,17975" size="100,100">Memories of your past encounters with Torgar idly pass through your mind, of how the massive brute seems obsessed with his experiments.
It&#39;s hard to say whether he&#39;s genuinely accustomed to the harshness of the Barrens; his concoctions seem to lead him towards a strange path.

Yet, after having a taste yourself, part of you wishes for more...

\&lt;&lt;run setup.choice(&quot;[[Meet him-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_EncounterStart_1]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Make your way back home-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1432" name="Torgar_Low_Rela_Mid_Rela_Trigger_EncounterStart_1" tags="" position="225,17975" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_lowRelaMidRelaTrigger = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

&quot;Here you are... Let&#39;s cut to the chase and fight already!&quot; He says with uncontained excitement.

&quot;The Lost keep growing in power. We must be prepared to face them soon.&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1433" name="Torgar_Low_Rela_Mid_Rela_Trigger_Win" tags="" position="350,17975" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesWin_lowRelaMidRelaTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lowRelaMidRelaTrigger = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;

Torgar falls to one knee, his strength failing him despite is massive stature.

He clenches his fist.

&quot;I&#39;m glad you can handle yourself, don&#39;t get me wrong.&quot; He says with clenched teeth.

&quot;But I need to be stronger; I won&#39;t let the Lost overpower me.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1434" name="Torgar_Low_Rela_Mid_Rela_Trigger_Loss" tags="" position="475,17975" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesWin_lowRelaMidRelaTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesLoss_lowRelaMidRelaTrigger = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;

Upon seeing you fall to one knee, Torgar gives you a hand.
His own exhaustion is undeniable as his muscular arm shakes as he helps you up.

He sighs.

&quot;I&#39;m glad we can handle ourselves, don&#39;t get me wrong.&quot; He says before clenching his teeth.

&quot;But I need to be stronger; I won&#39;t let the Lost overpower me.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1435" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices" tags="" position="600,17975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;

The strange purple liquid on his back swirls like a typhoon as emotions flare within the half-orc.

&quot;This body is just not enough... But I can&#39;t stay behind and let those beasts rule our land; let them reduce all our advancement into pointless debauchery.&quot;

The purple mass expands, fills the cylinder to its very limit.

&lt;h2&gt;CRACK&lt;/h2&gt;

&quot;I need to get stronger!&quot;

\&lt;&lt;run setup.choice(&quot;[[Warn him about the containers-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Warn]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Stay silent-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_NoWarn]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1436" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Warn" tags="" position="725,17975" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.lostScoring--&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

You yell and warn him about the cracking containers on his back, but as he finally snaps out of his outburst, the cylinder on his right shoulder shatters.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1437" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_NoWarn" tags="" position="850,17975" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.lostScoring--&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;

You keep an eye on the cracking containers but say nothing.
Before he has a chance to snap out of his outburst, the cylinder on his right shoulder shatters.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1438" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_2" tags="" position="975,17975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
His hand reaches for his shoulder in reaction, pressing it in the black goo that now drips down his chest and back.

&quot;Ahhh... This is not good.&quot;

All anger suddenly melts into uncertainty; he gives you a confused look as his body begins to rumble and shake.
His whole body throbs, his muscles pumping as a thick layer of the strange black substance crawls down his back towards his waist.

&quot;Oh, gods... This feels...&quot; He stops, his words getting interrupted by a deep moan.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1439" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_3" tags="" position="1100,17975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&quot;Awwwwww...&quot; His face blushes into a deep red as more of the goo pumps into him.

&quot;Something&#39;s happening... Oh, fuuuuck!&quot; He screams, thrusting his cock forward in a sudden burst of arousal.

You see his tool growing, filling his pants with more cock than they can handle. They begin to tear under the pressure as he growls.
His whole body begins to throb; each throb makes him moan louder.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1440" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_4" tags="" position="1225,17975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
Suddenly, it stops, just as quickly as it has started. Torgar&#39;s body is entirely still, his clothes on the brink of bursting into ribbons as he stares at his cock with heavy breaths.

&quot;Oh, gods... It&#39;s happening again; I can feel it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1441" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_5" tags="" position="100,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.progress = setup.TorgarProgress.INFECTED&gt;&gt;
His core suddenly explodes with growth, sending a surge of mass rushing to his abs and pecs, nearly pushing you back.

&quot;AWWWW... FUUUCK!&quot;

He lifts his right hand; feels each finger grow thicker with every wave of goo entering his body.
The sound of tearing reaches you both, a chorus blaring with his every move. His bulging forearms begin to show under his shredding gloves; he stares at them in complete awe.

&quot;This... This is incredible.&quot; He mutters before bursting out of his gloves with a single flex.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1442" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_6" tags="" position="225,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;

&quot;Look at these arms. They feel harder than steel!&quot;

You can hear his breath getting faster, his biceps throbbing bigger.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1443" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_7" tags="" position="350,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

&quot;If only I knew this would happen...&quot;

His pecs protrude out before he can finish his sentence. They swell, growing into impossibly large mounds of undulating steel.
He gives out a deepening groan as the goo spreads further along his skin, feeding him with more pleasure and power than his clothes could handle.

&quot;I&#39;d have embraced it a long time ago.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1444" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_8" tags="" position="475,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

A black tendril suddenly brushes along his nipple. It completely cut his breath short.

&quot;GAAAHHHHHH... Keep it coming!&quot;

His hands press on his shoulder and chest, spreading the goo further across himself, forcing it into his legs and waist.

He flexes his abs, teasing the goo to enter every crease of his already massive form.

&quot;C&#39;mon... Get in there...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1445" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_9" tags="" position="600,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

With a loud snap, one of the belts of his harness breaks off, shattered by his growing legs.

&quot;Look at this body... No Lost is going to stand a chance against me now!&quot; He grasps what remains of his pants and tears them into ribbons with one pull.

He looks genuinely massive in every way; every part of him is now bursting with muscles that put his previous body to complete shame. \
He has to have at least doubled his mass since the start of his growth.

Yet, just when you think that the growth was ending, black tendrils suddenly reach for his cock and balls.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1446" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_10" tags="" position="725,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;set $CharacterSheet_Torgar.quest.blackVeinsOnDick = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

&lt;h2&gt;&quot;Ah... Ah.... AHHHHH!&quot;&lt;/h2&gt;

His chest pushes forward as his shaft suddenly expands to full hardness. Thick veins throb as his cock consumes the black goo, taking its gift of size and power for itself.
The half-orc yells as it grows his cock into a monstrous fuck tool.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_10_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1447" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_10_1" tags="" position="850,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
&lt;h2&gt;&quot;So fucking MASSIVE!&quot;&lt;/h2&gt;

He grasps his balls, feels their pulse and swells against his fingers.

&quot;Urrrrrrrghhh&quot; He feels them churn, filling up with thick seed.

His hands then reach for his shaft.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1448" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_11" tags="" position="975,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

&lt;h2&gt;&quot;I&#39;m so... fucking... HUGE!&quot;&lt;/h2&gt;

With one hard jerk, his whole body gives in and urges the goo to give its host a monstrous pulse of growth.

&lt;h2&gt;&quot;GRRRRRRRRRRAHHHHHHHHHHHHHHHH!&quot;&lt;/h2&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1449" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_12" tags="" position="1100,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.fight.hp += 80&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.fight.stamina += 100&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.fight.strength += 45&gt;&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Torgar, 500)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;

Cum gushes out of his monstrous cock, shooting load upon load on his face, pecs and arms.

&lt;h2&gt;&quot;AHHHHHHHHHHH... FUCK YES!&quot;&lt;/h2&gt;

It does not stop; load after load covers the half-orc&#39;s bulging form until every inch of him is covered in thick white seed.

∇: Torgar&#39;s body has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Torgar, &quot;height&quot;, 5*12))&gt;&gt; taller.
∇: Torgar&#39;s cock has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Torgar, &quot;cock&quot;, 2*12))&gt;&gt; longer.
∇: Torgar&#39;s balls has grown &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Torgar, &quot;balls&quot;, 0.8*12))&gt;&gt; in diameter.
∇: Torgar&#39;s muscles have grown considerably (&lt;&lt;print setup.applyGrowth($CharacterSheet_Torgar, &quot;muscles&quot;, 40)&gt;&gt;).
∇: Torgar&#39;s strength has increased by 45.
∇: Torgar&#39;s health has increased by 80.
∇: Torgar&#39;s prowess has increased by 100.
∇: Torgar&#39;s Corruption has increased by 50.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1450" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_13" tags="" position="1225,18100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;, true)&gt;&gt;

&quot;Hehehe... Look at me now!&quot; He exclaims, jerking his shaft for one more load to gush out.

&quot;Hmmm... I gotta say, I&#39;m not certain what the future holds for me now, but this pleasure is unbelievable.&quot;

He flexes his biceps for you to gaze at, but at least he seems to now have some level of clarity.

\&lt;&lt;run setup.choice(&quot;[[Urge him to fight Corruption-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Pure]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Tell him that power is meant to be embraced-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Corrupt]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Say that you believe in him to do the right thing-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Ascended]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1451" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Pure" tags="" position="100,18225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Torgar&quot;])&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.pureScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;, true)&gt;&gt;

Corruption is dangerous, and he doesn&#39;t seem to realize how far he&#39;s already gone. \
You urge him to stop; he&#39;s no better than the Lost if he continues down that path.

&quot;Yes, I see your point... I must go experiment. Unless I understand what is happening to me, I&#39;m afraid I might have the same fate as the Lost.&quot;

His gaze is confident but still hides some worry.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Pure_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1452" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Pure_1" tags="" position="225,18225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;, true)&gt;&gt;

&quot;I hope we&#39;ll meet again.&quot;

After giving you an understanding nod, he takes off.

You feel the ground shake with him every step, and soon, his form diminishes on the horizon.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1453" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Corrupt" tags="" position="350,18225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.lostScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;

&quot;I&#39;m starting to feel the same way.&quot; He flexes his bicep and licks it lustfully.

It makes you shake to your core...

&quot;But now I must go experiment. Who knows what potential I now hold deep within myself~&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Corrupt_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1454" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Corrupt_1" tags="" position="475,18225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Torgar&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;
His gaze is confident but still hides some worry.

&quot;We&#39;ll meet again, and when we do... You&#39;re in for a taste of this monstrous cock.&quot;

He takes off.

You feel the ground shake with him every step, and soon, his form diminishes on the horizon.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1455" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Ascended" tags="" position="600,18225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Torgar&quot;])&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.ascendedScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;, true)&gt;&gt;

Corruption is dangerous, as you both are aware. You tell him that you trust that he won&#39;t betray what he believes in because of sudden power and pleasure.

&quot;Hmmm... You&#39;re right; I must go experiment. Maybe this Corruption can be conquered one way or another. Then who knows what the future holds...&quot;

His gaze is confident but still hides some worry.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Ascended_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1456" name="Torgar_Low_Rela_Mid_Rela_Trigger_Choices_Ascended_1" tags="" position="725,18225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;

&quot;I hope we&#39;ll meet again.&quot;

After giving you an understanding nod, he takes off.

You feel the ground shake with him every step, and soon, his form diminishes on the horizon.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1457" name="Torgar_Mid_Rela_Idle_EncounterStart" tags="" position="850,18225" size="100,100">It is not long into your trip that familiar lustful groans resound on the horizon.
They are deep, bestial, desperate, yet booming with intense bliss.

You recognize Torgar&#39;s voice.

\&lt;&lt;run setup.choice(&quot;[[Approach-&gt;Torgar_Mid_Rela_Idle_EncounterStart_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1458" name="Torgar_Mid_Rela_Idle_EncounterStart_2" tags="" position="975,18225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

&quot;It&#39;s good to see you again.&quot; He mumbles, his gaze unable to pull away from his cock.

His hands graze the humongous shaft, and he pulls his head back, shivering with pleasure. \
It throbs with inhuman power, gives out clear signs that his arousal has only increased since you last met him.

Yet he stops himself, his meaty hands sticking to his knees in response to the pleasure rushing through him.

\&lt;&lt;run setup.choice(&quot;[[Ask him how he is doing-&gt;Torgar_Mid_Rela_Idle_EncounterStart_2_HowDoing]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Give him a teasing wink-&gt;Torgar_Mid_Rela_Idle_EncounterStart_2_Wink]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1459" name="Torgar_Mid_Rela_Idle_EncounterStart_2_HowDoing" tags="" position="1100,18225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.pureScoring++&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.ascendedScoring++&gt;&gt;
He gives you a cheerful smile as he flexes.

&quot;I gotta say, this stuff has been doing some work.&quot; With a double biceps pose, he threatens to tear up any clothing that desperately clings to him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Idle_EncounterStart_2_HowDoing_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1460" name="Torgar_Mid_Rela_Idle_EncounterStart_2_HowDoing_2" tags="" position="1225,18225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
&quot;Extreme muscle growth and arousal, increased semen production, overwhelming libido.&quot;

Just saying it seems to arouse him. His cock rises until it presses on his pecs, but he manages to stay focused.

&quot;This feels like a more potent Corruption, except for the fact that it doesn&#39;t seem to wither down with time...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Idle_EncounterStart_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1461" name="Torgar_Mid_Rela_Idle_EncounterStart_2_Wink" tags="" position="100,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.lostScoring++&gt;&gt;
&quot;Hmmmm... You&#39;re in for the breeding of a lifetime if you keep teasing me like that...&quot; 

His voice is so much deeper than since you first met.
You see his cock rise until it presses on his pecs.

But he shakes his head; it seems like he has more pressing matters than satiating his lust at the moment.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Idle_EncounterStart_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1462" name="Torgar_Mid_Rela_Idle_EncounterStart_3" tags="" position="225,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;
His huge legs bend into an impressive flex as he gets up.

&quot;When I think of all this could accomplish, of how many wonderful things could be done with harvesting this power for the good of all, when I fight for what I believe. Then I feel in control.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Idle_EncounterStart_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1463" name="Torgar_Mid_Rela_Idle_EncounterStart_4" tags="" position="350,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;
&quot;Fight me once more! Only through putting it all on the line can I consume this Corruption!&quot;

With a confident grin, his body barrels towards you.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1464" name="Torgar_Mid_Rela_Win_Idle" tags="" position="475,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.relationshipScoring++&gt;&gt;
&quot;Guhhhh... I yield.&quot;

His massive body fumbles forward as he falls to one knee. He pants in a mixture of exhaustion and arousal.
You can tell how much his lust distracts him, but as always, beating him has made you earn his attention.

\&lt;&lt;run setup.choice(&quot;[[Ask him what he plans to do next-&gt;Torgar_Mid_Rela_Win_Idle_Ask]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1465" name="Torgar_Mid_Rela_Loss_Idle" tags="" position="600,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.relationshipScoring++&gt;&gt;
&quot;Looks like I win this time...&quot;

The rush of victory excites the entity within him even more. Black veins throb intensely all over him, feeding pleasure and power to his bulking flesh.
He licks his tusks, embraces the lust surging through him. It doesn&#39;t seem like he&#39;s willing to be reasoned with much further.

\&lt;&lt;run setup.choice(&quot;[[Ask him what he plans to do next-&gt;Torgar_Mid_Rela_Win_Idle_Ask]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1466" name="Torgar_Mid_Rela_Win_Idle_Ask" tags="" position="725,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;
The question seems to pull him out of his lust induced trance. 

&quot;I want... I need to control this thing.&quot;

He ponders, his monstrously massive hand grazing the tip of his beard.

&quot;Studying helps me focus... When I&#39;m set on a clear goal, this entity seems to calm down.&quot;

\&lt;&lt;run setup.choice(&quot;[[Tell him to reject the entity entirely-&gt;Torgar_Mid_Rela_Win_Idle_Ask_Reject]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Encourage him to keep studying its effects-&gt;Torgar_Mid_Rela_Win_Idle_Ask_Study]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1467" name="Torgar_Mid_Rela_Win_Idle_Ask_Reject" tags="" position="850,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;

&quot;Yes... It&#39;s hard to deny how dangerous it could be.&quot;

He sits down cross-legged and closes his eyes to focus.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Win_Idle_Ask_Reject_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1468" name="Torgar_Mid_Rela_Win_Idle_Ask_Reject_2" tags="" position="975,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;
&quot;I don&#39;t know much about the old world before it got turned to ruins. Maybe this thing had a role in its destruction? How can I even be sure?&quot;

You notice the black veins along his body shrink slightly.

&quot;I still have to find a haven for my people too... I can&#39;t get distracted so easily.&quot;

\&lt;&lt;run setup.choice(&quot;[[Hold his hand-&gt;Torgar_Mid_Rela_Win_Idle_Ask_Reject_Hold]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1469" name="Torgar_Mid_Rela_Win_Idle_Ask_Reject_Hold" tags="" position="1100,18350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;

He jumps as you hold his hand onto yours. His eyes widen, his whole face turns red.
He&#39;s not used to romantic intimacy; his life of studies and survival didn&#39;t leave room for such things.

But soon, he relaxes.

You feel his heartbeat slow down.

And for a while, it feels like things are going to be okay.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Win_Idle_Ask_Reject_Hold_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1470" name="Torgar_Mid_Rela_Win_Idle_Ask_Reject_Hold_2" tags="" position="1225,18350" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.pureScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

After a few minutes, he suddenly gets up and gives you a warm smile.

&quot;Thank you, I really needed that.&quot; He says before letting out a hearty laugh.

&quot;I&#39;ll try to get this thing under control for you and my clan.&quot;

And just like that, he walks off.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1471" name="Torgar_Mid_Rela_Win_Idle_Ask_Study" tags="" position="100,18475" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.ascendedScoring++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;

&quot;I don&#39;t know much about the old world before it got turned to ruins.&quot;

He looks around him at the ruins surrounding you both.
For a second, you can see the glint of curiosity shining in his eyes.

&quot;Something leads to their ruin, but we can learn from their mistakes instead of rejecting them.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Win_Idle_Ask_Study_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1472" name="Torgar_Mid_Rela_Win_Idle_Ask_Study_2" tags="" position="225,18475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
He suddenly gets up, his volition suddenly restored.

&quot;I&#39;ll find a way to make something worthwhile for my people.&quot;

He waves you goodbye before heading off.

&quot;Thank you, friend; you&#39;re helping more than you might think.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1473" name="Torgar_Mid_Rela_Path_Change_EncounterStart" tags="" position="350,18475" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_midRelaPathChange = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.progress = setup.evaluateTorgarPath()&gt;&gt;
\
\&lt;&lt;if $CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST&gt;&gt;
&lt;&lt;include Torgar_Mid_Rela_Path_Change_EncounterStart_Lost&gt;&gt;
\&lt;&lt;elseif $CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.REDEEMED&gt;&gt;
&lt;&lt;include Torgar_Mid_Rela_Path_Change_EncounterStart_Redeemed&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;include Torgar_Mid_Rela_Path_Change_EncounterStart_Ascended&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1474" name="Torgar_Mid_Rela_Path_Change_EncounterStart_Lost" tags="" position="475,18475" size="100,100">Soon after you leave the Golden Bastion, you feel Torgar&#39;s presence.
He is nearly impossible to miss through a subtle smell of overwhelming manliness, the sound of deep moans and thumping footsteps.

You feel guided to him.

\&lt;&lt;run setup.choice(&quot;[[Find Torgar-&gt;Torgar_Mid_Rela_Path_Change_EncounterStart_Lost_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1475" name="Torgar_Mid_Rela_Path_Change_EncounterStart_Lost_2" tags="" position="600,18475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

You find the half-orc after less than an hour of travel.

He stands with a lustful grin as the goo pumps more and more of itself in his body. 
The once savvy nature of the orc seems buried under the never-ending chorus of moans and throbbing cocks and muscles.

&quot;You... hmmm... Come closer. You would make such a good fuck tool...&quot;

Thick black goo oozing out of his cock as he gets ready to pounce on you.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1476" name="Torgar_Mid_Rela_Path_Change_EncounterStart_Ascended" tags="" position="725,18475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

(Torgar is on the Path of Mastery)
(Unfortunately, only the path in which you encourage him to embrace the goo is currently available.)

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1477" name="Torgar_Mid_Rela_Path_Change_Win" tags="" position="850,18475" size="100,100">\&lt;&lt;if $CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST&gt;&gt;
&lt;&lt;include Torgar_Mid_Rela_Path_Change_Win_Lost&gt;&gt;
\&lt;&lt;elseif $CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.REDEEMED&gt;&gt;
&lt;&lt;include Torgar_Mid_Rela_Path_Change_Win_Redeemed&gt;&gt;
\&lt;&lt;else&gt;&gt;
(This is the point in Torgar&#39;s story when we branch into one of three different paths based on your choices thus far.)
(Unfortunately, only the path of Ascension is not available at the moment.)

\&lt;&lt;run setup.choice(&quot;[[Enter the Path of the Embrace-&gt;Torgar_Mid_Rela_Path_Change_EmbracePath]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Enter the Path of Redemption-&gt;Torgar_Mid_Rela_Path_Change_RedemptionPath]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1478" name="Torgar_Mid_Rela_Path_Change_Loss" tags="" position="975,18475" size="100,100">\&lt;&lt;if $CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.LOST&gt;&gt;
&lt;&lt;include Torgar_Mid_Rela_Path_Change_Loss_Lost&gt;&gt;
\&lt;&lt;elseif $CharacterSheet_Torgar.quest.progress == setup.TorgarProgress.REDEEMED&gt;&gt;
&lt;&lt;include Torgar_Mid_Rela_Path_Change_Loss_Redeemed&gt;&gt;
\&lt;&lt;else&gt;&gt;
(This is the point in Torgar&#39;s story when we branch into one of three different paths based on your choices thus far.)
(Unfortunately, only the path of Ascension is not available at the moment.)

\&lt;&lt;run setup.choice(&quot;[[Enter the Path of the Embrace-&gt;Torgar_Mid_Rela_Path_Change_EmbracePath]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Enter the Path of Redemption-&gt;Torgar_Mid_Rela_Path_Change_RedemptionPath]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1479" name="Torgar_Mid_Rela_Path_Change_EncounterStart_Redeemed" tags="" position="1100,18475" size="100,100">After less than an hour of travel, you hear familiar moans. The sound of deep yearning contained in a struggling soul.

At this point, you quickly recognize that voice. The deep moans are coarse and horse-like in tone.

It is Torgar&#39;s Voice.

\&lt;&lt;run setup.choice(&quot;[[Approach-&gt;Torgar_Mid_Rela_Path_Change_EncounterStart_Redeemed_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1480" name="Torgar_Mid_Rela_Path_Change_EncounterStart_Redeemed_2" tags="" position="1225,18475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

&quot;You... I need to fight you once more.&quot;

He lets go of his monstrous cock and coils his hands into fists.

&quot;Anything to distract me from this monster inside me.&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1481" name="Torgar_Mid_Rela_Path_Change_Win_Redeemed" tags="" position="100,18600" size="100,100">&lt;&lt;include Torgar_Mid_Rela_Path_Change_RedemptionPath&gt;&gt;</tw-passagedata><tw-passagedata pid="1482" name="Torgar_Mid_Rela_Path_Change_Loss_Redeemed" tags="" position="225,18600" size="100,100">&lt;&lt;include Torgar_Mid_Rela_Path_Change_RedemptionPath&gt;&gt;</tw-passagedata><tw-passagedata pid="1483" name="Torgar_Mid_Rela_Path_Change_RedemptionPath" tags="" position="350,18600" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesWin_midRelaPathChange = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesLoss_midRelaPathChange = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

You notice how the black mass around him seems smaller than before as if it&#39;s withering.
Torgar seems conflicted, buried under the pressure of constant pleasure pushing him to give in.

But he firmly pushes back.

&quot;This power. It feels better than anything I have ever felt in my life. It pulses in every muscle, pushes against my loins, day and night.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Mid_Rela_Path_Change_RedemptionPath_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1484" name="Torgar_Mid_Rela_Path_Change_RedemptionPath_2" tags="" position="475,18600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;angry&quot;)&gt;&gt;

&quot;But I have things to do, things that my people count on.&quot;

He glances at his impossibly huge arms before jerking away.

&quot;Please leave me be for now. I am endlessly grateful for your words earlier, but I don&#39;t think I can resist your allure for much longer.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Tease him-&gt;Torgar_Mid_Rela_Path_Change_RedemptionPath_Tease]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1485" name="Torgar_Mid_Rela_Path_Change_RedemptionPath_Tease" tags="" position="600,18600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;
You approach, and he already shivers in response. But he grasps your hand as it&#39;s about to reach him.

&quot;You have no idea how much I want this... But I truly feel that I&#39;ll lose myself to this thing if I give in now.&quot;

He looks at you with pleading eyes. But his cock clearly throbs with need.

\&lt;&lt;run setup.choice(&quot;[[Pleasure him-&gt;Torgar_Lost_Path_Trigger_Win_Accept_Tease]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1486" name="Torgar_Pure_Path_Trigger_EncounterStart" tags="" position="725,18600" size="100,100">The quietness of the barrens is something you&#39;ve now learned to understand. Between each step, you listen for any sound that would reveal anything out of the ordinary.

\&lt;&lt;run setup.choice(&quot;[[Listen carefully-&gt;Torgar_Pure_Path_Trigger_EncounterStart_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1487" name="Torgar_Pure_Path_Trigger_EncounterStart_2" tags="" position="850,18600" size="100,100">You hear a faint voice in the distance, a familiar one. But something seems off.

The words you can gather are nonsense, talks of a lost tongue.

\&lt;&lt;run setup.choice(&quot;[[Follow the voice-&gt;Torgar_Pure_Path_Trigger_EncounterStart_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1488" name="Torgar_Pure_Path_Trigger_EncounterStart_3" tags="" position="975,18600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;
The closer you get, the more you recognize Torgar&#39;s deep voice. His words thunder out with an uncanny softness. You feel more relaxed the closer you get.

You finally see him, hunched forward and mumbling within a canyon hidden within unexplored corners of the barrens.

His breathing is heavy, and it quickly hastens once he notices your arrival.

&quot;It&#39;s you... You&#39;re here just in time.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Pure_Path_Trigger_EncounterStart_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1489" name="Torgar_Pure_Path_Trigger_EncounterStart_4" tags="" position="1100,18600" size="100,100">\&lt;&lt;run $CharacterSheet_Torgar.fight.fightMoveIDs.push(setup.FightMove.TonicOfStillness.id)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
The strange goo that clads his skin pulses softly, but it&#39;s not as substantial as it&#39;s once been.

&quot;Corruption is leading him to a path I refuse to follow. Please, fight me once more. I need to taste the essence in the air, harness it to get this thing out of me.&quot;

∇: Torgar can now use the &quot;Tonic of Stillness&quot; fight move.

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Torgar)&gt;&gt;</tw-passagedata><tw-passagedata pid="1490" name="Torgar_Pure_Path_Trigger_Win" tags="" position="1225,18600" size="100,100">&lt;&lt;include Torgar_Pure_Path_Trigger_PostFight&gt;&gt;</tw-passagedata><tw-passagedata pid="1491" name="Torgar_Pure_Path_Trigger_Loss" tags="" position="100,18725" size="100,100">&lt;&lt;include Torgar_Pure_Path_Trigger_PostFight&gt;&gt;</tw-passagedata><tw-passagedata pid="1492" name="Torgar_Pure_Path_Trigger_PostFight" tags="" position="225,18725" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_purePathTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesLoss_purePathTrigger = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.available_postFightPassagesWin_purePathTrigger = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;

He groans, physically fighting the goo; it pulses, feeding him with pleasure,
his cock hardens, cum drips out of it, but he fights back, forcing it out.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Torgar_Pure_Path_Trigger_PostFight_FuckHim]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Stand back and watch-&gt;Torgar_Pure_Path_Trigger_PostFight_PostSex]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1493" name="Torgar_Pure_Path_Trigger_PostFight_FuckHim" tags="" position="350,18725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
Torgar yanks the remains of his tattered pants and throws them aside. He gazes at you, arousal burning in his eyes.

He quickly turns over and bends down on his hands and knees.

&quot;Help me &lt;&lt;PlayerName&gt;&gt;... Get it all out of me.&quot;

\&lt;&lt;run setup.choice(&quot;[[Take him-&gt;Torgar_Pure_Path_Trigger_PostFight_FuckHim_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1494" name="Torgar_Pure_Path_Trigger_PostFight_FuckHim_2" tags="" position="475,18725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

You grasp the half-orc&#39;s muscular cheeks and force your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; in. His muscular ass has made his entrance all the tighter. You grunt and force yourself deeper with every thrust.
Torgar could hardly tolerate it. Huge loads of thick seed are already oozing out of his humongous cock. You notice its slightly dark hues lighten with every load.

\&lt;&lt;run setup.choice(&quot;[[Keep fucking him-&gt;Torgar_Pure_Path_Trigger_PostFight_FuckHim_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1495" name="Torgar_Pure_Path_Trigger_PostFight_FuckHim_3" tags="" position="600,18725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 3)&gt;&gt;
You grasp his ass even harder. Torgar moans from the increasing force of your touch.

&quot;Gahhhhh... Keep going... Pleeeeeease&quot;

The half-orc muffles through heavy groans. He grabs his cock with both hands and jerks it desperately.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Pure_Path_Trigger_PostFight_FuckHim_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1496" name="Torgar_Pure_Path_Trigger_PostFight_FuckHim_4" tags="" position="725,18725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

&lt;h2&gt;&quot;Ahhhhh... AHHHHH!!! FUUUUUCK!!!!!!&quot;&lt;/h2&gt;

You thrust faster and faster until you cum, building up a chorus of lustful roars that resounds across the Barrens.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Pure_Path_Trigger_PostFight_PostSex]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1497" name="Torgar_Pure_Path_Trigger_PostFight_PostSex" tags="" position="850,18725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;)&gt;&gt;

He jerks his monstrous throbbing tool like his life depends on it. You feel his giant balls churn buckets of seed every time he thrusts the air.

&quot;Grrrr... Ghhhhh. AHHHHHHH!!!&quot;

He clenches the rocky ground in a thundering roar to find some balance as his urethra pumps huge bumpy loads towards his glands.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Pure_Path_Trigger_PostFight_PostSex_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1498" name="Torgar_Pure_Path_Trigger_PostFight_PostSex_2" tags="" position="975,18725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;
&lt;h2&gt;&quot;GRRRAHHHHHHHHHHHH!!!!!!&quot;&lt;/h2&gt;

His cock shoots out thick cum with the strength of a cannon. Monstrously huge loads that never seem to stop coming.
Torgar pants and roars as he holds on to the soil, desperately trying to shoot his load as far away as possible.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Pure_Path_Trigger_PostFight_PostSex_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1499" name="Torgar_Pure_Path_Trigger_PostFight_PostSex_3" tags="" position="1100,18725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;set $CharacterSheet_Torgar.quest.blackVeinsOnDick = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;cumming&quot;, true)&gt;&gt;

With a few dozen shots, his load begins to whiten. His throbbing veins are getting smaller.

Finally, his muscles begin to deflate, gradually bringing him back to the body he used to know.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Pure_Path_Trigger_PostFight_PostSex_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1500" name="Torgar_Pure_Path_Trigger_PostFight_PostSex_4" tags="" position="1225,18725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;
After almost an hour of nonstop climax, he sighs in satisfaction and falls on his back. His cock still oozes seed, but its milky white color feels somewhat reassuring to see.

He is beyond exhausted from experience, but he still addresses you nonetheless.

&quot;Gahhhhh... Thank you. I&#39;m finally free.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Pure_Path_Trigger_PostFight_PostSex_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1501" name="Torgar_Pure_Path_Trigger_PostFight_PostSex_5" tags="" position="100,18850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;, true)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Torgar.quest.progress = setup.TorgarProgress.REDEEMED_TEAMMATE&gt;&gt;

He tries to get up but gives up halfway to rest on his back.

&quot;Give me some time to pull myself together, find some clothes and clean myself up. Then please, come back to me.&quot;

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1502" name="Torgar_Redeemed_Path_Idle_Win_Epilogue" tags="" position="225,18850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;
Soon after entering the Barrens, you notice a person waiting for you.
A silhouette of reasonably impressive bulk and stature.

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Torgar_Redeemed_Path_Idle_Win_Epilogue_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1503" name="Torgar_Redeemed_Path_Idle_Win_Epilogue_2" tags="" position="350,18850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

Torgar approaches, adjusting his tight tunic; he is still too big for most clothing.

&quot;I must thank you, explorer. Your help and wisdom have truly helped me out of this cycle of greed.&quot;

He pulls you into a hug and doesn&#39;t let go. He holds you tight, making you feel the warmth of his body and the beating of his heart.
His massive body is a lot to take in, but you do your best to hug him back.

&quot;I still feel the lasting effects of this corruption, but I think I&#39;ve surmounted its worst.&quot;

\&lt;&lt;run setup.choice(&quot;[[Kiss him-&gt;Torgar_Redeemed_Path_Idle_Win_Epilogue_Join]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Keep hugging him-&gt;Torgar_Redeemed_Path_Idle_Win_Epilogue_End]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1504" name="Torgar_Redeemed_Path_Idle_Win_Epilogue_Join" tags="" position="475,18850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;

You close your eyes and kiss him; he quickly pulls you closer in response.
His tongue coils against yours. Warmth builds through our whole body as he moans into your mouth.

&quot;If only you knew how badly I&#39;ve wanted this &lt;&lt;PlayerName&gt;&gt;... You saved my soul.&quot;

You push your tongue in deeper, and he growls in response.

\&lt;&lt;run setup.choice(&quot;[[Kiss him-&gt;Torgar_Redeemed_Path_Idle_Win_Epilogue_End]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1505" name="Torgar_Redeemed_Path_Idle_Win_Epilogue_End" tags="" position="600,18850" size="100,100">\&lt;&lt;set $CharacterSheet_Torgar.quest.available_encounterPassages_redeemedTeammateFirstTime = false&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_Redemption&quot;);&gt;&gt;
\&lt;&lt;run setup.torgarJoinsPlayer()&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;

He hugs you closer still; you feel warm and safe, covered in the warrior&#39;s bulk.

Your eyes open for an instant, and you see tears roll down his cheeks.
For once in a long time, Torgar truly feels welcomed and safe.

&quot;Th-Thank you...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Redeemed_Path_Idle_Win_Epilogue_End_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1506" name="Torgar_Redeemed_Path_Idle_Win_Epilogue_End_2" tags="" position="725,18850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Torgar&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;blushing&quot;)&gt;&gt;

You let time pass and appreciate his warmth.

Δ: Torgar can now join your expeditions.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1507" name="Torgar_Redeemed_Teammate_Path_Idle" tags="" position="850,18850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;horny&quot;)&gt;&gt;

Torgar is waiting for you near the Golden Bastion. He welcomes you with a warm smile upon seeing you approach.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1508" name="Torgar_Redeemed_Teammate_Path_Idle_Menu" tags="" position="975,18850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;
While he is smaller than he used to be, his composure shows unparalleled comfort and warmth.

\&lt;&lt;run setup.choice(&quot;[[Talk to him about his home-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu_ShatteredPeak]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Decide when Torgar attacks-&gt;Torgar_Redeemed_Teammate_ChangeAttackTiming]]&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village][setup.flagTimePasses($CharacterSheet_Torgar)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1509" name="Torgar_Redeemed_Teammate_ChangeAttackTiming" tags="" position="1100,18850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;smiling&quot;)&gt;&gt;

&quot;Of course, all can benefit from a good strategy.&quot;

&lt;&lt;print setup.displayAttackTimingDescription($CharacterSheet_Torgar)&gt;&gt;

[[Attack before me-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu][$CharacterSheet_Torgar.fight.teammateSettings.attackTiming = setup.AttackTiming.BEFORE_PLAYER]]
[[Attack after me, but before our enemy-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu][$CharacterSheet_Torgar.fight.teammateSettings.attackTiming = setup.AttackTiming.BETWEEN_PLAYER_AND_ENEMY]]
[[Attack after me, but after our enemy-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu][$CharacterSheet_Torgar.fight.teammateSettings.attackTiming = setup.AttackTiming.AFTER_ENEMY]]

\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1510" name="Torgar_Redeemed_Teammate_Path_Idle_Menu_ShatteredPeak" tags="" position="1225,18850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;

&quot;My home? It&#39;s why I&#39;m out here, really.&quot;

His eyes glance down at the endless sand. You can tell that this is a sensitive topic.

&quot;I used to be the leader of my tribe, a clan of warriors that even the Lost didn&#39;t dare approach.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu_ShatteredPeak_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1511" name="Torgar_Redeemed_Teammate_Path_Idle_Menu_ShatteredPeak_2" tags="" position="100,18975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;

&quot;But at some point, the earth we settled on stopped flourishing, and our strongest warriors ventured out to find a better place to live.&quot;

\&lt;&lt;run setup.choice(&quot;[[Suggest him to let his people move to the Golden Bastion-&gt;Torgar_Redeemed_Teammate_Ptah_Idle_Menu_ShatteredPeak_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Say nothing-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1512" name="Torgar_Redeemed_Teammate_Ptah_Idle_Menu_ShatteredPeak_3" tags="" position="225,18975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;sad&quot;)&gt;&gt;

He stays quiet for a few seconds and lets out a deep sigh.

&quot;I would gladly take that offer, friend, but that simply can&#39;t happen. The last time I went back to the Shattered Peak, it was completely deserted. My people disappeared without a trace, and I still don&#39;t know what happened to them.&quot;

\&lt;&lt;run setup.choice(&quot;[[Say you&#39;ll help him find them-&gt;Torgar_Redeemed_Teammate_Ptah_Idle_Menu_ShatteredPeak_4]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Comfort him-&gt;Torgar_Redeemed_Teammate_Ptah_Idle_Menu_ShatteredPeak_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1513" name="Torgar_Redeemed_Teammate_Ptah_Idle_Menu_ShatteredPeak_4" tags="" position="350,18975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Torgar, &quot;normal&quot;)&gt;&gt;
&quot;I appreciate that... I&#39;m always looking out for them with every chance I get, and now that I got rid of this Corruption, I can get back to it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Torgar_Redeemed_Teammate_Path_Idle_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1514" name="town_guard_fight_start" tags="" position="475,18975" size="100,100">&lt;&lt;set $CharacterSheet_town_guard.quest.met = true&gt;&gt;\
Tendrils of black curl down your forearm as &lt;&lt;SymbioteName&gt;&gt; reacts to your rising anger. You feel the ethereal presence hug your mind, affirming that it has your back, that you have no reason to be afraid.

You charge at the man, fist raised!

&quot;As I thought! Submit or die!&quot; the guard roars, drawing his weapon!</tw-passagedata><tw-passagedata pid="1515" name="town_guard_fight_won" tags="" position="600,18975" size="100,100">The dust riled up by your battle begins to settle; a shimmering sheen of brown that acts as a backdrop to your hulking form standing over the fallen guardsman.

Power still sizzles within your core; a rabid beast of strength battering at the cages of your senses.

&lt;&lt;set $CharacterSheet_town_guard.quest.beatenOnce = true&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave him-&gt;leave_guard]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Knock him out-&gt;knock_guard]]&quot;);&gt;&gt;
&lt;&lt;if setup.AbiHndlr.hasAchievement($CharacterSheet_Player,&quot;Achievement_MemoriesOfNyx&quot;)&gt;&gt;\
\&lt;&lt;run setup.choice(&quot;[[Corrupt him-&gt;corrupt_guard]]&quot;);&gt;&gt;
&lt;&lt;/if&gt;&gt;\</tw-passagedata><tw-passagedata pid="1516" name="leave_guard" tags="" position="725,18975" size="100,100">&lt;&lt;set $CharacterSheet_town_guard.quest.fled = true&gt;&gt;\
You shake your head and drop the man to the floor. He lands on the ground with a heavy thud and skitters toward the town, never taking his eyes off of you. &quot;M-monster!&quot; He cries, before turning and fleeing.

Light coughing from behind catches your attention as the familiar face of Abel wades into view through the cloud of dirt. &quot;What in the name of the Eldest is going on here!?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abel_gets_better_look_guard_alive]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1517" name="knock_guard" tags="" position="850,18975" size="100,100">Even through the haze of adrenaline fueling every one of your pulsing veins, you notice the fear glaze over the eyes of the guardsman.

You decide that the best course of action is to knock him out cold.

A dull thud resounds off of his skull from your blow as his body falls limp at your feet.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abel_gets_better_look_guard_unconscious]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1518" name="corrupt_guard" tags="" position="975,18975" size="100,100">&lt;&lt;set $CharacterSheet_town_guard.quest.corrupted = true&gt;&gt;\
It&#39;s too much to contain!
The building pressure of lust within you has been screaming at you the entire journey.
The sudden flourish in your loins leaves you panting, steam rolling from your mouth in misty puffs.

There is no point in this violence. There is no point in having someone against you.
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠&quot;&gt;All shall&lt;/span&gt;&lt;span class=&quot;glitch nyx&quot; data-text=&quot;S̶͔̣͈͕̥̆̎̔͑́́̈̿̾̆͝͝ͅP̶̼̺̪̘͚̱͓̙̭̙͐̇̄̐̍̋̅̅̆̕͘͘͠R̴̦̩͕̙̿͆͌̾̈́̏͐̕E̶̡̧̝̭̩̪̜͙͋̓̿̓͝A̴̜̘͚̜͕̜̙̺͎̤͋̀̓̀̊̂̔̿͑̾̐̀̃͐̑̾͜͜ͅD̶̢̘͚̹̦̟̈́͒͐͆́͘&quot;&gt; gaze upon &lt;/span&gt;&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;the host of Nyx&lt;/span&gt;

You hold him tightly against you, your hand moving to support his head rather than choke him out. He offers a muffled squeal in fear before you silence him be locking your lips with his.
His body goes limp in your &lt;&lt;charLimbDesc $CharacterSheet_Symbiote &#39;arms&#39;&gt;&gt;. You feel his cock hardening alongside your own, your &lt;&lt;charLimbDesc $CharacterSheet_Symbiote &#39;cocks&#39;&gt;&gt; joining in the ascent of heated lust.

You hold him tightly against you. His deep breaths push his stomach tightly against yours. Your eyes close as your tongues begin to dance together. Spit mixes with spit and your breaths intermingle in each others&#39; throats.

A power wells up within you, flows upwards from your core and drips from your tongue directly into the guard&#39;s throat.

Black veins begin to appear from the man&#39;s neck and slowly begins to work over his body. You feel his initial reluctance completely simmer away. \
His body pulses against yours, sliding upwards and outwards. He embraces you, his form bulking up ever so slightly.

Light coughing from behind catches your attention and forces the two of you to break your kiss. The familiar face of Abel wades into view through the cloud of dirt. &quot;What in the name of the Eldest is going on here!?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abel_gets_better_look_guard_corrupted]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1519" name="town_guard_fight_lost" tags="" position="1100,18975" size="100,100">You find yourself frozen with the tip of a sword poised at your throat. A single movement and your journey would be at an end.

&quot;Any last words?&quot; he barks.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_aggressive]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1520" name="abel_gets_better_look_guard_alive" tags="" position="1225,18975" size="100,100">You turn to face your friend proper, leaving the fleeing guard to disappear into the distance.

You notice that Abel is wearing the ceremonial kit reserved for the Herald of the Eldest. Questions spin within your mind like a frenzied flock of crows.

&quot;$CharacterSheet_Player.info.name!? Is that you?&quot; Abel blurts out while wrapping some cloth around his nose, &quot;What happened here!? What in the blazes was that all about?&quot;

&quot;No, nevermind,&quot; he stammers, &quot;It&#39;s dangerous to talk here. Meet me at my house, you can explain where the hell you have been and what just happened when we&#39;re there.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1521" name="abel_gets_better_look_guard_unconscious" tags="" position="100,19100" size="100,100">You turn to face your friend proper.

You notice that Abel is wearing the ceremonial kit reserved for the Herald of the Eldest. Questions spin within your mind like a frenzied flock of crows.

&quot;$CharacterSheet_Player.info.name!? Is that you?&quot; Abel blurts out while wrapping some cloth around his nose, &quot;What happ-?&quot;

He stammers, looking at the limp guardsman, &quot;Did... did you do this? Why?&quot;

The joyful expression he donned when he came into view simmers away into a colour of sadness and fear.

&quot;What happened to you out there? The $CharacterSheet_Player.info.name I knew would never lift a finger to one of our own!&quot; Abel takes a few steps backwards, moving back toward the town, &quot;Leave him here, I&#39;ll see to it he gets medical attention. You&#39;ve done enough as it is. Get inside, and come to my house. We need to talk. About you. About this. About everything.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1522" name="abel_gets_better_look_guard_corrupted" tags="" position="225,19100" size="100,100">You turn to face your friend proper.

You notice that Abel is wearing the ceremonial kit reserved for the Herald of the Eldest. Questions spin within your mind like a frenzied flock of crows.

&quot;$CharacterSheet_Player.info.name!? Is that you?&quot; Abel blurts out while wrapping some cloth around his nose, &quot;What happ- oh... Am I interrupting something?&quot;

&quot;N-no! Nothing at all!&quot; The guardsman steps away as he begins to register what had happened. A bashful blush washes across his face, &quot;I&#39;ll return to my duties. You may pass.&quot;

&quot;Uh...&quot; Abel stammers as he watches the guard shamble away, his cheeks burning bright red, &quot;What was that about, exactly? Nevermind that, please, let&#39;s get you into the Golden Bastion. Come meet me in my house, we have a lot of catching up to do!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1523" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions" tags="" position="350,19100" size="100,100">A figure gradually emerges from the opaque void, moving steadily in your direction, evidently driven by the purpose of wrenching you from the encroaching abyss.
Every heavy step this stranger takes is telegraphed to your ears, amplified by the eerie silence that has swallowed any and all other sounds.

You suddenly realize who the silouhette belongs to.

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Player.apothusPostFightLinks, 10)&gt;&gt;\</tw-passagedata><tw-passagedata pid="1524" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Kanathar_Link" tags="" position="475,19100" size="100,100">[[Reach for Kanathar-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Kanathar]]</tw-passagedata><tw-passagedata pid="1525" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Kanathar" tags="" position="600,19100" size="100,100">You believe you&#39;ve glimpsed a shimmering shadow of your mischievous companion, but he is absent. 
His moment exists somewhere else, vaguely tethered to the present.

His time has passed, and is yet to come. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1526" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Tiadane_Link" tags="" position="725,19100" size="100,100">[[Reach for Tiadane-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Tiadane]]</tw-passagedata><tw-passagedata pid="1527" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Tiadane" tags="" position="850,19100" size="100,100">&lt;&lt;include Feed_The_Chosen_Final_Minotaur&gt;&gt;</tw-passagedata><tw-passagedata pid="1528" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ferro_Link" tags="" position="975,19100" size="100,100">[[Reach for Ferro-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ferro]]</tw-passagedata><tw-passagedata pid="1529" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ferro" tags="" position="1100,19100" size="100,100">&lt;&lt;include Ferro_Ending&gt;&gt;</tw-passagedata><tw-passagedata pid="1530" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ethrex_Link" tags="" position="1225,19100" size="100,100">[[Reach for Ethrex-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ethrex]]</tw-passagedata><tw-passagedata pid="1531" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Companions_Ethrex" tags="" position="100,19225" size="100,100">&lt;&lt;include Ethrex_Ending&gt;&gt;</tw-passagedata><tw-passagedata pid="1532" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Struggle_Link" tags="" position="225,19225" size="100,100">[[Struggle alone-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Struggle]]</tw-passagedata><tw-passagedata pid="1533" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Struggle" tags="" position="350,19225" size="100,100">&lt;&lt;include Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_7&gt;&gt;</tw-passagedata><tw-passagedata pid="1534" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Consume_Link" tags="" position="475,19225" size="100,100">[[Consume Apothus-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Consume]]</tw-passagedata><tw-passagedata pid="1535" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_Consume" tags="" position="600,19225" size="100,100">&lt;&lt;include Feed_The_Chosen_Final_CorruptEverything&gt;&gt;</tw-passagedata><tw-passagedata pid="1536" name="Feed_The_Chosen_Final_CorruptEverything" tags="" position="725,19225" size="100,100">All you can hear is your heavy breathing as a wave of corruptive energy washes over you.

You stare back at Apothus and grin, knowing how much of a failure he has become in the eyes of Nyx.

Your veins glow in otherworldy purple; A glow that taints the air and soil.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_CorruptEverything_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1537" name="Feed_The_Chosen_Final_CorruptEverything_1" tags="" position="850,19225" size="100,100">Countless Lost immediately cum as your vision is overwhelms by the Black Sun growing within you.
It fills your mind with visions of a corrupted world, one where people&#39;s deepest desires can be achieved.

Your grin widens in response, clenching your fist. Countless Lost start worshiping you as the god that you are.

\&lt;&lt;run setup.choice(&quot;[[Merge with Nyx-&gt;Feed_The_Chosen_Final_CorruptEverything_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1538" name="Feed_The_Chosen_Final_CorruptEverything_2" tags="" position="975,19225" size="100,100">You welcome the worships of the Lost, let them pleasure every inch of your growing form.

Their slick gooey selves rubbing and licking every part of your body that they can reach.

Your lift an arm towards the Lost, one that shines brighter than the flame of a thousand suns.
The dark light seeps into their skin, feeds them with the mass and power of giants.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_CorruptEverything_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1539" name="Feed_The_Chosen_Final_CorruptEverything_2_1" tags="" position="1100,19225" size="100,100">They hiss and moans in pleasure as their muscles surge with the power of gods.
Soon the ruins shatter and crumble under the mass of worshippers growing around them.

Like the hungry beasts that they are, they lunge at you.
Countless wet tongues, cocks and tendrils worship your cocks and muscles.

You feel their devotion warp your form, their unadulterated lust &lt;span class=&quot;glitch nyx&quot; data-text=&quot;fueling your ascension. &quot;&gt;fueling your ascension. &lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Ascend-&gt;Feed_The_Chosen_Final_CorruptEverything_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1540" name="Feed_The_Chosen_Final_CorruptEverything_3" tags="" position="1225,19225" size="100,100">Your body suddenly lurches forward, multiple new appendages bulging against the skin of your back, demanding freedom!
Countless tendrils burst from you, wriggling this way and that, as if they had a will of their own, seeking out ambitious warriors and leaders,
securing them within their coils, fucking them, turning them, &lt;span class=&quot;glitch nyx&quot; data-text=&quot;corrupting them&quot;&gt;corrupting them&lt;/span&gt;, growing them into new, gigantic corrupt gods.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_CorruptEverything_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1541" name="Feed_The_Chosen_Final_CorruptEverything_3_1" tags="" position="100,19350" size="100,100">Meanwhile some of your cocks begin birthing legions of spawns that seek out those dedicated few who spread and disseminate your &lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;words of power&quot;&gt;words of power&lt;/span&gt;.
Their bodies shred their clothing to grow into the enormous, hyper-endowed brutes of brawn and lust that they had always desired to be.

Other dicks begin belching thick waves of tainted seed upon the ground that seeps within the shattered ruins,&lt;span class=&quot;glitch nyx&quot; data-text=&quot; c̴̡͂̇o̶̖͚̹͌̐̾n̴̖͓̒͂ q̸͓͉̊̅u̵̩͕̦̅e̸̝͐͋͠ŕ̶͖̑i̶̮̫̿͝n̵͓̣̥̒͝g̸̨̬̪͒ ̴̝̽ t̷͓͛͐h̴̢̙̐̂ĕ̷̢̧͕̀  ̸̛͓͉̟͝p̷͓̀͋̕l̶̯̺̾͌̄ǎ̶̡̓͝n̶̖͉̝͛̾̕ę̵͉͍͆ẗ̷̓̅͜&quot;&gt; corrupting the soil&lt;/span&gt;.

Even Apothus loses himself to the fire in your eyes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_CorruptEverything_3_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1542" name="Feed_The_Chosen_Final_CorruptEverything_3_2" tags="" position="225,19350" size="100,100">Twisted, tainted plants begin growing in patches spreading outward from you as you begin to mutate the immediate surroundings into a realm of infectious lust where arousal fills the air.
Thick, veiny, wriggling vines tipped with massive phallic like buds begin sprouting from the ground, plunging into and filling your new followers with even more power, making them cum onto the rich, fertile ground.

&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;feeding the cycle and spread&quot;&gt;feeding the cycle and spread&lt;/span&gt; of corruption as it begins to spread horizon to horizon...

\&lt;&lt;run setup.choice(&quot;[[Spread...-&gt;Feed_The_Chosen_Final_CorruptEverything_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1543" name="Feed_The_Chosen_Final_CorruptEverything_4" tags="" position="350,19350" size="100,100">&lt;&lt;run setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.PURPLE)&gt;&gt;\
Like a shadow creeping across the surface of the planet, your corruption continues to engulf all it reaches.
As the taint spreads from realm to realm, darkening the endless barren&#39;s sands, you feel each new god awaken with an overwhelming tsunami of pleasure.

It cascades over you as they ascend into their own eruptions of bliss that feed the spreading corruption &lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;c̴̡͂̇o̶̖͚̹͌̐̾n̴̖͓̒͂q̸͓͉̊̅u̵̩͕̦̅e̸̝͐͋͠ŕ̶͖̑i̶̮̫̿͝n̵͓̣̥̒͝g̸̨̬̪͒ ̴̝̽t̷͓͛͐h̴̢̙̐̂ĕ̷̢̧͕̀ ̸̛͓͉̟͝p̷͓̀͋̕l̶̯̺̾͌̄ǎ̶̡̓͝n̶̖͉̝͛̾̕ę̵͉͍͆ẗ̷̓̅͜&quot;&gt;conquering the planet&lt;/span&gt;.
You feel their power enhancing yours, growing and mutating your body further!

\&lt;&lt;run setup.choice(&quot;[[Spread...-&gt;Feed_The_Chosen_Final_CorruptEverything_4_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1544" name="Feed_The_Chosen_Final_CorruptEverything_4_1" tags="" position="475,19350" size="100,100">Two new massive arms burst from your sides, bulging with sinew and muscle, expanding to match your &lt;&lt;LimbDesc &quot;arms&quot;&gt;&gt;.
Your &lt;&lt;LimbDesc &quot;hands&quot;&gt;&gt; grab and stroke some of your dicks, tendrils lashing from your back, &lt;span class=&quot;glitch nyx&quot; data-text=&quot;coiling around new cocks&quot;&gt;coiling around new cocks&lt;/span&gt; as they grow from between your legs in response.

These new prehensile lengths &lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;s̶͓͗è̸̘̥̚ë̶̱̫͐k̷͍̗͒   ̵̛͕̖̓ó̵͓̈ ǔ̴͇͘t̷̖̙͒&quot;&gt;seek out&lt;/span&gt; newly converted acolytes to spread your gift to, fucking them and growing them into massive horny beasts.

\&lt;&lt;run setup.choice(&quot;[[Spread...-&gt;Feed_The_Chosen_Final_CorruptEverything_4_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1545" name="Feed_The_Chosen_Final_CorruptEverything_4_2" tags="" position="600,19350" size="100,100">&lt;span class=&quot;corruptText75&quot;&gt;The howls of corrupted beasts and raging lusts overwhelm your newly heightened deific senses and your eyes drift closed against the din of &lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;ḙ̷̒x̷̥͗͋u̷͔̿̃l̴͖̓t̷̡̻̆̒a̸͈͖͌͝t̶̨̋̇ì̵̮ő̷̫n̷̫͑ ̷̡̩̓̈́ a̷̧̛̔n̴̝͍̆̃d̴̝͍̚  ̶̺͙͊̊d̷̻͐͗e̵̹̞̾p̴̨̫̈́ṙ̶̭̪ä̴̤́͘͜v̴̹͒i̶͖͍͝ẗ̵̞́̾y̶̙̆͘&quot;&gt;exultation and depravity&lt;/span&gt;.
Your face contorts as a new pair of &lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;g̸͓̜̚l̴̖̥̈́̑o̶̠̞͒͗w̶̡̛i̴̢͉̿n̸͍̣̓̉g̵̯̀,̶̢̓ ̴̝̦͊̾ p̴͎̰͠u̴͖̒r̴͓̆p̶̝̍̚l̴͉̎͑e̶̩͚̓̎ ̷͕̮̋ ę̵̂̑y̵͔͉̐͑e̴̮͕̊s̸̝̗̊̈́&quot;&gt;glowing, purple eyes&lt;/span&gt; suddenly settle into place.

When they once again open, you &lt;&lt;LimbDesc &quot;eyes&quot;&gt;&gt; burn with &lt;span class=&quot;glitch nyx&quot; data-text=&quot;e̵̝̽n̵̹̈͛d̷̖͕̔͘l̵̜̯̎̈́e̵̖͑ŝ̵͉͈s̵̲̽ ̵͍̣͠ ̴̡̬̈̾ ̶̜̍ṕ̷̘͉̓ỏ̴͍͔͂w̷̜̣̐͊ȩ̴͉̿̔ṟ̵̍ ̴͚̘̿͝ ̷͍̌ ̴͈͂a̴̢͈̐̾n̵̯̔̆d̸̢̛̹ ̵̤͛͜͠ ̵̺̮̈ ̸̥̆ͅc̷̯̬̈́ô̶̖͜r̶̖͘r̶̰̘͋ȗ̴͙̘̀p̸̦̩̂t̴̳̝̽̉i̸͍̚͝ō̸̡̢͝ń̴͚&quot;&gt;endless power and corruption&lt;/span&gt;, \
illuminating your surroundings with their &lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;S̶̠̊͝E̵͓͇͋À̷̝Ȓ̵̹̥Ị̴͙́̔N̵̜͍͂̽G̵͈͚͒ ̷̞̙̔͠ P̸̞̐Ǘ̸̩̏R̸̮̫̀P̷̮̉̕L̶̗͘͠Ē̴̦͓  ̵͎̤̆̒Ǵ̵͍̞́A̴͎̠̒Z̷̛̥̅E̵̼̘͐.̷̢͈̀̎&quot;&gt;searing purple gaze.&lt;/span&gt;&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Usher in a New Age-&gt;Feed_The_Chosen_Final_CorruptEverything_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1546" name="Feed_The_Chosen_Final_CorruptEverything_5" tags="" position="725,19350" size="100,100">\&lt;&lt;set $CorruptSidebar = true&gt;&gt;
&lt;span class=&quot;corruptText100&quot;&gt;\
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠&quot;&gt;All shall&lt;/span&gt;\
&lt;span class=&quot;glitch nyx&quot; data-text=&quot;S̶͔̣͈͕̥̆̎̔͑́́̈̿̾̆͝͝ͅP̶̼̺̪̘͚̱͓̙̭̙͐̇̄̐̍̋̅̅̆̕͘͘͠R̴̦̩͕̙̿͆͌̾̈́̏͐̕E̶̡̧̝̭̩̪̜͙͋̓̿̓͝A̴̜̘͚̜͕̜̙̺͎̤͋̀̓̀̊̂̔̿͑̾̐̀̃͐̑̾͜͜ͅD̶̢̘͚̹̦̟̈́͒͐͆́͘&quot;&gt; gaze upon &lt;/span&gt;\
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;[[ the host of Nyx-&gt;Feed_The_Chosen_Final_CorruptEverything_6]]&lt;/span&gt;\
&lt;/span&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 9999999)&gt;&gt;</tw-passagedata><tw-passagedata pid="1547" name="Feed_The_Chosen_Final_CorruptEverything_6" tags="" position="850,19350" size="100,100">&lt;span class=&quot;corruptText100&quot;&gt;\
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;AN&lt;/span&gt;\
&lt;span class=&quot;glitch nyx&quot; data-text=&quot;S̶͔̣͈͕̥̆̎̔͑́́̈̿̾̆͝͝ͅP̶̼̺̪̘͚̱͓̙̭̙͐̇̄̐̍̋̅̅̆̕͘͘͠R̴̦̩͕̙̿͆͌̾̈́̏͐̕E̶̡̧̝̭̩̪̜͙͋̓̿̓͝A̴̜̘͚̜͕̜̙̺͎̤͋̀̓̀̊̂̔̿͑̾̐̀̃͐̑̾͜͜ͅD̶̢̘͚̹̦̟̈́͒͐͆́͘&quot;&gt; UNSTOPPABLE &lt;/span&gt;\
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠&quot;&gt; [[FORCE-&gt;Feed_The_Chosen_Final_CorruptEverything_7]]&lt;/span&gt;\
&lt;/span&gt;</tw-passagedata><tw-passagedata pid="1548" name="Feed_The_Chosen_Final_CorruptEverything_7" tags="" position="975,19350" size="100,100">&lt;span class=&quot;corruptText100&quot;&gt;\
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;TO FULLFILL&lt;/span&gt;\
&lt;span class=&quot;glitch nyx&quot; data-text=&quot;S̶͔̣͈͕̥̆̎̔͑́́̈̿̾̆͝͝ͅP̶̼̺̪̘͚̱͓̙̭̙͐̇̄̐̍̋̅̅̆̕͘͘͠R̴̦̩͕̙̿͆͌̾̈́̏͐̕E̶̡̧̝̭̩̪̜͙͋̓̿̓͝A̴̜̘͚̜͕̜̙̺͎̤͋̀̓̀̊̂̔̿͑̾̐̀̃͐̑̾͜͜ͅD̶̢̘͚̹̦̟̈́͒͐͆́͘&quot;&gt; THE CREATOR&#39;S &lt;/span&gt;\
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠&quot;&gt; [[WILL-&gt;Feed_The_Chosen_Final_CorruptEverything_8]]&lt;/span&gt;\
&lt;/span&gt;</tw-passagedata><tw-passagedata pid="1549" name="Feed_The_Chosen_Final_CorruptEverything_8" tags="" position="1100,19350" size="100,100">&lt;span class=&quot;corruptText100&quot;&gt;\
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;[[GRAHH-&gt;Ending][State.variables.CorruptSidebar = undefined]]&lt;/span&gt;\
&lt;&lt;print setup.displayRandomNyxGibberish(1000)&gt;&gt;

\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfNyx&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1550" name="Ethrex_Ending" tags="" position="1225,19350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Ethrex.quest.nyxEnding = true&gt;&gt;
“I don’t think so.”

Without even looking in your direction, Ethrex walks past you. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_Ending_2]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1551" name="Ethrex_Ending_2" tags="" position="100,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
You watch your companion reaches out and roughly grab Apothus&#39;s head with his meaty, claw-tipped fingers. 
His hand lunges forward, barbed claws sinking into Apothus&#39;s skull.

His hold is unyielding, wrenching the head back with a savage jerk, forcing eye contact between them. 
The words he purrs ring chillingly tender, bordering seductively grim.

&quot;Quite the reserve of strength tucked away in that worn-out vessel of yours.&quot; 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_Ending_3]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1552" name="Ethrex_Ending_3" tags="" position="225,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;

Abruptly, the gentleness within his tone evaporates, replaced by a deep-rooted malevolence. 

&quot;Time to put it all to better use.&quot;

The widening of Apothus&#39;s eyes speaks of his stark disbelief. 
As if time has decelerated, his entire being seems to liquefy under the incubus&#39;s ruthless grip.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_Ending_4]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1553" name="Ethrex_Ending_4" tags="" position="350,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
As though pulled by an invisible tether, his vital spirit flows towards the incubus, defying logic as he becomes its new center of gravity.
Tendrils of energy snake along his form, slithering beneath the skin with an echo of a last, rebellious roar.

Muscles ripple along his forearm and bicep, quivering under the immense strain of their flexing, then distend even more violently. 
The sudden amplification of raw power beneath his skin signals new flesh being woven into reality right before your eyes.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_Ending_5]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1554" name="Ethrex_Ending_5" tags="" position="475,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.boostNyxEthrexStats()&gt;&gt;
He turns back to face you once more.
That faint purple glimmer in that once was once hidden within his eyes is now a brilliant glow.
You feel it burn past the edges of his figure as if it were some intangible flame.

Δ: Ethrex gains an immense upgrade to health, prowess, strength and Corruption.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_Ending_6]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1555" name="Ethrex_Ending_6" tags="" position="600,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
“Didn’t want to give him the chance to regenerate. Surely he would have done something stupid like try to forcibly draw more of Nyx’s power and go completely mad in the process.”

His attention shifts abruptly, gaze drifting to the ominous swell of muscle on his arm. 
A hint of admiration flickers in his eyes as his tongue slides over his lips. 

&quot;I have control over it. I am no mere animal overwhelmed by power. I control it as freely as I control my own limbs.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_Ending_7]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1556" name="Ethrex_Ending_7" tags="" position="725,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
His words taper to a softer timbre, touched with a sense of veneration and fascination. 

&quot;This power is alive. It calls to me and tells me of its true purpose, its true origin. And it begs to return there once more.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ethrex_Ending_8]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1557" name="Ethrex_Ending_8" tags="" position="850,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;

Straightening his back, Ethrex lets his voice return to normal as he addresses the listener more formally, as though a noble knight issuing a challenge. 

&quot;My claim to this power is inevitable. You will kneel~&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight!-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Ethrex]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1558" name="Encounter_Ethrex_Win_NyxEnding" tags="" position="975,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
With a final, powerful blow, you send your former companion sprawling.

&quot;Never fail to surprise me, do you, big guy?&quot; He croaks hoarsely through his partially crushed throat and larynx.

&quot;Even now your power is well beyond expectation.&quot;

As encouraging as the sight and sound of the treacherous demon before you should be, the confident, if strained, way he speaks is concerning. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1559" name="Encounter_Ethrex_Win_NyxEnding_2" tags="" position="1100,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
Sparks of unnatural power jump back and forth across large gashes and circle around deep bruises to close wounds. 
His body starts healing.

Such injuries would have taken even the more powerful Lost at least a couple of hours to regenerate. 
But Ethrex is standing in less than a minute with no visible battle signs whatsoever.

&quot;Do you see, my friend? You can&#39;t stop me. You can&#39;t even hurt me,&quot; he says, unable to keep a slight tinge of smug satisfaction out of his words.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1560" name="Encounter_Ethrex_Win_NyxEnding_3" tags="" position="1225,19475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
Even if he is sincere about not having meant them any harm, it&#39;s clear he is enjoying feeling superior to you once more. 

&quot;If I must beat the defiance out of you to keep you from doing something truly foolish, then I shall, over and over.&quot;

Without warning, more concentrated arcs of purple lightning, far stronger and larger than those which have healed his injuries, burst into existence. 
They crawl across his body like snakes. 

Everywhere they touch, Ethrex grows.

\&lt;&lt;print setup.growNyxEthrexStats()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1561" name="Encounter_Ethrex_Win_NyxEnding_4" tags="" position="100,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
His jaw clenches and a low but building growl wells up from deep within his chest. 
The thick, interlocking fangs lining his jawline visibly thicken and swell to more monstrous and intimidating proportions. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1562" name="Encounter_Ethrex_Win_NyxEnding_5" tags="" position="225,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
Were it not for the gleam of intelligence still visible in his glowing eyes, it would be easy to mistake him as another wild Lost.

That too changes when his body starts to grow. His biceps and forearms bulge with additional muscle. 
His pectorals swell outwards. His thighs expand and swell thicker. 
Even his hands and feet swell to more monstrous proportions.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1563" name="Encounter_Ethrex_Win_NyxEnding_6" tags="" position="350,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;

Though the surge of growth seems to have halted for now, he isn&#39;t entirely back to normal. 
Faint flickers of lavender light pulse rhythmically beneath his skin, an otherworldly glimmer hinting at the power within.

His once coarse and untamed mane now undulates softly as if caressed by an ethereal breeze, a spectacle of spectral grace. 
Strands of energy emanate from him, shedding an uncanny radiance from his mane. 

The Corruption doesn&#39;t just live within him, it thrives. An energy festering with purpose. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1564" name="Encounter_Ethrex_Win_NyxEnding_7" tags="" position="475,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.boostNyxEthrexStats()&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_EndlessStruggle&quot;);&gt;&gt;
He lingers for mere moments in his monstrous new form, savoring the transformation with a look of delight. 
Your former companion, now a god incarnate, directs his intense, glowing gaze back towards you.

Δ: Ethrex gains an immense upgrade to health, prowess, strength and Corruption.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1565" name="Encounter_Ethrex_Win_NyxEnding_8" tags="" position="600,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
His lips curl into a wicked grin, and he takes a step – a step that seems to make the world tremble.
His footfall doesn’t just thud against the earth; it slams with such force that a crater forms beneath it, sending cracks radiating outwards in a spider-web design. 

Despite his colossal size, such weight and force seemed unnatural, hinting that he’s grown not just taller but denser, too. 
This entity is a titan of strength, a being far more formidable than even his beastly appearance suggested.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Win_NyxEnding_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1566" name="Encounter_Ethrex_Win_NyxEnding_9" tags="" position="725,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
“Now then...” The demon growls.

His once sophisticated, slightly arrogant voice has transformed into a menacing rumble, akin to that of a savage beast. 

“YOU WILL KNEEL!&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight!-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Ethrex]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1567" name="Encounter_Ethrex_Loss_NyxEnding" tags="" position="850,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;normal&quot;)&gt;&gt;
“Foolish little mortal! Now do you see?!”

The voice of Ethrex resounds across the barren landscape, far louder than his colossal stature should logically allow. 
His monstrous silhouette towers over you, even more terrifying than when your duel initially sparked into being. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1568" name="Encounter_Ethrex_Loss_NyxEnding_2" tags="" position="975,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;grin&quot;)&gt;&gt;
His backbone contorts, forcing him into a hunched posture that only amplified his beastly demeanor. 
His fangs, talons, and various spiky outgrowths, glint menacingly.

Every trace of humanity, if such an attribute could ever apply to a demon such as him, has utterly vanished. 
In its place, stands a monstrosity. 

Ethrex&#39;s bellow echoes into the starry dome above, shaking the very foundation of existence. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1569" name="Encounter_Ethrex_Loss_NyxEnding_3" tags="" position="1100,19600" size="100,100">A horde of the Lost surge around you, lunging with wild desperation towards the monster that seizes center stage. 
They swarm him, relentless and ravenous, each one consumed by an insatiable lust for the intoxicating power of Nyx. 

Yet despite the ferocious onslaught, Ethrex exudes a tangible aura of authority—a corrupting dominance birthed from the intoxicating essence of Nyx. 
It pulses around him, a pulsating fog of inky zurshite that worms its way into your senses, an addicting aroma seductive as a siren&#39;s song. 

You can see why the Lost yearns so desperately for it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1570" name="Encounter_Ethrex_Loss_NyxEnding_4" tags="" position="1225,19600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Ethrex, &quot;angry&quot;)&gt;&gt;
In a blind rampage, they aren&#39;t even seeking to harm Ethrex. They crave to tear him apart to access the warped energies he harbours, akin to famished hounds sniffing out succulent meat.
Overridden by sheer instinct, their forms melt into one another. Ethrex&#39;s legs and one stabilizing arm, fixed against the earth, shroud in an pool of formless, onyx-tinged goo. 

The surge of this fused horde snakes its way up the colossal titan that is Ethrex.

&quot;Ghhhhh... GRAHHHHHHH!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1571" name="Encounter_Ethrex_Loss_NyxEnding_5" tags="" position="100,19725" size="100,100">The mass of seething, writhing forms pulsates and shifts, a grotesque semblance of sentient life, its hill-like silhouette looming menacingly in your vision.

Half-made werewolves, spectral human limbs, bulging minotaur heads - each emerges only to be torn back into the pulsating bulk. 

Unrecognizable creatures lurk in the shadows of the writhing heap. 
Each time a beast attempts to wrench itself free of the quivering mass, dozens of clawed hands, monstrous paws, and scalpel-sharp talons rip it back into the heart of the beast.
Rippling. Pulsating. Consuming. It is the stuff of legends twisted into a terrifying reality, and you are the unwilling witness to its monstrous majesty.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1572" name="Encounter_Ethrex_Loss_NyxEnding_6" tags="" position="225,19725" size="100,100">A monstrous, bone-rattling roars echoes across the vast realm, its reverberating intensity strong enough to make the earth tremble beneath your feet. 
Your heart jolts from the resonance of the sound, blood pulsating in your veins like a war drum.

As you look on in stark terror, the colossal entity before you distorts in a ripple. 
The corrupted, amorphous substance seems to be forcing something out, like beast emerging from within. 
Only this time, this is no ordinary lost soul struggling from within the monstrous mass. 

A terrifying and massive head begin to form.
The familiarity of its defined silhouette is not lost upon you. 
Its beastly muzzled head, lined with cruel fangs, imposing forward-pointing horns, and its jawline rugged with bony protrusions, are too uncanny to be a coincidence. 

It is Ethrex.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1573" name="Encounter_Ethrex_Loss_NyxEnding_7" tags="" position="350,19725" size="100,100">A wicked grin etches across his monstrous visage as he towers over the desolate realm, clenching the infernal power within his massive cock. 
Searing energy writhes from it, reflecting within the glint of their demonic eyes. 

His body, bulging with an obscene display of muscular prowess, trembles in anticipation of the transformation to come. 

&quot;Are you afraid, &lt;&lt;PlayerName&gt;&gt;?&quot; he rumbles, his voice echoing like thunder across the desolate landscape. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1574" name="Encounter_Ethrex_Loss_NyxEnding_8" tags="" position="475,19725" size="100,100">His gaze drops to the tiny speck of a warrior that dares to engage with him. 

There&#39;s a hunger within him that grows endlessly, a desire far beyond the comprehension of any mere mortal. 
It&#39;s a lust for power, chaos, and domination. If he had something that could be likened to a heart, it would be pounding in his chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1575" name="Encounter_Ethrex_Loss_NyxEnding_9" tags="" position="600,19725" size="100,100">His balls churns and throb, hosting fist-sized corruptive parasites that quiver for release, ready to spread his influence, his infestation, across the world.

&quot;With this power, I will be unstoppable... I will reshape the world.&quot;

The corruptive energy pulses once more, then abruptly quietens, like the calm preceding a catastrophic storm. 
His skin tightens, bristling with raw, unadulterated power. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_9_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1576" name="Encounter_Ethrex_Loss_NyxEnding_9_1" tags="" position="725,19725" size="100,100">Every pulsating vein in his colossal body screams for what is to come, for the power he&#39;s about to unleash.

He can&#39;t wait any longer.

&quot;Behold, &lt;&lt;PlayerName&gt;&gt;,&quot; he roars, the raw power in his voice enough to spark lightning across the barren sky. &quot;Witness the ascendancy of the true God of Lust.&quot;

An ear-splitting howl splits the air as pain and ecstasy surge through his hellish form, transforming him... ascending him. 
His already grotesque muscles bloat and expand.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1577" name="Encounter_Ethrex_Loss_NyxEnding_10" tags="" position="850,19725" size="100,100">Writhing in a frenzy, his muscles pulsate under the skin, each fiber eagerly drinking in the corruptive energy. 
His body stretches and swells, growing in grotesque synchronicity with the wracking waves of the tormenting pleasure coursing through him. 

With every beat at his core, his muscles distend further, reshaping his monstrous form into a godly hulk. 
The lust kindled deep in the pit of his gut catches on, exploding into an insatiable, savage desire.
An uncontrollable, primeval hunger courses along his veins, reaching out to every fiber of his being. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1578" name="Encounter_Ethrex_Loss_NyxEnding_11" tags="" position="975,19725" size="100,100">With a guttural roar that could make mountains shudder, tentacles burst from his back and whip about in a frenzied dance.
They shoot towards his cock, pleasure it like their lives depended on it.

&quot;More... I want more!&quot;

The spikes in power elicit primal roars from deep within his belly, shaking the earth and the heavens. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1579" name="Encounter_Ethrex_Loss_NyxEnding_12" tags="" position="1100,19725" size="100,100">His arms surrounds you and he pulls you close as an unending torrent of followers continues to throw themselves into him.
You feel your lust feeding him, empowering him.

His screams and frightful bleats of ecstasy ring through the air, mingling with the guttural grunts and roars of the Lost. 
It is a symphony of chaos and desire, an ode to his limitless growth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1580" name="Encounter_Ethrex_Loss_NyxEnding_13" tags="" position="1225,19725" size="100,100">A wave of raw, indomitable satisfaction crashes over him, and he raises his enormous head to the dark heavens, a thunderous roar of triumph ripping from his throat. 

&quot;Look upon your god, &lt;&lt;PlayerName&gt;&gt;!&quot; he booms, his voice echoing across the vast and twisted landscape. 
His laughter resounds with power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1581" name="Encounter_Ethrex_Loss_NyxEnding_14" tags="" position="100,19850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;

With a grasps of his cock with his colossal clawed hand, a spawn of Nyx emerges, wriggling free from his hulking form with a slurp. 
It crawls up to you with devilish hunger, its contact with your skin infusing you with the same corruptive power coursing through Ethrex&#39;s veins.

Without warning, it crawls along your hard shaft, keeping it wet and hard before pushing itself into your slit.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1582" name="Encounter_Ethrex_Loss_NyxEnding_15" tags="" position="225,19850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your eyes widen, you feel your soul tainting as a monstrous transformation takes hold. 
Your muscles begin to expand, bulging out in a grotesque display, edging closer to the monstrous mass that your god exhibits. 

Pain and pleasure paint your face in equal measure, a beautiful picture of torment and euphoria.

He grins down at you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1583" name="Encounter_Ethrex_Loss_NyxEnding_16" tags="" position="350,19850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;

A fresh wave of parasites emerges from the depths of him, writhing in sensual delight — another reward for your worship. 
Their squirming shapes move of their own accord toward your, eager to join their siblings in your ever-growing form. 

You feel then push into your ass, mouth and cock. Pleasure spikes mercilessly, like a primal beast of lust awakening within your, forming an unsustainable surge of pleasure threatening to consume you whole. 
Meanwhile, Ethrex&#39;s tentacles undulate madly, whipping around you, their unearthly dance adding to the surreal debauchery of your monstrous union.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_17]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1584" name="Encounter_Ethrex_Loss_NyxEnding_17" tags="" position="475,19850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
His laughter booms out again, ringing out in the desolate landscape, mingling with your panting breaths and guttural moans.

&quot;No more games,&quot; he growls in a voice that rumbles the heavens.

With a growl of insatiable lust, his massive claws circle your waist, lifting you easily due to the horrific strength his monstrous form possesses. 
The sensation of dominance, overwhelming power, and the anticipation of what&#39;s to come sends tremors of pleasure through his gigantic form.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_18]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1585" name="Encounter_Ethrex_Loss_NyxEnding_18" tags="" position="600,19850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Never breaking his gaze with yours, he positions his monstrous member at your ass, teetering on the precipice of an abyss of unrestrained debauchery. 
Without any hesitation, he plunges balls deep into you, his monstrous manhood fully sheathed within you.

A roar of satisfaction tears from his throat, echoing across the barren wasteland, it&#39;s an announcement, an indisputable claim of his conquest. 
His monstrous thrusts become erratic, a thunderous drumroll before the climax of your wicked dance.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_19]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1586" name="Encounter_Ethrex_Loss_NyxEnding_19" tags="" position="725,19850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;

Suddenly, with a shudder that shakes his towering form, he erupts. 
A volatile blend of corrupting fluid and parasitic spawn floods into you. 

They scatter inside, exploring their new domain, while his essence marks you as his inwardly for all in the infernal realm to see.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_20]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1587" name="Encounter_Ethrex_Loss_NyxEnding_20" tags="" position="850,19850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Your gigantic form trembles, the afterwaves of his mighty release coursing through your veins, echoing across the barren landscape. 
With one final thrust, he buries himself as deeply as possible within you. The fullness of his release fills you to the brink, his corrupted seed spreading, claiming you as it fuses with your soul. 
The sight of your body swelling in response to his potent release stokes his carnal desire anew.

He hisses through clenched teeth, his voice a thunderous rumble under the desolate sky, &quot;the birthright of a new monster, my new god. Look upon yourself, &lt;&lt;PlayerName&gt;&gt;!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_21]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1588" name="Encounter_Ethrex_Loss_NyxEnding_21" tags="" position="975,19850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
A monstrous, earth-shaking laughter pours out from the depth of your gut, vibrating across the vast and twisted landscape. 
The act is done, the unholy ritual completed. 

The pleasure of it all blurs his vision for a moment before you return his gaze, alive, breathing, and irrevocably transformed.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_22]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1589" name="Encounter_Ethrex_Loss_NyxEnding_22" tags="" position="1100,19850" size="100,100">Breathlessly, your body writhes underneath his, adjusting to the corruptive power coursing through you. 
There&#39;s a demented satisfaction in his eyes as he witnesses your transformation - the power that he&#39;s been treasuring is now also part of you.

He gently lowers you onto the ground, fluids seeping, forming unnatural streams in the dusty plains. 
A tired yet satisfied grunt escapes his throat as he watches you, your eyes reflecting a trace of Nyx.

&quot;The night is young&quot; he purrs, his voice thick with promise. &quot;Now that you&#39;re... one of us, the pleasure has just begun.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Encounter_Ethrex_Loss_NyxEnding_23]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1590" name="Encounter_Ethrex_Loss_NyxEnding_23" tags="" position="1225,19850" size="100,100">And with that, he allows his colossal body to relax, the afterwaves of monstrous mating still surging down his spine in reminiscing waves. 
As he takes in the sight of the transformed you beneath him, he knows his debauched story is yet to unfurl completely.

The journey of monstrous lust, growth, and corruption will never truly end.

\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfEthrex&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[The End-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1591" name="Ferro_Ending" tags="" position="100,19975" size="100,100">\&lt;&lt;set $CharacterSheet_Player.info.limitBreaks.cap.balls = 999&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.info.limitBreaks.cap.cock = 999&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.info.limitBreaks.cap.muscles = 999&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.info.limitBreaks.cap.height = 999&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
Deep, pounding footsteps run through the grass, growing louder and louder. 
The vibrations reverberate through the ground. 

&quot;Hands off, he&#39;s mine&quot; Ferro&#39;s voice reaches you before you become truly lost.

\&lt;&lt;run setup.choice(&quot;[[Reach for Ferro-&gt;Ferro_Ending_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1592" name="Ferro_Ending_2" tags="" position="225,19975" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
A strong sense of relief washes over you as two massive paws wrap around your thick chest. 
You feel Apothus’ grip on you begin to slip as your body is pulled backwards. 

His red eyes snap open, an intense desire burning behind them as his sharp teeth bare at you. 
He is now fully able to take both of you in as he readies himself for the next fight. Just before the armored enemy begins to speak, a different aura fills the air. 

\&lt;&lt;run setup.choice(&quot;[[Look up-&gt;Ferro_Ending_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1593" name="Ferro_Ending_3" tags="" position="350,19975" size="100,100">A radiating light burns down onto you from above with a unique type of energy that you have never felt in your life. 
Peering up at the sky, your eyes scan for the source as they finally land on it. 

The Black Sun. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1594" name="Ferro_Ending_4" tags="" position="475,19975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
It illuminates a midnight glow that feels both bright and dark at the same time. 
A whirlwind of emotions flush through your face as you realize the full extent of what this means. 
To be in the path of the black sun means one thing. 

To grow into, and become, a corrupted beast. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1595" name="Ferro_Ending_5" tags="" position="600,19975" size="100,100">The flare of light is sudden, and you can already feel its corruptive properties begin to take hold. 
An intense wave of power flushes from the tips of your toes and up through your head as a connection merges with you so deeply, that you’ve almost sworn that it was meant to be. 

You aren’t certain why, but you can feel its disdain for Apothus. 
How little it values him.
And how much Ferro&#39;s presence empowers it.

Like its emotions have become yours. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1596" name="Ferro_Ending_6" tags="" position="725,19975" size="100,100">It seems to have taken notice of you. It senses your deepest desires to grow and spread corruption to the deepest depths of your very soul, taking note of all that it can use you for. 
It is aware of your feelings for your partner, a corruptive beast of the Lost who your kind never typically mingled with. 

Ferro feels the same effects as you do to an even larger degree as his breathing catches in his throat and his grip on you loosens.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1597" name="Ferro_Ending_7" tags="" position="850,19975" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;

A look of envy lights itself behind Apothus’ eyes as he takes a step back in intimidation. 
The power that is spreading through you feels positively orgasmic. 

You feel as if you’ve somehow already grown a little stronger. 
It has only been a few seconds since you have fallen into the light and were chosen, but it all happened so quickly from there.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1598" name="Ferro_Ending_8" tags="" position="975,19975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
Ferro’s body begins to convulse and throb rapidly as guttural grunts of pleasure force their way through his maw. 
You find your own body doing the same, nearly bringing you to your knees. 

They shake as your feet try to make sense of the ground underneath you, but the warming sensation that is blooming throughout your body is so intense that you can barely steady yourself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1599" name="Ferro_Ending_9" tags="" position="1100,19975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
“Fuck…” is all Ferro can grunt as your rock-hard dick begins to throb in front of you with the sturdiness of a boulder. 
It is already leaking an intense amount of precum. 

It steadily sprinkles towards the ground with every pulse as you place a supporting hand on Ferro’s shoulder. 

But your hands don’t land on his shoulder. They land on his pecs. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1600" name="Ferro_Ending_10" tags="" position="1225,19975" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Your eyes slowly work their way up his obscenely muscular body as you notice just how much bigger he has already become. 

The beasts’ cock is already close to cumming without any stimulation at all as his black, corruptive seed drips down his engorged thighs. 
His deep set of eight-pack abs is overshadowed by his boulder-like pecs, which only compliments how sturdy his thick neck is on top of that. 

Before you can compliment his form, Ferro’s head snaps towards you and growls the final words that will change everything. 

“No more holding back, &lt;&lt;PlayerName&gt;&gt;!” 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1601" name="Ferro_Ending_11" tags="" position="100,20100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
His words help you embrace it all. 
Your body burns hotter than it has ever felt as the changes smash into you. 

You yell, feeling the corruptive light activate throughout your entire body. 
The lust you felt before increases so quickly that your mindset almost instantly transforms into that of the Lost, who only wants to grow and spread their corruption. 

Δ: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
Δ: Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
Δ: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;)))&gt;&gt; longer.
Δ: Your balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;)))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1602" name="Ferro_Ending_12" tags="" position="225,20100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You’re growing. You’re already growing so fast. The ominous star is like an energy ray that is focusing all of its attention on you, and this is only an ounce of its power. 
You keel over, overwhelmed by the sudden vibrations of your body. 

Your cock is already inching outwards, making its already-large size look slightly bigger. 
Its girth is already well beyond being able to wrap your hands around it, but it is astonishing to see it grow even thicker and longer!

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1603" name="Ferro_Ending_13" tags="" position="350,20100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
A shuddering breath escapes your lips as hundreds of pounds of fresh muscle steadily settle across your broad frame. 
The corrupted wolf receives the same, his huge arm gripping your firm triceps as he lets out a low howl. 

Already Apothus has begun to look just a bit smaller in comparison. His red eyes stare longingly at your bodies as his posture begins to slump.

Before the current wave of growth has even resolved, another jolt of energy rattles your body to its core. Both of you find yourselves moaning as another wave of growth tacks onto the current one. 

Δ: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
Δ: Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
Δ: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;)))&gt;&gt; longer.
Δ: Your balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;)))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1604" name="Ferro_Ending_14" tags="" position="475,20100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Globs of precum shoot from your loins with incredible pressure as your balls sink lower, like two balloons that are being blown up past their capabilities.

“It’s getting…stronger!” Ferro yells, your eyes bringing themselves from the floor and up towards the wolf. 
Whereas his growth had begun just before yours, you were now the same size.

Ferro. His sculpted body looks like something straight out of legends.
Each bend of his arms as he feels up his own body causes your dick to throb, growing with every heartbeat as your breath catches in your throat. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1605" name="Ferro_Ending_15" tags="" position="600,20100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
A small sheen of sweat glistens over his corrupted fur, his aroma shooting straight to your heart. 

He isn’t just hot to you anymore. He is the hottest. The sexiest. A complete magnet of lust and attraction that pulls you in. 

Your libido has built so much in just the last minute alone that your attraction for him is spiking beyond belief.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1606" name="Ferro_Ending_16" tags="" position="725,20100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your mind completely taken off of the world around you, you find your arms tenderly wrapping around Ferro as you pull him in. Naturally, he doesn’t resist and leans back into it. 
Your pecs collide as your erect cocks come between you, frotting graciously as seed slides down them. 

Pushed enough off to the side, your lips lock onto one another&#39;s. Your eyes snap shut with satisfaction as your arms slide along each other’s engorged bodies. 
You can already feel it. Muscles sliding against muscles. Every moment, their size increases further, forcing you to adapt your body to a new position just to continue performing the same actions. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_17]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1607" name="Ferro_Ending_17" tags="" position="850,20100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You feel drops of precum fall onto your right shoulder. 
Is it Ferro’s seed or yours? As you grow taller, more muscular, and more well-endowed, you become even more entranced with him, knowing well that you’re on a path that you can’t come back from.

The lust of the moment feels impossible, but yet it takes another step up once again. 
A bassy reverb shoots through the two of you as the glowing aura spikes your bodies with another dose of size. 

Δ: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
Δ: Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
Δ: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;)))&gt;&gt; longer.
Δ: Your balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;)))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_18]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1608" name="Ferro_Ending_18" tags="" position="975,20100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
“Ohhhh FUCK. Our growth is only just beginning, &lt;&lt;PlayerName&gt;&gt;. Keep at it!” Ferro yells, his voice noticeably deeper than it was just minutes ago. 
You open your eyes to find that your head is now perched a little higher than your lover’s. 
In fact, your surroundings are beginning to noticeably decrease in size around you as every foot of height creaks into your legs. 

This is what matters. Growing beyond what you ever thought was obtainable. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_19]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1609" name="Ferro_Ending_19" tags="" position="1100,20100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You both enjoy every moment as over a thousand pounds of muscle and multiple feet pound into your bodies. 

Nyx doesn’t seem satisfied, however. 
Your skin feels like it is burning as a small shockwave emits through the sky above, radiating from the sun. 

It’s small, but the power that bursts forth from it is unlike anything you’ve ever experienced. 
The two of you throw your heads to the sky, your arms rolling back as far as they can as the real changes begin. 

Δ: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
Δ: Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
Δ: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;)))&gt;&gt; longer.
Δ: Your balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;)))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_20]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1610" name="Ferro_Ending_20" tags="" position="1225,20100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Both your and Ferro’s cocks begin to ooze precum at a constant pace, never missing a moment to stop the flow as your balls pull down on your groin like anvils. 
The seed inside of them is burning for release, but yet you are enjoying this so much that you opt to wait a little bit longer. 

Your height is definitely increasing slower than Ferro’s before, but now he is growing slower.
The next time your eyes drift to him, he is nearly up to your collarbone, his eyes beaming up at you from between your pecs. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_21]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1611" name="Ferro_Ending_21" tags="" position="100,20225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You reflect back to your first encounter. How big and monstrous he was. How scary he was. Your sizes then are nearly incomparable to now. 

Your mind doesn’t pay attention at all to Apothus at this point. He is an irrelevancy. 

The sounds of muscles growing are filling your ears as you feel Ferro’s immense shaft cram its way between your pecs. 
Your chest is so immense that each of your pecs are able to hold it in place as he begins to pec-fuck you. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_22]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1612" name="Ferro_Ending_22" tags="" position="225,20225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The beast slowly gyrates his hips as precum waterfalls down his thick cock, coating your upper body as you press your own mass into him as hard as you can muster. 

Your own cock finds its way under his legs as he squeezes his wrecking-ball sized thighs together, milking you for all you are worth. 

Another beam of corrupted light showers over both of you.

Δ: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
Δ: Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
Δ: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;)))&gt;&gt; longer.
Δ: Your balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;)))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_23]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1613" name="Ferro_Ending_23" tags="" position="350,20225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your thoughts become foggy as your eyes jog around loosely in your head as you are pushed from huge into massive. 
In fact, you can now hear a pulsing sound from the Black Sun as it steadily pumps you up. 

It’s faint, but audible. 

Very rapidly you feel a swift change in stature as your body ascends above Ferro’s even further, causing his cock to slide down the gorges of your sculpted torso, over your abs, and eventually against your own manhood. 
Speaking of which, it is unreeling at almost a record breaking pace as Ferro steps back further and further, both to give your own brawn more space, but also to fulfill a different fantasy he has in mind. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_24]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1614" name="Ferro_Ending_24" tags="" position="475,20225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
His paws grasp onto the end of your dick, stroking away as he feels the vibrations of your own growth run through his arms. 
This growth burst is showering you with a fraction of the Black Sun’s gifts, causing you to swell much faster than either of you anticipate. 

So much so, that Ferro finds himself as tall as the bottom of your plateau-like pecs in no time. 
Without warning, he takes his throbbing endowment and begins to fuck your own dick. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_25]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1615" name="Ferro_Ending_25" tags="" position="600,20225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The sensation causes your entire overly muscled body to jolt and shift as your hands wrench themselves up to shield your eyes, as if that would lessen the pleasure running through you. 

“Flex for me, big guy.” Ferro demands, bucking his hips in and out of you over and over again. 

You don’t hesitate, throwing up your gargantuan arms to be worshiped as incalculable mounds rise up all over them. 
Your traps are already rising above your ears, beginning to muffle the sounds occurring behind you as your chest nearly bumps into your jawline. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_26]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1616" name="Ferro_Ending_26" tags="" position="725,20225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
This riles up the corrupted wolf as you feel gallon after gallon of spunk shoot into your shaft. 
Is it precum? From the small force of it, it almost has to be, but it is causing his growth to roll up his frame even quicker. 

It is almost as if the hornier the two of you become, the faster you are destined to grow.

“That’s good. Keep flexing for me, &lt;&lt;PlayerName&gt;&gt;. Show me what a monstrous God you really are.” Ferro spits out with pure lust.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_27]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1617" name="Ferro_Ending_27" tags="" position="850,20225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.displayEncounterImage($CharacterSheet_Apothus_2nd_Form.info.picture)&gt;&gt;
You can’t help yourself. Before you know it, you are posing in any way you can to impress your mate. 
Showing off every angle. Every muscle. All the while the two of you continue to grow as he fucks your cock. 

The sight is so erotic that Apothus finally submits. He gives up any kind of ambitions he once had of apotheosis after seeing how godlike the two of you have become.

Δ: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
Δ: Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
Δ: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;)))&gt;&gt; longer.
Δ: Your balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;)))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_28]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1618" name="Ferro_Ending_28" tags="" position="975,20225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
As the biggest growth spurt of them all smashes into you, any Lost in the surrounding region are attracted to your growing gigantic forms like a hive mind going back to their nest. 
The goal of the lost from the very beginning is to spread corruption and growth, and this is their best opportunity yet. 

Apothus finds himself mixed into the horde as they surround your expanding feet, desperate to worship you for everything you are worth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_29]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1619" name="Ferro_Ending_29" tags="" position="1100,20225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Up at the top, the growth sends another intense shockwave through your entire nervous system as growing bigger becomes the number priority. 
The two of you are becoming more like ravenous beasts by the moment. 

Greedy for size. Greedy for pleasure. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_30]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1620" name="Ferro_Ending_30" tags="" position="1225,20225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The entirety of the environment around you is quickly shrinking as trees, hills, and even Apothus start to look like ants. 
Your mobility is starting to become impeded as your traps rise up to the top of your head. 
Ferros attempts to embrace your lips once more, only to find your chests colliding with his long before they ever have a chance to meet. 

His growth has quickly caught up, beginning to level out with yours as you realize the roof of the Hollow Earth has grown closer. Much closer. In fact, the shining star looked reachable.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_31]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1621" name="Ferro_Ending_31" tags="" position="100,20350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
At once, you and Ferro begin to grin as you reach the same conclusion. 

“I dare you to reach for it.” Ferro start teasing you.

“To embrace the energy of the Black Sun.” He says as his hands stroke both of your cocks at once. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_32]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1622" name="Ferro_Ending_32" tags="" position="225,20350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The thought drives you wild like nothing ever has. 
Your thick, corruptive seed rains down onto the countless Lost below as parasites begin to emerge from the black liquid. 
The Lost begin to greedily take them in as they work their way up your lengthening and widening frame, growing larger than ever as they worship every striation and crevice of your form. 

And now an orgasm is beginning to build. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_33]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1623" name="Ferro_Ending_33" tags="" position="350,20350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You try to hold onto the wonderful feeling for as long as you can, but you’ve never been this horny before. 

You’ve never been this sensitive before. You’ve never been this BIG before. 

The same word echoes in your brain over and over again.

Grow.

GROW.

GROWWWW.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_34]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1624" name="Ferro_Ending_34" tags="" position="475,20350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your bodies are quivering in anticipation, causing the entire region beneath to shake like an earthquake. 
You grit your teeth as the Lost begins to worship both of your manhoods, now having climbed halfway up your body. 

There isn’t a muscle or crevice that isn’t being pleasured by now, and it is too much to hold on any longer.

Δ: Your body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;)))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;
Δ: Your muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt;(+$growth).
Δ: Your cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;)))&gt;&gt; longer.
Δ: Your balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;)))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Ferro_Ending_35]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1625" name="Ferro_Ending_35" tags="" position="600,20350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
The moment you start cumming, an explosion of unprecedented force erupts from the tip of your cock as it begins to grow even faster. 
Your balls inflate infinitely fuller with entire lakes worth of cum. 

For as fast as they are expelling liquid, they only continue to grow. 

Ferro&#39;s muscle bound arms begin to feverishly jerk your cock off, milking you beyond possibility. 
In return, you grasp his shaft and push it deeper between your pecs as your chest continues to grow around it. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_36]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1626" name="Ferro_Ending_36" tags="" position="725,20350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Your cum soars for miles, coating trees, overflowing rivers, and cratering hills with corruption. 

Most of these lands had already been overtaken by the Lost, but if this is what growth on this scale feels like, then what is yet to come excites you even more.

Your entire bodies pour outwards in all directions at once as your musculature seizes up. 
It’s almost like every time each muscle flexes, all of the size retains, but yet you can’t stop flexing. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_37]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1627" name="Ferro_Ending_37" tags="" position="850,20350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Hundreds of thousands of pounds of muscle per second annihilate your frame, causing each muscle group to twist and contort as your muscles bunch up and rub all over Ferro&#39;s. 
The two of you can’t stop crashing your own mass into each other. 

Your traps and pecs begin to surround your head more heavily, making it difficult to look down at all anymore. 
Your endless moans spill forth from your mouth as volley after volley of cum empties from your cum factories. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_38]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1628" name="Ferro_Ending_38" tags="" position="975,20350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
“Keep... GROWING!” Ferro roars, as you set your sights on the Black Sun above. 
You’ve already closed more than half the distance! 

In fact, you can physically see it getting closer! The heat of it burns, but in a pleasurable way that only forces you to grow faster! 

As your dick begins to ease up on the amount of cum you are actively dispensing, countless spawns continue to infiltrate and infect all of the Lost that are praising your entire body. 
Even Apothus takes in spawns of his own, but he’ll always be overshadowed by those that the Black Sun favors. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_39]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1629" name="Ferro_Ending_39" tags="" position="1100,20350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The Lost that originally were hovering between 6 and 20 feet find themselves doubling, perhaps even tripling in size as they take in spawns even larger than their entire bodies.

They were corrupted before, but now they are so much bigger than the competition they once tried to corrupt up on the surface. 

Not even a minute later, your own bodies ascend into the Black Sun’s radius. 
The 500 foot ball of corruptive energy pulses like a beating heart, causing the symbiotic presence that fills your body to spread a higher degree of mind-numbing pleasure to anywhere it could reach. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_40]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1630" name="Ferro_Ending_40" tags="" position="1225,20350" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The two of you both take a step backwards as your bodies begin to swell past it, the sun now coming between you. At your current size, it’s more akin to the size of a beach ball. 
Its full circumference doesn’t cover even one of your titanic pecs. At the same time, you realize your growth is beginning to slow down as you become parallel with the mysterious sphere. 

Although you can hardly see Ferro’s face over his own chest, and over the unnatural midnight glow that is basking itself across your expanse, you notice the ever-increasing grin that begins to widen along his maw. 
You know this, because yours is increasing too. 

An idea so wild that it could change everything. 

“I dare you to grow even bigger.” Ferro’s voice oozes seductively, sliding his tongue across his sharpened teeth as he flexes for you. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_41]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1631" name="Ferro_Ending_41" tags="" position="100,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
His voice isn’t just deep. It is a whole new tone that no man or beast has ever muttered on this planet before. 

Another word doesn’t need to be spoken. The two of you take a step forward at the same moment. 

At your current size, only the tops of your feet breach through the skyline, uprooting every tree in its path, no matter how gigantic. 
Hundreds of Lost continue to worship and climb your body, continuing their life’s work to fulfill your every desire. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_42]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1632" name="Ferro_Ending_42" tags="" position="225,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your pecs collide with one another, squishing the Black Sun in the middle as it begins to glow much brighter than it ever has before. 

A low pulsing sound rumbles through it, vibrating your bodies as an unprecedented energy starts to build up. 

If your own bulk wasn’t blocking most of the direct light, it would have been positively blinding. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_43]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1633" name="Ferro_Ending_43" tags="" position="350,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Ferro let out a beefy roar of satisfaction. 
You can’t see it, but you can hear his tail swishing rapidly from pure joy as erotic bliss funnels into his veins. 

In fact, you both feel it. It’s almost like you’re leeching the very energy that the sun gives off and turning it directly into growth. 
The sounds of muscle fibers tearing and reforming themselves fills your ears once more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_44]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1634" name="Ferro_Ending_44" tags="" position="475,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
“Let’s…take…ALL OF IT!” Ferro grunts, already feeling your libido work its way up towards another, even bigger orgasm. 
It spreads all the way from your fingers to your toes like pure electricity. 

“Push... HARDER... &lt;&lt;PlayerName&gt;&gt;! GROW... BIGGER!” Ferro thunders. 
His voice is positively animalistic now. Like a feverish growl that is filled to the brim with lust. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_45]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1635" name="Ferro_Ending_45" tags="" position="600,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your feet work in tandem with his paws and crater into the Hollow Earth’s floor as your bodies begin pressing more heavily into each other. 

The sphere emits shockwave after shockwave, your musculature absorbing every pulse as a solar flare erupts through the air.

An explosion of energy bursts forth, instantly being pulled into your body over and over again as it starts to shrink. 
The entire region begins to shake as a growth spurt of unknown size releases itself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_46]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1636" name="Ferro_Ending_46" tags="" position="725,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your hands shake as they grip onto Ferro’s corrupted fur. At your current size, every muscle is continuously colliding with each other, and it’s only bound to get more extreme. 

The connection you have with the star feels prophetic. Deep down, this was always meant to be. 

It chose you. It wanted you, and you wanted this. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_47]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1637" name="Ferro_Ending_47" tags="" position="850,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You feel the breath catch in your throat as every part of you swells and lengthens all at once. 
Like a fresh resurgence of life is being pumped into you again and again. The power being absorbed is unlike anything else on the planet.

“F-fuck. Need to fuck.” Ferro moans as endless torrents of precum ooze forth from your phallus. 

You’ve never been this horny in your entire life, and the need to release is unbearable. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_48]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1638" name="Ferro_Ending_48" tags="" position="975,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
As the Black Sun shrinks to no more than the size of a grapefruit, becoming almost completely absorbed between your and Ferro’s statuesque bodies, the beast shoots a look back at you. 

Without saying a word, the two of you pull yourselves into a tussle. 
Apex predator vs apex predator, both leaning to gain dominance over the other corrupted being. 

You force your gargantuan arms up towards Ferro&#39;s shoulders, trying to spin him around as your muscles expand with hundreds of thousands of pounds of fresh mass per minute. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_49]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1639" name="Ferro_Ending_49" tags="" position="1100,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Each of your arms are built like mountains, with traps that could cross entire lakes. 
They rise so high that they are now officially the tallest part of you. 

Ferro wants you to grow so badly, that many of them are giving up all of their size to you altogether as endless spawns pour into your body. 

All that matters now is to grow, fuck, cum, and corrupt. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_50]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1640" name="Ferro_Ending_50" tags="" position="1225,20475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your feet shift down on the ruined ground, causing debris to fly hundreds of feet as entire canyons are dug out. 
The grunts of the two of you wrestling echo for tens of miles across the Hollow Earth, becoming both louder and deeper as your heights slingshot towards the roof of the enormous cavern. 

Each step causes your pendulum-like balls to swing with enough force to suck the wind around, causing dust devils and windstorms on the surface as its massive shadow careens across the lands.

Not a single muscle on the two of you are left to the imagination as each one flexes endlessly bigger, both growing and being flexed to their max potential as you try to assert authority over each other. 
Ferro slides one of his arms up your shaft, causing him to gain the upper hand momentarily as euphoria takes over your body. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_51]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1641" name="Ferro_Ending_51" tags="" position="100,20600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You push back, feeling up his sculpted set of abs, before squeezing his pecs and kneading them like dough. 
Simultaneously, you slide your own mass against his dick. As you begin to win the tussle, your body starts to grow faster as Ferro’s size is outpaced.  

When two immovable objects are placed in front of each other, it only becomes a matter of raw lust that determines the winner. 

Ferro is going absolutely wild by now as countless Lost feel up and pleasure any part of the wolf. 

In combination with the growth, he can’t resist any longer. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_52]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1642" name="Ferro_Ending_52" tags="" position="225,20600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
With that, he willingly turns around, his broad stature taking many moments to fully rotate. 
You get to see every detail as Ferro turns. Each striation. Every pound of muscle. Even his endlessly growing cock. 

What sits on his back is incredulous. The animal’s lats are like wings, almost seamlessly merging his back with his sides like a staircase. 

His back is even more impressive. It’s difficult to tell where each muscle starts or ends.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_53]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1643" name="Ferro_Ending_53" tags="" position="350,20600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You grab your package in your arms, barely able to even reach it from how voluminous your chest and biceps have become. 
You can’t possibly hope to wrap your arms around it, but with how astoundingly aroused you are, it’s actually impressive that you aren’t any less erect.

Your manhood sticks out from you like a spire, a beacon of masculinity. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_54]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1644" name="Ferro_Ending_54" tags="" position="475,20600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your chest is pushing out so fast now that you can’t see anything below it. The horizon and the approaching ceiling is all your eyes can feast on. Besides Ferro, of course. 

You align yourself with his engorged ass, which proved to be easier than you think when each cheek was so distended from his body that it acted like a funnel! 

“Fuck me, &lt;&lt;PlayerName&gt;&gt;! We need to grow... TOGETHER.”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_55]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1645" name="Ferro_Ending_55" tags="" position="600,20600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
With a mighty grunt, you press forward. Effortlessly, you find yourself sliding into him. 
The copious amounts of cum that was outpouring from your dick made the lubed entrance even easier to fit into. 
Both of your voices explode out with deafening moans as you send endless feet of your package through Ferro. 

It is like the pleasure of your bodies are linked, causing the growth in both of you to punch outwards all at once!

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_56]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1646" name="Ferro_Ending_56" tags="" position="725,20600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
“WE. NEED. MOREEEE!!” He growls, your hips starting to pick up the pace as you begin to buck your hips back and forth with a sensual pace. 
Sonic booms fly off of your muscles as you become wider, thicker, taller, and longer in every way. 

Your original encounter with Apothus buries itself so far in the back of your mind that it is likely it’ll never be thought of again. 

As the scale in which you are growing increases over and over again, you look up to realize something staggering! The trees below are now like blades of grass. 
You already quickly surpassed and absorbed The Black Sun. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_57]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1647" name="Ferro_Ending_57" tags="" position="850,20600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
That means all that is left is..

You look up as much as you can, in total awe. 
The ceiling of the Hollow Earth is approaching, and fast. 
A landmark that seemed so far away, and also so unobtainable just this morning. 

It’s coming at you so fast that you can hardly brace your own body for it, before…

\&lt;&lt;run setup.choice(&quot;[[Outgrow it all-&gt;Ferro_Ending_58]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1648" name="Ferro_Ending_58" tags="" position="975,20600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;

Your traps make contact first, careening into the roof of the enormous cavern so quickly that you are taken off guard. 
Ferro crashes into it with you, letting out a confused whimper. 

Whether it was from the pleasure of being impaled on the biggest manhood on the planet, or from the impact, is lost on you. 

Endless feet of rock, dirt, and grass crater out of the way instantly as your frighteningly large bulk bulldozes it with ease. 
Those on the surface find an earthquake of unprecedented scale to rattle the region as they stumble around aimlessly, unsure of the phenomenon that is occurring. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_59]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1649" name="Ferro_Ending_59" tags="" position="1100,20600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Just as instantly as you hit the ceiling, you are emerging from the other side. 
True sunlight showers you for the first time in a long time as you feel its warmth cover you like a blanket. 

For a fleeting moment, you are reminded of home. The Barrens. Your home village. Your friends. Even the scent is reminiscent of something you once knew. 

All it takes is another thrust into Ferro for all those thoughts to be pulled into the void once more. 
Ferro finds himself pushing his own mass into you with every opportunity he can as you settle into a steady rhythm. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_60]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1650" name="Ferro_Ending_60" tags="" position="1225,20600" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Already, the pressure on your balls is far too large to ignore, but you can’t stop. Your body is on autopilot now. 

Even if you want to, it is impossible to come back from growth on this scale. After absorbing the powers of The Black Sun, everything that happens after is a self-fulfilling prophecy. 

In an instant, both of your bodies grow past the treeline as your shoulders, now multiple miles across, erupt through the ground alongside you. 
For your body, there was simply no pain. In fact, it is quite pleasurable. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_61]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1651" name="Ferro_Ending_61" tags="" position="100,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
At this point, the Lost begin to spread out across the Barrens at a terrifying speed. 
Endless amounts of them sprint across the lands at their largest sizes yet. More energetic. Bigger, stronger, and much more aroused than ever before. 

You can’t hold out any longer. With another deafening plea, an orgasm of unrivaled power ejects from your monstrous manhood. 
Pulse after pulse of your orgasm begins to fill Ferro up as his own dick begins to launch wildly. 
His toned abs, which are each as big as plateau’s, quickly melt as his belly distends further and further. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_62]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1652" name="Ferro_Ending_62" tags="" position="225,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
At first just by a little, but nearly a minute later, it is so enormous that it begins to droop towards his knees. 

Meter by meter, cum fills him up, forcing his stomach forwards to the extreme. You quickly realize that this isn’t an orgasm that is dying down. 

In fact, it’s getting stronger. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_63]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1653" name="Ferro_Ending_63" tags="" position="350,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Communicating through a series of moans, you both understand the need to pull out. Not to prevent Ferro’s belly from growing even bigger, but to spread corruption to the lands. 
You take a step back to pull out, realizing that nearly half of you is still buried underground in the Hollow Earth. 

The step alone causes another major chunk of the region to fall into the endless pit. Even so, you continue to step back as the ground levels out with your thighs. 

Your eyes can see so far off in the distance, yet you are hardly able to see at all from how much muscle is surrounding your head at this point. 
Your pecs and traps have completely surrounded it like a canyon, and it’s only getting deeper. You bend your body at the hips as your ominous shadow casts itself as far as the eye can see. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_64]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1654" name="Ferro_Ending_64" tags="" position="475,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
By the time you pull out of Ferro, his belly is quickly morphing back into an even more impressive set of abs. 
It seems that your cum has a growing effect that only causes Ferro to swell even faster. 

Seeing as you are both still cumming so much corruptive, black liquid, you both set into action at once. 

By now, all of the Barrens is completely overwhelmed by your presence. Your body itself puts mountains to shame. Hell, it makes this entire region look like a miniature. 
By the time you fully turn around to set your eyes on your home village, the Hollow Earth is barely up to your shins. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_65]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1655" name="Ferro_Ending_65" tags="" position="600,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
An entire ocean’s worth of cum seems to fill your cum factories, and it isn’t even close to being over. 
Black ropes of corruptive seed shower across an enormous radius as your growth accelerates again. 
No matter how big you grow, your body only wants more!

Rivers, lakes, and valleys transform into black wastelands in an instant. 

Thousands of The Lost climb from it, spreading outwards with a freshened vigor as entire villages, cities, and kingdoms begin to fall. 
Ferro cums along with you, raining corruption on the opposing side. Each heart beat sends out a shot of cum for hundreds, if not thousands of miles. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_66]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1656" name="Ferro_Ending_66" tags="" position="725,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You can already imagine the scene now. Thousands of people per landmark transforming into hyper muscled, hyper endowed, aroused beasts. 

Nothing can stop this change. 

Corruption is spreading to every corner of the globe. As the Barrens is completely shrouded in darkness, you feel the condensation of the clouds rest upon your skin. 
They hold a darker, purple hue to them. 

You realize that your own seed has been turned into a form of condensation that these very same clouds would rain down in the very near future. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_67]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1657" name="Ferro_Ending_67" tags="" position="850,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
“GROWWWW!!!” Ferro moans with enough volume to circle the globe. 

You will always be next to him. 

Your companion. 

Your partner. 

“SPREAAAAAAAD!!” The world moans back.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_68]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1658" name="Ferro_Ending_68" tags="" position="975,20725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Even as your growth finally begins to taper off, your cum still shoots like it just began. Each muscle that surrounds your body is larger than any easily perceptible comparison. 
Each muscle group is nearly unidentifiable. 

Your forearms, biceps, triceps, and shoulders, all look like a staircase of overinflated bumps and mounds. 
Your traps are so far beyond your head that you can’t ever hope to see the top of them. 
They rise like such a wall behind your ears that you will never hear anything behind you again. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_69]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1659" name="Ferro_Ending_69" tags="" position="1100,20725" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
Your pecs are like entire territories of volume, shoving deeply up into your jaw as they bulk up, nearly blotting out your vision from their undeniable heft. 

Only a fraction of the horizon is visible through the space between your chest. 
If it weren’t for that, you feel positive that you’d only be able to see what is above you for the rest of time. 

Your back, lats, and abs look like they were sculpted by the Gods of size. Your titanic thighs are so thick that you can’t part them any longer.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Ferro_Ending_70]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1660" name="Ferro_Ending_70" tags="" position="1225,20725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfFerro&quot;);&gt;&gt;
For the rest of eternity, they would grind into each other with every step you take. Even then, a waddle is a better fitting description. 
Every decision, action, or judgment will cause new, stronger, and more unstoppable, corruptive orgasms to rattle the Earth from your monster of a cock. 
It extends so far from your body, and yet it looks perfect when being paired with each of your balls, which already look like landmarks on their own. 

Part of you can’t believe you grew to be this monstrous. The other part of you thinks there is more room to grow. 

As you and Ferro flex your titanic bodies for the entire world to see, you grin deeply as a familiar sensation begins to build up in your body.

Power... For all eternity.

\&lt;&lt;run setup.choice(&quot;[[The End-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1661" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_7" tags="" position="100,20850" size="100,100">You feel yourself being surrounded by a cold, shifting void. Purple mist twists and curls around your legs in sinuous trails. 

Like dancing tongues, they lick at your feet. A glacial caress. 
A deep violet sky stretches across the horizon while bright reddish hues dance above you - as though you&#39;re at the bottom of an ethereal magenta coloured sea. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_7_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1662" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_7_1" tags="" position="225,20850" size="100,100">Isolation. An endless void.

An eternity of nothing that stretches on and on.

\&lt;&lt;run setup.choice(&quot;[[Look Around You-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1663" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_8" tags="" position="350,20850" size="100,100">You turn around, and the endless void is suddenly replaced by a gaping chasm. An infinite drop.

Peering into the abyss, your eyes lock onto a faint, distant light.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1664" name="Quest_MQ002_Apothus_2nd_Form_Encounter_PlayerWins_9" tags="" position="475,20850" size="100,100">You stand there for what feels like hours, enraptured by the distant realm.
The biting, otherworldly, cold gnaws at your skin and pulls at your sanity.

But deep within your soul, you know.
One of these lights contains a way to stop this madness.

\&lt;&lt;run setup.completeAchievement(&quot;Achievement_IncompleteMemories&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Head towards another reality-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1665" name="Ending_UncertainFate" tags="Overworld" position="600,20850" size="100,100">(Congratulations on reaching the end of the current content of the main story. You can now begin a newgame+ in order to explore and trigger different endings.)

\&lt;&lt;run setup.choice(&quot;[[The End (for now)-&gt;Ending_UncertainFate_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1666" name="Ending_UncertainFate_2" tags="" position="725,20850" size="100,100">\&lt;&lt;run setup.completeAchievement(&quot;Achievement_IncompleteMemories&quot;);&gt;&gt;
&lt;&lt;include Ending&gt;&gt;</tw-passagedata><tw-passagedata pid="1667" name="Planetary69Ending" tags="" position="850,20850" size="100,100">((To be implemented at a later stage!))
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1668" name="Death_NyxDungeon" tags="" position="975,20850" size="100,100">Your eyelids flutter as you feel yourself slipping away. A tendril of unease coils in your gut, but it&#39;s quickly forgotten as darkness takes over.
There&#39;s a brief moment of disorientation as your soul feels like it&#39;s being shaken awake.

And then you&#39;re falling, tumbling through the darkness.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Death_NyxDungeon_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1669" name="Death_NyxDungeon_2" tags="" position="1100,20850" size="100,100">A burning light surrounds your formless self.

Some fragment of what you remember as &quot;sense&quot; slowly come back to you.

You see the light. It&#39;s so powerful it feels like you&#39;re on fire.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Death_NyxDungeon_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1670" name="Death_NyxDungeon_3" tags="" position="1225,20850" size="100,100">Nyx shines down upon you, bathing you in its warm embrace. But as you try to move closer, it seems to pulse and shimmer, rejecting your presence.

The light bursts and you wake up. You&#39;re disoriented for a moment, but then you recognize the entrance of the castle.

\&lt;&lt;run setup.choice(&quot;[[Get up-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1671" name="Death" tags="" position="100,20975" size="100,100">\&lt;&lt;run setup.AbiHndlr.removeAbilityRuntimeData($CharacterSheet_Player, setup.Ability.EmbracedByNyxsLight);&gt;&gt;
You black out...

\&lt;&lt;if $DeathText == setup.DeathTextEnum.POST_APOTHUS&gt;&gt;
Your soul shakes with unease.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Death 2]]&quot;);&gt;&gt;
\&lt;&lt;if $DeathText != setup.DeathTextEnum.POST_APOTHUS&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Skip-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1672" name="Death 2" tags="" position="225,20975" size="100,100">Time moves on...

\&lt;&lt;if $DeathText == setup.DeathTextEnum.POST_APOTHUS&gt;&gt;
Apothus&#39;s rampage only grows with each passing days.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if $DeathText == setup.DeathTextEnum.POST_APOTHUS&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Death_Post_Apothus]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Death 3]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1673" name="Death 3" tags="" position="350,20975" size="100,100">A burning light surrounds your formless self.

Some fragment of what you remember as &quot;sense&quot; slowly come back to you.

You see the light. It&#39;s so powerful it feels like you&#39;re on fire.

You recognize this feeling.

\&lt;&lt;run setup.choice(&quot;[[Get up-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1674" name="Death_Post_Apothus" tags="" position="475,20975" size="100,100">A shadow is cast over your reforming body.

The shape of a demon, so massive and tainted it overshadows the eclipse itself.

A terrifying grins curls from Apothus&#39;s lips.

The monsters around him try to run, only to be taken by the flood of corruption dripping from his body.

You must leave...

\&lt;&lt;run setup.choice(&quot;[[Use the Talisman to escape-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1675" name="Intro01" tags="" position="600,20975" size="100,100">You walk along the empty streets of your ruined village, great plumes of smoke rising from homes and stalls.

Debris forces you to walk with caution, taking slow and careful steps as you wander through the eerily quiet remnants.

Through the barred windows of small shacks lining the street, you couldn&#39;t see a single soul, doors half ajar, creaking on their rusted hinges.

The Golden Bastion is eerily quiet- more so than usual after an attack.

Your tired eyes, filled with melancholy, turn upwards to gaze at the sky.
The sun is low on the horizon, bathing the barren sands with a soft orange glow.
Soon, that last bastion of light and warmth would sink below the shifting sands, swallowed by the march of time.

The expanse of the world- the vast, eerie emptiness of the desert, and the yawning abyss of the sky above. It all makes your troubles feel meaningless;
a single grain of sand in a sea of millions, a sea which was shifted and warped by the winds and the storms.

Infinitesimally small.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Intro02]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1676" name="Intro02" tags="" position="725,20975" size="100,100">A glint catches your eye in the purple twilight sky above.
One of the stars shines brighter than those around it, a magnificent mixture of oranges and reds, blazing like the flame of a brazier. It was quite beautiful, steadily growing larger and larger up in the sky.

Though... as you watch the spectacle, you hear an alarming sound. A rumble which starts as the dull roar of an engine quickly grows into an explosive scream.
The dancing light suddenly burst forth with a brilliant flash of white and orange, filling your vision.
Your heart begins to pound as you realize what was coming.

Before you can react, you are overwhelmed by an earth-shattering blast.
You hear the sounds of crumbling stone and the cries of warped steel.

The world quickly grows dark.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Intro03]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1677" name="Intro03" tags="" position="850,20975" size="100,100">You awaken sometime later, your thoughts murky and body heavy.
Instead of pain, you feel as if you&#39;ve been submerged in a pool of warm honey.
A thick liquid gathers around you and rushes into your body from every orifice.

You try to scream, but the air in your lungs clashes with some thick goo entering your throat. It thrusts inside you without mercy.

It enters through your ears, your nose, and soon, you feel it swirling around the inside of your skull.
As quickly as it appeared, it fully disappears in your body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Intro04]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1678" name="Intro04" tags="" position="975,20975" size="100,100">You suddenly gasp, your lungs filling with air once more. You gulp for air for a few more moments, your erratic breaths slowly stabilizing as the world once again turns peaceful.

As you plant your hands to the ground to get up, you feel as though you touched hot metal. Looking around, you noticed what little grass there was had been turned to ash.

You lay in the center of a large crater, its still-flaming edges licking at the street, staining the adobe exterior of nearby buildings with the harsh black of ash.

You quickly scramble backward away from the flaming center, crawling up the slope of the pit.

What had happened?
Something that you&#39;d never quite witnessed before.
Something dangerous, something deadly.
Yet, here you stand without a scratch.

You think it best to reflect once you make it back home- it certainly doesn&#39;t feel safe to be outside. Looking down, you notice your body and clothes are stained with ash and dirt.
You decide to return home, where your bed is waiting for you.

\&lt;&lt;run setup.choice(&quot;[[Go Home-&gt;Intro05]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1679" name="Intro05" tags="" position="1100,20975" size="100,100">You enter your home. Closer to the center of town, it was fortunately spared from the chaos near the fringes. Everything is as you left it, bathed in soft moonlight coming in through the windows.

It feels like something is moving inside of you.
Your stomach turns, muscles growing increasingly sore as you stand in your dark kitchen.

It&#39;s as though your blood has a mind of its own. You feel it pumping through your veins. You try to relax on your bed and eventually fall asleep out of exhaustion.

\&lt;&lt;run setup.choice(&quot;[[Sleep-&gt;Intro06]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1680" name="Intro06" tags="" position="1225,20975" size="100,100">You are surrounded by a cold, shifting void. Deep purple mist twists and curls around your legs; curling and twisting in wisps and trails.

It licks at your feet, caressing your skin with a glacial embrace.

A dim violet sky stretches across the horizon, the brightest hues found directly above you- as though you&#39;re at the bottom of a deep, purple sea.

There was nothing for miles...

...and miles.
...and miles.

\&lt;&lt;run setup.choice(&quot;[[Look Around You-&gt;Intro06_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1681" name="Intro06_2" tags="" position="100,21100" size="100,100">Behind you, the harsh black plane seems to stretch as far as the eye could see, the distance occluded by a murky, dark fog.
Before you, there is naught but a single, endless, infinite drop.
The expanse descends into darker shades of purple.
And at the very bottom- if there even was one- your eyes are scorched by one of the strongest and harshest lights you have ever seen.
That intense purple light almost seems to throb like a heartbeat, shifting and simmering, writhing, growling, moaning, pulsing.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Intro06_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1682" name="Intro06_3" tags="" position="225,21100" size="100,100">You stand there for what feels like hours.

The biting, otherworldly cold gnaws at your skin, and pulls at your mind. The mist around your feet dances almost tauntingly, bouncing and twirling in no way a gaseous substance should.

This place is not meant for mortals.

Beyond all of that- beyond the unknowable, unspeakable sensations, beyond the empty and cold landscape, you felt something.

Something wonderful.
Something beautiful.

You begin to feel a comforting warmth wash over you, beating back that harsh cold, pulling you into a loving embrace of life and love.

This feeling is your oasis in this strange, alien desert.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Intro06_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1683" name="Intro06_4" tags="" position="350,21100" size="100,100">The life-bearing warmth which caresses your skin and fills your bones grows steadily stronger as time passes, expanding from the mere simmer of a candle to the comforting heat of a large hearth fire.
The mist around your feet suddenly disperses, pushed back by some unseen force.

You can feel something moving around you, some thick and heady mass curling around your body playfully.
It teasingly pushes against your chest for a moment, with a strength that nearly makes you fall over.
You feel the force suddenly step away, its writhing aura growing stronger a few feet in front of you.

From the black, reflective ground before you rises a huge, writhing mass of semi-solid goo. It seems unstable, its color rolling through all different hues and shades.
The goo slowly morphs into different forms, seemingly indecisive of its own nature.

Curiously, you aren&#39;t terrified at all- whatever this strange, goopy creature was, it appeared to be the source of that blazing warmth that surrounded you.
You could feel in your soul that it was not here to hurt you.

You stare curiously as it cycles in and out of the appearance of creatures you have seen. Some even based on beasts you&#39;ve only heard of in stories- and some that none in your homeland could ever hope to imagine.
As you focus on it, its shape seems to be desperately trying to define itself.

You feel as though it was looking to you for help.

That it should become...

[[A Monstrous Symbiote-&gt;Intro07][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.SYMBIOTE)]]
[[A Naga-&gt;Intro07][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.NAGA)]]
[[A Minotaur-&gt;Intro07][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.MINOTAUR)]]
[[A Werewolf-&gt;Intro07][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.WOLF)]]</tw-passagedata><tw-passagedata pid="1684" name="Intro07" tags="" position="475,21100" size="100,100">\&lt;&lt;if (setup.getRaceName($CharacterSheet_Player.symbiote) == &quot;Symbiote&quot;)&gt;&gt;
You see the gooey head form into a vaguely humanoid shape, a chiseled jaw poking through the formless blob.
It is accompanied by a sharply defined chin, casting heavy shadows on the monster&#39;s increasingly lean neck.
Several dozen thin, white veins begin to snake in all directions down from his head, spreading across his arms and torso, racing towards his feet.

Twisted white patches slowly take shape where his eyes should be, forming into solid shapes from milky trails that swirled around his face.
He stares down at you with his featureless, marble-white eyes, flexing the sharp claws that form at the tips of his long fingers.
His mouth curls into a long, hungry grin, several rows of gnarled and sharp teeth rising out from the goopy interior of his jaw.
He lets out a low, rumbling, sensual growl; one that makes your chest vibrate, one that makes your body tremble as the sound waves pass through your bones.

A long, thick, deliciously slimy tongue slides out from his mouth, as thick as your wrist and as long as your entire body.
It flicked eagerly at you, flinging saliva throughout the air.

What a monstrous, yet beautiful hunk.
\&lt;&lt;elseif (setup.getRaceName($CharacterSheet_Player.symbiote) == &quot;Naga&quot;)&gt;&gt;
The otherwise goopy, shapeless form begins to shift, tightening and defining itself as though it was clay being molded by an invisible hand.
It rises upwards, growing taller as the shape of a head rises out from the top, shoulders widening as the torso grows steadily more defined.

Lower down, the form stretches out longways, bent and molded into a long, thick, serpentine tail that merges seamlessly with the humanoid upper-body of the muscle-bound beast.
Its head quickly morphed into a serpentine muzzle, whose form was accompanied by scales which pushed out from beneath the monster&#39;s goopy exterior.

Two large, fan-like protrusions of scales flanked the head, reminding you of an opulent head-dress fit for a king.
The beast opens its mouth, flexing its powerful, scaly jaw as two massive fangs rise out of the roof of its maw.
They drip with a sickly green venom, curving inwards like two daggers.
Two cold, reptilian eyes form above the muzzle, blood-red pupils staring deeply into your soul. That frosty gaze makes your skin grow cold.

His tail slithered around in a hypnotic arc, multi-colored scales cascading in an endless loop of intricate patterns.
The naga&#39;s unnerving mouth curls into a coy grin as it leers down at you, lower half stretching even further, into a &lt;&lt;print setup.getLength(70)&gt;&gt; long body.

What a terrifying, yet gorgeous monster.
\&lt;&lt;elseif (setup.getRaceName($CharacterSheet_Player.symbiote) == &quot;Minotaur&quot;)&gt;&gt;
The otherwise goopy, shapeless form begins to shift, tightening and defining itself like wet clay pinched by invisible fingers.

Broad, powerful shoulders appear below the still-formless shape of the head, arms thickening and stretching outwards, legs growing longer, torso growing thicker.

Its calves begin to bend backwards, formless feet defining into the powerful hooves of a massive bovine beast.
Its head stretches forward, a primal muzzle forming as the goop recedes into the monster&#39;s body.

Two thick, curled horns push out from the top of his head, each one as thick as your arms, their exterior the color of volcanic soil.
From behind, the thin tail of a bull began to swing between his legs.

In the wake of the vanishing goop is left thick tufts of fur, coating the legs and head, trailing down the center of the minotaur&#39;s muscular torso; a large patch of fur blooms out from the deep valley of his powerful pecs, forming a V-shape with a long, thin trail dividing his expertely chiseled abs.
The minotaur glances down at his bulging body, thick chest rising and falling with each of his strong huffs.
His nostrils flex with each breath, hot air and the smell of testosterone wafting past your face each time he opened his mouth.
There was a deeply hungry look in his eyes as he stared down at you, as though he was looking for more.

What a primal, yet mighty creature.
\&lt;&lt;elseif (setup.getRaceName($CharacterSheet_Player.symbiote) == &quot;Werewolf&quot;)&gt;&gt;
The otherwise goopy, shapeless form begins to shift, tightening and defining itself like wet clay pinched by invisible fingers.

The vague shape of a narrow, lean-muzzled head rises out from the top of its morphing mass, accompanied by a thick neck and incredibly broad shoulders.

A pair of large ears sprouts from the head as the goopy beast opens its maw wide, letting out a gargled yet undeniably wolfish howl.

It pierces your ears, breaking the otherwise crushing silence of this otherworldly plane.

Several sets of large, pearly-white teeth emerge inside his mouth, their tips as sharp as daggers and curves as elegant as sickles.

Two wild, hungry eyes then appeared beneath his ears, pupils dilated in the intense euphoria the beast was no-doubt experiencing.

His chest widens, filling out the space in front of his torso rather nicely. His waist also widens, a gap appearing in the shifting goo as the unmistakable shapes of digitigrade legs form on his lower half.
His feet tilt upwards, the beast flexing his pawed toes as he rises taller and taller.
His fingers grow longer, ends morphing into massive, sharp claws that look ready to rip through steel.

Then, all along his body, the writhing goo begins to recede, leaving in its wake a thick layer of soft canine fur.
Behind his legs falls a thick, fluffy tail, curling in a gorgeous arc.

He raises his stretching, shifting arms up high, flexing his powerful claws as the soft crack of bones signal the end of his transformation to a mighty beast.
His wild, wolfish eyes stare down at you, your face level with his thick, furry chest.

What a hungry, yet handsome beast.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Intro07_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1685" name="Intro07_2" tags="" position="600,21100" size="100,100">The air around the &lt;&lt;SymbioteRace&gt;&gt; seems to grow a little hotter, the edges of their beautiful form shimmering with an eminent power.

You can feel it in the air, steadily building in intensity around them, the feeling as tense as a bowstring drawn to its utter limit.

It permeates your bones, resonating deep within your soul, filling you with an utterly indescribable feeling.

You&#39;ve never quite felt such an intimate link to another being before.
The goo around him suddenly speeds up, it rushes to every inch of his body. It grows the &lt;&lt;SymbioteRace&gt;&gt; into a beast of muscles and power.
It then gathers to its waist. You blush as a fat humanoid cock grows on the monster&#39;s crotch.

The &lt;&lt;SymbioteRace&gt;&gt; looks at his body, he seems enthralled with the form you&#39;ve expressed for him. He gropes his pecs and his &lt;&lt;print setup.getLength(12)&gt;&gt; cock.

Suddenly, his whole form shakes with incoming growth...
He looks straight at you and moans eagerly. He urges you to gaze at his body.

You focus on

[[His cock-&gt;Intro08][$SymbioteBoost = &quot;cock&quot;]]
[[His muscles-&gt;Intro08][$SymbioteBoost = &quot;muscles&quot;]]
[[His whole body-&gt;Intro08][$SymbioteBoost = &quot;height&quot;]]</tw-passagedata><tw-passagedata pid="1686" name="Intro08" tags="" position="725,21100" size="100,100">\&lt;&lt;if $SymbioteBoost == &quot;cock&quot;&gt;&gt;
You focus on his cock. You immediately see it throb and expand. The &lt;&lt;SymbioteRace&gt;&gt; can&#39;t stop moaning as his shaft crawls along his legs.
He grasps the base and jerks off intensely.

\&lt;&lt;elseif $SymbioteBoost == &quot;muscles&quot;&gt;&gt;
You focus on his muscles. You immediately see his abs burst with size and power. His biceps expand until they become bigger than bowling balls.
He then roars in delight as his pecs explode with growth. They inch bigger and bigger as he pinches his hard fat nipples in a torrent of pleasure and lust.

\&lt;&lt;elseif $SymbioteBoost == &quot;height&quot;&gt;&gt;
The &lt;&lt;SymbioteRace&gt;&gt;&#39;s whole body shakes in pleasure. His deep moans turn even deeper as he grows in size. He grins as your vision fills with the changing &lt;&lt;SymbioteRace&gt;&gt;.
His moans fill the void as his body becomes &lt;&lt;print setup.getLength(90)&gt;&gt; tall. He comes closer to you triumphantly, his mass thumping across the blackness.
\&lt;&lt;/if&gt;&gt;

He looks so hot... Your creation approaches as precum oozes from both of your cocks. You blush as his hands slowly feel your chest and slide down lower.
You press your head on his thick juicy pecs as you reach for his rear end and firmly squeeze his muscular cheeks. He releases a deep alien moan in approval.

Some of his goo drips on your body, it quickly enters you through your skin. Your arousal suddenly skyrockets.

Some colours start to gain definition along the &lt;&lt;SymbioteRace&gt;&gt;&#39;s body. The dripping goo that surrounds the monster slowly stabilizes into a single colour.

[[Amber-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.AMBER; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.AMBER)]]
[[Beige-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BEIGE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BEIGE)]]
[[Black-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BLACK; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BLACK)]]
[[Blue-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BLUE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BLUE)]]
[[Brown-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BROWN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BROWN)]]
[[Crimson-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.CRIMSON; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.CRIMSON)]]
[[Emerald-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.EMERALD; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.EMERALD)]]
[[Golden-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.GOLDEN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.GOLDEN)]]
[[Green-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.GREEN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.GREEN)]]
[[Grey-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.GREY; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.GREY)]]
[[Indigo-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.INDIGO; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.INDIGO)]]
[[Obsidian-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.OBSIDIAN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.OBSIDIAN)]]
[[Orange-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.ORANGE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.ORANGE)]]
[[Pink-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.PINK; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.PINK)]]
[[Purple-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.PURPLE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.PURPLE)]]
[[Red-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.RED; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.RED)]]
[[Sapphire-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.SAPPHIRE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.SAPPHIRE)]]
[[Violet-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.VIOLET; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.VIOLET)]]
[[Tan-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.TAN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.TAN)]]
[[White-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.WHITE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.WHITE)]]
[[Yellow-&gt;Intro09][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.YELLOW; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.YELLOW)]]</tw-passagedata><tw-passagedata pid="1687" name="Intro09" tags="" position="850,21100" size="100,100">\&lt;&lt;run setup.colourAllLimbs($CharacterSheet_Player.symbiote, $CharacterSheet_Player.symbiote.info.colour)&gt;&gt;\

He grins at the sight of his &lt;&lt;SymbioteColor&gt;&gt; gooey body.

It did not seem like he could talk, yet you could feel his gratitude for granting him this form.

He kisses you deep and grinds his cock along your own. His thick, monstrous tongue coils around yours as you feel his gooey body slowly crawl all over your skin.

Your moans fill the dark void as the goo changes you. Your cock grows as you grind yourself on the &lt;&lt;SymbioteRace&gt;&gt;&#39;s body.
It grows bigger with every throb, it soon reaches further than the &lt;&lt;SymbioteRace&gt;&gt;&#39;s own monstrous tool.
He pulls back from the kiss and grins upon seeing your form. You are utterly drenched with &lt;&lt;SymbioteColor&gt;&gt; goo. He takes you into a massive bear hug.

\&lt;&lt;run setup.choice(&quot;[[Let him in...-&gt;Intro10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1688" name="Intro10" tags="" position="975,21100" size="100,100">His whole being enters you. You scream at the deluge of pleasure covering your every pore. Lustful moans emerge from your lips as your muscles explode with size and strength.
Along with his strength, you feel his needs enter you... A need for sex and power... A need for more...
You grasp your cock and try to keep it still as litres of goo rushes into your urethra. Your need for more keeps rising, you pull him closer as he covers your form.

Your whole body grows in size. You soon become &lt;&lt;print setup.getLength(86)&gt;&gt; tall. It feels like your cock is about to explode into the biggest orgasm of your life.
The last of the goo finally enters you as you jack off furiously while flicking your thick &lt;&lt;SymbioteColor&gt;&gt; tongue in the air.

Your &lt;&lt;print setup.getLength(86)&gt;&gt; &lt;&lt;SymbioteRace&gt;&gt; body now stands proudly in the dark void. His need for more burned inside your soul. You were ready to take on the world.

The monster&#39;s name appeared in your mind as orgasm hit you in a tidal wave of pleasure.

&lt;&lt;textbox &quot;$CharacterSheet_Player.symbiote.info.name&quot; &quot;Echo&quot;&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Wake Up-&gt;Intro11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1689" name="Intro11_Cock" tags="" position="1100,21100" size="100,100">You get up from bed and see your throbbing cock. It has clearly grown since yesterday...

\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 4)&gt;&gt;
It now reaches &lt;&lt;getLength &quot;cock&quot;&gt;&gt; and begs for your attention. You can&#39;t help but grasp it at the base.</tw-passagedata><tw-passagedata pid="1690" name="Intro11_Muscles" tags="" position="1225,21100" size="100,100">Your muscles throb, you reach for your pecs and moan softly. You look at yourself in the mirror and smile.
You have definitely grown since yesterday. Your hand slides across your abs.

\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 8)&gt;&gt;</tw-passagedata><tw-passagedata pid="1691" name="Intro11_Height" tags="" position="100,21225" size="100,100">\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 1)&gt;&gt;\
\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 7)&gt;&gt;\
Your whole body throbs. When you get up from bed you feel like something about you is different.
You look at yourself in the mirror and smile. Your whole body has grown to &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt; tall, you barely fit in the mirror&#39;s frame anymore.</tw-passagedata><tw-passagedata pid="1692" name="Intro11" tags="" position="225,21225" size="100,100">You wake up feeling energized, invigorated even. Your heart beats faster than you thought possible.
One look at yourself confirmed you still had your regular appearance, but something seemed different.

\&lt;&lt;if $SymbioteBoost == &quot;cock&quot;&gt;&gt;
&lt;&lt;include Intro11_Cock&gt;&gt;
\&lt;&lt;elseif $SymbioteBoost == &quot;muscles&quot;&gt;&gt;
&lt;&lt;include Intro11_Muscles&gt;&gt;
\&lt;&lt;elseif $SymbioteBoost == &quot;height&quot;&gt;&gt;
&lt;&lt;include Intro11_Height&gt;&gt;
\&lt;&lt;/if&gt;&gt;
Moans escape through your heavy breathing, you can&#39;t control your ever increasing arousal...

You gaze at your changed body while grasping your cock. It definitely feels thicker...

After only a few jerks of your throbbing cock, your moans turn deeper.
You feel whatever is inside you... It rushes into your cock, turning it harder than it&#39;s ever been. Cum drips from it like an open faucet.
Your balls churn with seed, they also seem to have grown.

You cum all over yourself, thick shot after thick shot reaches up to the ceiling.

Yet it keeps going.
Your arousal doesn&#39;t stop growing.
After 15 shots, cum stops shooting from you. But you feel that your body is still begging you for more...

\&lt;&lt;run setup.choice(&quot;[[Keep jerking off-&gt;Intro12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1693" name="Intro12" tags="" position="350,21225" size="100,100">You keep jerking off, your moans grow louder.
After a few more minutes, you explode once again.

This one goes on for 10 minutes straight. Your brain floods with orgasmic pleasure beyond what anyone can achieve.

You never want to stop...

You cum again... You go back to jerking off once more...

You keep going for hours and hours until you pass out of sheer exhaustion.

\&lt;&lt;run setup.choice(&quot;[[Rest-&gt;Intro13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1694" name="Intro13" tags="" position="475,21225" size="100,100">&lt;&lt;run setup.addDays(1)&gt;&gt;
Slowly, you begin to get used to your inhuman libido. You realize that you have pleasured yourself for a full day.

You slowly remember that tomorrow is too important to keep indulging in your inhuman lust.

For years you have trained to eventually become one of the protectors of the Golden Bastion. Today is supposed to be the final assignment for your training.

Even with the strange things that were happening to your body, you couldn&#39;t miss this for anything.

You quickly dressed and left for the temple of the Eldest.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1695" name="intro_drink_corruption" tags="" position="600,21225" size="100,100">\&lt;&lt;set $drank_corruption = 1&gt;&gt;
Yes. This is your path of ascension. You realise that the passion that ignites your loins as you touch the Lost&#39;s thick, hot seed is merely a taste of what is to come; of what you will become.

You feel it run down your arm. Liquid fire. Hunger. You need it in you.

Cupping your hands, you fill them with as much Corruption as you can and bring it to your lips. The sensation is beyond divinity. Your groin grows hot, erect and pulses with a supernatural hardness.

The flood gates open. Down below, and within your mind as you euphoria takes you in one of the most mind bending orgasms that should never be achieved by a mortal.

\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.TaintedByTheLost)&gt;&gt;
[Your soul has been corrupted slightly.]

You cum again, and again, and again. Somewhere in the back of your mind, you hear your colossal corrupted kin scream in pain.

Why? Why or who would harm him?

You force your eyes open.

\&lt;&lt;run setup.choice(&quot;[[Continue -&gt; intro_cray_kill]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1696" name="intro_resist_drinking" tags="" position="725,21225" size="100,100">You run your fingers through the thick, steaming sludge. You could have it all. Power beyond your ken, right at your fingertips.

Power. At the cost of what? Your sanity?

The small voice that has been screaming in the back of your mind suddenly reaches a terrifying crescendo as you realise what you and Abel are about to do.

You fill your lungs with air and pull back, utterly horrified. Grabbing Abel&#39;s shoulder, you rip your bodies away from the alluring blight.

The Lost roars with renewed anger. You brace for the sudden impact, but it never comes. Something else had its attention.

\&lt;&lt;run setup.choice(&quot;[[Continue -&gt; intro_cray_kill]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1697" name="intro_cray_kill" tags="" position="850,21225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;run setup.stopSoundActions();&gt;&gt;

&quot;Raaaargh!&quot; A loud warcry bellows out from somewhere between mighty mounds of muscle.

The sound of steel piercing flesh reaches your ears. The Lost howls in agony. Whipping around, it attempts to grab its attacker, but fails to stop a greatsword from plummeting into its skull.

&quot;C-Cray!&quot; You hear Abel shout out as the beast tumbles to the side. He gracfully lands on his feet and sheaths his sword in a large makeshift scabbard strapped to his back.

You face the lead explorer of the Golden Bastion. He is the hallmark of physique and prowess that keeps your home prosperous. The werewolf is an idol.

\&lt;&lt;if $drank_corruption == 1&gt;&gt;
The heavily built wolf cocks his head to the side as he looks at you, an unsettling expression colouring his features.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_cray_gets_jealous]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Thank him-&gt;intro_cray_leaves]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Ask him how you can aid the fight-&gt;intro_cray_leaves]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1698" name="intro_cray_gets_jealous" tags="" position="975,21225" size="100,100">&quot;Why did it choose you?&quot; He asks.

\&lt;&lt;run setup.choice(&quot;[[Ask him what he means -&gt; intro_cray_leaves]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1699" name="intro_cray_leaves" tags="" position="1100,21225" size="100,100">The words leave your mouth. You can feel each syllable pass through your lips, but they fall on deaf ears.

Cray&#39;s expression remains petrified in some combination of excitement, irritation and... hunger. His immense bulks rotates toward the Outer Wall.

His eyes never leave yours until his back faces you.

&quot;Cray! Hey! Are you leaving? Where are you going!?&quot; Abel shouts, clearly shaken from your encounter.

No answer.

&quot;Come on, you can&#39;t just leave us!&quot; Abel begins to jog toward Cray but is interrupted with a frightening growl. Abel stops dead in his tracks.

&quot;Go home.&quot; The explorer&#39;s voice rasps, &quot;Only I can end this cycle.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave him be-&gt;intro_cray_leaves_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Run after him-&gt;intro_cray_knockout]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1700" name="intro_cray_leaves_2" tags="" position="1225,21225" size="100,100">You and Abel watch, open mouthed, as the imposing figure leaves the Golden Bastion.

He does not look back.

After exchanging worried words, you decide to hide in the rubble and recover from your wounds until the sound of fighting dies out.

It is hard to rest within the wreckage of one&#39;s home. It is even harder with the memories of the night playing across the back of your eyelids on loop.

The monsters. The growth. The corruption.

Cray...

You find the thoughts whirring in your mind like a swarm of angry hornets. Yet, eventually, as restless as your mind may be.

You drift into the darkness of slumber.

&lt;&lt;include intro_post_cray_encounter&gt;&gt;</tw-passagedata><tw-passagedata pid="1701" name="intro_cray_knockout" tags="" position="100,21350" size="100,100">You shout after Cray, running past the stunned Abel.

\&lt;&lt;if $drank_corruption == 1&gt;&gt;
He stops moving and growls, &quot;I see you are not content to simply steal what is rightfully mine, but to stick your nose even further into where it does not belong.&quot;
\&lt;&lt;else&gt;&gt;
He stops moving and growls.
\&lt;&lt;/if&gt;&gt;

In the blink of an eye, the werewolf backsteps and grabs you by the throat. He pushes his snout as close to your face as he can.

Black veined eyes stare at you as if you&#39;re just another monster.

&quot;Don&#39;t get in my way...&quot; he whispers menacingly.

You cough and gasp for air, yet he squeezes tighter. Abel runs at him, but is easily slapped away. This level of strength is unnatural!

&quot;I will remember you, pup,&quot; he continues, &quot;Make sure we never meet again.&quot;

The lack of air, the exhaustion of the day and the lack of strength to fight back results in darkness creeping in from the edges of your vision. You feel your body become numb before it is dropped unceremoniously onto the dirt.

The explorer&#39;s words play on loop within your mind as your consciousness fades into oblivion.

&lt;&lt;include intro_post_cray_encounter&gt;&gt;</tw-passagedata><tw-passagedata pid="1702" name="intro_post_cray_encounter" tags="" position="225,21350" size="100,100">\&lt;&lt;if !setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_TaintedByTheLost&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.SurvivorOfTheFirstEclipse)&gt;&gt;
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue -&gt; intro_sleep]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1703" name="intro_timer_passage" tags="" position="350,21350" size="100,100">\&lt;&lt;set $IntroCountdown = $IntroCountdown - 1&gt;&gt;
\&lt;&lt;if $IntroCountdown == 2&gt;&gt;
The shuddering beneath your feet is intensifying. It is getting closer.
\&lt;&lt;elseif $IntroCountdown == 1&gt;&gt;
The beast is almost upon you!
\&lt;&lt;elseif $IntroCountdown == 0&gt;&gt;
&lt;&lt;goto [[intro_out_of_time]]&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1704" name="intro_sleep" tags="" position="475,21350" size="100,100">You are vaguely aware of the sound of renewed shock from people around you. Muffled voices panicking about... the sky?

Your eyes peel open ever so slightly to the darkness of a room. You recognise it as your own. Abel must have carried you back in your sleep.

&quot;Yeah, I know. I saw the ball of fire in the sky.&quot; Abel&#39;s voice startles you. He is standing at the door, talking to someone out of sight.

&quot;Bloody thing scared me half to death while we were out in the combat zone. Shockwave from its landing nearly tore apart what was left of the house we were hiding in.&quot; He nods at the prompt of whispered dialogue, \
&quot;Listen, I get the urgency. I get why the Eldest wants him to go, but can&#39;t you give $CharacterSheet_Player.info.name a break? At least until morning?&quot;

The argument goes backwards and forwards, but you find your mind slipping back into the caress of sleep. You can&#39;t help but feel a sense of unease. A meteorite?

\&lt;&lt;run setup.choice(&quot;[[Wake up-&gt;intro_wake_up]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1705" name="intro_start" tags="" position="600,21350" size="100,100">\&lt;&lt;if $CharacterSheet_Player.info.name == &quot;Kanathar&quot;&gt;&gt;
&lt;&lt;include Kanathar_EasterEgg&gt;&gt;
\&lt;&lt;else&gt;&gt;
Your eyes peel open to a blurry sky.

Each blink brings back a little more clarity and awakens a deep rooted sense of urgency and panic.

You feel surrounded, pressed to defend yourself, but it&#39;s hard to remember why.

\&lt;&lt;run setup.choice(&quot;[[Take in your surroundings-&gt;intro_start_2]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1706" name="Kanathar_EasterEgg" tags="" position="725,21350" size="100,100">&quot;Hmmmm... Feeling cheeky, are we?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Kanathar_EasterEgg_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1707" name="Kanathar_EasterEgg_2" tags="" position="850,21350" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
&quot;You think you can just take my name away from me, maybe taste some of it&#39;s power for yourself?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Kanathar_EasterEgg_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1708" name="Kanathar_EasterEgg_3" tags="" position="975,21350" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;

&quot;Lemme show you where you stand, pet. Give you a name that&#39;s a better fit for you.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_3][$CharacterSheet_Player.info.name = &#39;Perovsky&#39;]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1709" name="intro_start_2" tags="" position="1100,21350" size="100,100">Small withering buildings of sandstone and marbles cover the sides of a huge canyon.

Some of them have clearly been damaged by what seems to be huge boulders.
Were they launched here? Did one of these cause you to fall unconscious? Thinking about it only hurts your head even more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_start_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1710" name="intro_start_3" tags="" position="1225,21350" size="100,100">As you rock your body to get back onto your feet, you begin to remember...

This is your home, the Golden Bastion.
It is currently under attack!

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_start_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1711" name="intro_start_4" tags="" position="100,21475" size="100,100">You rock your body to get back onto your feet.

The outer wall; a fortified fence that acted as a barrier between the populace and the beasts outside is breached.
Gaping holes and piles of debris could be seen, even from this distance.

\&lt;&lt;run setup.choice(&quot;[[Look around you-&gt;intro_start_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1712" name="intro_start_5" tags="" position="225,21475" size="100,100">You twist around to face behind you and a wave of relief rolls through your body.
The fighting is still going on but the defense of the Inner Wall is still holding.

For the attacker to be threatening the safety of the inner clusters, it&#39;s all surreal.

\&lt;&lt;run setup.choice(&quot;[[Go help protect the Inner Wall-&gt;intro_start_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1713" name="intro_start_6" tags="" position="350,21475" size="100,100">Grunts and roars resound all around you as you reach the chaos of battle.
Guards hide amongst the wounded, ready for what&#39;s coming next.

You push onward.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_start_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1714" name="intro_start_7" tags="" position="475,21475" size="100,100">After only a few steps, a shrill cry from a familiar voice gives you just enough warning to notice the rumbling earth.

Footsteps. Large ones. A low baritone growl.
You could recognize these sounds anywhere.

A Lost is here, a beast completely consumed by Corruption, enthralled by its urges to mate and grow stronger.

\&lt;&lt;run setup.choice(&quot;[[Help protect the Golden Bastion-&gt;intro_start_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1715" name="intro_start_8" tags="" position="600,21475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;
&quot;Look out!&quot;

A mass of writhing black hurdles above you. Ebony claws barely miss you. Acting fast, you spin around. \
A thick black liquid cascades outwards from the massive beast as it lands in front of you, its body a formless blob of ink. It roars, spewing more of the substance out of its monstrous muzzle.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_start_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1716" name="intro_start_9" tags="" position="725,21475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
It kicks back into the sand with its powerful legs, launching itself at you!

&quot;Not on my watch!&quot; You hear a voice on your left.

\&lt;&lt;run setup.choice(&quot;[[Dodge!-&gt;intro_monster_ambush_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1717" name="intro_monster_ambush_2" tags="" position="850,21475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

The monster yowls as it plummets into one of the standing walls behind you.

&quot;Now&#39;s our chance!&quot; Abel screams as he jumps on the beast&#39;s back. His sword rises as he lifts it with both hands and gets ready the thrust it in the beasts back.

\&lt;&lt;run setup.choice(&quot;[[Fight!-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Wounded_Lost]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1718" name="intro_fight_won" tags="" position="975,21475" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
With one strong hit to the beast&#39;s chest, it steps back in disbelief of your strength.

&quot;Guhhhhh...&quot; It groans before letting out a pitiful wimp and falling face first on the village&#39;s gravel road.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_fight_won_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1719" name="intro_fight_won_2" tags="" position="1100,21475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

Abel quickly jumps off of the beast back as it falls.
You can tell how the excitement of the fight still rushes within him.

&quot;Hell yeah! We did it!&quot;

He jumps in place happily but quickly realizes that while you won this battle, there&#39;s still more of them out there.

&quot;Thanks for the help back there, but we really should get moving soon.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_first_crossroads]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1720" name="intro_fight_lost" tags="" position="1225,21475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

&quot;Cmon... You gotta help me out here!&quot; Abel screams to you in growing frustration.

He holds on to the beasts back and hits him in the back of the head.
Over and over, he grunts as he smacks him with enough strength to make you squint.

&quot;I won&#39;t let you hurt my people!&quot;

The beast desperately tries to grasp at Abel, but his unbelievably muscular body makes it impossible. He&#39;s simply out of reach.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_fight_lost_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1721" name="intro_fight_lost_2" tags="" position="100,21600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

With one final hit, the beast lets out a pitiful wimp and falls face first on the village&#39;s gravel road.

Abel quickly jumps off of the beast back as it crumbles.
He seems cold, unceremonious even.

&quot;Next time, at least try to help out man...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_first_crossroads]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1722" name="intro_first_crossroads" tags="" position="225,21600" size="100,100">The sound of fighting echoes across the ruins of the Golden Bastion between the Inner and Outer Walls.

Writhing at your feet is the unconscious body of one of the attacking monsters. Its muscles expand and contract, seemingly with a life of its own.

Abel is a few steps away, bouncing on his heels and ready to get moving.

\&lt;&lt;run setup.choice(&quot;[[Get moving-&gt;intro_get_moving]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Inspect the monster&#39;s body-&gt;intro_inspect_monster]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1723" name="intro_inspect_monster" tags="" position="350,21600" size="100,100">Kneeling down, you lean in closer toward the felled beast. It appears to be wolfish in shape, at least going by the facial structure: long snout, square jaw with a pair of triangular ears. \
That&#39;s where the similarities to the werewolf race ends, however, as the rest of its body from neck downwards balloon with egregious amounts of muscle.

You&#39;ve seen these types of beasts before.

They&#39;re called The Lost.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_inspect_monster_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1724" name="intro_inspect_monster_2" tags="" position="475,21600" size="100,100">There&#39;s a black oil-like substance that seeps out from beneath its fur.
If you listen closely, you can hear the sound of bursting bubbles which is promptly followed by a few more streamers of the inky substance dripping off of his body and onto the floor.

It&#39;s size is unbelievable.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_inspect_monster_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1725" name="intro_inspect_monster_3" tags="" position="600,21600" size="100,100">It&#39;s head is resting on massive boulder like shoulders that are a good distance off of the floor; propped up by gigantic arms.
Its chest barrels so far forward that you doubt it would be able to see anything that stood close enough to its trunk like legs.

It is still growing...

You squint. Your eyes do not deceive you. Each muscle is slowly stretching outwards.

Higher. Bigger. Harder.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_inspect_monster_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1726" name="intro_inspect_monster_4" tags="" position="725,21600" size="100,100">Your eyes flick toward its throbbing cock. Every loud thud of its head slamming into its chest is a perverse drum beat that grows deeper and heavier.
The shaft is growing too; slowly inching upwards across the Lost&#39;s pectorals.

Two watermelon sizes balls churn right below that, digging into the dirt with increasing weight and size.
Given a few days, would this creature even be able to walk without the rod jutting in front of its vision?

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_inspect_monster_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1727" name="intro_inspect_monster_5" tags="" position="850,21600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

Abel startles you as he speaks out from behind your shoulder, &quot;See what I mean? This bastard is massive and this is one of the smaller ones.&quot;

[[Ask about the black liquid-&gt;intro_corruption]]
[[Leave the monster-&gt;intro_first_crossroads]]</tw-passagedata><tw-passagedata pid="1728" name="intro_corruption" tags="" position="975,21600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

&quot;It&#39;s definitely Corruption.&quot;

You notice Abel&#39;s hand moves to rub a hardening bulge near his crotch. &quot;Any salvager worth his salt says that this stuff is extremely dangerous. Gets under your skin. Maybe that&#39;s what is turning this thing into such a big, burly beast.&quot;

Abel&#39;s hand suddenly pulls away from his pants, &quot;Are we done here? I don&#39;t want to stay near this fiend any longer.&quot;

[[Say it doesn&#39;t feel too bad-&gt;intro_hot]]
[[Say it looks dangerous-&gt;intro_disgusting]]</tw-passagedata><tw-passagedata pid="1729" name="intro_hot" tags="" position="1100,21600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

Abel&#39;s face flushes bright red, &quot;You think so too?&quot; He shakes his head. &quot;S-shut up! Don&#39;t tease me at a time like this! That&#39;s just the corruption talking...&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave the monster-&gt;intro_first_crossroads]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1730" name="intro_disgusting" tags="" position="1225,21600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

Abel remains silent. He begins to wring his hands; a telltale sign that something is bothering him.

&quot;Y-yeah. I guess you&#39;re right.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave the monster-&gt;intro_first_crossroads]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1731" name="intro_get_moving" tags="" position="100,21725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;Alright, then we best get going before any more of them show up.&quot;

You and your companion begin walking, using the tight spaces between standing shacks to your advantage.

&quot;These attacks have been happening more and more, and they always come back bigger than before.&quot;

\&lt;&lt;run setup.choice(&quot;[[Stop and listen-&gt;intro_FastEnd]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1732" name="intro_FastEnd" tags="" position="225,21725" size="100,100">You reach the central hub of the village, you can make out a handful of guards patrolling the vicinity, their faces set in stern expressions.

The warriors here are all incredibly strong, their bodies honed by years of hard work and combat. They wear light armor and carry a variety of weapons, from swords and spears to bows and arrows.
They move with purpose, patrolling the village and keeping a sharp eye out for any more attackers.

But the attack itself seems to be taken care of.

[[Continue-&gt;intro_FastEnd_2]]</tw-passagedata><tw-passagedata pid="1733" name="intro_FastEnd_2" tags="" position="350,21725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

Abel aubibly sighs.

&quot;I&#39;ll have to let the Herald know about what happened, but I&#39;m glad it&#39;s over for now.&quot;

[[Continue-&gt;intro_FastEnd_3]]</tw-passagedata><tw-passagedata pid="1734" name="intro_FastEnd_3" tags="" position="475,21725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

He glances at you, and his expression then fills with unease.

&quot;You should take some rest friend. You look like you&#39;ve seen a ghost or something.&quot;

[[Ask him what he means-&gt;intro_FastEnd_Means]]
[[Go Home-&gt;intro_FastEnd_4]]</tw-passagedata><tw-passagedata pid="1735" name="intro_FastEnd_Means" tags="" position="600,21725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;Must just be the shock of it all, you should just rest on it.&quot;

He starts to move towards the central tower, where the Herald is surely waiting for him.

&quot;I got a feeling it&#39;s not the last time we&#39;ll have to face the Lost. Make sure you&#39;re ready for it.&quot;

[[Continue-&gt;intro_FastEnd_4]]</tw-passagedata><tw-passagedata pid="1736" name="intro_FastEnd_4" tags="" position="725,21725" size="100,100">The village is arranged in a circle, with homes of varying sizes.
There are a few larger stone houses in the center of the village, some of which are adorned with markings that seem to denote rank or status.
Here, the warriors come together to plan their next moves, to share stories and to pass on their knowledge and wisdom.

They are a close-knit group, fiercely loyal to one another and dedicated to protecting their home.

Your home is but a few steps away.

[[Go Home and rest-&gt;intro_wake_up]]</tw-passagedata><tw-passagedata pid="1737" name="intro_fail" tags="" position="850,21725" size="100,100">The scent... the virility of the beast in front of you. It is almost too much to bear. You drop your sword and fall to your knees.
You hear the clatter of Abel&#39;s weapon as he joins you next to the growing pool of its ambrosia.

Power. Mass. Growth. You could have it right now if you give in. This Lost is not hunting you, it&#39;s offering you a chance to be something more. To be something greater.

All it would take is a little push...

\&lt;&lt;run setup.choice(&quot;[[Drink its seed -&gt; intro_drink_corruption]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Resist! -&gt; intro_resist_drinking]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1738" name="intro_wake_up" tags="" position="975,21725" size="100,100">You rest, dreamlessly, and are only awoken by the kiss of sunlight. Covering your face from the intruding rays you push yourself upright, letting your tattered blanket fall onto the dusty floor.

Your wound stings and your body aches with fatigue.

Although today would be yet another in this wasteland of a home; it feels as if last night is only the first of something far greater...

... and far more dangerous.

\&lt;&lt;run setup.choice(&quot;[[Get dressed -&gt; intro_get_dressed]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1739" name="intro_get_dressed" tags="" position="1100,21725" size="100,100">You take a moment to put your gear back on, Corruption off of your clothes with some scrap fabric you had collected for just this occasion.

When you finish, you find yourself holding two separate textiles.

One is stained black. You find yourself clutching onto the cloth tightly.

\&lt;&lt;run setup.choice(&quot;[[Breathe it in -&gt; intro_inhale_cloth]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Throw it away -&gt; intro_throw_away_cloth]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1740" name="intro_inhale_cloth" tags="" position="1225,21725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Luck is on your side. There is enough here to have at least one mind bending orgasm - just enough to feel the forbidden pleasure.

Closing your eyes, you place the cloth over your mouth and inhale deeply. Searing warmth rushes through your body and you flush with intense arousal.

You need more.

Far more!

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_inhale_cloth_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1741" name="intro_inhale_cloth_1" tags="" position="100,21850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Your breath quickens into a frenzy. With every breath, pleasure builds and builds and builds until a mind-shattering orgasm rips through your senses.

It is beyond your expectation; the heavenly bliss expanding out from your groin and across your entire body.

You feel as if you&#39;ve somehow grown a little stronger.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 2)&gt;&gt;

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 10)&gt;&gt;
Δ: You gain 10 corruption.

\&lt;&lt;run setup.choice(&quot;[[Leave -&gt; intro_leave_home][setup.stopRealizationPackages([&#39;CharacterSheet_Player&#39;])]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1742" name="intro_throw_away_cloth" tags="" position="225,21850" size="100,100">Tearing your eyes from it, you ball the fabric and throw it across the room.

Disgusting.

You cannot help but be simultaneously angered and afraid of the inky toxin.

Taking a mental note of the potency of the foul Corruption, you get up to leave.

\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Achievement_MemoriesOfTheLost&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave -&gt; intro_no_herald]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave -&gt; intro_leave_home]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1743" name="intro_no_herald" tags="" position="350,21850" size="100,100">Leaving the comfort of your home, you walk through what feels like a wall made of dry, hot air. The desert would not be kind to explorers today.

The Herald is nowhere to be seen.

&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;Good...&lt;/span&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1744" name="intro_leave_home" tags="" position="475,21850" size="100,100">Leaving the comfort of your home, you walk through what feels like a wall made of dry, hot air. The desert would not be kind to explorers today.

&quot;G&#39;morning sleepy head!&quot; You hear Abel call out. He is standing next to a man covered from tip to toe in a frayed cassock. &quot;Come over here for a second.&quot;

You recognise the mysterious figure next to Abel as the Herald. Only those chosen to be a Herald may enter the temple in the center of the village and speak with the Eldest.
These people are your leader&#39;s voice, his eyes and ears.

The older man smiles at you from underneath his hood, his blue eyes sunken into his aged skull and canopied by a mat of silver hair.
&quot;Ah, $CharacterSheet_Player.info.name. I am so relieved to see that you have recovered.&quot;

\&lt;&lt;run setup.choice(&quot;[[Approach the Herald -&gt; intro_approach_herald]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1745" name="intro_approach_herald" tags="" position="600,21850" size="100,100">Taking your hand, he smiles up at you, &quot;I am truly grateful that you were not slain in the attack last night and, too, am I truly, truly sorry that I must request that you are put in danger again so suddenly.&quot;

Abel grunts and folds his arms, seems like he has been told the news beforehand.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;intro_approach_herald_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1746" name="intro_approach_herald_2" tags="" position="725,21850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;You are next in line, apparently. Curse of being too good with those fists of yours, buddy.&quot;

&quot;That is not a curse, Abel!&quot; The Herald scowls, silencing your friend, &quot;It is one of the highest honours to hold the title of explorer. Especially considering how frequent these attacks are getting. Now please, time is of the essence. Proceed to the Barrens and report back to us what you find.&quot;

Giving you little room to respond, the man leaves you and Abel and hobbles back toward the village center.

&quot;Well,&quot; Abel sighs and then puts a hand on your shoulder, his tone growing slightly sarcastic &quot;Congratulations. One battle and straight into the other. You stay safe out there, okay?&quot;

\&lt;&lt;run setup.choice(&quot;[[Ask Abel to accompany you -&gt; intro_abel_company]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Thank him and depart -&gt; intro_depart]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1747" name="intro_abel_company" tags="" position="850,21850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;I would if I could! I just don&#39;t think the guards will let the Herald&#39;s apprentice leave the village like that.&quot; \

He suddenly wraps his arms around you and gives you a squeeze, &quot;Make sure you get back here alive and in one piece. I&#39;m not letting this forsaken world steal you too.&quot;

After a few moments of conversation, you say goodbye to each other and watch Abel&#39;s form disappear into the village proper.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1748" name="intro_depart" tags="" position="975,21850" size="100,100">There is no reason to delay. If a Herald gave you an order, it is priority to deal with it immediately.

After a few moments of conversation, you thank Abel for his help and say your farewells.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1749" name="intro_skip" tags="" position="1100,21850" size="100,100">You wake up in your bed, a cloth empty of the corruption from the night before fogging your mind.
You feel as though you have been here before...the attack from the lost, the call from the Herald. You are ready for what comes...

\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 2)&gt;&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 10)&gt;&gt;
Δ: You gain 10 corruption.

&lt;&lt;print setup.getFightReward($CharacterSheet_Wounded_Lost)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave -&gt; Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1750" name="Name Setup" tags="Name" position="24,1579" size="100,100">&lt;&lt;include MeasurementSystem&gt;&gt;
\&lt;&lt;if $Debug&gt;&gt;
&lt;&lt;include LanguageSelection&gt;&gt;
\&lt;&lt;/if&gt;&gt;

&lt;&lt;include ChoicesWindowSettings&gt;&gt;

I am &lt;&lt;textbox &quot;$CharacterSheet_Player.info.name&quot; $CharacterSheet_Player.info.name&gt;&gt;.

I sound like this. (You can adjust the volume at the bottom of the stats panel)
&lt;&lt;print setup.displayVoiceRadio($CharacterSheet_Player, [&quot;AudioSheet_Voice1_Player&quot;,&quot;AudioSheet_Voice2_Player&quot;])&gt;&gt;

And I am a
&lt;&lt;print setup.addDOMHook(&quot;Setup_Race_Select_div&quot;, setup.getRaceSelect)&gt;&gt;

\&lt;&lt;if $Debug&gt;&gt;
[[Something else...-&gt;CustomRaceDisclaimer]]
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1751" name="CustomRaceDisclaimer" tags="" position="100,21975" size="100,100">&lt;&lt;run setup.stopTestVoices()&gt;&gt;
Welcome to the custom race menu! This is a debug level tool which allows you to inject your own race into the game.
Please be advised that this race is NOT included into the main game and only exists within your save. Thus, please note:

- This race will NOT be carried into the next version if the save is incompatible
- I cannot guarantee that the text will cater for all aspects of your new race

[[I accept-&gt;CustomRaceCreator]]
[[I decline-&gt;Name Setup]]</tw-passagedata><tw-passagedata pid="1752" name="CustomRaceCreator" tags="" position="225,21975" size="100,100">Instructions:

Select a combination of Racial Bonuses and Anatomy up to the point cost total allotted.
You can add a list of adjectives to describe the textures of individal limbs.  Please separate them with the &#39;,&#39; character.

I am &lt;&lt;textbox &quot;$CharacterSheet_Player.info.name&quot; $CharacterSheet_Player.info.name&gt;&gt;.

I sound like this. (You can adjust the volume at the bottom of the stats panel)
&lt;&lt;print setup.displayVoiceRadio($CharacterSheet_Player, [&quot;AudioSheet_Voice1_Player&quot;,&quot;AudioSheet_Voice2_Player&quot;])&gt;&gt;

\&lt;&lt;run setup.AbilityScripts.Form.initializeCustomPointsParams()&gt;&gt;
&lt;&lt;print setup.addDOMHook(&quot;Setup_CustomRace_Select_div&quot;, setup.AbilityScripts.Form.getCustomRaceTable)&gt;&gt;
[[Done-&gt;$Intro_Passage][setup.AbilityScripts.Form.saveCustomPointsParams(); console.log($CustomRace); console.log(setup.RacePool); setup.parseIntStats(); setup.setRace(State.variables.CharacterSheet_Player, setup.RacePool.CUSTOM); setup.stopTestVoices();]]
[[Back-&gt;Name Setup]]</tw-passagedata><tw-passagedata pid="1753" name="RandomEcounter" tags="" position="167,1844" size="100,100">\&lt;&lt;if !$Encounter_Target&gt;&gt;
You find nothing exciting in your journey. All those that could have crossed your path are no more.

\&lt;&lt;run setup.choice(&quot;[[Go Home-&gt;Village]]&quot;);&gt;&gt;

\&lt;&lt;elseif setup.hasKnownEncounter()&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;

The Barrens are hard to get used to, but you have travelled them enough to trail some of your previous encounters.
\&lt;&lt;run setup.choice(&quot;[[Explore the Barrens-&gt;KnownEncounter]]&quot;);&gt;&gt;
&lt;&lt;print setup.displayKnownEncounters()&gt;&gt;

\&lt;&lt;else&gt;&gt;
&lt;&lt;include KnownEncounter&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1754" name="KnownEncounter" tags="" position="475,21975" size="100,100">&lt;&lt;print $Encounter_Target.fight.encounterIntroText&gt;&gt;</tw-passagedata><tw-passagedata pid="1755" name="Change_Combo_Moves_Menu" tags="Overworld" position="600,21975" size="100,100">\&lt;&lt;set $CharacterSheet_Player.info.choiceHighlight.newCardAvail = false;&gt;&gt;
Change Combo Moves!
\&lt;&lt;set $FightMovesLeft = 6&gt;&gt;
&lt;&lt;print setup.displayChangeFightMoves()&gt;&gt;</tw-passagedata><tw-passagedata pid="1756" name="ChartPage" tags="Overworld" position="725,21975" size="100,100">You reminisce about the beings you&#39;ve encountered along your adventure and how their size compares to one another. 

&lt;&lt;print setup.renderGraph()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Home]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1757" name="Home" tags="Overworld" position="850,21975" size="100,100">\&lt;&lt;if $CharacterSheet_Player.quest.corruptionVillageExiled == true&gt;&gt;
Your camp rests on top of a vast canyon. you&#39;re confident that you won&#39;t get too disturbed here.

You notice some weapons and trinkets from travellers past. Seems that you&#39;re not the first exile to take camp in this place.

&lt;&lt;print setup.displayVideo(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Exiles_Rest.mp4&quot;, false)&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;homeFlavour&quot;)&gt;&gt;
\&lt;&lt;/if&gt;&gt;

[[Check appearance-&gt;mirror_player]]
\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_HostOfEcho&quot;)&gt;&gt;
[[View Symbiote-&gt;mirror_symbiote]]
\&lt;&lt;/if&gt;&gt;
[[Ponder about encounter sizes-&gt;ChartPage]]
[[Recount your adventure-&gt;Journal]]

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1758" name="Journal" tags="Overworld" position="975,21975" size="100,100">&lt;&lt;print setup.displayJournal()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Home]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1759" name="mirror_player" tags="Overworld" position="1100,21975" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_Flavour&quot;, 1)&gt;&gt;

You are currently a &lt;&lt;print setup.displayStatValue($CharacterSheet_Player, &quot;height&quot;, true)&gt;&gt; tall &lt;&lt;print setup.getRaceName($CharacterSheet_Player)&gt;&gt; with &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Player)&gt;&gt; muscles.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;mirror_player_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1760" name="mirror_player_2" tags="Overworld" position="1225,21975" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_HeadFlavour&quot;, 1)&gt;&gt;
&lt;&lt;if $CharacterSheet_Player.info.anatomy.horns != undefined &amp;&amp; $CharacterSheet_Player.info.anatomy.horns.number &gt;= 1&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_HornsFlavour&quot;,1 )&gt;&gt;
&lt;&lt;/if&gt;&gt;
You smile. This was just the tip of the iceberg.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;mirror_player_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1761" name="mirror_player_3" tags="Overworld" position="100,22100" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_UpperBodyFlavour&quot;, 1)&gt;&gt;
&lt;&lt;if $CharacterSheet_Player.info.anatomy.wings != undefined &amp;&amp; $CharacterSheet_Player.info.anatomy.wings.number &gt;= 1&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_WingsFlavour&quot;,1 )&gt;&gt;
&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;mirror_player_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1762" name="mirror_player_4" tags="Overworld" position="225,22100" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_LowerBodyFlavour&quot;, 1)&gt;&gt;
&lt;&lt;if $CharacterSheet_Player.info.anatomy.tails != undefined &amp;&amp; $CharacterSheet_Player.info.anatomy.tails.number &gt;= 1&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_TailFlavour&quot;, 1)&gt;&gt;
&lt;&lt;/if&gt;&gt;
Then your eyes travel along your navel and to your crotch, your pride and joy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;mirror_player_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1763" name="mirror_player_5" tags="Overworld" position="350,22100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_player_CrotchFlavour&quot;, 1)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Back-&gt;Home][setup.stopRealizationPackages([&#39;CharacterSheet_Player&#39;])]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1764" name="mirror_symbiote" tags="" position="475,22100" size="100,100">\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_ToLiveForEcho&quot;)&gt;&gt;
&lt;&lt;print &quot;You feel &lt;&lt;SymbioteName&gt;&gt; demanding to be released. Who are you to deny your master&#39;s wishes?&quot;&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &lt;= setup.CorruptionComparators.PURE&gt;&gt;
&lt;&lt;print &quot;In the safety of your own claimed space, you find it surprisingly easy to come to a forceful orgasm, coaxing &lt;&lt;SymbioteName&gt;&gt; out into the open.&quot;&gt;&gt;
\&lt;&lt;elseif setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &lt;= setup.CorruptionComparators.NEUTRAL&gt;&gt;
&lt;&lt;print &quot;You eagerly start to pleasure yourself, feeling the now-familiar moment when &lt;&lt;SymbioteName&gt;&gt; erupts from you, surround you in its warm, slick embrace.&quot;&gt;&gt;
\&lt;&lt;elseif setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &lt;= setup.CorruptionComparators.TAINTED&gt;&gt;
&lt;&lt;print &quot;You flush at the thought of releasing &lt;&lt;SymbioteName&gt;&gt;, eager to feel his flesh against yours. Quickly you reach down to your already throbbing genitals to eagerly seek release and let out your companion.&quot;&gt;&gt;\
\&lt;&lt;else&gt;&gt;
&lt;&lt;print &quot;You put on a show, masturbating for those around you, adding your voice to the constant chorus of pleasure surrounding you.&quot;&gt;&gt;
\&lt;&lt;/if&gt;&gt;\

\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_OrgasmicGrowth&quot;)&gt;&gt;\
&lt;&lt;print &quot;However, without the rush of battle--even against a lowly imp--your orgasm does not seem to push your body further past its limits.&quot;&gt;&gt;
\&lt;&lt;/if&gt;&gt;

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_Flavour&quot;, 1, undefined, true)&gt;&gt;

&lt;&lt;print &quot;&lt;&lt;SymbioteName&gt;&gt; is a &quot; + setup.displayStatValue($CharacterSheet_Player, &quot;height&quot;, true) + &quot; tall &lt;&lt;SymbioteRace&gt;&gt;  with &quot;+ setup.getMusclesDescriptor($CharacterSheet_Player) + &quot; muscles.&quot;&gt;&gt;

\&lt;&lt;set _char = $CharacterSheet_Symbiote&gt;&gt;
\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_ToLiveForEcho&quot;)&gt;&gt;
Now unleashed, &lt;&lt;SymbioteName&gt;&gt; takes the lead in admiring itself for you. Starting with its &lt;&lt;charLimbDesc _char &#39;heads&#39;&gt;&gt;. \
It tries out a few expressions showing off its own jawline, opening its mouth occasionally to admire the view. \
&lt;&lt;SymbioteName&gt;&gt; seems to love admiring the shape of its pronounced cheeks and the way it draws attention to its own mouth. \
There, &lt;&lt;SymbioteName&gt;&gt;&#39;s &lt;&lt;charLimbDesc _char &#39;eyes&#39;&gt;&gt; linger before it opens its &lt;&lt;charLimbDesc _char &#39;jaws&#39;&gt;&gt; wide and lets \
its &lt;&lt;charLimbDesc _char &#39;tongues&#39;&gt;&gt; gloss out over its &lt;&lt;charLimbDesc _char &#39;teeths&#39;&gt;&gt;. \
&lt;&lt;SymbioteName&gt;&gt; seems to give you a salacious glower as it does so.
\&lt;&lt;else&gt;&gt;
You find yourself admiring the gooey glistening of &lt;&lt;SymbioteName&gt;&gt; covering your &lt;&lt;charLimbDesc _char &#39;heads&#39;&gt;&gt;. \
You try out a few expressions showing off its jawline and admiring the form of its face. \
From there, your &lt;&lt;charLimbDesc _char &#39;eyes&#39;&gt;&gt; linger before you spend a moment prodding a hand at your &lt;&lt;charLimbDesc _char &#39;jaws&#39;&gt;&gt;, \
opening its mouth to take a look at its &lt;&lt;charLimbDesc _char &#39;tongues&#39;&gt;&gt; and  &lt;&lt;charLimbDesc _char &#39;teeths&#39;&gt;&gt;. \
You spend a moment admiring the sensation of the new face.
\&lt;&lt;/if&gt;&gt;

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_HeadFlavour&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.symbiote.info.anatomy.horns != undefined &amp;&amp; $CharacterSheet_Player.symbiote.info.anatomy.horns.number &gt;= 1&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_HornsFlavour&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_ToLiveForEcho&quot;)&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_UpperBodyFlavour_LiveForEcho&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_UpperBodyFlavour&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
&lt;&lt;if $CharacterSheet_Player.symbiote.info.anatomy.wings != undefined &amp;&amp; $CharacterSheet_Player.symbiote.info.anatomy.wings.number &gt;= 1&gt;&gt;
\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_ToLiveForEcho&quot;)&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_WingsFlavour_LiveForEcho&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_WingsFlavour&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_ToLiveForEcho&quot;)&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_LowerBodyFlavour_LiveForEcho&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_LowerBodyFlavour&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
&lt;&lt;if $CharacterSheet_Player.symbiote.info.anatomy.tails != undefined &amp;&amp; $CharacterSheet_Player.symbiote.info.anatomy.tails.number &gt;= 1&gt;&gt;
\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_ToLiveForEcho&quot;)&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_TailFlavour_LiveForEcho&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_TailFlavour&quot;, 1, undefined, true)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
You feel &lt;&lt;SymbioteName&gt;&gt;&#39;s attention turning lower.

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;mirror_symbiote_CrotchFlavour&quot;, 1, undefined, true)&gt;&gt;

&lt;&lt;print &quot;Eventually, though, the presence of &lt;&lt;SymbioteName&gt;&gt; fades, relenting back to your &lt;&lt;PlayerRace&gt;&gt; form.&quot;&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Back-&gt;Home]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1765" name="player_visitHouse_heightFlavour_small" tags="" position="600,22100" size="100,100">It takes a few minutes to walk toward Abel&#39;s house, a relatively small shack erected from pieces of limestone, metal and rebar. As you approach, you find your eyes drifting towards scattered curios of an origin you do not recognise. Each trinket appears to be ancient. Ancient and junk.

The door is ajar, a slice of carefully cut corrugated iron which you knock on with three resounding thuds.

After a moment, the door opens and Abel invites you inside.</tw-passagedata><tw-passagedata pid="1766" name="player_visitHouse_heightFlavour_medium" tags="" position="725,22100" size="100,100">Abel&#39;s house was a relatively small shack erected from pieces of limestone metal and rebar within the Inner Ring. However, you can not help but notice how much smaller the shack appears next to your height. What would be a modest home for maybe two people looks like it would struggle to accomodate you through the door.

You find it difficult to make it to the entrance without one of your @[one|legs|noverb] stepping on scattered piles of curios you do not recognise.

The door is ajar, a slice of carefully cut corrugated iron which you knock on with three thunderous thuds.

After a moment, the door opens and Abel invites you inside. It is a tight squeeze to make it through the entryway.</tw-passagedata><tw-passagedata pid="1767" name="player_visitHouse_heightFlavour_large" tags="" position="850,22100" size="100,100">At some point in time, Abel&#39;s house could have been considered a decently sized shack for comfortable family living. Now, the roof barely reaches your midriff.

Each of your massive steps causes piles of ancient curios to rattle in cacophany.

A slice of cleanly cut corrugated iron slides open and Abel&#39;s familiar form slips out into the open to greet you.</tw-passagedata><tw-passagedata pid="1768" name="player_visitHouse_heightFlavour_huge" tags="" position="975,22100" size="100,100">Abel&#39;s house is merely another roof of many from your viewpoint.

Bending down, you use your fingertip to gently tap on the corrugated metal roof.

Not a moment later, Abel slides out from the doorway and into the open, his head having to tilt completely backwards to meet your titanic gaze.</tw-passagedata><tw-passagedata pid="1769" name="player_abelHouseMenu_heightFlavour_small" tags="" position="1100,22100" size="100,100">Abel&#39;s house is small and minimalistic in every way. The work he has done for the rest of the Golden Bastion vastly outweighs the effort he has put into his home.\</tw-passagedata><tw-passagedata pid="1770" name="player_abelHouseMenu_heightFlavour_medium" tags="" position="1225,22100" size="100,100">You have to kneel to not bump your head on the ceiling of Abel&#39;s home. The work he has done for the rest of the Golden Bastion vastly outweighs the effort he has put into his home.\</tw-passagedata><tw-passagedata pid="1771" name="player_abelHouseMenu_heightFlavour_large" tags="" position="100,22225" size="100,100">Abel stands in front of his doorway, his neck bending up to look at you.\</tw-passagedata><tw-passagedata pid="1772" name="player_abelHouseMenu_heightFlavour_huge" tags="" position="225,22225" size="100,100">You have to focus on hearing Abel from where you stand. His form is impossibly small compared to yours.\</tw-passagedata><tw-passagedata pid="1773" name="Village_AbelHouse_Intro" tags="Overworld" position="350,22225" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;visitHouse&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1774" name="Village_AbelHouse" tags="Overworld" position="475,22225" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.naked = false&gt;&gt;\
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;if setup.hasAvailableNarativeEvent(setup.StorySheet_Abel.houseIntro);&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
Abel looks you over and sighs.

&quot;There&#39;s a lot we should talk about.&quot;

&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Abel.houseIntro)&gt;&gt;
&lt;&lt;else&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;abelHouseMenu&quot;)&gt;&gt;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.flavourDialogue, 3)&gt;&gt;\
&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.nyxDialogue, 3)&gt;&gt;\

\&lt;&lt;run setup.choice(&quot;[[Leave -&gt; abelHouseDialogue_outro]]&quot;);&gt;&gt;
&lt;&lt;/if&gt;&gt;\</tw-passagedata><tw-passagedata pid="1775" name="abelHouseDialogue_aboutCray_link" tags="Overworld" position="600,22225" size="100,100">[[Talk about Cray-&gt;abelHouseDialogue_aboutCray]]</tw-passagedata><tw-passagedata pid="1776" name="abelHouseDialogue_aboutCray" tags="Overworld" position="725,22225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

Abel shakes his head and folds his arms, &quot;No information for you that makes sense, I&#39;m afraid. The mystery is still out to debate between me, myself and I.&quot;

&quot;What do you want to know?&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.crayDialogue, 3)&gt;&gt;

[[Talk about something else-&gt;Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1777" name="abelHouseDialogue_aboutCray_whereabouts_link" tags="Overworld" position="850,22225" size="100,100">[[Ask about Cray&#39;s whereabouts-&gt;abelHouseDialogue_aboutCray_whereabouts]]</tw-passagedata><tw-passagedata pid="1778" name="abelHouseDialogue_aboutCray_whereabouts" tags="Overworld" position="975,22225" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_crayDialogue_whereabouts = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;Well,&quot; he sighs, &quot;After you had both disappeared, we sent out a few sweeping patrols.&quot;

&quot;Some of the guards reported seeing sightings of Cray behind dunes in the distance; a massive shimmering werewolf shrouded by the heat. At first, I had chalked it up to coincidence, but eventually there were too many guards saying the same thing.&quot;

&quot;We had to send our patrols further into the Barrens to catch a glimpse of the wayward explorer.&quot; 

[[Continue-&gt;abelHouseDialogue_aboutCray_whereabouts_2]]</tw-passagedata><tw-passagedata pid="1779" name="abelHouseDialogue_aboutCray_whereabouts_2" tags="Overworld" position="1100,22225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

Abel&#39;s mouth screws into a frown, &quot;Every sighting came back more exaggerated. Cray was always bigger. More monstrous.&quot;

&quot;That is until...&quot; Abel pauses, his eyes staring into the distance.

&quot;A single man returned back out of a group of seven. He was frantic, bruised and covered in patches of Corruption. Apparently, this time, Cray had found them first.&quot;

&quot;He made quick work of the party and had sent him back as an example of what he could and would do to us. We didn&#39;t need a second hint.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.crayDialogue, 3)&gt;&gt;

[[Talk about something else -&gt; Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1780" name="abelHouseDialogue_aboutCray_dayLeft_link" tags="Overworld" position="1225,22225" size="100,100">[[Ask about the day Cray left-&gt;abelHouseDialogue_aboutCray_dayLeft]]</tw-passagedata><tw-passagedata pid="1781" name="abelHouseDialogue_aboutCray_dayLeft" tags="Overworld" position="100,22350" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_crayDialogue_dayLeft = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

Abel shrugs, his brow furrowing, &quot;Yeah, that moment has never left me.&quot;

&quot;It felt so out of place, him just walking off like that. He dropped the prosperity of the Golden Bastion entirely.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.crayDialogue, 3)&gt;&gt;

[[Talk about something else -&gt; Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1782" name="abelHouseDialogue_aboutCray_motives_link" tags="Overworld" position="225,22350" size="100,100">[[Ask about Cray&#39;s motives-&gt;abelHouseDialogue_aboutCray_motives]]</tw-passagedata><tw-passagedata pid="1783" name="abelHouseDialogue_aboutCray_motives" tags="Overworld" position="350,22350" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_crayDialogue_motives = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;This is just speculation, but when I was younger, I used to follow Cray around with stars in my eyes,&quot; Abel smiles, &quot;He was the village hero after all. My idol.&quot;

&quot;One day sticks out though, that has never left my memory. I had once gotten the opportunity to speak to him and I asked him what the most important thing in the world was to him.&quot;

&quot;He said power. Power is the only solution to survival of the people.&quot; Abel pauses, ruminating on the memory.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_aboutCray_motives_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1784" name="abelHouseDialogue_aboutCray_motives_2" tags="Overworld" position="475,22350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;I just hope he doesn&#39;t lose himself along the way.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.crayDialogue, 3)&gt;&gt;

[[Talk about something else -&gt; Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1785" name="abelHouseDialogue_aboutCray_villageLife_link" tags="Overworld" position="600,22350" size="100,100">[[Ask about Cray&#39;s life in the village-&gt;abelHouseDialogue_aboutCray_villageLife]]</tw-passagedata><tw-passagedata pid="1786" name="abelHouseDialogue_aboutCray_villageLife" tags="Overworld" position="725,22350" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_crayDialogue_villageLife = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;Who doesn&#39;t know the name Cray, even now?&quot; Abel answers, &quot;He was a brute of a man who made it his mission to solve any and every village problem with words, tooth or claw.&quot;

&quot;Not the most humorous of sort,&quot; Abel muses, &quot;No. That man was all work and no play.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.crayDialogue, 3)&gt;&gt;

[[Talk about something else -&gt; Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1787" name="abelHouseDialogue_aboutTheBind_link" tags="Overworld" position="850,22350" size="100,100">[[Tell him about the spirit within the ring you&#39;ve encountered-&gt;abelHouseDialogue_aboutTheBind]]</tw-passagedata><tw-passagedata pid="1788" name="abelHouseDialogue_aboutTheBind" tags="Overworld" position="975,22350" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
&lt;&lt;set $CharacterSheet_Abel.quest.available_flavourDialogue_talkAboutTheBind = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;A spirit inside of a ring?&quot; Abel ponders.

&quot;I don&#39;t know about this specific one, but I&#39;ve read about something close to that in old tomes of the world below.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_aboutTheBind_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1789" name="abelHouseDialogue_aboutTheBind_2" tags="Overworld" position="1100,22350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;They had magic that could be imbued onto tools to strengthen them. A sort of &#39;intent&#39; that would be grafted onto it. &#39;Shards&#39;... That&#39;s what they called them.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_aboutTheBind_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1790" name="abelHouseDialogue_aboutTheBind_3" tags="Overworld" position="1225,22350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;Do be careful around any kind of technology of that kind. I&#39;m not sure how sentient or aware those things could be. We know frighteningly little about them.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1791" name="abelHouseDialogue_aboutCray_achievements_link" tags="Overworld" position="100,22475" size="100,100">[[Ask about Cray&#39;s achievements-&gt;abelHouseDialogue_aboutCray_achievements]]</tw-passagedata><tw-passagedata pid="1792" name="abelHouseDialogue_aboutCray_achievements" tags="Overworld" position="225,22475" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_crayDialogue_achievements = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;Where do I even begin?&quot; Abel shakes his head, &quot;The guy was a legend. He holds the records for most Lost slain. Most fauna slain. Longest surviving explorer. Biggest in the village, all in all departments. There&#39;s honestly too many to recount.&quot;

&quot;The guy even had suitors fawning over him like he was the only ray of sunlight in the village,&quot; Abel chuckles. &quot;Every kid, even myself, wanted to be Cray when they grew up.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.crayDialogue, 3)&gt;&gt;

[[Talk about something else-&gt;Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1793" name="abelHouseDialogue_Herald_link" tags="Overworld" position="350,22475" size="100,100">[[Talk about his role as the Herald&#39;s apprentice-&gt;abelHouseDialogue_Herald]]</tw-passagedata><tw-passagedata pid="1794" name="abelHouseDialogue_Herald" tags="Overworld" position="475,22475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
&quot;What would you like to know, specifically?&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.heraldDialogue, 2)&gt;&gt;

[[Talk about something else-&gt;Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1795" name="abelHouseDialogue_Herald_duty_link" tags="Overworld" position="600,22475" size="100,100">[[Ask about Abel&#39;s duties-&gt;abelHouseDialogue_Herald_duty]]</tw-passagedata><tw-passagedata pid="1796" name="abelHouseDialogue_Herald_duty" tags="Overworld" position="725,22475" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_heraldDialogue_duty = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

Abel sighs, &quot;I&#39;m one step away from being the village leader at this point. I do my part to make sure we live prospoerously.&quot;

&quot;That, and,&quot; Abel pauses, his eyes turning toward the direction of the tower, &quot;To commune with the Eldest when and if the time calls for it.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.heraldDialogue, 2)&gt;&gt;

[[Talk about something else-&gt;Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1797" name="abelHouseDialogue_Herald_eldest_link" tags="Overworld" position="850,22475" size="100,100">[[Ask about The Eldest-&gt;abelHouseDialogue_Herald_eldest]]</tw-passagedata><tw-passagedata pid="1798" name="abelHouseDialogue_Herald_eldest" tags="Overworld" position="975,22475" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_heraldDialogue_eldest = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;Sadly I cannot tell you more than what you already know. I&#39;ve been inside&quot; Abel sighs.

&quot;It frightens me, truth be told, What&#39;s in there. I feel like if I place one foot in the wrong place then thousands of years of -&quot; Abel catches himself before he finishes the sentence, &quot;Nevermind that. I&#39;ve said too much.&quot;

[[Push him for more information-&gt;abelHouseDialogue_Herald_eldest_2]]
&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.heraldDialogue, 2)&gt;&gt;

[[Talk about something else-&gt;Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1799" name="abelHouseDialogue_Herald_eldest_2" tags="Overworld" position="1100,22475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;No really, I can&#39;t say more,&quot; Abel stammers, &quot;All I can say is that the Eldest requires an open mind, and I intend to be said mind.&quot;

&quot;I promise, I will tell you more if and when the time comes,&quot; he smiles at you warmly, &quot;You&#39;ll be the first to know as long as the Corruption doesn&#39;t take us first.&quot;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.heraldDialogue, 2)&gt;&gt;

[[Talk about something else-&gt;Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1800" name="abelHouseDialogue_outro" tags="Overworld" position="1225,22475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

You bid the Herald&#39;s apprentice farewell.

&quot;Alright then, good luck out there&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1801" name="abelHouseDialogue_DeepCorruption_Link" tags="Overworld" position="100,22600" size="100,100">[[Feel his Corruption-&gt;abelHouseDialogue_DeepCorruption]]</tw-passagedata><tw-passagedata pid="1802" name="abelHouseDialogue_DeepCorruption" tags="Overworld" position="225,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
Abel looks at you with a sudden sultry look that seems more eager than usual. His eyes, usually soft and unhurried, are ablaze with a seductive fervour. 
They sear into yours with an emergent sense of eagerness.

His voice, a smooth, low timbre, rises above the mundane chatter of the room. He confesses, 

&quot;I&#39;ve been thinking about you a lot since last time.&quot; 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1803" name="abelHouseDialogue_DeepCorruption_2" tags="Overworld" position="350,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
It carries an undertone of sinful pleasure, setting shivers coursing down your spine.

He approaches you, his cock so hard it could tear his pants apart at any point.

As he bares his teeth in a twisted smile, you see an ethereal purple glow illuminating from his eyes. 
A hypnotic, inward radiance that hints at something far beyond the realm of normalcy.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1804" name="abelHouseDialogue_DeepCorruption_3" tags="Overworld" position="475,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
He leans closer, his captivating gaze arresting your movements to the point where the air in your lungs seems to freeze. 
His words resonate sharply amidst the tranquil night air, echoing with raw honesty. 

&quot;All that Corruption you&#39;ve gathered during your arduous journey...&quot; he murmurs, his voice carrying an undercurrent of mutual understanding. 

His gaze intensifies, a cataclysm of silent emotions whirling within the violet depths. 

&quot;... I feel it deep within me, too.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1805" name="abelHouseDialogue_DeepCorruption_4" tags="Overworld" position="600,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;set $CharacterSheet_Abel.quest.naked = true&gt;&gt;\
Closing the gap between you with a single bound, he surprises you, his groin pressed against your towering form.

His lips find yours. His taste is familiar yet alarming - a startling mix of humanity and the bitter tang of Corruption. 
A wild desire stirs within you, a dangerous longing.

Sweat trickles down his brow, his hardened muscles straining under some unseen effort, the Corruption seemingly pulsating beneath his skin.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1806" name="abelHouseDialogue_DeepCorruption_5" tags="Overworld" position="725,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Pulling away completely, you can&#39;t help but cast one more look down at his straining form. 
A sinister grin stretches across your face. 
Your beastly curiosity, now unabated; thoughts of witnessing Abel transforming into a monstrous entity, a demonic presence you could spar with, flood your mind.

Very soon, the world will bow to the power of Corruption, and you can&#39;t help but be filled with a twisted sense of anticipation.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1807" name="abelHouseDialogue_DeepCorruption_6" tags="Overworld" position="850,22600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
Finally breaking his silence, his voice rumbles. 

&quot;I&#39;m just an apprentice, you know. The apprentice of the Herald, who&#39;s supposed to be the big shot guardian of balance and peace in the Bastion.&quot; 

He flicks his tail with a hint of disdain. &quot;But the more I see you, the more he realizes he&#39;s full of it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1808" name="abelHouseDialogue_DeepCorruption_7" tags="Overworld" position="975,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
He takes a step closer, studying the Corruption&#39;s tendrils under your skin. He can&#39;t deny the appeal of it.
&quot;The Bastion won&#39;t hold as it currently stands. We need to use that power for good before others abuse it.&quot;

He takes a step back, crossing his massive arms.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1809" name="abelHouseDialogue_DeepCorruption_8" tags="Overworld" position="1100,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
He knew it is a risky move, helping kickstart a new era. But you can tell he is very attracted to the idea. 

&quot;And perhaps,&quot; he says, his voice dropping lower, the glint of anticipation shining in his eyes. 

&quot;After everything... after we&#39;ve transformed ourselves, we might find ourselves living in a world untouched by outdated anxieties and superstitions... a world run by strength... by us.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1810" name="abelHouseDialogue_DeepCorruption_9" tags="Overworld" position="1225,22600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&quot;And your transformation, &lt;&lt;PlayerName&gt;&gt;,&quot;  he continues, his mind consumed by the imagery of ancient, formidable beasts, &quot;Could serve as the defining moment. A sign that the dawn of Corruption is finally here.&quot;

He flashes a predator&#39;s grin, &quot;Not that you need any reminders, do you?&quot;

But deep within, his beast&#39;s heart trembles in vague apprehension, whether from fear or excitement, even he couldn&#39;t quite discern.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1811" name="abelHouseDialogue_DeepCorruption_10" tags="Overworld" position="100,22725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
His intense gaze fixates on you, adding a strange tension to the room.
The Corruption under his skin seems to pulsate with its own beat.

&quot;I want it...&quot; he blurts out. &quot;I want that same power to flow through your own... To embrace the raw potential.&quot;

The words slip out unexpectedly, but they hang in the air. Abel is caught off guard, not sure if it&#39;s because of what he said, or what he plans to do.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1812" name="abelHouseDialogue_DeepCorruption_11" tags="Overworld" position="225,22725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;

With a confident swagger, he prepares for the next move.

His rough paws encompass your robust manhood, exploring it with an impossible curiosity that mirrors his quest for power.

&quot;Infest me,&quot; a low growl passes through his clenched teeth, &quot;show me your Corruption firsthand.&quot; His words are wrapped with a reckless audacity that elicits a growl from you. 

This is the moment, the turning point he has been dragging himself towards. He tightens his grip on your cock, embracing the enticing call of power.

\&lt;&lt;run setup.choice(&quot;[[Infest him-&gt;abelHouseDialogue_DeepCorruption_12]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1813" name="abelHouseDialogue_DeepCorruption_12" tags="Overworld" position="350,22725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Abel.quest.available_flavourDialogue_deepCorruption = false&gt;&gt;
&quot;There is a raw, feral hunger burning in his eyes. As if in a trance, his jaws relax and stretch, taking in every inch of your manhood.

Involuntary moans take him over. Your scent, a blend of potent masculinity and an onyx-dark aura of Corruption, shrouds him completely. The very air seems to thicken as he takes more of your cock.

Nothing else exists beyond this moment.

Taking you in deeper, he surrenders utterly to the sensations flooding his senses. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1814" name="abelHouseDialogue_DeepCorruption_13" tags="Overworld" position="475,22725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;

The feel of your manhood – warm, hard, throbbing – is his solitary focus. Each gulp and contraction is a step closer to accepting his fate and embracing his transformation.

His movements become more frantic, more daring. He sucks you off faster, his moans now escaping in between breaths. 
Each sound reverberates into the hushed intimacy of his den.


\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1815" name="abelHouseDialogue_DeepCorruption_14" tags="Overworld" position="600,22725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

A feverish desire takes hold of him, a thrilling mix of Corruption and latent power. His mind thrums with the growing urgency. 
As the rhythm of his actions swiftly picks up, every lingering doubt is overpowered by an unquenchable craving to attain ultimate power, to rise triumphantly in this life of survival.

&quot;More...&quot; he finds himself growling out the plea, his voice laced with the primal ruggedness that befits his nature. 

This isn&#39;t just a plea for pleasure; it mirrors a deeper hunger. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1816" name="abelHouseDialogue_DeepCorruption_15" tags="Overworld" position="725,22725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

His eyes shift back to you, the glowing violet orbs filled with unrestricted anticipation and surrender. 

&quot;Infest me!&quot;

A twisted grin graces your face, his eyes gleaming with boundless lust as you feel precum rushing from your cock.

The pulsations in your stature strengthen, signalling the inevitable rush of his climax. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1817" name="abelHouseDialogue_DeepCorruption_16" tags="Overworld" position="850,22725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

A tidal wave of near-devastating energy bursts forth from within him, and cascading currents of pleasure crackle through every fibre of his being. 
His muscles, bathed in hot midday sun, quiver and twitch, in tune with the electric ecstasy he experiences.

&quot;Yessss...&quot;

As the tingling sensation signals the rush of your seeds, the essence of the Corruption that courses through your body, he braces himself. 

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;abelHouseDialogue_DeepCorruption_17]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1818" name="abelHouseDialogue_DeepCorruption_17" tags="Overworld" position="975,22725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

His heart hammers in his chest, his anticipation reaching a feverish crescendo.

&quot;Finally... I&#39;m going to become huge!&quot;

You roar as a surge of warm cum fills his mouth.

As he steadily swallows your seed, the Corruption within him spreads. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_18]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1819" name="abelHouseDialogue_DeepCorruption_18" tags="Overworld" position="1100,22725" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

It resonates with an uncanny eagerness, vibrating with a raw and primal energy that alters the state of his existence.

The world around you seems to shift, accommodating the untamed power spreading onto your partner.

And all he could feel... was anticipation.

&quot;Yessssss...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_19]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1820" name="abelHouseDialogue_DeepCorruption_19" tags="Overworld" position="1225,22725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

He feels his muscles twitching and then stretching - expanding as if a wild force is now uncaged within them. 
Involuntarily, he arches his back, each straining fibre of his muscle swelling, pushing against the confines of his skin. 

He watches, with a sense of surreal detachment, as his muscles become hulkish, almost grotesque in their power. 
Each movement, every breath now whispers tales of raw dominance, echoing the silent battle to control this newfound might.

&quot;MORE... MORE!!!!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_20]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1821" name="abelHouseDialogue_DeepCorruption_20" tags="Overworld" position="100,22850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

Unprecedented ecstasy crashes into him like waves in a stormy tide. 
His body tenses, the secret channels in him awaken as their contents prepare to surge outward. 

It feels like a tripwire has been tripped, a countdown has begun. 
And with a euphoria-laden grunt, he ejects his own load onto the stone-cobbled floor.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_21]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1822" name="abelHouseDialogue_DeepCorruption_21" tags="Overworld" position="225,22850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Abel.quest.deepCorruption = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel,  &quot;normal&quot;)&gt;&gt;

He casts a glance at his arms, already sturdy and marked by scars of past battles — proof of his triumphs and perseverance. 
Yet, in this sublime moment, they begin to grow. His muscles throb, his veins standing out starkly against the fabric of his skin as they swell tantalizingly. 

The sensation rippling across his broad expanse is pure, unadulterated raw power.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_22]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1823" name="abelHouseDialogue_DeepCorruption_22" tags="Overworld" position="350,22850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel,  &quot;normal&quot;)&gt;&gt;
His roar, primal and filled with heady satisfaction, resounds across the stone chamber, reverberating with the intensity of his transformation. 
His chest, broad and hardened from non-stop training of the past, expands, becoming more pronounced.

But his transformation isn&#39;t restricted to his forearms and chest alone. 
Every muscle in his body follows the primal rhythm, strands of sinewy muscles coiling and tightening like armoured layers, then surging forth in glorious expansion.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_23]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1824" name="abelHouseDialogue_DeepCorruption_23" tags="Overworld" position="475,22850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
His granite abs moulds into a riveted landscape. 
His back broadens further, the ridgeline of muscles becoming a hulking mass. 

Ignited by the Corruption within him, his lower body matches the intense rhythm; his thighs and calves bulge, transforming into solid pillars of might.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_24]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1825" name="abelHouseDialogue_DeepCorruption_24" tags="Overworld" position="600,22850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel,  &quot;normal&quot;)&gt;&gt;
A surge of pleasure accompanies each new wave of growth. The moment of climax surges within him; it&#39;s both unexpected and inevitable. 
Still trembling from the ecstatic waves, his formidable erection unleashes an explosive load. 

More warm seed shoots out, a powerful testament to this transformation, showering the cool stone floor beneath him. 

Domination, might, untapped power - he is the Herald of it all, a symbol of your new world taking form.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_25]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1826" name="abelHouseDialogue_DeepCorruption_25" tags="Overworld" position="725,22850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The cum that stains the stone floor rapidly darkens. It pools around his hefty feet - some splatter against the hard stone, others snake their way into the grooves. 
It seems as if the Corruption is trying to mark territory.

Watching the blackened seed slowly stain the ground only furthers your pride. 
This is not just physical change but an alteration of the soul, a silent annunciator of the power growing within.

He shares a glance with you, relishing the pleasure of the change.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_26]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1827" name="abelHouseDialogue_DeepCorruption_26" tags="Overworld" position="850,22850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

Standing taller now, his hulking figure casts an even more gigantic shadow as he approaches you, stepping over the now darkened obsidian seed staining the floor. 
Each step vibrates with the raw and unruly might within him.

His massive paws reach out to you, the rough pads making contact with your warm, muscular skin. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_27]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1828" name="abelHouseDialogue_DeepCorruption_27" tags="Overworld" position="975,22850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

He traces a path around your bulk, tracing the lines where you morphed from man to monument, where the grip of Corruption had overtaken your once mortal recesses. 

A low, rumbling purr rolls from his chest, eyes glittering in worshipful adoration. 
The mere sight of you, marked by the unyielding strength of the Corruption, stirs a sense of exhilaration within him.


\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_DeepCorruption_28]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1829" name="abelHouseDialogue_DeepCorruption_28" tags="Overworld" position="1100,22850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Abel.quest.naked = false&gt;&gt;\

The intensity of his lust intertwines with his admiration for you. He delves deeper into the kiss, demanding and giving in the same breath. 
His taste fills your senses – raw, potent, subtly flavoured with the underlying power that now defines him.

As he pulls away, he ensures to graze the man&#39;s lips one final time, a silent promise lingering in the slowness of his touch.

&quot;Let us make this world ours~&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1830" name="abelHouseDialogue_InspectMaxRela_Link" tags="Overworld" position="1225,22850" size="100,100">[[Give him a seductive smile-&gt;abelHouseDialogue_InspectMaxRela]]</tw-passagedata><tw-passagedata pid="1831" name="abelHouseDialogue_InspectMaxRela" tags="Overworld" position="100,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;if setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &lt;= 0&gt;&gt;
Your teasing does not go unnoticed, and he grins in response.
\&lt;&lt;else&gt;&gt;
Corruption&#39;s stench invades his senses, dense, insinuating.
A potent, heady high that could seduce even the staunchest warrior.
\&lt;&lt;/if&gt;&gt;

&quot;I believe it might be prudent for me to inspect you, just in case you&#39;ve been corrupted~&quot; his voice rumbles, deep.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1832" name="abelHouseDialogue_InspectMaxRela_2" tags="Overworld" position="225,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
He slides up to you and his hands settle on your shoulders.
Probing fingers map the rippling expanse of my steel-cut torso, each caress embedded with a deep vibration emanating from your chest.

\&lt;&lt;if setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &lt;= 0&gt;&gt;
&quot;Let us see how much stronger you&#39;ve become...&quot; He says, a twisted grin snaking across his features.
\&lt;&lt;else&gt;&gt;
&quot;Let us see how deep this corruption runs...&quot; He says, a twisted grin snaking across his features.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1833" name="abelHouseDialogue_InspectMaxRela_3" tags="Overworld" position="350,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
Each contour of your carved body is explored, illuminated by his light touch, from the valleys of your abs to the sharp ridges of defined muscles.

The heavy atmosphere swells with anticipation, each passing second heightening your lust.
You tenses under his touch, reacting to each caress.

\&lt;&lt;if setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &lt;= 0&gt;&gt;
No sign of Corruption yet, but lust is already sown, waiting to sprout.
\&lt;&lt;else&gt;&gt;
The Corruption within you stirs and awakens.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1834" name="abelHouseDialogue_InspectMaxRela_4" tags="Overworld" position="475,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
Heat flushes his cheeks, an unfamiliar sensation that coaxes an amused purr from his chest.
He isn’t normally prone to blushing, yet, the thrill of these uncharted sensations leaves him no choice.

He nudges closer, pressing his large figure against your body.
They seem to fuse together, their warmth mingling in a way Abel has never felt before.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1835" name="abelHouseDialogue_InspectMaxRela_5" tags="Overworld" position="600,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
He instinctively hides his face in your chest, taking refuge in the hard curves of sinewy strength.
His blush darkens, his cheeks ablaze, betraying his typically cool exterior.

Nestled between your concrete-like pecs, Abel’s deep purr vibrates against your body.
You feel his heart hammers against your chest.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1836" name="abelHouseDialogue_InspectMaxRela_6" tags="Overworld" position="725,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
Amidst the chaotic world outside, this moment of shared intimacy feels like a quiet solace.

[[Kiss him-&gt;abelHouseDialogue_InspectMaxRela_Sex]]
[[Pull back-&gt;Village_AbelHouse]]</tw-passagedata><tw-passagedata pid="1837" name="abelHouseDialogue_InspectMaxRela_Sex_Link" tags="Overworld" position="850,22975" size="100,100">[[Reach out to him-&gt;abelHouseDialogue_InspectMaxRela_Sex]]</tw-passagedata><tw-passagedata pid="1838" name="abelHouseDialogue_InspectMaxRela_Sex" tags="Overworld" position="975,22975" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_flavourDialogue_inspectMaxRela = false&gt;&gt;\
&lt;&lt;set $CharacterSheet_Abel.quest.available_flavourDialogue_sexMaxRela = true&gt;&gt;\
&lt;&lt;set $CharacterSheet_Abel.quest.available_flavourDialogue_sexMaxRela_daily = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
The pressure shatters under the weight of your unpredictable move.

Caught breathless and wide-eyed, he&#39;s momentarily paralyzed.
However, as the initial shock wanes, he sinks into the warmth of your touch.

He wraps his large arms around you, drawing you in closer, surrendering to the moment.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1839" name="abelHouseDialogue_InspectMaxRela_Sex_2" tags="Overworld" position="1100,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
He savors your essence, a heady blend of bravery and latent desire.

Instinctively, your grip tightens around him as you press him to your muscular chest, your hearts pounding a wild rhythm.
His eyes close completely.

\&lt;&lt;run setup.choice(&quot;[[Kiss him-&gt;abelHouseDialogue_InspectMaxRela_Sex_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1840" name="abelHouseDialogue_InspectMaxRela_Sex_3" tags="Overworld" position="1225,22975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
His golden eyes blink open, ablaze with a fresh brightness.
The blush that decorated his cheeks a moment ago seem trivial compared to the heat that now pulses in his veins.

Desires blaze through your veins like fiery lava, smoldering and unpredictable.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1841" name="abelHouseDialogue_InspectMaxRela_Sex_4" tags="Overworld" position="100,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
The taste of his lips was a mere ignition, but now the desire blazes uncontrollably.

&quot;&lt;&lt;PlayerName&gt;&gt;,&quot; you murmur with a huskiness you barely recognize. His voice shakes with sheer want.

&quot;I need more... I need...&quot; He stumble over the words.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1842" name="abelHouseDialogue_InspectMaxRela_Sex_5" tags="Overworld" position="225,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
The beast within you growls, succumbing to these raw, untempered urges.

&quot;Make me yours, &lt;&lt;PlayerName&gt;&gt;,&quot; he pleads, his voice trembling with the depth of desire.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1843" name="abelHouseDialogue_InspectMaxRela_Sex_6" tags="Overworld" position="350,23100" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.naked = true&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
His heavy tail slides rhythmically across the floor, a wild pendulum driven by arousal.
Emotion roars within him, primal and fervent, intensifying in the face of what&#39;s ahead.

He aches to be taken, to be ravished, to be possessed in a manner that transcends the physical.
His flushed face, his husky voice, his begging words articulate the urgency of his plea.

&quot;Please... Take me... I... need you...&quot;

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;abelHouseDialogue_InspectMaxRela_Sex_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1844" name="abelHouseDialogue_InspectMaxRela_Sex_7" tags="Overworld" position="475,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Feeling your turgid erection straining at the brim of his ass shoots an anticipatory shudder.
Lust cascades down his spine.

Abruptly, you reclaim his mouth in a searing kiss, nearly consuming him whole as you plunge into his depths.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1845" name="abelHouseDialogue_InspectMaxRela_Sex_8" tags="Overworld" position="600,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The sound that claws its way up his throat is half moan, half growl; a surrender to the undiscovered pleasure.

The sudden invasion is a delightful spike of euphoria, raw and sensitive.

The ensuing wave of pleasure is heady, dizzyingly reckless.
His body convulses, spine lifting off the chilly, stone wall as he vocalize his carnal desire.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1846" name="abelHouseDialogue_InspectMaxRela_Sex_9" tags="Overworld" position="725,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&quot;&lt;&lt;PlayerName&gt;&gt;!” Your name grates from his throat, a raspy mating call to your united pleasure.

The world beyond your passion is a meaningless blur as you thrust deeper inside him.
Each driving thrust from you is a thunderous burst of pleasure within your veins.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1847" name="abelHouseDialogue_InspectMaxRela_Sex_10" tags="Overworld" position="850,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your persistent thrusts coax out a groan from his lips that rises to a lustful roar.
Your name is a sacred chant on his lips.

He blindly grasps at the wall behind him for support, a desperate attempts to grapple with the passionate frenzy.

&quot;&lt;&lt;PlayerName&gt;&gt;! Yes! YESSSS!&quot; Every touch, every gasp, every moan pulls him further into erotic bliss.

Your strong gaze holds his, locking you in a world that exist only for you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1848" name="abelHouseDialogue_InspectMaxRela_Sex_11" tags="Overworld" position="975,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your thrusts becomes more desperate, the pleasure coursing between you, increasing your urgency.
His heart raises in tempo, matching the pounding rhythm of your bodies.

Lighting a trail of ecstasy throughout his body, your lingering caresses flares in his loins.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_InspectMaxRela_Sex_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1849" name="abelHouseDialogue_InspectMaxRela_Sex_12" tags="Overworld" position="1100,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your lust engulfs you.

He scrapes his clawed fingers against the wall, a feeble attempt to anchor himself amidst the tempest of your entwined ecstasy.

&quot;Deeper... I need you... all of you...&quot;

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;abelHouseDialogue_InspectMaxRela_Sex_12_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1850" name="abelHouseDialogue_InspectMaxRela_Sex_12_2" tags="Overworld" position="1225,23100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
The sheer magnitude of this allure-filled surrender takes you by surprise, and so he braces for one final powerful thrust.
You ignite every cell within him, penetrating the deepest corners of his soul until he cums all over your chest.

&quot;YEsssss... YESSSSS!!!!&quot;

Your climax fills him, a very real presence amidst their mingled warmth promising endless nights of sultry enjoyment to come.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;abelHouseDialogue_InspectMaxRela_Sex_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1851" name="abelHouseDialogue_InspectMaxRela_Sex_13" tags="Overworld" position="100,23225" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.naked = false&gt;&gt;\
&lt;&lt;run setup.applyCorruption($CharacterSheet_Abel, setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;))&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.TimelessBond)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Abel, setup.Ability.TimelessBond)&gt;&gt;
The high of pleasure starts to recede, yet leaves behind an echo in each corner of his room, a symphony only understood by the two of you.

&quot;I&#39;ve craved for this... For as long as I can remember&quot; he surrenders, a low rumble of a confession resonating from his taut chest.

With the confession lingering like a ghost in the silence, he knows that despite the specter of darkness looming on the world&#39;s horizon, you have birthed your own beacon of light.

∇: You gain the &quot;Timeless Bond&quot; ability.
∇: Abel gain the &quot;Timeless Bond&quot; ability.

∇: Abel gains &lt;&lt;print setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;)&gt;&gt; Corruption.
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1852" name="abelHouseDialogue_OfferCure_Link" tags="Overworld" position="225,23225" size="100,100">[[Approach him-&gt;abelHouseDialogue_OfferCure]]</tw-passagedata><tw-passagedata pid="1853" name="abelHouseDialogue_OfferCure" tags="Overworld" position="350,23225" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
\&lt;&lt;set $CharacterSheet_Abel.quest.available_flavourDialogue_firstCorruption = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
A deep, resonant rumble vibrates from your chest, your voice is low, resonant.
Ethereal light flickers across the expanse of muscle and sinew that define your formidable form, and Abel takes notice.

&quot;You seem... different. There&#39;s an odd scent clinging to you. Could it be... Corruption?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1854" name="abelHouseDialogue_OfferCure_2" tags="Overworld" position="475,23225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
He&#39;s close enough now for you to inhale the lingering scent of the sweat on his skin.
An earthy, masculine undertone – grounding and intoxicating.

The battle to temper the beast within you intensifies.
The lurking monster inside rumbles with a potent urging: to pounce, to claim.

&quot;Did you fight one of the Lost? Kinda smells like it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1855" name="abelHouseDialogue_OfferCure_3" tags="Overworld" position="600,23225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
He approaches, a heat emanates from his frame, encasing you both in a bubble of intimate proximity.
Your instincts spark ablaze, to life, and your inner tiger stirs.

Every breath he draws, every rhythm of his pulse drowns out the world around you, amplifying the pounding within your own chest.

&quot;Getting kinda hot in here...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1856" name="abelHouseDialogue_OfferCure_4" tags="Overworld" position="725,23225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
Suddenly, a low, primeval growl rolls off your tongue, the sound shimmering through the hushed room and entangling itself within the tension-charged air between you two.
It is unmistakable, a bold communication, a warning of the savage yearning that the Corruption cradles.

With a surge of self-control, he manages to step back, establishing safe distance between you two.
His voice is gruff with want as he murmurs, &quot;&lt;&lt;PlayerName&gt;&gt;... Corruption is dangerous.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1857" name="abelHouseDialogue_OfferCure_5" tags="Overworld" position="850,23225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
Your gaze flits down to his lips for a moment before you forcefully rip it back up to lock onto his eyes.
&quot;Its allure might seem seductive - the power, the transformation... But it could consume you whole.&quot;

Sliding away, you approach a nearby cabinet, acquiring a petite vial.
The elixir inside dances under the narrowing sunlight, casting an otherworldly gleam.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1858" name="abelHouseDialogue_OfferCure_6" tags="Overworld" position="975,23225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
&quot;The Herald told me to give this to you if I noticed Corruption taking hold of you. Said it would dampen its influence.&quot;

The seductive twinkle in his gaze dims distinctly.

&quot;Speaking of... We must be cautious of the Herald. He&#39;s very vigilant and won&#39;t hesitate to banish you if you show signs of infection.&quot;

A shudder courses through him. His eyes tell the full story.
Despite his strength, nothing terrifies him more than the potential of losing you to the desolate plains of the Barrens.

&quot;I can&#39;t...&quot; His voice dissipates as you force down the knot in your throat, &quot;I couldn&#39;t bear to lose you, &lt;&lt;PlayerName&gt;&gt;.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1859" name="abelHouseDialogue_OfferCure_7" tags="Overworld" position="1100,23225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
Your eyes take on a tender look as they find &lt;&lt;PlayerName&gt;&gt;&#39;s, your hand tentatively reaching out to gently rake over the curve of his cheek.
&quot;Swear it to me, &lt;&lt;PlayerName&gt;&gt;, no matter what happens, you&#39;ll hold onto this bond that we have,&quot; He implore you, his eyes shine with a desperate sincerity.

A hush drops onto the room once more.
The threat of banishment looms like a storm cloud, casting a shadow over the precious, fragile moment you&#39;ve woven together.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1860" name="abelHouseDialogue_OfferCure_8" tags="Overworld" position="1225,23225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

A part of you relishes the potential power the Corruption could ignite, the demon of lust within you compels as much.
Yet, you&#39;re torn, caught between your primal instincts and the safety of life in the Bastion.

[[Take the cure-&gt;abelHouseDialogue_OfferCure_Accept]]
[[Refuse the cure-&gt;abelHouseDialogue_OfferCure_Refuse]]</tw-passagedata><tw-passagedata pid="1861" name="abelHouseDialogue_OfferCure_Refuse" tags="Overworld" position="100,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
Your fingers wrap tightly around the potion, your grasp resolute and stern.

But them, you let it slip from your grasp.
The jarring echo of shattering glass against stone surrounds you both, the potion spreading out across the ground in a waste.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_Refuse_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1862" name="abelHouseDialogue_OfferCure_Refuse_2" tags="Overworld" position="225,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
You stand there, stark and unyielding, choosing the alluring tendrils of Corruption over the safety of the Barrens.

&quot;No turning back then.&quot; He says, unsure of what happens next.

You reach for him, your touch engulfing him in a tenacious embrace.
The taste of your willful betrayal envelops you, consumes you in its fiery wave.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_Refuse_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1863" name="abelHouseDialogue_OfferCure_Refuse_3" tags="Overworld" position="350,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
&lt;&lt;PlayerName&gt;&gt;...&quot; Your name escapes his lips, an emotional plea etched in turmoil.
The smoky fragrance of your resolve spreads to him, a heady mixture of power trembling on the edge of an abyss.

The rhythm of his heartbeat pounds in your ears, an anthem of desperation echoing fear and desire.
Your choice bears the weight of a tempest, sudden and formidable, threatening to forever alter the foundation of our relationship.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_Refuse_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1864" name="abelHouseDialogue_OfferCure_Refuse_4" tags="Overworld" position="475,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
He reels in closer, the scorching warmth of his body imprinting itself on yours.
He is pulled in your gravitational pull, a maelstrom of lust, and a dark curiosity to see the monster you’ve chosen to awaken within yourself.

As though on instinct, his grip on you tightens.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_Refuse_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1865" name="abelHouseDialogue_OfferCure_Refuse_5" tags="Overworld" position="600,23350" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.corrupted = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.PromiseOfCorruption)&gt;&gt;
This palpable shift sends a thrilling shiver coursing down your spine.

&quot;I&#39;m with you, &lt;&lt;PlayerName&gt;&gt;,&quot; He affirms, drawing you even closer, welcoming the heat of your body as it mingles with my own. &quot;Whatever path we walk.&quot;

Beneath the stirring waves of his primal urges, there&#39;s an undeniable attraction to your stubborn tenacity.

Yet he pulls back once more, still shaken by the choice you&#39;ve made.

∇: You gain the &quot;Promise of Corruption&quot; ability.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1866" name="abelHouseDialogue_OfferCure_Accept" tags="Overworld" position="725,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
As the thick potion slides down your throat, ripples of distaste contort your usually composed features.
The draft is a vile thing—bitter and biting—and tests the very mettle of your courage.

Yet you brave it, gulping it down with determination that far eclipses its foul flavor.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_Accept_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1867" name="abelHouseDialogue_OfferCure_Accept_2" tags="Overworld" position="850,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
Witnessing your steadfast resolution against the Corruption, Abel&#39;s swells his chest with a pride so fierce it&#39;s nearly tangible.

The empty vial clinks as you set it down on the worn wooden table beside you, finalizing your harrowing ordeal.

Without a moment&#39;s hesitation, Abel bridges the gap between you, drawing your body into a firm embrace.

&quot;&lt;&lt;PlayerName&gt;&gt;,&quot; His voice rumbles low.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_Accept_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1868" name="abelHouseDialogue_OfferCure_Accept_3" tags="Overworld" position="975,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
His eyes meet yours, the prior tension diffusing into a shared understanding.
Moments of tranquility and comfort, a shared solace only you could provide to each other.

&quot;Remember this, &lt;&lt;PlayerName&gt;&gt;.&quot; He whispers into the quiet room, his voice a gentle, coaxing echo.

&quot;The hard choices we make... they define us. They always will. And today, you&#39;ve shown incredible strength and resilience.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseDialogue_OfferCure_Accept_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1869" name="abelHouseDialogue_OfferCure_Accept_4" tags="Overworld" position="1100,23350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.CorruptionInhibitor)&gt;&gt;
A feline grin unfurls across his features, softening the grim stoicism of a warrior to something playful, something that dares to revel in admiration.

The silence that follows resettles you into reality: the humble surroundings of his home and the lingering bitterness of the potion on your tongue.

∇: You gain the &quot;Corruption Inhibitor&quot; ability.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1870" name="abelHouseDialogue_GiveTalisman_Link" tags="Overworld" position="1225,23350" size="100,100"></tw-passagedata><tw-passagedata pid="1871" name="abelHouseDialogue_GiveTalisman" tags="Overworld" position="100,23475" size="100,100"></tw-passagedata><tw-passagedata pid="1872" name="abelHouseDialogue_CorruptTalisman_Link" tags="Overworld" position="225,23475" size="100,100"></tw-passagedata><tw-passagedata pid="1873" name="abelHouseDialogue_CorruptTalisman" tags="Overworld" position="350,23475" size="100,100">corruptTalisman:
        {
            available: function()
			{
                return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_talisman;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_sexMaxRela;
            },
            passage: &quot;abelHouseDialogue_CorruptTalisman_Link&quot;,
        },
        giveTalisman:
        {
            available: function()
			{
                return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_talisman;
			},
            condition: function()
            {
                return State.variables.CharacterSheet_Abel.quest.available_flavourDialogue_sexMaxRela;
            },
            passage: &quot;abelHouseDialogue_GiveTalisman_Link&quot;,
        },</tw-passagedata><tw-passagedata pid="1874" name="abelHouseIntro_firstDialogueAttackedGuard_link" tags="Overworld" position="475,23475" size="100,100">[[Talk about that guard...-&gt;abelHouseIntro_firstDialogueAttackedGuard]]</tw-passagedata><tw-passagedata pid="1875" name="abelHouseIntro_firstDialogueAttackedGuard" tags="Overworld" position="600,23475" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_houseIntro_attackGuard = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;That was quite a scuffle out there by the looks of it, though I honestly can&#39;t blame him. You do look different.&quot;

Abel&#39;s brow creases as he inspects your face.

\&lt;&lt;if $CharacterSheet_town_guard.quest.beatenOnce == false&gt;&gt;
Abel&#39;s eyes drift over your body, his hand gently touching the skin under a cut on your shoulder.

&quot;Most of these wounds are superficial, but they&#39;ll leave a mark in the morning,&quot; he frowns, &quot;Wish I had gotten there sooner...&quot;
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseIntro_firstDialogueAttackedGuard_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1876" name="abelHouseIntro_firstDialogueAttackedGuard_2" tags="Overworld" position="725,23475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

&quot;I had never expected you to attack one of our own people,&quot; his gaze meets yours, &quot;What was that about?&quot;

[[It was self defense-&gt;abelHouseIntro_attackGuardSelfDefense]]
[[It felt right-&gt;abelHouseIntro_attackGuardFeltRight]]</tw-passagedata><tw-passagedata pid="1877" name="abelHouseIntro_attackGuardSelfDefense" tags="Overworld" position="850,23475" size="100,100">It was an act of self defense.

You elaborate on how the guard gave you no opportunity to defend your case.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseIntro_attackGuardSelfDefense_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1878" name="abelHouseIntro_attackGuardSelfDefense_2" tags="Overworld" position="975,23475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

The cat nods as he listens to your account of the story, his lips curling downward in sadness.

&quot;Sorry about that, the Golden Bastion has been pretty high-strung. Whispers of gloom travel quickly among the villagers when explorers go missing and young blood is appointed as the new Herald.&quot;

Abel sighs.

&quot;Your return is probably the best news we&#39;ve had in a long time.&quot;

\&lt;&lt;if $CharacterSheet_town_guard.quest.fled == true&gt;&gt;
&quot;Here&#39;s hoping the guard doesn&#39;t stretch the story,&quot; Abel continues, &quot;I saw him running into the village proper. Perhaps his words about you will be kinder considering you spared him.&quot;
\&lt;&lt;else&gt;&gt;
&quot;Well, that news may be watered down when they realise how hard you hit our guard,&quot; Abel continues, &quot;Words of what you did will spread.&quot;
\&lt;&lt;/if&gt;&gt;

&quot;Regardless,&quot; Abel&#39;s frustration simmers away with a deep breath, &quot;We&#39;ll cross that bridge when we come to it. Now...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseIntro_firstDialogue]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1879" name="abelHouseIntro_attackGuardFeltRight" tags="Overworld" position="1100,23475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

Abels&#39; brow furrows as you explain your actions away with the primal urges you have felt.

&quot;I don&#39;t know how I feel about that answer. I&#39;ve always held you in high regard, but fighting the guard because you felt it was right is not really an acceptable excuse. This wasn&#39;t a tavern brawl, you or the guard could have been killed!&quot;

\&lt;&lt;if $CharacterSheet_town_guard.quest.fled == true&gt;&gt;
&quot;Here&#39;s hoping the guard doesn&#39;t stretch the story,&quot; Abel continues, &quot;I saw him running into the Village proper. Perhaps his words about you will be kinder considering you spared him.&quot;
\&lt;&lt;else&gt;&gt;
&quot;I&#39;ve taken him to a healer for mending,&quot; Abel continues, &quot;But word of those wounds and their source will spread. I hope that your explanation will be good enough to appease the people.&quot;
\&lt;&lt;/if&gt;&gt;

&quot;Regardless, &quot; Abel&#39;s frustration simmers away with a deep breath, &quot;We&#39;ll cross that bridge when we come to it. Now...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseIntro_firstDialogue]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1880" name="abelHouseIntro_attackGuardAngry" tags="Overworld" position="1225,23475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

Abel shakes his head, &quot;Being hotheaded in a situation like that could have led to your or the guards death!&quot;

&quot;What am I supposed to tell people who ask about what happened?&quot; Abel sighs, &quot;People are going to be afraid of you if you keep this up.&quot;

\&lt;&lt;if $CharacterSheet_town_guard.quest.fled == true&gt;&gt;
&quot;Here&#39;s also hoping the guard doesn&#39;t stretch the story,&quot; Abel continues, &quot;I saw him running into the Village proper. Perhaps his words about you will be kinder considering you spared him.&quot;
\&lt;&lt;else&gt;&gt;
&quot;I&#39;ve taken him to a healer for mending,&quot; Abel continues, &quot;But word of those wounds and their source will spread. Please $CharacterSheet_Player.info.name, the Village has fallen on tough times. Next time, I can only ask on behalf of all of us that you control your anger.&quot;
\&lt;&lt;/if&gt;&gt;

&quot;Regardless, &quot; Abel&#39;s frustration simmers away with a deep breath, &quot;We&#39;ll cross that bridge when we come to it. Now...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouseIntro_firstDialogue]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1881" name="abelHouseIntro_firstDialogue_link" tags="Overworld" position="100,23600" size="100,100">[[Talk to Abel-&gt;abelHouseIntro_firstDialogue]]</tw-passagedata><tw-passagedata pid="1882" name="abelHouseIntro_firstDialogue" tags="Overworld" position="225,23600" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_houseIntro_baseFirstDialogue = false&gt;&gt;\
&lt;&lt;set $CharacterSheet_Abel.quest.playedHouseIntro = true&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

&quot;Really, any of us should be no stranger to death with the primal ferocity of the Barrens, but to lose someone that close to me... I just refused to believe it.&quot;

&quot;And, here you are,&quot; he pauses, releasing a long drawn out sigh, &quot;Alive and making my head spin with so many questions its nigh overwhelming.&quot;

The cat&#39;s legs fold beneath him as he sits cross legged on the dusty floor.

His hand finds purchase on a small metallic ball next to him which he picks up.
It rolls between his fingertips as he continues.

&quot;What happened out there? That is something I still don&#39;t know...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1883" name="abelHouseIntro_tellAll_link" tags="Overworld" position="350,23600" size="100,100">[[Share your experience with the meteor-&gt;abelHouseIntro_tellAll]]</tw-passagedata><tw-passagedata pid="1884" name="abelHouseIntro_tellAll" tags="Overworld" position="475,23600" size="100,100">&lt;&lt;set $CharacterSheet_Abel.quest.available_flavourDialogue_introTellAll = false&gt;&gt;\
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

The ball stops moving between Abel&#39;s fingers as you tell him everything. You recount finding the crater, and the strange orb at its center.

You tell him about the other world, and the entity that seemed to bond with you. Finally, you end your story with how you ended up at the gates of the city, affronted by the guard.

Abel remains silent for several minutes. His eyes fixate on the object within his shaking hands.

&quot;I... I don&#39;t know what to say. If it came from anyone else, I would have sworn the desert heat had gotten to their brain.&quot; Abel speaks in soft and measured tones.

&quot;If anyone in this village ever finds out, they would exile you at best...&quot;

&quot;Just, coming back from the dead like this and with this thing inside of you; people will think you are one of the Lost.&quot;

&quot;How do you feel about your situation?&quot;

[[Tell him you embrace what you&#39;ve become-&gt;abelHouse_tellAll_GivingIn]]
[[Tell him that you are resisting it-&gt;abelHouse_tellAll_resisting]]
[[Tell him you are unsure-&gt;abelHouse_tellAll_unsure]]</tw-passagedata><tw-passagedata pid="1885" name="abelHouse_tellAll_GivingIn" tags="Overworld" position="600,23600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

You feel power pulsing in the back of your mind and within the core of your being. There is so much untapped potential. So much more you could coax out of the proverbial shell.

Abel&#39;s brow furrows as your expression morphs in reaction to your fantasizing.

You feel how the power within you could make you a ruler. A monster. An unstoppable force of nature. Bigger. Better. More.

&quot;Not so different from Corruption, it seems,&quot; Abel whispers, &quot;We have to find a way to stop it $CharacterSheet_Player.info.name&quot;

[[Disagree with Abel-&gt;abelHouse_tellAll_disagree]]
[[Agree with Abel-&gt;abelHouse_tellAll_agree]]</tw-passagedata><tw-passagedata pid="1886" name="abelHouse_tellAll_agree" tags="Overworld" position="725,23600" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

You nod.

Abel&#39;s shoulders slump, as if they have been unhooked off of strings attached to the roof. The sigh of relief that follows confirms your suspicion of the tension that had built up within him.

A smile touches the corners of his lips, &quot;You and I both know what its like to be affected by that stuff. It&#39;s dangerous and if it stays in your system for long, who knows what would happen to you.&quot;

&quot;I will not lose you again.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1887" name="abelHouse_tellAll_disagree" tags="Overworld" position="850,23600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

You shake your head.

Abel&#39;s eyes close and a sigh escapes from his lips, &quot;You can&#39;t be serious?&quot;

[[Argue that the power is a useful tool-&gt;abelHouse_tellAll_disagree_itHasUses]]
[[Argue that the power has potential-&gt;abelHouse_tellAll_disagree_wantMore]]
[[Argue that the power can help the Village-&gt;abelHouse_tellAll_disagree_forThePeople]]
[[Argue that the power can protect Abel-&gt;abelHouse_tellAll_disagree_forAbel]]</tw-passagedata><tw-passagedata pid="1888" name="abelHouse_tellAll_disagree_forAbel" tags="Overworld" position="975,23600" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

Abels cheek visibly flush as you tell him about your desire to protect him from harm.

The power, the potential to tackle the trouble of the world drops from your lips, only adding to the redness in the man&#39;s cheeks.

&quot;That... that is incredibly sweet of you,&quot; Abel stammers bashfully, &quot;This is bigger than you and I though, right?&quot;

[[Agree-&gt;abelHouse_protectAbel_agree]]
[[Disagree-&gt;abelHouse_protectAbel_disagree]]
[[Hug him-&gt;abelHouse_protectAbel_hug]]

&lt;&lt;if setup.AbiHndlr.hasAchievement($CharacterSheet_Player,&quot;Achievement_MemoriesOfNyx&quot;)&gt;&gt;\
&lt;span class=&quot;glitch&quot; data-text=&quot;Corrupt him&quot;&gt;[[Corrupt him-&gt;abelHouse_protectAbel_corrupt]]&lt;/span&gt;
&lt;&lt;/if&gt;&gt;\</tw-passagedata><tw-passagedata pid="1889" name="abelHouse_protectAbel_agree" tags="Overworld" position="1100,23600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

You agree with Abel, a wave of empathy washing over you.

&quot;You hold the title of explorer,&quot; he hums softly, &quot;Which means the safety of everyone is your priority... Our priority.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouse_protectAbel_agree_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1890" name="abelHouse_protectAbel_agree_2" tags="Overworld" position="1225,23600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

Abel smiles, &quot;Though, I do appreciate the kindness of your words.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1891" name="abelHouse_protectAbel_disagree" tags="Overworld" position="100,23725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

You disagree with Abel. You tell him about your desire to protect him above the rest.

The cat&#39;s paws begin to fidget with his clothing, his cheeks burning.

Abel stutters, &quot;I uh... I don&#39;t know how to react to all of this. Thank you $CharacterSheet_Player.info.name. However, the people deserve to be cared for as well. We can&#39;t just ignore their plight, they are family too.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1892" name="abelHouse_protectAbel_hug" tags="Overworld" position="225,23725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

You decide to hug Abel instead of answering directly.

The cat sinks into your firm embrace, his tension melting away by the second.

&quot;I&#39;m so glad to have you back&quot; Abel stammers, &quot;You are the closest thing I have to family in this barren world. However, we can&#39;t just run away from those around us. They need our help.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1893" name="abelHouse_protectAbel_kiss" tags="Overworld" position="350,23725" size="100,100">//let&#39;s only do this if got an ending related to abel, this escalates too quickly otherwise

You decide to swoop in for a kiss instead of answering directly.

Abel is completely taken by surprise as your lips meet his. There is a moment of hesitation, before his tension melts away and his arms wrap around as much of you as he can.

A blissful moment of silence and unannounced passion consumes the room before Abel breaks the kiss.

&quot;I... what?&quot; Abel stammers before gently pushing out of your embrace, &quot;Have you always felt this way about me? No wait...&quot;

Abel shakes his head, &quot;We can talk about this another time. We have more important things to discuss right now. There is still so much to do to get the village on its feet.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1894" name="abelHouse_protectAbel_corrupt" tags="Overworld" position="475,23725" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

Just like before, you feel the power within you roiling and ready to burst.
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;G̶̠͉͖͐R̴̛̎̔̚͜Ȍ̵̹̹̹̖̅W̷̨͊̾̚͠&quot;&gt;All shall&lt;/span&gt;&lt;span class=&quot;glitch nyx&quot; data-text=&quot;S̶͔̣͈͕̥̆̎̔͑́́̈̿̾̆͝͝ͅP̶̼̺̪̘͚̱͓̙̭̙͐̇̄̐̍̋̅̅̆̕͘͘͠R̴̦̩͕̙̿͆͌̾̈́̏͐̕E̶̡̧̝̭̩̪̜͙͋̓̿̓͝A̴̜̘͚̜͕̜̙̺͎̤͋̀̓̀̊̂̔̿͑̾̐̀̃͐̑̾͜͜ͅD̶̢̘͚̹̦̟̈́͒͐͆́͘&quot;&gt; gaze upon &lt;/span&gt;&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;C̷̛̛̱̹̟͚͕̱̗͎͙̳̞̜̘̬̝͖̖̟̻̐̎́̌̈͐̉͑͐̋̽̔̋͂̋͝ͅƠ̶̢̱̯̬̖̥̠̬̼̼̼̜͔̬̜͚̯̺̹̩̐̍̅͒̅̓̀̚͠R̷̨̡̛̪̣͚̲͕̝̥̩͚̗̭̫̯̪͙̯̥̓͐̉̈́̒͐̃͒̽͊͛̀͋̅̕͜R̷̠̎U̵̧̫͙̺̤̰͎͓̦̓̎̿̈́̈̅́͌͝P̸̘͔̺̘̮̼̱̭̜̲͕̬̩̋̑́͜T̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;the host of Nyx&lt;/span&gt;

You suddenly swoop in to kiss Abel, surprising him with your speed. As your lips meet, your tongue dives into his maw.
He melts into your embrace as you will your influence into his being through your tongue.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouse_protectAbel_corrupt_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1895" name="abelHouse_protectAbel_corrupt_2" tags="Overworld" position="600,23725" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.corrupted = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;

A mote of black liquid slips down his lips, as you fill his throat with mild Corruption. His body reacts immediately.
You feel his engorging shaft press up against your body. Hands rove across your limbs, your face and he dives in for one more kiss.

&quot;I never realised how much I...&quot; Abel stammers, suddenly pushing himself away from you, &quot;W-we have far more important things to talk about right now.&quot;

He quickly turns around to pick up a book and awkwardly holds it in front of his erection, hiding it from view.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1896" name="abelHouse_tellAll_disagree_itHasUses" tags="Overworld" position="725,23725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

You answer Abel to the best of your ability, explaining how the Corruption appears to have affected you differently.

His eyes scrutinize you as you speak of turning this new power into something useful and practical, to be able to reach where no explorer could go before.

You catch a sparkle of interest behind Abel&#39;s eyes.

&quot;I suppose that could be useful. I may even have a few of those &#39;untouchable&#39; places for you to explore if you would be interested. However! If you feel whatever that stuff is doing to you is too much, you come to me, okay?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1897" name="abelHouse_tellAll_disagree_wantMore" tags="Overworld" position="850,23725" size="100,100">\&lt;&lt;set _oneArm setup.DESC.getLimbDesc($CharacterSheet_Player, &#39;arms&#39;, {num:1})&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

Your smile widens, your chest swells with pride and you lift your &lt;&lt;print _oneArm&gt;&gt; into the air in a powerful display of new strength.

Abel listens to you intently as you explain the euphoria you feel with this new power. You tell him of your potential to grow, to become more and beyond even that.

A worried expression crawls over Abel&#39;s face. His cheeks are flush and you catch movement around the area of his crotch.

His body betrays his mind.

&quot;Just please don&#39;t let it get to your head, okay? As much as I would love to see you grow stronger; I care more for my friend than a wall of muscle.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1898" name="abelHouse_tellAll_disagree_forThePeople" tags="Overworld" position="975,23725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;

You surprise Abel with your answer, explaining how this new power could be put to use for the betterment of the people in the Village.

Abel looks shocked.

&quot;That&#39;s... Well, when you put it that way, I can&#39;t really argue.&quot;

&quot;Still, what&#39;s happening to you does worry me... It&#39;s like I&#39;m hearing Cray again.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1899" name="abelHouse_tellAll_unsure" tags="Overworld" position="1100,23725" size="100,100">The uncertainty of this creature still plagues your being. The dark void, the power, the time that had passed - it&#39;s a mix of anxiety and excitement.

You tell Abel exactly how it feels.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelHouse_tellAll_unsure_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1900" name="abelHouse_tellAll_unsure_2" tags="Overworld" position="1225,23725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

He nods sagely, his hand scratching the bottom of his chin, &quot;I guess there really is no telling what&#39;s happening to you. By all means, you should be seeping black ooze about now, but you aren&#39;t.&quot;

&quot;There isn&#39;t much to be said or done about this now. We just need to watch it closely and please, let me know if you start feeling like you can&#39;t control it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1901" name="abelHouse_tellAll_resisting" tags="Overworld" position="100,23850" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.relationship++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

The power is intoxicating, a pounding presence at the back of your mind waiting to be unleashed in its purest form. Yet, you feel you must resist its temptations.

You tell Abel of your plan to ignore it&#39;s effects on your mind and body and your plan to keep it in check.

The cat seems to relax the longer you speak, a weight slowly peeling off of his shoulders.

&quot;I think that&#39;s probably the best response I could have hoped for. I can only imagine how hard it&#39;s going to be at times, but I&#39;ll be there for you, Okay? If you ever need help, talk to me.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_AbelHouse]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1902" name="Select_Teammate" tags="Overworld" position="225,23850" size="100,100">Among your partners, who do you wish to bring with you during your adventures?

&lt;&lt;print setup.displaySelectTeammate()&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Return-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1903" name="Village" tags="Overworld" position="0,0" size="100,100">\&lt;&lt;run setup.stopAllRealizationPackages()&gt;&gt;
\&lt;&lt;run setup.stopSoundActions();&gt;&gt;
\&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Player.enterVillage)&gt;&gt;</tw-passagedata><tw-passagedata pid="1904" name="Village_Normal" tags="Overworld" position="475,23850" size="100,100">\&lt;&lt;print setup.getVillageDescriptor()&gt;&gt;

\&lt;&lt;if $CharacterSheet_Player.quest.corruptionVillageExiled == true&gt;&gt;
&lt;&lt;print setup.displayVideo(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Exiles_Rest.mp4&quot;, false)&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/golden_bastion_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/golden_bastion.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;include Village_Menu&gt;&gt;
\</tw-passagedata><tw-passagedata pid="1905" name="Village_Menu" tags="Overworld" position="600,23850" size="100,100">\&lt;&lt;if setup.canLevelUp($Level) &gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Level Up-&gt;Level Up]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;if $CharacterSheet_Player.quest.corruptionVillageExiled == true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Look Around-&gt;Home]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Home-&gt;Home]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;if $Debug&gt;&gt;
[[Debug Menu-&gt;DebugMenu]]
\&lt;&lt;/if&gt;&gt;
&lt;&lt;print setup.highlightChoice(&quot;[[Modify Metabolism-&gt;Modify_Metabolism]]&quot;, $CharacterSheet_Player.info.choiceHighlight.limitBreakAvail || $CharacterSheet_Player.info.choiceHighlight.overgrowthAvail || $CharacterSheet_Player.info.choiceHighlight.mutationAvail);&gt;&gt;
\
&lt;&lt;print setup.highlightChoice(&quot;[[Change Fight Moveset-&gt;Change_Combo_Moves_Menu]]&quot;, $CharacterSheet_Player.info.choiceHighlight.newCardAvail);&gt;&gt;
\
[[Options-&gt;GameplaySettings]]
\
&lt;&lt;print setup.getVillagePassages()&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.quest.corruptionVillageExiled == false&gt;&gt;
[[Abel&#39;s House-&gt;Village_AbelHouse_Intro]]
[[Lukka&#39;s Laboratory-&gt;LukkaHouse]]
[[Palace Prisons-&gt;LostPrisoner]]
\&lt;&lt;elseif $CharacterSheet_Player.fight.unlockedTeammates.includes(&quot;CharacterSheet_Abel&quot;)&gt;&gt;
[[Talk to Abel-&gt;Village_Exiled_Abel_Menu]]
\&lt;&lt;/if&gt;&gt;
[[Gaze to the Stars-&gt;VillageStars]]
\
\&lt;&lt;if $CharacterSheet_Player.fight.unlockedTeammates.length &gt; 0&gt;&gt;
[[Select Teammate-&gt;Select_Teammate]]
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;if $WorldState.cultManor.monolithBroken&gt;&gt;
\   &lt;&lt;if setup.getNextNarativeEventPassage(setup.StorySheet_Jorm.encounterPassages) != undefined&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Investigate the Fallen Realm-&gt;Encounter_Jorm]]&quot;);&gt;&gt;
\   &lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Return to an uncertain fate-&gt;Ending_UncertainFate]]&quot;);&gt;&gt;
\   &lt;&lt;/if&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;set $NorthGateEvent = setup.getNextNarativeEventPassage(setup.StorySheet_Player.exploration.villageGateNorth)&gt;&gt;
\
\&lt;&lt;if $NorthGateEvent != undefined &amp;&amp; $CharacterSheet_Player.quest.corruptionVillageExiled == false&gt;&gt;
    \&lt;&lt;run setup.choice(&quot;[[Northern Barrens-&gt;$NorthGateEvent][$Explore_Destination = $Explore_Destination_North; setup.setKnownEncounterList(setup.LOCATIONS.NORTH);]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
    \&lt;&lt;run setup.choice(&quot;[[Northern Barrens-&gt;$Explore_Destination_North][$Explore_Destination = $Explore_Destination_North; $Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.NORTH); setup.setKnownEncounterList(setup.LOCATIONS.NORTH);]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;set $EastGateEvent = setup.getNextNarativeEventPassage(setup.StorySheet_Player.exploration.villageGateEast)&gt;&gt;
\&lt;&lt;if $EastGateEvent != undefined &amp;&amp; $CharacterSheet_Player.quest.corruptionVillageExiled == false&gt;&gt;
    \&lt;&lt;run setup.choice(&quot;[[Eastern Barrens-&gt;$EastGateEvent][$Explore_Destination = $Explore_Destination_East; setup.setKnownEncounterList(setup.LOCATIONS.EAST);]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
    \&lt;&lt;run setup.choice(&quot;[[Eastern Barrens-&gt;$Explore_Destination_East][$Explore_Destination = $Explore_Destination_East; $Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST); setup.setKnownEncounterList(setup.LOCATIONS.EAST);]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1906" name="abelNyxDialogue_MentionNyx_link" tags="" position="725,23850" size="100,100">[[Mention the black sun within the chasm-&gt;abelNyxDialogue_MentionNyx]]</tw-passagedata><tw-passagedata pid="1907" name="abelNyxDialogue_MentionNyx" tags="" position="850,23850" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.available_nyxDialogue_mentionNyx = false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;happy&quot;)&gt;&gt;
&quot;Hmm,&quot; he muses aloud, a thoughtful hum echoing through the dimly lit shelter. His penetrating gaze shifts onto the figure before him.

&quot;That&#39;s quite a revelation, &lt;&lt;PlayerName&gt;&gt;.&quot; The claws sprouting from his intimidating hands tap an agitated cadence against the coarse wood of his chair&#39;s armrests.

Visions of the ominously silent chasm flood his mind, the paralyzing dread oozing from it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1908" name="abelNyxDialogue_MentionNyx_2" tags="" position="975,23850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
&quot;Descending into Nyx&#39;s lair, nothing good can come out of that.&quot; he unfurls, presenting a clawed hand that thoughtfully rummages his fur.

The feeble firelight dances off the rivulets of nervous sweat cascading down his biceps.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1909" name="abelNyxDialogue_MentionNyx_2_1" tags="" position="1100,23850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
&quot;Underground passages teeming with perverse abominations, and treacherous traps. Amongst countless horrors we’ve yet to come across.&quot; His low rumble of a voice descends to a growl.

His furred tail lashes back and forth in restless anticipation.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1910" name="abelNyxDialogue_MentionNyx_3" tags="" position="1225,23850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
A transient smirk pulls at his fanged mouth.

&quot;But we&#39;re left without options, aren&#39;t we? Lest we let this realm engulf ours.&quot;

He arches down lithely, pulling out an old miniature chest from amongst his belongings.
With a grunt of brute strength, the cobwebbed lock splinters apart and he throws open the creaky lid.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1911" name="abelNyxDialogue_MentionNyx_3_1" tags="" position="100,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

His hand dives into the relic, retrieving a confounding artifact; a fractured talisman, a symphony of cryptic scrawlings etched into nearly intangible onyx, wreathed in primitive silver.

Despite severe damage, the talisman pulses with a spectral energy, a mere echo of the mighty force it once housed.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1912" name="abelNyxDialogue_MentionNyx_4" tags="" position="225,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

A wry smirk stretches across his grizzled visage, eyes glazing over the damaged keepsake.

&quot;This is the Eye of the Void...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1913" name="abelNyxDialogue_MentionNyx_5" tags="" position="350,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;It has been battered and ravaged, shattered by its previous owners, tossed aside by The Herald, but I retrieved the biggest piece.&quot;

His grip tightens, his fingers tracing the many cracks and crevices of the artifact.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_5_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1914" name="abelNyxDialogue_MentionNyx_5_1" tags="" position="475,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;happy&quot;)&gt;&gt;
&quot;It isn&#39;t at its peak potential.&quot; He stands, looming tall as skies, forcing himself to lock eyes with yours.

&quot;But it was said to be instrumental in keeping old gods in previous eras. I feel deep within my soul that it could be done again.&quot;

His irises gleam with a fiery resolve that you’ve known him for.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1915" name="abelNyxDialogue_MentionNyx_6" tags="" position="600,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;
“Our two previous salvagers couldn&#39;t resist tinkering with anything they thought would give them an edge over Corruption.” Abel’s voice drips with contempt.

&quot;And so they split the Eye, wielding fragments singularly, hoping it would grant them power to resist Corruption.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1916" name="abelNyxDialogue_MentionNyx_7" tags="" position="725,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;
His tail lashes impatiently. &quot;They set off from the Bastion bearing the fragments, swearing to return victorious. But, they never came back.&quot;

Abel&#39;s voice deepens to a menacing growl.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1917" name="abelNyxDialogue_MentionNyx_8" tags="" position="850,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
“If you were to reach Nyx without a way to overcome it, I’m worried it’ll change you into something you’re not…”

Despite the gargantuan task at hand, despite the gradually diminishing hope, despite the insurmountable odds, he chooses to possess undying faith in you.

&quot;We have crossed paths with impossible terrors before, but this is something else.&quot; There&#39;s a ferocious snarl on his furred face, a mixture of disgust and horror.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MentionNyx_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1918" name="abelNyxDialogue_MentionNyx_9" tags="" position="975,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability_EyeOfTheVoid)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid = true&gt;&gt;
&quot;A little more shouldn&#39;t be a problem, right? Find those missing pieces, so we can make the Eye as powerful as it once was.&quot;

He hands over the broken talisman to you.

∇: You gain the Eye of the Void

\&lt;&lt;run setup.choice(setup.getAbelMenuMenuPassage());&gt;&gt;</tw-passagedata><tw-passagedata pid="1919" name="abelNyxDialogue_MissingShards_Link" tags="" position="1100,23975" size="100,100">[[Ask about who holds the missing talisman shards-&gt;abelNyxDialogue_MissingShards]]</tw-passagedata><tw-passagedata pid="1920" name="abelNyxDialogue_MissingShards" tags="" position="1225,23975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
&quot;They were formidable beings.&quot; Abel murmurs, his gaze losing its focus.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MissingShards_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1921" name="abelNyxDialogue_MissingShards_2" tags="" position="100,24100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;happy&quot;)&gt;&gt;
&quot;First came Eroth, the Warden,&quot; He recounts, letting his heavy emerald eyes fall shut as he envisions the colossal titan.

&quot;His might was as steadfast as the Bastion itself. But I could always feel some kind of demonic urges within him.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MissingShards_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1922" name="abelNyxDialogue_MissingShards_3" tags="" position="225,24100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
He lets out a sigh, a muffled rumble of regret that nudges at the stagnating warmth of the sun.

&quot;And then, there was Silas, the Wise,&quot; he resumes. Upon the mention of the name, a subtle ease flows through his broad shoulders.

&quot;A hybrid of man and serpent. His mind was as deadly as his venom, his intellect... unparalleled.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MissingShards_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1923" name="abelNyxDialogue_MissingShards_4" tags="" position="350,24100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;happy&quot;)&gt;&gt;
A faint laughter reverberates off the rocky walls of their haven. &quot;A crafty trickster he was, yet brilliantly so.&quot;

&quot;Nonetheless, even their immense might and keen intelligence... became prey to the allures of Nyx. That accursed dark sun whittled away at their courage, unearthing their deepest desires, baring their nearly erased weaknesses.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_MissingShards_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1924" name="abelNyxDialogue_MissingShards_5" tags="" position="475,24100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;worried&quot;)&gt;&gt;
&quot;Their names are empty of meaning now, I’d be surprised if they use them for themselves. But we must find them, succeed where they once failed.&quot;

\&lt;&lt;run setup.choice(setup.getAbelMenuMenuPassage());&gt;&gt;</tw-passagedata><tw-passagedata pid="1925" name="abelNyxDialogue_GiveFirstShard_Link" tags="" position="600,24100" size="100,100">[[Give him a shard of the Eye of the Void-&gt;abelNyxDialogue_GiveFirstShard]]</tw-passagedata><tw-passagedata pid="1926" name="abelNyxDialogue_GiveFirstShard" tags="" position="725,24100" size="100,100">\&lt;&lt;set $CharacterSheet_Abel.quest.available_nyxDialogue_firstMissingShard = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.gatheredShard--&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.givenShards++&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
His eyes suddenly gleam wider with unprecedented hope, his coarse brows lifting a bit like a bold mountain range thrusting from the landscape.
Grasping the shard in his massive hand, he discerns the soothing rhythm of its energy pulsating beneath his skin.

Cool as the quintessential winter night, yet deceivingly sharp.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveFirstShard_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1927" name="abelNyxDialogue_GiveFirstShard_2" tags="" position="850,24100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
With the practiced precision of a skilled craftsman, he maps the shard to its matching fracture in the grand talisman.

The surrounding air hums and prickles electrically with the powerful resonance between the two aged pieces.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveFirstShard_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1928" name="abelNyxDialogue_GiveFirstShard_2_1" tags="" position="975,24100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
As the shard blends seamlessly back into the heart of the artifact, an enchanting, melodious vibration resonates throughout their chamber.

The Eye of the Void seems to breathe with fresh vitality.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveFirstShard_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1929" name="abelNyxDialogue_GiveFirstShard_3" tags="" position="1100,24100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability_EyeOfTheVoid)&gt;&gt;
&quot;It stirs towards regaining power, yet it&#39;s far from its prime.&quot; he declares, his solid grip tightening around the partially restored talisman.

His gaze darts towards you, a solemn certainty blazing fiercely.

&quot;We must find the last remaining fragment, so that the Eye can be made whole again.&quot;

∇: The Eye of the Void has been strengthened.

\&lt;&lt;run setup.choice(setup.getAbelMenuMenuPassage());&gt;&gt;</tw-passagedata><tw-passagedata pid="1930" name="abelNyxDialogue_GiveLastShard_Link" tags="" position="1225,24100" size="100,100">[[Give him a shard of the Eye of the Void-&gt;abelNyxDialogue_GiveLastShard]]</tw-passagedata><tw-passagedata pid="1931" name="abelNyxDialogue_GiveLastShard" tags="" position="100,24225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.gatheredShard--&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.givenShards++&gt;&gt;
A breath lodges itself in Abel’s throat as you extend the final shard of the Eye of the Void to him.
His heart pulsates with a building anticipation, the throbbing melody in sync with the subtle growl low in his chest.

He cradles it from your grasp with the gentle precision of a hunter cradling his kill, palming the last shard of the Eye.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveLastShard_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1932" name="abelNyxDialogue_GiveLastShard_2" tags="" position="225,24225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
As he brings it closer to the Eye&#39;s remnant in his other hand, an almost magnetic force is palpable between them, an inherent desire to be whole once again.
His heart drumbeat strengthens at this point, louder and faster in response to the sensation.

With meticulous precision, he positions the shard to its missing slot in the Eye – slowly, cautiously.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveLastShard_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1933" name="abelNyxDialogue_GiveLastShard_3" tags="" position="350,24225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The two pieces unite, a surge of power released, a ripple of energy that stirs the air around them.

A burst of radiant light ripples forth, and the Eye of the Void is complete once more.
It pulsates its strength anew, an aura of untouched energy radiating from it and cocooning your forms.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveLastShard_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1934" name="abelNyxDialogue_GiveLastShard_4" tags="" position="475,24225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The light casts a spectacle of shimmering, dancing beams.

&quot;Hmm,&quot; he rumbles, a slow grin unfurling across his maw as he hoists the restored artifact.
The Eye feels robust in his grip, its might vibrating beneath his claws.

A halo of potent energy sheds anew from the mended artifact, painting everything nearby in a soothing, ethereal glow.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveLastShard_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1935" name="abelNyxDialogue_GiveLastShard_5" tags="" position="600,24225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability_EyeOfTheVoid)&gt;&gt;
&quot;We&#39;ve done it, &lt;&lt;PlayerName&gt;&gt;,&quot; he announces, the resonating growl of his voice amplifying his veiled thrill.

&quot;The Eye of the Void is finally back at its full strength!&quot;
His tail flicks behind him, keeping time with his heart&#39;s excited beat.

“Now, if you ever come face to face with Nyx, keep the talisman close, bring it to your chest, and face the black sun head on.&quot;

∇: The Eye of the Void has been strengthened.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;abelNyxDialogue_GiveLastShard_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1936" name="abelNyxDialogue_GiveLastShard_6" tags="" position="725,24225" size="100,100">\&lt;&lt;run setup.completeAchievement(&quot;Achievement_BearerOfTheEye&quot;);&gt;&gt;
\&lt;&lt;set $CharacterSheet_Abel.quest.available_nyxDialogue_lastMissingShard = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.hasIncompleteEyeOfTheVoid = false&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.hasCompleteEyeOfTheVoid = true&gt;&gt;

(Hey, Sombreve talking directly to you here. This is currently the end of that questline but I&#39;ll add on to it for next month.)

(Still, congrats! Here&#39;s some xp and Essence for getting this far &lt;3)

\&lt;&lt;run setup.gainEssence(2000)&gt;&gt;
\&lt;&lt;run State.variables.Exp += 3000;&gt;&gt;
∇: You gain 3000 EXP!
∇: You gain 2000 Essence!

\&lt;&lt;run setup.choice(setup.getAbelMenuMenuPassage());&gt;&gt;</tw-passagedata><tw-passagedata pid="1937" name="Village_Corruption_CorruptedAbel" tags="Overworld" position="850,24225" size="100,100">As you move closer to the Golden Bastion, the massive gates do not open as they usually would. 
Instead, a small battalion of men rises from the ramparts, weapons in hand. 

Others lie in waiting in front of the closed gate, including the Herald.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Corruption_CorruptedAbel_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1938" name="Village_Corruption_CorruptedAbel_2" tags="Overworld" position="975,24225" size="100,100">In one swift motion, he draws his sword. 
The steel&#39;s deadly edge reflects the barren surroundings&#39; chilling emptiness, a sinister harbinger of death in this desolate land. 

Around him, a cadre of formidable guards, equally austere and battle-hardened, forms an impenetrable wall of flesh and steel that you cannot hope to bypass without a confrontation.

&quot;You corrupted my apprentice,&quot; the herald growls, his voice as harsh as the jagged peaks lining the horizon. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Corruption_CorruptedAbel_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1939" name="Village_Corruption_CorruptedAbel_3" tags="Overworld" position="1100,24225" size="100,100">There&#39;s a storm brewing in his eyes, a deep-seated fury that sends an icy cold chill down your spine. 
His accusation seems to hang in the chilled wind like a death sentence, assaulting your senses more fiercely than the suffocating bleakness of the Barrens. 

The word &quot;corrupted&quot; reverberates in the deathly still air, echoing treachery, betrayal, and poisoned beliefs. 

&quot;May you forever roam the Barrens like him, never to return.&quot; 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Corruption_CorruptedAbel_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1940" name="Village_Corruption_CorruptedAbel_4" tags="Overworld" position="1225,24225" size="100,100">The herald commands with cold authority, each word feeling like a blade ripping through your resolve.

His words, so bitter and damning, threaten to fracture your spirit, to exile you into the inhospitable Barrens.

The Herald&#39;s guards remain silent spectators to the unfolding drama, their impassive eyes boring into you with restrained contempt. 
Each carries a weapon, sharp and gleaming under the dull and lifeless sky, a stark reminder of the undeniable truth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Corruption_CorruptedAbel_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1941" name="Village_Corruption_CorruptedAbel_5" tags="Overworld" position="100,24350" size="100,100">You are not welcome here. 

\&lt;&lt;run setup.choice(&quot;[[Leave the Golden Bastion-&gt;Village_Exiled]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse to leave-&gt;Village_Confrontation]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1942" name="Village_Corruption_FirstWarning" tags="Overworld" position="225,24350" size="100,100">As you return to the Golden Bastion, something catches your attention. There seems to be some tension in the air. Guards give you uneasy glances, and some even grasp their weapons nervously.

\&lt;&lt;run setup.choice(&quot;[[Approach the gate-&gt;Village_Corruption_FirstWarning_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1943" name="Village_Corruption_FirstWarning_1" tags="Overworld" position="350,24350" size="100,100">Two guards gesture at you to stop as you reach the gate. 
The Herald is standing by them; his usual warmth nowhere to be seen. 

Before you have a chance to react or explain, he exclaims:

&quot;The barrens have been doing its effect on you, &lt;&lt;PlayerName&gt;&gt;. Like other explorers who cross that threshold, you are to be exiled until you process the Corruption flowing within you.&quot;

His tone is assertive, his expression unblinking. You can tell that he has been through this speech many times before.

\&lt;&lt;run setup.choice(&quot;[[Leave the Golden Bastion-&gt;Village_Exiled]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse to leave-&gt;Village_Confrontation]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1944" name="Village_Corruption_Warning_Idle" tags="Overworld" position="475,24350" size="100,100">The tension you have felt when last approaching the gate is ever-present. 
Guards watch you closely, and some even grasp their weapons firmly. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Corruption_Warning_Idle_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1945" name="Village_Corruption_Warning_Idle_1" tags="Overworld" position="600,24350" size="100,100">Upon reaching the eastern gate, you witness a guard whispering to another before he leaves in a rush; he soon returns with the Herald by his side.

\&lt;&lt;if setup.getStatValue(State.variables.CharacterSheet_Player, &quot;corruption&quot;) &lt;= setup.CorruptionComparators.NEUTRAL&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Corruption_Return]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
&quot;I&#39;m afraid that your Corruption is still too strong to let you back in. Let a few more days pass, and avoid those monsters who roam the Barrens.&quot;

\&lt;&lt;run setup.choice(&quot;[[Leave the Golden Bastion-&gt;Village_Exiled]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Confront him-&gt;Village_Confrontation]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1946" name="Village_Corruption_Return" tags="Overworld" position="725,24350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.corruptionVillageExiled = false&gt;&gt;

The Herald looks you over with a stoic and unblinking expression. He then raises his hand with two extended fingers, and he approaches to press it between your eyes. 
A subtle white aura emanates from his fingers, yet it&#39;s hard to determine the effect of his magic.

He suddenly breaks into a smile.

&quot;Seems like you&#39;ve surmounted the temptations of Corruption after all.&quot;

Dozens of guards seem to sigh in relief, having failed to hide how worried they have been.

&quot;You&#39;re welcome back in, but do steer clear of those monsters from now on.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Normal]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1947" name="Village_Confrontation" tags="Overworld" position="850,24350" size="100,100">The surrounding guards&#39; eyes widened. Some raise their weapons, but the Herald raises his hand in response. Everyone stands and waits for someone to make the first move.

The Herald breaks the silence.
&quot;Do not approach him! He&#39;s infectious and bound to corrupt us all!&#39;&quot;

He stares directly at you with unquestionable resolve. His arms begin to glow in a subtle white aura as he clenches his fists.

&quot;Let me handle this, for the Eldest&#39;s sake.&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Herald)&gt;&gt;</tw-passagedata><tw-passagedata pid="1948" name="Village_Exiled_FirstTime" tags="Overworld" position="975,24350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.corruptionVillageExiled = true&gt;&gt;
You walk off, without a specific direction to go to.

Your first instinct is to find a safe area to make camp.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1949" name="Village_Exiled" tags="Overworld" position="1100,24350" size="100,100">\&lt;&lt;if $CharacterSheet_Player.quest.corruptionVillageExiled == false&gt;&gt;
&lt;&lt;include Village_Exiled_FirstTime&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;include Village_Exiled_Menu&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="1950" name="Village_Exiled_Menu" tags="Overworld" position="1225,24350" size="100,100">\&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;village_exiled_menu&quot;, 1)&gt;&gt;

&lt;&lt;include Village_Normal&gt;&gt;\

\&lt;&lt;run setup.choice(&quot;[[Return to the Golden Bastion-&gt;Village_Corruption_Warning_Idle]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1951" name="Village_Exiled_Menu_Corruption_Header_Under_Threshold" tags="Overworld" position="100,24475" size="100,100">The Corruption within you is barely visible at this point. You could pass off as a typical inhabitant of the Golden Bastion.

\&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;village_exiled_menu_underThreshold&quot;, 1)&gt;&gt;</tw-passagedata><tw-passagedata pid="1952" name="Village_Exiled_Menu_Corruption_Header_Under_Threshold_Large" tags="Overworld" position="225,24475" size="100,100">Except for your mountainous body, of course.</tw-passagedata><tw-passagedata pid="1953" name="Village_Exiled_Menu_Corruption_Header_Under_Threshold_Huge" tags="Overworld" position="350,24475" size="100,100">Except for your impossibly massive body, of course.</tw-passagedata><tw-passagedata pid="1954" name="Village_Exiled_Menu_Corruption_Header_Over_Threshold" tags="Overworld" position="475,24475" size="100,100">You feel aroused. This lingering lust throbs within your body like an oversized drum. Deep moans escape your every breath.

There is no way you can hide how corrupted you&#39;ve become.</tw-passagedata><tw-passagedata pid="1955" name="Village_Exiled_Menu_Corruption_Header_Max_Corruption" tags="Overworld" position="600,24475" size="100,100">At this point, every part of you drips with the oily darkness of Corruption. Blood, sweat, saliva, even your cum, all of these have been replaced by the thick black substance. 

A pool of black constantly grows under where you stand. Your cock oozes enough Corruption to turn even the purest of souls into a lustful beast.

You Must Grow...
You Must Spread...</tw-passagedata><tw-passagedata pid="1956" name="Village_Exiled_Abel_Menu" tags="Overworld" position="725,24475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
Abel stands proudly, his monstrous form taking most of your camp.

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Player.villageAbelExiledLinks, 10)&gt;&gt;\
&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Abel.nyxDialogue, 3)&gt;&gt;\

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1957" name="Village_Exiled_Abel_FirstTime" tags="Overworld" position="850,24475" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_enterVillage_exiled_AbelReturn = false;&gt;&gt;
Drunken shadows playfully dance by the bonfire of your camp, elongating and shortening as relentless desert winds alter their shapes.

Yet something feels different about its movement, as if distant steps jerked them outwards, through consistent thunderous pulses.

As you gaze upon the fire, you notice that there lies something more; a powerful current. You can feel it tingle along your skin. 
It lingers in the arid air around you, a Corruption different to your own.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_FirstTime_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1958" name="Village_Exiled_Abel_FirstTime_2" tags="Overworld" position="975,24475" size="100,100">Soon the ground shakes as massive footsteps become impossible to ignore, a beast is heading this way, confrontation is unavoidable.

Yet, an unspoken connection between you and the intruder vibrates in the air, visible like the billowing waves of heat from the fire.  
Your anticipation is not hidden, it shines like the naked blade of a warrior.

Finally, the beast rises from a nearby dune, and you instantly recognize him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_FirstTime_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1959" name="Village_Exiled_Abel_FirstTime_3" tags="Overworld" position="1100,24475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

”I finally found you.”

Lust and excitement swirl within you, as potent a mix as any battle frenzy. Abel is safe, and you’re together once again.

A surge of relief courses through you as he takes you into his arms. 
A part of him thought you&#39;d be wandering these deserts eternally, lost in the vast emptiness.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_FirstTime_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1960" name="Village_Exiled_Abel_FirstTime_4" tags="Overworld" position="1225,24475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;Goddamn it, I was so worried&quot; he speaks softly under your breath, his voice a mere whisper now, quivering under the weight of emotions. 
His hands tighten around you, pulling your muscular form closer. 

The scent of sweat mixing with Corruption, the warmth radiating from him... 
It sends tremors shuddering through you, an all-too familiar sensation.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_FirstTime_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1961" name="Village_Exiled_Abel_FirstTime_5" tags="Overworld" position="100,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

The pent-up apprehension, the bottled fear of solitude, it all rushes through him as tears flow down his face.

&quot;&lt;&lt;PlayerName&gt;&gt;...&quot; he pulls away slightly from his embrace, ruby eyes boring into your with undeniable sincerity. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_FirstTime_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1962" name="Village_Exiled_Abel_FirstTime_6" tags="Overworld" position="225,24600" size="100,100">\&lt;&lt;run setup.abelJoinsPlayer()&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

Despite his feral strength, he feels overcome with raw unwieldy emotions.

&quot;I’m so glad you’re okay.&quot; With that, he pulls you back into his warmth, firmly secure in his hold. 

∇: Abel joined your party.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1963" name="Village_Exiled_Abel_WhatNext_Link" tags="Overworld" position="350,24600" size="100,100">\[[Talk about what&#39;s next-&gt;Village_Exiled_Abel_WhatNext]]</tw-passagedata><tw-passagedata pid="1964" name="Village_Exiled_Abel_WhatNext" tags="Overworld" position="475,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The increasing nearness of you sends his senses spiraling, every fiber of his being aflame with a potent mix of anticipation and desire. 
His eyes bore into yours, your gazes locked in a silent exchange of untamed emotions.

&quot;&lt;&lt;PlayerName&gt;&gt;...&quot; he murmurs, his voice a resonating purr vibrating between you. 
Each syllable of your name feels laced with an inexplicable heat and longing.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1965" name="Village_Exiled_Abel_WhatNext_2" tags="Overworld" position="600,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
Despite the dense air filled with the familiar scent of dust and roaring bonfire, there&#39;s an underlying hint of you in it. 
And it stirs something deep inside him, something primeval and insatiable.

&quot;Now that we’re together, where do we go from here?&quot; he asks, allowing a teasing grin to spread across his face. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1966" name="Village_Exiled_Abel_WhatNext_3" tags="Overworld" position="725,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The question holds within it so much more than a mere query about your path forward. 

It&#39;s an invitation, a provocative proposal that he knows will pave the way for an enticing dance of power and corruption both of you desire.

Yet, as his rippling muscles brush against yours, and the firelight dances upon the intricate tapestry of desirous engravings scattered across your surroundings, there&#39;s more at stake here. 
For beyond the allure of power and the thrill of chaos, the spark of something equally intoxicating ignites within him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1967" name="Village_Exiled_Abel_WhatNext_4" tags="Overworld" position="850,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
His hand traces the expanse of your muscular form, lingering just a moment longer at each contour, before his fingers find themselves entangled with yours. 
As he squeezes your hand, his pearls of anticipation drip into your intertwined fingers — a silent plea, a carnal invitation for what&#39;s to come. 

&quot;What should we do about the Bastion? Do you seek vengeance? Or should we abandon their ignorance to their own fate?&quot; He asked, each word a ripple through our tight embrace. 

His eyes lifted to meet your gaze yet again, the low wavering flames from the embers reflecting in his darkened eyes.

\&lt;&lt;run setup.choice(&quot;[[Yearn for vengeance-&gt;Village_Exiled_Abel_WhatNext_Vengeance]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave them be-&gt;Village_Exiled_Abel_WhatNext_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1968" name="Village_Exiled_Abel_WhatNext_Vengeance" tags="Overworld" position="975,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The determination in your voice, the fire in your eyes — it&#39;s all too consuming.

Your heart pounds against your rib cage, the echo loud in your ears, akin to war drums. A part of you revels at the thought of chaos, retaliation.

&quot;But…&quot; A hesitant tremor laces Abel words. &quot;Is revenge really the path we want to take?&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_Vengeance_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1969" name="Village_Exiled_Abel_WhatNext_Vengeance_2" tags="Overworld" position="1100,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The idea of sating his wrathful desires tantalizes him, yet a spark of caution still sparkles dimly amidst the wild flames of your shared ambitions.

“Retribution would give me satisfaction, that&#39;s for sure. But I have another adventure in mind... \
Embracing our powers, reaching unprecedented strength and creating a world where you both can exist without prejudice.”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_Vengeance_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1970" name="Village_Exiled_Abel_WhatNext_Vengeance_3" tags="Overworld" position="1225,24600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
Even as he says this, your yearning for revenge intrigues him, catering to the thirst within him. 
As much as he wants to discourage it, he can&#39;t ignore the enticing draw of vengeance brewing within you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1971" name="Village_Exiled_Abel_WhatNext_Leave" tags="Overworld" position="100,24725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
As two outcasts exiled from a once-shared tribe, you&#39;ve found a new purpose, a new challenge. 
The notion of revenge shrinks to insignificance, amounting to pettiness in light of your approaching ascension.

&quot;Yes!&quot; Abel affirms, voice laden with concord and esteem. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_Leave_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1972" name="Village_Exiled_Abel_WhatNext_Leave_2" tags="Overworld" position="225,24725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
A predator&#39;s grin takes shape on his face, baring an array of deadly white teeth that gleam in the dim glow of the firelight. 

&quot;Let them binge on their ignorance. Power brings an element of insight, something they are incapable of comprehending.&quot;

A surge of fervor engulfs him, his heart pulsating like a war drum. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_Leave_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1973" name="Village_Exiled_Abel_WhatNext_Leave_3" tags="Overworld" position="350,24725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;
The gratification of unified purpose, it stirs something deep within him.

When your eyes lock again, they gleam with the reflective glow of flames, fueled by your thirst for power, your shared aspirations, and a raw, instinctual craving. 
You offer a slow nod, acknowledging the mutual decision before moving closer. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_WhatNext_Leave_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1974" name="Village_Exiled_Abel_WhatNext_Leave_4" tags="Overworld" position="475,24725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;blushing&quot;)&gt;&gt;
As the deep rumble within you morphs into a thundering roar, you no longer manage to suppress the waves of anticipation and desire.
It&#39;s a flawless convergence—unhindered power, a bare desire for each other. 

You kiss, deeply and longingly, tasting the warmth of his soul. You hold him tight, with the shared certainty that nothing can stop you as long as you’re together.

You forget how long your kiss lasts, each moment blending harmoniously with the rhythm of your heartbeats.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village_Exiled_Abel_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1975" name="Modify_Form" tags="Overworld" position="600,24725" size="100,100">\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_Mutant&quot;) || setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_Abomination&quot;)&gt;&gt;
&lt;h1&gt; IMPROVE YOUR FORM &lt;/h1&gt;
\&lt;&lt;run setup.choice(&quot;[[Apply-&gt;Modify_Metabolism][setup.AbilityScripts.Mutant.saveMutantChangeParams($CharacterSheet_Player)]]&quot;)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.AbilityScripts.Mutant.initializeMutantChangeParams()&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.info.choiceHighlight.mutationAvail = false;&gt;&gt;
&lt;&lt;include Show_Form&gt;&gt;

&lt;&lt;run setup.choice(&quot;[[Back-&gt;Modify_Metabolism]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="1976" name="Show_Form" tags="Overworld" position="725,24725" size="100,100">&lt;&lt;print setup.addDOMHook(&quot;MUT_TABLE_DIV&quot;, function(){setup.AbilityScripts.Mutant.getMutantChangeTable()})&gt;&gt;</tw-passagedata><tw-passagedata pid="1977" name="Modify_Metabolism" tags="Overworld" position="100,0" size="100,100">\&lt;h1&gt;Your body is no longer bound by mortal limits.
Adapt, overcome.&lt;/h1&gt;

&lt;&lt;print setup.highlightChoice(&quot;[[Overgrowth-&gt;Modify_Metabolism_Overgrowth]]&quot;,$CharacterSheet_Player.info.choiceHighlight.overgrowthAvail);&gt;&gt;
&lt;&lt;print setup.highlightChoice(&quot;[[Limit Break-&gt;Modify_Metabolism_LimitBreak]]&quot;,$CharacterSheet_Player.info.choiceHighlight.limitBreakAvail);&gt;&gt;
\&lt;&lt;if setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_Mutant&quot;) || setup.AbiHndlr.hasAbility($CharacterSheet_Player, &quot;Ability_Abomination&quot;)&gt;&gt;
&lt;&lt;print setup.highlightChoice(&quot;[[Alter Form-&gt;Modify_Form]]&quot;,$CharacterSheet_Player.info.choiceHighlight.mutationAvail);&gt;&gt;
\&lt;&lt;else&gt;&gt;
[[View Form-&gt;Modify_Form]]
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1978" name="Modify_Metabolism_Overgrowth" tags="Overworld" position="975,24725" size="100,100">\&lt;&lt;set $CharacterSheet_Player.info.choiceHighlight.overgrowthAvail = false;&gt;&gt;
\&lt;h2&gt;Upon reaching the limits of your sizes, all acquired growth will be stored as Essence.&lt;/h2&gt;
You can consume &lt;&lt;print setup.getOvergrowthToEssence()&gt;&gt; Essence.

\&lt;&lt;run setup.choice(&quot;[[Consume-&gt;Modify_Metabolism][setup.convertOvergrowthToEssence()]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Modify_Metabolism]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1979" name="Modify_Metabolism_LimitBreak" tags="Overworld" position="1100,24725" size="100,100">&lt;&lt;nobr&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.info.choiceHighlight.limitBreakAvail = false;&gt;&gt;
&lt;&lt;run setup.Metabolism.initMetabolismParams();&gt;&gt;

&lt;&lt;/nobr&gt;&gt;
\&lt;h1&gt;Your hidden powers reach deep within, let it break the limits of your mortal shell.&lt;/h1&gt;

\&lt;&lt;print setup.addDOMHook(&quot;Modify_Metabolism_Div&quot;, setup.Metabolism.getTable)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Apply-&gt;Modify_Metabolism][setup.Metabolism.applyMetabolismParams($CharacterSheet_Player)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Modify_Metabolism]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1980" name="VillageStars" tags="Overworld" position="1225,24725" size="100,100">\&lt;&lt;include Stars_header&gt;&gt;

Gazing up a the Stars, you can feel a presence of power within them. A power you can utilize for yourself.

[[Call upon the power of a Star-&gt;Stars_changeStar]]
[[Change your Fate-&gt;Stars_changeFate]]
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1981" name="Stars_changeStar" tags="Overworld" position="100,24850" size="100,100">\&lt;h1&gt; Call upon the Stars &lt;/h1&gt;

\&lt;&lt;include Stars_header&gt;&gt;

\&lt;&lt;run setup.initActiveStarParams();&gt;&gt;
\&lt;&lt;print setup.addDOMHook(&quot;STAR_CHANGE_DIV&quot;, setup.getActiveStarTable)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;VillageStars]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1982" name="Stars_changeStar_outro" tags="Overworld" position="225,24850" size="100,100">&lt;h1&gt; THE STARS ANSWER &lt;/h1&gt;

&lt;h2&gt; The &lt;&lt;print setup.Stars.getTodaysStarName()&gt;&gt; ascends.&lt;/h2&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1983" name="Stars_changeFate" tags="Overworld" position="350,24850" size="100,100">\&lt;h1&gt; Fate is yours to Wield &lt;/h1&gt;
&lt;h2&gt;The Stars smile upon those who face impossible odds.&lt;/h2&gt;

\&lt;&lt;include Stars_header&gt;&gt;

\&lt;&lt;run setup.initModifyStarBonusParams();&gt;&gt;

\&lt;&lt;print setup.addDOMHook(&quot;STAR_BONUS_TABLE&quot;, setup.getStarBonusTable)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Change Fate-&gt;Stars_changeBonus_outro][setup.saveModifyStarBonusParams(_ModifyStarBonusParams)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;VillageStars]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1984" name="Stars_changeBonus_outro" tags="Overworld" position="475,24850" size="100,100">&lt;h1&gt; THE STARS OBEY &lt;/h1&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;


/*-------------------------------------Includes----------------------*/</tw-passagedata><tw-passagedata pid="1985" name="Stars_header" tags="" position="600,24850" size="100,100">&lt;&lt;print setup.Stars.getTodaysStarHeader()&gt;&gt;
&lt;&lt;print setup.Stars.getNextStarHeader()&gt;&gt;</tw-passagedata><tw-passagedata pid="1986" name="Quest_MQ001_EchoFirstEncounter" tags="" position="725,24850" size="100,100">&lt;&lt;set $Quest_MQ001_01 =
{
    id:&quot;MQ001_01&quot;,
    description: &quot;I found the impact site of the meteor, I should check it out when I&#39;m ready.&quot;,
    villagePassage: &quot;[[Go to the meteor&#39;s impact site-&gt;Quest_MQ001_EchoFirstEncounter_Lake]]&quot;,
    onComplete: function()
    {
    }
}&gt;&gt;</tw-passagedata><tw-passagedata pid="1987" name="Quest_MQ001_EchoFirstEncounter_SeeSmoke" tags="" position="850,24850" size="100,100">The train of thought hardly has time to flourish as movement on the horizon catches your eye.

Dark smoke.

Looks like you found where the impact site lies.

\&lt;&lt;run setup.choice(&quot;[[Investigate-&gt;Quest_MQ001_EchoFirstEncounter_Lake]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back to the village-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1988" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact" tags="" position="975,24850" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
It takes a few more minutes of travel for you to arrive at the edge of the crater. The desert is hot, but this area in particular feels as if it could overcome you if you dawdled.

The sand, usually a dull yellow, has vitrified into a concave sheet of a reflective glass. Black glass. Although dazzling, your mind struggles to make sense of it. Regardless of its colour, it reflects the sunlight above in vibrant hues as if the light&#39;s properties were amplified instead of dulled.

Shading your eyes and squinting, you follow the curvature of the ground until you settle on a human-sized spherical shape nestled at its center. The surface of the object warps the light into waves of colour, not unlike the glass around it.

It&#39;s beautiful. You fail to notice your feet taking steps forward into the crater. It is impossible to appreciate its full beauty without getting closer. You had to. You wanted to.

In what feels like a blink of an eye, you find yourself standing in front of it. A sudden sense of unease grips you. Now that you are closer, you begin to see that the tar-like substance is more like a shell than a solid sphere.

Something is moving inside: shapes that make no sense and colours that you cannot pin words to. It feels as if you are staring into a pit of endless chaos; chaos that somehow stares back at you from every direction, and those in between that.

Your ears ring. The sound of the desert is drowned out by cacophany; jagged spikes, pops and an eternity of every voice and whisper compressed into packets of tumultuous... noise.

Yet, you are still drawn to it. To you these sounds are the wails of a newborn child, a child seeking refuge in the hands of someone capable.

Your hands.

\&lt;&lt;run setup.choice(&quot;[[Touch the sphere-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back to the village-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1989" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_2" tags="" position="1100,24850" size="100,100">Feeling with no feeling. Colour with no concept of colour. Shapes with no concept of space. A whisper with no breath.

The moment your skin makes contact with the meteorite it explodes outwards, as a wave crashing on a distant shore. Black surrounds you. Chaos surrounds you.

Light, dark and the uncertainty of the unknown blend before swallowing you whole.

Reality itself flees from you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1990" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_3" tags="" position="1225,24850" size="100,100">You are surrounded by a cold, shifting void. Purple mist twists and curls around your legs in sinuous trails.

Like dancing tongues, they lick at your feet. A glacial caress.

A deep violet sky stretches across the horizon while bright reddish hues dance above you - as though you&#39;re at the bottom of an ethereal magenta coloured sea.

Isolation. An endless void.

An eternity of nothing that stretches on...

...and on.

\&lt;&lt;run setup.choice(&quot;[[Look Around You-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1991" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_4" tags="" position="100,24975" size="100,100">You turn around, and the endless void is suddenly replaced by a gaping chasm. An infinite drop.

Peering into the abyss, your eyes are scorched by the harshest light you have ever seen.

A colossal vein of purple energy throbs like a heartbeat; shifting, simmering, writhing, growling and moaning.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1992" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_5" tags="" position="225,24975" size="100,100">You stand there for what feels like hours, enraptured by the vista.

The biting, otherworldly, cold gnaws at your skin and pulls at your sanity.

This place is not meant for mortals.

Beyond all of that - beyond the unknowable and unspeakable sensations, beyond the empty and cold landscape; you feel something.

Something wonderful.

Something beautiful.

You begin to feel a comforting warmth wash over you; a warmth that pulls you into the loving embrace of possibility which washes away the sting of the cold.

This feeling is your oasis in this strange, alien expanse.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1993" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_6" tags="" position="350,24975" size="100,100">The soothing heat seeps into your bones.

The mist around your feet suddenly disperses, blasted away by some unseen force.

Something is moving around you; a powerful aura that spins around your body, playfully.

Teasingly, it pushes against your chest with strength that nearly topples you over. It suddenly retreats as if it realised it may have caused you harm. The presence in front of you seems to grow stronger.

From the black, reflective ground before you rises a huge and writhing mass of semi-solid ooze. It seems unstable; its very being rolling through a spectrum of shapes and colours.

It seems indecisive.

Curiously, you aren&#39;t terrified in the slightest - whatever this strange creature was, it appears to be the source of the embrace that surrounds you. Your soul resonates with it. It means you no harm, as you mean none to it.

You smile as it cycles in and out of the appearance of creatures from your memory; some even based on beasts you&#39;ve only heard of in stories. Your mirth increases as it shifts into forms that you and your people could never have dreamed of.

It calls out to you for help, as if it is asking you to shape it.

That it should become a...

[[Behemoth-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_behemoth][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.BEHEMOTH)]]
[[Dragonborn-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_dragonborn][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.DRAGONBORN)]]
[[Naga-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_naga][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.NAGA)]]
[[Minotaur-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_minotaur][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.MINOTAUR)]]
[[Monstrous Symbiote-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_symbiote][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.SYMBIOTE)]]
[[Werewolf-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_werewolf][setup.setRace($CharacterSheet_Player.symbiote, setup.RacePool.WOLF)]]</tw-passagedata><tw-passagedata pid="1994" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_behemoth" tags="" position="475,24975" size="100,100">The amorphous creature begins to shift, moulding itself as though it was clay.

A massive profile builds up in front of you, dwarfing you in size. It does not stop there as it seems to bulge and widen into a terrifyingly muscular form.

You watch veins sprawl across the body, pumping blood into each swollen mound of strength. Pecs just out from its chest, a shelf that canopies rows of bulging abdominals.

Above each boulder of strength, a bullish neck rises upwards and is crowned by a muzzle that seems to be a cross of a canine and feral cat. With a beastly roar, sharp teeth form from its gums and a pair of dangerously curved horns sprout from the side of its head. Details flood the face; strong cheekbones, a rugged jaw and a gorgeous mohawk that runs from the top of its head down into a mane across its back.

You hear the cracking of bone as its legs shift into a digitigrade stance and its back hunches forward to take on the typical posture of a behemoth.

Finally, a thick tail sprouts from its rear, ridged with webbed spines that frill outwards at its tip.

It kneels down in front of you, it leathery skin stretching across its muscular shape. Even though a behemoth is known for its aggressive and domineering tendencies; this one shows you its full respect and adoration.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1995" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_dragonborn" tags="" position="600,24975" size="100,100">A head forms out of the amorphous creature and a vaguely humanoid shape cascades down from it.

It rolls its shoulders, limbs bulking up with the smooth and elegant motion. The neck, bulging wider, tapers up to a wedge-shaped muzzle.

A forked tongue slips past its lips as teeth forms from its gums. Soon after, a wave of scales and ridges are etched into its skin and eventually covers its entire brawny mass. With a pleased rumble, a pair of slitted eyes flick towards you. You cannot help but admire the sharp angles that define a divine example of a dragonborn.

Raising its arms and pushing one of its digitgrade legs forward, it flexes, and in an instant, major crests and troughs flourish across its body into a canvas of perfectly sculpted musculature.

The mighty beast bows before you as wings erupt from its back, one arm pressed against its voluminous pectorals, the other outstretched showing off its arm&#39;s immaculate contour, tipped by vicious looking talons.

An Adonis. A being of perfect balance, strength, wisdom and elegance. A being showing its utter adoration and devotion to you, wordlessly, through its awe-inspiring body language.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1996" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_naga" tags="" position="725,24975" size="100,100">The amorphous creature begins to shift, moulding itself as though it was clay.

It rises upwards, growing taller as the shape of a head rises out from the top. Features like shoulders cascade outward, widening as the upper torso grows steadily more defined.

Lower down, the form stretches out longways, extruded into a long, thick, prehensile tail that merges seamlessly with the humanoid upper-body of the muscle-bound beast.

More detail floods onto its visage; quickly morphing into a serpentine muzzle. From the tip of its head, a wave of scales pop out from its forming flesh and roll down the length of its back and tail. A hood forms on either side of its skull; a crown fit for a cold-blooded king.

The beast opens its mouth, showing you a pair of powerful fangs that descend from the roof of its mouth. They drip with a sickly green venom.

A pair of slitted eyes take shape above the muzzle, blood-red pupils dilating to stare deeply into your soul. A frigid gaze. A loving gaze. It grins as it leers down at you, lower half stretching even further, into a &lt;&lt;print setup.getLength(70)&gt;&gt; long body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1997" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_minotaur" tags="" position="850,24975" size="100,100">The amorphous creature begins to shift, moulding itself as though it was clay.

Broad, powerful shoulders ripple outwards from its neck, taking form below the outline of a head. Arms roll down from each boulder, thickening and stretching downwards while legs simultaneously grow from its waist. Knees form, jut backwards and end in strong hooves. From behind, the thin tail of a bull begins to swing between its legs.

Its head then ripples as detail creeps onto it; stretching forward into a primal flat-nosed muzzle.

Two thick, curled horns push out from the top of its skull, each one as thick as your arms.

Ooze recedes only to be replaced by a lucious coat of fur; fine enough to show off its bulging muscles. A larger tuft of fur sprouts from betwene the cleft of its massive pecs, forming a treasure trail down to its genitals.

The minotaur glances down at its burgeoning body; thick chest rising and falling with each of its strong huffs. Its nostrils flare with each breath. The strong musk of testosterone overwhelms your senses.

There is a hungry look in its eyes as he stares down at you. He is a beast of desire, of strength and of loyalty, to you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1998" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_symbiote" tags="" position="975,24975" size="100,100">A head forms out of the amorphous creature and a vaguely humanoid shape is embossed into it.

Details fill out the visage; a strong jaw and a sharply defined chin which casts heavy shadows on its lean neck.

Several dozen thin, white veins begin to snake in all directions down from its head, spreading across its arms and torso which race towards its feet.

Writhing alabaster patches slowly take shape where its eyes should; formed from the milky trails that swirl around its face. He stares down at you with featureless, marble-like eyes.

Claws form on the tips of a hand. It raises them to cusp your chin. It smiles, gently, with newfound jagged lips which stretches into a hungry grin, filled with several rows of sharp teeth.

He lets out a low, rumbling and sensual growl; one that makes your chest vibrate.

A long, thick, deliciously slimy tongue slides out from its mouth, as thick as your wrist and as long as your entire body. It flicks at you eagerly.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="1999" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_werewolf" tags="" position="1100,24975" size="100,100">The amorphous creature begins to shift, moulding itself as though it was clay.

The vague shape of a narrow, lean-muzzled head rises out from the top of its morphing mass and is accompanied by a thick neck flanked by incredibly broad shoulders.

A pair of triangular ears sprouts from the head as the creature opens its maw wide, letting out a gargled yet undeniably wolfish howl.

It pierces your ears, breaking the otherwise crushing silence of this otherworldly plane.

Several sets of large, pearly-white teeth emerge from its gums, their tips as sharp as daggers and curved as elegantly as sickles.

A pair of wild, hungry eyes then appear, their pupils dilating as its expression contorts into that of extreme euphoria.

Its chest widens, forming a shelf of muscle above rows of chiselled abdominals. Below the waist, underneath a gratuitous package, powerful digitigrade legs form which are capped by dangerous claw-tipped paws. A similarly dangerous set of tools form on its hands, ready to rend any of your foes into ribbons.

Sprouting from its rear, a fluffy tail plumes outward and begins wagging ecstatically. The fur continues to roll upwards from the tail&#39;s base and across the body until a luscious coat covers it entirely.

Its wild eyes stare down at you with the look of pure adoration.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2000" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_7_custom" tags="" position="1225,24975" size="100,100">\&lt;&lt;set _symHead = setup.DESC.getLimbDesc($CharacterSheet_Symbiote, &#39;heads&#39;, {article:true})&gt;&gt;
The amorphous creature begins to shift, moulding itself as though it was clay.

The ooze bubbles at its apex, rising until it forms &lt;&lt;print _symHead&gt;&gt;. Smiling at you, &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;teeths&#39;&gt;&gt; \
forms out of the gum from beneath its &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;eyes&#39;&gt;&gt; that stare at you with unwavering adoration.

\&lt;&lt;if $CharacterSheet_Player.symbiote.info.anatomy.horns != undefined &amp;&amp; $CharacterSheet_Player.symbiote.info.anatomy.horns.number &gt;= 1&gt;&gt;
A gutteral roar suddenly takes the beast. With the sound of cracking bone, its flesh parts to make space for &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;horns&#39;&gt;&gt;.
\&lt;&lt;/if&gt;&gt;

Detail begins to flood into the rest of its muscular body; &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;arms&#39;&gt;&gt; form from growing stumps and swell with chords of vibrating strength. \
Nestled between those battering rams are &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;pecs&#39;&gt;&gt; which canopy a glorious wall of &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;abdominals&#39;.

Below its waist, another set of writhing puddles expand into the shape of &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;legs&#39;&gt;&gt;.

\&lt;&lt;if $CharacterSheet_Player.symbiote.info.anatomy.wings != undefined &amp;&amp; $CharacterSheet_Player.symbiote.info.anatomy.wings.number &gt;= 1&gt;&gt;
Its back arches, its smile widens into picturesque euphoria as &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;wings&#39;&gt;&gt; erupt from behind its shoulder blades.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if $CharacterSheet_Player.symbiote.info.anatomy.tails != undefined &amp;&amp; $CharacterSheet_Player.symbiote.info.anatomy.tails.number &gt;= 1&gt;&gt;
Sprouting from its glutes, its &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;tails&#39; &#39;wags~wag&#39;&gt;&gt;  with uncontained affection and pleasure.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2001" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_8" tags="" position="100,25100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
The scalding aura of the inky &lt;&lt;SymbioteRace&gt;&gt; grows in intensity. The edges of its beautiful form vibrate with imminent power, like a tense bowstring drawn to its utter limit.

It resonates with the air, with your bones, and ultimately, your soul. The feeling is impossible to describe. The intimacy you feel with this creature is overwhelming; a bond stronger than love.

The sound of water fills your ears as the ooze on its form begins to spin and rush. You feel the connection with it, you feel your own adoration spike and you channel it into it&#39;s already burgeoning form.

His gaze meets yours and then he moans. He urges you onward...

You focus on:

[[His cock-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_9][$SymbioteBoost = &quot;cock&quot;]]
[[His muscles-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_9][$SymbioteBoost = &quot;muscles&quot;]]
[[His whole body-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_9][$SymbioteBoost = &quot;height&quot;]]</tw-passagedata><tw-passagedata pid="2002" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_9" tags="" position="225,25100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\
\&lt;&lt;if $SymbioteBoost == &quot;cock&quot;&gt;&gt;
You focus on his &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;cocks&#39;&gt;&gt;. It swells larger and fatter, throbbing with uncontained size. \
It reaches its previous limit, but then shatters that with even more size.

Its package crawls across its abdomen, up towards its heaving chest.

\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 4)&gt;&gt;
\&lt;&lt;elseif $SymbioteBoost == &quot;muscles&quot;&gt;&gt;
You focus on his musculature, wishing it larger! You immediately see its &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;abdominals&#39;&gt;&gt; burst with impossible size and power. \
It flexes its &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;arms&#39;&gt;&gt;, showing off how its biceps expand - consuming more and more space on each limb with every passing second.

A tremendous baritone roar erupts from its throat as its &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;pecs&#39;&gt;&gt; explode with size. \
The cleft deepens. Each bulging boulder barrels outwards, more and more! The rest of its titanic body rejoices in growth, as each muscle group tries to outdo the others.
\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 8)&gt;&gt;
\
\&lt;&lt;elseif $SymbioteBoost == &quot;height&quot;&gt;&gt;
The &lt;&lt;SymbioteRace&gt;&gt;&#39;s expression contorts in pleasure. Its deep moans dive in pitch, reaching brassy baritone notes as its body erupts upwards. \
It grins as your vision is utterly filled with the body of the growing &lt;&lt;SymbioteRace&gt;&gt;.

Its lustful gasps fill the void as its form reaches a height of &lt;&lt;print setup.getLength(90)&gt;&gt;. As the growth ends, it steps closer to you and then presses you against his warm flesh.
\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 1)&gt;&gt;\
\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 7)&gt;&gt;\
\&lt;&lt;/if&gt;&gt;

You can&#39;t help but flush with arousal. This creature was beyond good looking, beyond the concept of your ideal.

A sticky wet spot grows within your pants. You gasp, as you feel its massive hand roll over your chest. Gentle. Loving. Strong.

The limb slides down lower.

You look up, only to meet its gaze a hairs breadth away from your face. You can taste its powerful breath. Closing your eyes instinctively, you lock lips.

Divine euphoria. The proverbial match made in the heavens. Your body leans in closer to the creature, craving every inch of contact with it. Goo from its body rushes past your dancing tongues and into your throat. Some of it drips off of your body in sticky strings.

Your arousal suddenly skyrockets!

You begin to picture more detail on its body as you kiss; the colours and patterns that make it unique:

[[Amber-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.AMBER; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.AMBER)]]
[[Beige-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BEIGE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BEIGE)]]
[[Black-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BLACK; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BLACK)]]
[[Blue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BLUE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BLUE)]]
[[Brown-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.BROWN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.BROWN)]]
[[Crimson-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.CRIMSON; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.CRIMSON)]]
[[Emerald-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.EMERALD; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.EMERALD)]]
[[Golden-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.GOLDEN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.GOLDEN)]]
[[Green-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.GREEN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.GREEN)]]
[[Grey-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.GREY; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.GREY)]]
[[Indigo-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.INDIGO; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.INDIGO)]]
[[Obsidian-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.OBSIDIAN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.OBSIDIAN)]]
[[Orange-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.ORANGE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.ORANGE)]]
[[Pink-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.PINK; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.PINK)]]
[[Purple-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.PURPLE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.PURPLE)]]
[[Red-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.RED; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.RED)]]
[[Sapphire-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.SAPPHIRE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.SAPPHIRE)]]
[[Violet-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.VIOLET; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.VIOLET)]]
[[Tan-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.TAN; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.TAN)]]
[[White-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.WHITE; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.WHITE)]]
[[Yellow-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10][$CharacterSheet_Player.symbiote.info.colour = setup.ColourPool.YELLOW; setup.colourLimbs($CharacterSheet_Player, &quot;eyes&quot;, setup.ColourPool.YELLOW)]]</tw-passagedata><tw-passagedata pid="2003" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_10" tags="" position="350,25100" size="100,100">\&lt;&lt;unset $SymbioteBoost&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;run setup.colourAllLimbs($CharacterSheet_Player.symbiote, $CharacterSheet_Player.symbiote.info.colour)&gt;&gt;\

It presses you in tightly, closer to its glorious body, now coloured &lt;&lt;SymbioteColor&gt;&gt;.

Amidst the floods of passion and love, you feel gratitude join in the divine union of you and this beast.

It continues to kiss you deeply and grinds its &lt;&lt;charLimbDesc $CharacterSheet_Symbiote  &#39;cocks&#39;&gt;&gt; along your own.

Passion flares. Love ignites. Bonds strengthen.

Your moans fill the dark void as the goo begins to change you. Your &lt;&lt;LimbDesc &#39;cocks&#39; &#39;grows~grow&#39;&gt;&gt; as you rut against the &lt;&lt;SymbioteRace&gt;&gt;&#39;s body. \
Soon, it reaches further than the &lt;&lt;SymbioteRace&gt;&gt;&#39;s monstrous tool. He pulls back from the kiss and smiles, filled with pride. \
You are utterly drenched with &lt;&lt;SymbioteColor&gt;&gt; slime. He takes you into a massive bear hug.&quot;

\&lt;&lt;run setup.choice(&quot;[[Let him in...-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2004" name="Quest_MQ001_EchoFirstEncounter_InvestigateImpact_11" tags="" position="475,25100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Its whole being enters you. You scream as the deluge instills deep rooted pleasure across every pore. Your lips part as your muscles explode with immense size and strength.

More than just strength enters you. You feel a waterfall of lust wrack your psyche - the creature&#39;s needs and desires becoming your own.

Grasping your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;, you hold on for dear life as the thick meat begins devouring litres of goo through its tip. Your need keeps escalating! Exponentially reaching higher and higher heights!&quot;

You erupt in size as the power pushes your form upwards, becoming &lt;&lt;print setup.getLength(86)&gt;&gt; tall! It feels like your mind is about to shatter with the most intense orgasm of your life!

The last of the goo finally enters you as you jack off furiously while flicking your thick &lt;&lt;SymbioteColor&gt;&gt; tongue in the air.

You both stand together in the void. Titans in the endlessness. Rulers of this space. Yet you know you can both be so much more.

Even though you are both screaming in ecstasy and coating the purple plains in layers of seed; the monster&#39;s name appears in your mind with extreme clarity.

&lt;&lt;textbox &quot;$CharacterSheet_Player.symbiote.info.name&quot; &quot;Echo&quot;&gt;&gt;
\&lt;&lt;run setup.completeQuest($Quest_MQ001_01)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.EchoForm)&gt;&gt;

[[Be Reborn-&gt;Quest_MQ001_EchoPostMerge][setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.HostOfEcho)]]</tw-passagedata><tw-passagedata pid="2005" name="Quest_MQ001_EchoPostMerge" tags="" position="600,25100" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;

You find your eyes peeling open to the warm hues of an afternoon sky.

Visions of that empty eternity flood your mind.

Whatever was in that crater, is now a part of you.

\&lt;&lt;if $CharacterSheet_Player.quest.corruptionVillageExiled == false&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back home-&gt;Quest_MQ001_EchoPostMerge_1]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back home-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2006" name="Quest_MQ001_EchoPostMerge_1" tags="" position="725,25100" size="100,100">You head back in the direction of the Golden Bastion. You feel dizzy through the entire trip, as if your center of gravity is not quite where it should be. It is not unlike a child learning to walk all over again.

&quot;Halt!&quot; The voice of a gruff guard startles you. He was a dragonkin with a solid build. You can see fresh scars across his exposed scales; clearly a survivor of last night&#39;s assault.

&quot;State your intentions, stranger!&quot; He barked.

The remark confuses you. By now, the Eldest should have communicated to everyone that you had become the new explorer. You realise you have no idea how much time has passed since you touched the strange orb.

\&lt;&lt;run setup.choice(&quot;[[Tell him who you are -&gt; Quest_MQ001_EchoPostMerge_2_who_are_you]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2007" name="Quest_MQ001_EchoPostMerge_2_who_are_you" tags="" position="850,25100" size="100,100">You state your name and your position as the Golden Bastion&#39;s explorer.

He pauses for a moment, as if examining you closer. His expression is hard to make out; a blend between distrust and hope.

&quot;You look nothing like $CharacterSheet_Player.info.name, how do I know you are truly who you say you are?&quot; The man&#39;s stance shifts and his hand hovers over the pommel of his sword.

You blink in confusion and then look at yourself. The shock shakes you to the core. You look nothing like you did before: you are taller, far more muscular and your nether region has certainly become more pronounced.

&quot;$CharacterSheet_Player.info.name has been gone for weeks; if it is you, where have you been?&quot; he presses.

\&lt;&lt;run setup.choice(&quot;[[Say you encountered something strange-&gt;Quest_MQ001_EchoPostMerge_2_Truth]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Say that only the Herald should know-&gt;Quest_MQ001_EchoPostMerge_2_Eldest]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Punch Him-&gt;FightLogic][$Encounter_Target=$CharacterSheet_town_guard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2008" name="Quest_MQ001_EchoPostMerge_2_Truth" tags="" position="975,25100" size="100,100">You decide to tell the guard everything. The more you speak, the more the colour drains from his face. 

&quot;Even if it is true and you are $CharacterSheet_Player.info.name, I can not let you pass!&quot; He states sternly, &quot;It&#39;s too risky to allow you inside if you have been... tainted.&quot;

&quot;I&#39;m sorry, but it would be safer if I just ended you here.&quot; The guard draws his sword and takes a step toward you. A strange wave of power washes over you. You could snap him like a twig, show him the extent of your building lust.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_aggressive]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2009" name="Quest_MQ001_EchoPostMerge_3_Lie" tags="" position="1100,25100" size="100,100">There is a sense of pride that wells up within you as you realise how much more you have become, but at the same time the feeling is laced with the fear that you may not actually be the same person that left in the morning.

A bluff escapes your lips; that you were sent out in the morning to collect materials. A lie laced with truth.

The guard raises an eyebrow, &quot;Is that so? Who sent you? Who was manning this post when you left?&quot;

\&lt;&lt;run setup.choice(&quot;[[Make up a name-&gt;Quest_MQ001_EchoPostMerge_3_Lie_mildred]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2010" name="Quest_MQ001_EchoPostMerge_3_Lie_mildred" tags="" position="1225,25100" size="100,100">You blurt out the name Mildred. A generic name that you ocassionally heard within the markets.

&quot;Okay fine, but then which guard let you out?&quot; he grunts, his hand hovering over the pommel of his sword.

\&lt;&lt;run setup.choice(&quot;[[Abel-&gt;Quest_MQ001_EchoPostMerge_3_Lie_Abel]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Senna, The Drill Sergeant-&gt;Quest_MQ001_EchoPostMerge_3_senna]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Trent, The Inner Wall Watchman-&gt;Quest_MQ001_EchoPostMerge_3_Lie_Trent]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2011" name="Quest_MQ001_EchoPostMerge_3_Lie_Trent" tags="" position="100,25225" size="100,100">The name Trent escapes your lips. It was one of three guards you remember working with extensively during your training.

&quot;Trent, eh?&quot; The guard relaxes his stance towards you, &quot;If you know a guard that works exclusively at the Inner Wall, then it has to be you.&quot;

He hesitates for a moment, looking you up and down and then finally opens his mouth to speak in hushed tones, &quot;Is it really you, $CharacterSheet_Player.info.name? When you disappeared, you look... different&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_passive]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2012" name="Quest_MQ001_EchoPostMerge_3_senna" tags="" position="225,25225" size="100,100">You think back to a number of guards you had worked with in the past. The name Senna comes to the fore of your mind; one of the drill masters that helped train you and Abel.

&quot;Senna?&quot; The guard drops his aggressive stance, but his shoulders slump and lines of sadness creep into his expression, &quot;Well that&#39;s one way to prove its you, though you could have picked something less somber.&quot;

&quot;Senna is dead, $CharacterSheet_Player.info.name. He was killed in combat the day before you left,&quot; he hesitates for a moment, looking you up and down, &quot;I am sorry I treated you with mistrust.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_passive]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2013" name="Quest_MQ001_EchoPostMerge_3_Lie_Abel" tags="" position="350,25225" size="100,100">You say that you were sent by Abel, the Herald&#39;s apprentice.

The guard&#39;s face scrunches into a scowl, &quot;He&#39;s not even a guard, but of course an outsider wouldn&#39;t know that.&quot;

The guard unsheaths his sword, the sound of ringing steel interrupting your thoughts, &quot;I don&#39;t know who you are or what you want with us, but turn away or be slain!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_aggressive]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2014" name="Quest_MQ001_EchoPostMerge_2_Eldest" tags="" position="475,25225" size="100,100">The guard&#39;s body tenses and there is a flash of distrust that manifests in his hand gripping the handle of his sword. He does not draw it. A frustrated growl rasps from his throat.

&quot;If you are here on business of our leader, then you must speak with those who can hear it&#39;s words. Wait here, I will fetch someone,&quot; he says in flat and measured tones, &quot;If you are lying, there will be hell to pay.&quot;

The man assigns a colleague to stand watch over you as he disappears into the Golden Bastion. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoPostMerge_2_Eldest_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2015" name="Quest_MQ001_EchoPostMerge_2_Eldest_2" tags="" position="600,25225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

It feels like an agonizing wait before he arrives with a familiar face.

It is Abel.

He motions for you to join him within the Golden Bastion walls.

\&lt;&lt;run setup.choice(&quot;[[Enter the Golden Bastion-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_p2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2016" name="Quest_MQ001_EchoPostMerge_3_Meet_Abel_aggressive" tags="" position="725,25225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;angry&quot;)&gt;&gt;

&quot;Stop!&quot; A familiar voice immediately cuts through your boiling blood.

&quot;No honoured voice,&quot; he answers, &quot;My apologies. If this stranger-&quot;

&quot;$CharacterSheet_Player.info.name.&quot; Abel corrects.

&quot;If this is indeed $CharacterSheet_Player.info.name, then we shall let him pass.&quot; The guard eyes you warily but drops his aggressive stance towards you and steps out of the way.

\&lt;&lt;run setup.choice(&quot;[[Enter the town-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_p2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2017" name="Quest_MQ001_EchoPostMerge_3_Meet_Abel_passive" tags="" position="850,25225" size="100,100">&quot;Wait here,&quot; he smiles. 

&quot;I&#39;ll go fetch Abel. He has been visiting the wall every day in hopes that you would return. In truth, we all have been praying for the return of a Scavenger.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_passive_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2018" name="Quest_MQ001_EchoPostMerge_3_Meet_Abel_passive_2" tags="" position="975,25225" size="100,100">It takes some time for the man to return.

&quot;The Herald&#39;s apprentice is waiting for you within the walls, please proceed and go in the grace of the Eldest,&quot; the guard salutes and lets you pass.

As you enter the village proper, you see a familiar figure. The beaming visage of Abel greets you, garbed in what looks to be the cermonial kit.

\&lt;&lt;run setup.choice(&quot;[[Speak to Abel-&gt;Quest_MQ001_EchoPostMerge_3_Meet_Abel_p2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2019" name="Quest_MQ001_EchoPostMerge_3_Meet_Abel_p2" tags="" position="1100,25225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Abel, &quot;normal&quot;)&gt;&gt;

&quot;It&#39;s good to see you are alive and well, $CharacterSheet_Player.info.name.&quot; Abel says as he looks you up and down.

&quot;By the gods... I made it a ritual to visit this wall every day in the hopes you would come back, but I never thought I would be blessed with such luck,&quot; he smiles brightly.

&quot;This is not the place for that kind of talk. Come find me in my house,&quot; he says as he turns toward the Golden Bastion proper, &quot;We can try and make sense of this all.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2020" name="Quest_MQ001_EchoFirstEncounter_Lake" tags="" position="1225,25225" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Player.oasisIntro)&gt;&gt;</tw-passagedata><tw-passagedata pid="2021" name="Quest_MQ001_EchoFirstEncounter_Lake_Intro_FirstTime" tags="" position="100,25350" size="100,100">&lt;&lt;set $CharacterSheet_Player.quest.available_meteorQuest_firstTime = false&gt;&gt;
The distant smoke of the crash site makes it easy to spot, but reaching it is a journey nonetheless.

You hear the faint crackling of flames and smell the charred scent that lingers in the air. 
The closer you get, the more the site reveals itself, and you can&#39;t help but marvel at the sheer magnitude of it.

The meteor itself is surrounded by an oasis of dark, jet-black water. The smell of Corruption hangs heavy in the air. 

A small island lies at the center of it, where ash and flames rise, shimmering the horizon.
The light illuminates a thick fog over the oasis, creating a surreal and mysterious atmosphere.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_Lake_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2022" name="Quest_MQ001_EchoFirstEncounter_Lake_Menu" tags="" position="225,25350" size="100,100">You are at the edge of the oasis, the thick, viscous corruptive goo lapping at your feet. 
The bubbles and splashes created by the goo&#39;s movement create an eerie, alien-like sound that echoes. 
It&#39;s a strange contrast to the peacefulness of the oasis and the surrounding area.

You can feel the meteor&#39;s power reverberating through the air, and the ripples on the lake&#39;s surface seem to be magnified by the eerie glow.

This pool of Corruption is about &lt;&lt;print setup.getLength(12 * 12)&gt;&gt; in radius.

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Player.oasisChoices, 5)&gt;&gt;\

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2023" name="Quest_MQ001_EchoFirstEncounter_Lake_LookAtPool_Link" tags="" position="350,25350" size="100,100">[[Inspect the oasis-&gt;Quest_MQ001_EchoFirstEncounter_Lake_LookAtPool]]
\</tw-passagedata><tw-passagedata pid="2024" name="Quest_MQ001_EchoFirstEncounter_Lake_LookAtPool" tags="" position="475,25350" size="100,100">You can almost feel the energy radiating from the lake as the goo seems to come alive with its pulsing energy.
Tiny bubbles of black goo rise to the surface. 

It would be dangerous to try to cross it without a plan.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_Lake_Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2025" name="Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_Link" tags="" position="600,25350" size="100,100">[[Step over the oasis-&gt;Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt]]
\</tw-passagedata><tw-passagedata pid="2026" name="Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_Link_Inactive" tags="" position="725,25350" size="100,100">&lt;span class=&#39;inactive&#39;&gt;[[Step over the oasis-&gt;Village]]&lt;/span&gt;
\</tw-passagedata><tw-passagedata pid="2027" name="Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt" tags="" position="850,25350" size="100,100">You take a deep breath as you stand before the corrupted oasis. 
Looking down, you see the lush green foliage that used to fill this place now wilted and blackened. 

With a determined stride, you step into the corrupted oasis. Your giant feet make deep impressions in the ground, and the sickly plants crumble beneath your weight.

[[Push Onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_2]]</tw-passagedata><tw-passagedata pid="2028" name="Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_2" tags="" position="975,25350" size="100,100">\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 3)&gt;&gt;
As you progress, you can feel the darkness emanating from the oasis, trying to spread to you. 
You can feel the goo pressing against your skin, trying to take hold and spread endless pleasure to your soul, but it simply can&#39;t reach you.

∇: You gain 3 corruption.

[[Push Onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_3]]</tw-passagedata><tw-passagedata pid="2029" name="Quest_MQ001_EchoFirstEncounter_Lake_StepOverIt_3" tags="" position="1100,25350" size="100,100">Finally, you emerge on the other side, only slightly affected by Corruption. 

You have not only survived the corrupted oasis, but you have conquered it. 
You stand tall, proud of your success and confident in your strength.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2030" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_Link" tags="" position="1225,25350" size="100,100">[[Cross the oasis safely-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence]]
\</tw-passagedata><tw-passagedata pid="2031" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_Link_Inactive" tags="" position="100,25475" size="100,100">&lt;span class=&#39;inactive&#39;&gt;[[Cross the oasis safely-&gt;Village]]&lt;/span&gt;
\</tw-passagedata><tw-passagedata pid="2032" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence" tags="" position="225,25475" size="100,100">The goo reacts to your presence as it moves faster and faster.
You can feel it reaching your legs, but it suddenly stops. 

\&lt;&lt;run setup.choice(&quot;[[Push Onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2033" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_2" tags="" position="350,25475" size="100,100">\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 2)&gt;&gt;
You take a few more steps and can feel the goo getting even more intense, its warmth and texture making you quiver with anticipation. 
The lake&#39;s energy radiates through your body, but your mind is at ease.

Your hand holds your shard of demonic Essence as tight as it can. The fear of dropping it grows stronger with every step.

∇: You gain 2 corruption.

\&lt;&lt;run setup.choice(&quot;[[Push Onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2034" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_DemonicEssence_3" tags="" position="475,25475" size="100,100">Finally, you emerge on the other side, only slightly affected by Corruption. 

You have not only survived the corrupted oasis, but you have conquered it. 
You stand tall, proud of your success and confident in your strength.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2035" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Link" tags="" position="600,25475" size="100,100">[[Attempt to cross the oasis without assistance-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt]]
\</tw-passagedata><tw-passagedata pid="2036" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Link_Inactive" tags="" position="725,25475" size="100,100">&lt;span class=&#39;inactive&#39;&gt;[[Attempt to cross the oasis without assistance-&gt;Village]]&lt;/span&gt;
\</tw-passagedata><tw-passagedata pid="2037" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt" tags="" position="850,25475" size="100,100">The goo reacts to your presence as it moves faster and faster.
You can feel it reaching up your legs, massaging them and sending waves of pleasure through your body. 

You begin to blush as you realize what is happening. 

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_2]]</tw-passagedata><tw-passagedata pid="2038" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_2" tags="" position="975,25475" size="100,100">You take a few more steps and can feel the goo getting even more intense, its warmth and texture making you quiver with anticipation. 
The lake&#39;s energy radiates through your body. Its strange power courses through your veins.

Your muscles start twitching and contracting, growing stronger with each passing second. Heat radiates off of your body, and your muscles swell and ripple.

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_3]]</tw-passagedata><tw-passagedata pid="2039" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_3" tags="" position="1100,25475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Your breathing quickens as your heart races, and your body aches with need. 
The goo is swirling through your veins, intensifying your desire and making you desperately crave physical touch.

Your body quivers with pleasure.

You start to feel a little dizzy.

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_4]]</tw-passagedata><tw-passagedata pid="2040" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_4" tags="" position="1225,25475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
It&#39;s like a thousand tiny fingers caressing your skin from the inside. 
Your body starts to quiver as the goo reaches your core.

It feels like a volcano erupting inside you. Your muscles tense and then relax as wave after wave of pleasure washes over you. 
Your toes curl as you let out a moan that echoes through the Barrens. 

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_5]]</tw-passagedata><tw-passagedata pid="2041" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_5" tags="" position="100,25600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You can feel the goo surging through you, intensifying your pleasure and sending you into an orgasmic bliss you never knew existed.

Your eyes roll back in your head as you gasp, feeling the goo up your spine, radiating warmth and pleasure as it goes. 
Your breath comes in short, shallow bursts as it continues its journey, setting every nerve ending in your body on fire.

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_6]]</tw-passagedata><tw-passagedata pid="2042" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_6" tags="" position="225,25600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You feel like you&#39;re about to burst with anticipation as it reaches the center of your being and finally unleashes its full force.
You arch your back and scream as you reach the peak of pleasure, feeling the goo seeping through every part of you and making you a never-ending volley of thick loads.

It&#39;s simply too much to bear.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;Give in...&quot;&lt;/span&gt;

[[Give in-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_7]]</tw-passagedata><tw-passagedata pid="2043" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_7" tags="" position="350,25600" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
Your needy moans fade as you start to sink into the black goo.

∇: You pass out.
∇: You gain 8 corruption.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2044" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_Link" tags="" position="475,25600" size="100,100">[[Attempt to cross the oasis without assistance (Corrupted)-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted]]
\</tw-passagedata><tw-passagedata pid="2045" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted" tags="" position="600,25600" size="100,100">The goo reacts to your presence as it moves faster and faster.
You can feel it reaching up your legs, massaging them and sending waves of pleasure through your body. 

You begin to blush as you realize what is happening. 

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_2]]</tw-passagedata><tw-passagedata pid="2046" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_2" tags="" position="725,25600" size="100,100">You take a few more steps and can feel the goo getting even more intense, its warmth and texture making you quiver with anticipation. 
The lake&#39;s energy radiates through your body. 

Its strange power courses through your veins.

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_3]]</tw-passagedata><tw-passagedata pid="2047" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_3" tags="" position="850,25600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Your breathing quickens as your heart races, and your body aches with need. 
The goo is swirling through your veins, intensifying your desire and making you desperately crave physical touch.

Your body quivers with pleasure.

But you are used to this feeling.

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_4]]</tw-passagedata><tw-passagedata pid="2048" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_4" tags="" position="975,25600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your feet sink into the murky depths of the corrupted water with each step, the sensation of it heightening your arousal. 
The feeling of power radiating through your body with each movement is undeniable as you walk through the water. 

It is warm and inviting. It caresses your skin until it wraps around your body and starts to seep into your veins. 
You feel yourself growing, your body expanding and becoming more alive with each passing second. 

You feel invincible, unstoppable.

A pure soul would have passed out by now, but you are far too corrupted to be overwhelmed by this feeling.
You keep moving forward, feeling the power of the water coursing through your body. 

Your steps become more confident and purposeful. 

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 4)&gt;&gt;
∇: You gain 4 corruption.

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_5]]</tw-passagedata><tw-passagedata pid="2049" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_5" tags="" position="1100,25600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Before you know it, you reach the center of the oasis. The feeling of Corruption feels more refreshing to your tainted soul. 

Part of you yearns for more and needs to return to the dark waters you&#39;ve grown to love so much.

But you still need to investigate what lies in the center of the oasis.

\&lt;&lt;run setup.choice(&quot;[[Investigate the crash site-&gt;Quest_MQ001_EchoFirstEncounter_InvestigateImpact]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Return to the corrupted waters-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_Return]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2050" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_Return" tags="" position="1225,25600" size="100,100">You feel pleasure the moment you step back into the water. 

Its warmth envelops you in a sensual embrace, and you can feel the power of the water coursing through your veins. 
Your skin tingles with anticipation as you sink deeper, the water rising above your waist. 

You can feel the water&#39;s Corruption seeping into your pores, awakening your body and setting it aflame.

\&lt;&lt;run setup.choice(&quot;[[Sink deeper-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_Return_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2051" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_Return_2" tags="" position="100,25725" size="100,100">The corrupted water seeps into you. Its warmth radiates through your body, giving you an intense, full-body orgasm that feels like nothing you&#39;ve experienced. 

The pleasure builds, quickly becoming overwhelming and leaving you trembling with anticipation. Every inch of your body is alive and tingling as if every nerve has been electrified. 

You find yourself lost in waves of ecstasy, unable to control yourself as the pleasure takes over.

[[Push onwards-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_6]]</tw-passagedata><tw-passagedata pid="2052" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_6" tags="" position="225,25725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You feel like you&#39;re about to burst with anticipation as it reaches the center of your being.

It unleashes its full force.

You arch your back and scream as you reach the peak of pleasure, feeling the goo seeping through every part of you and making you a never-ending volley of thick loads.

It&#39;s simply too much to bear.

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;Give in...&quot;&lt;/span&gt;

[[Give in-&gt;Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_7]]</tw-passagedata><tw-passagedata pid="2053" name="Quest_MQ001_EchoFirstEncounter_Lake_CrossIt_Corrupted_7" tags="" position="350,25725" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
Your needy moans fade as you start to sink into the black goo.

∇: You pass out.
∇: You gain 8 corruption.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2054" name="LostPrisoner" tags="Overworld" position="475,25725" size="100,100">&lt;&lt;include LostPrisoner_Intro&gt;&gt;</tw-passagedata><tw-passagedata pid="2055" name="LostPrisoner_MainMenu" tags="Overworld" position="600,25725" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Player.lostPrisonerMainMenu)&gt;&gt;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Player.lostPrisonerLinks, 3)&gt;&gt;\

\&lt;&lt;run setup.choice(&quot;[[Leave -&gt; Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2056" name="LostPrisoner_Withdrawal_Approach_Link" tags="Overworld" position="725,25725" size="100,100">[[Approach him-&gt;LostPrisoner_Withdrawal_Approach]]
\</tw-passagedata><tw-passagedata pid="2057" name="LostPrisoner_Withdrawal_Approach" tags="Overworld" position="850,25725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
The beast growls as you step closer.
Black drool oozes from his mouth, and his claws dig deep into stone tiles.

His muscles are even bigger than the last time you saw him.

\&lt;&lt;run setup.choice(&quot;[[Take a step closer-&gt;LostPrisoner_Withdrawal_Approach_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2058" name="LostPrisoner_Withdrawal_Approach_2" tags="Overworld" position="975,25725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
You take a deep breath and steel yourself as you approach the angry werewolf. 
His muscles bulge, and he looks like he can rip through his binds with a single flex of his biceps. 

His purple eyes are blazing with rage.

\&lt;&lt;run setup.choice(&quot;[[Take another step-&gt;LostPrisoner_Withdrawal_Approach_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2059" name="LostPrisoner_Withdrawal_Approach_3" tags="Overworld" position="1100,25725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
You can feel the tension in the air. The werewolf&#39;s fury is palpable. 
He shifts his weight, and you can see the chains around his wrists and ankles rattle with his movement.

Suddenly, he lets out a fierce series of barks. 
His eyes are filled with rage, and you can practically feel the heat coming off him. 

&quot;It&#39;s you...&quot;

He looks like he wants nothing but to tear you to shreds.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_Withdrawal_Approach_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2060" name="LostPrisoner_Withdrawal_Approach_4" tags="Overworld" position="1225,25725" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
You stand your ground but can feel your body shake slightly in reaction.
The werewolf snarls, his hot breath fogging up the air.

∇: He does not seem open to talking now.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2061" name="LostPrisoner_Name_Link" tags="Overworld" position="100,25850" size="100,100">[[Ask him his name-&gt;LostPrisoner_Name]]
\</tw-passagedata><tw-passagedata pid="2062" name="LostPrisoner_Name" tags="Overworld" position="225,25850" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.quest.available_lostPrisoner_name = false&gt;&gt;
&quot;There&#39;s no more room in my soul for thoughts like these. All I think about are what I would do if I got my hands on you right now.&quot;

Your question bores him somewhat. 
His gaze drifts down to his throbbing cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2063" name="LostPrisoner_NormalApproach_Link" tags="Overworld" position="350,25850" size="100,100">[[Approach him-&gt;LostPrisoner_NormalApproach]]
\</tw-passagedata><tw-passagedata pid="2064" name="LostPrisoner_NormalApproach" tags="Overworld" position="475,25850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
You take a step closer, and he snarls, baring his teeth.

Slowly, you reach out and caress his fur, feeling the power beneath it. 
He shudders, and you can feel his body relax. His breathing deepens, and his eyes close in pleasure.

\&lt;&lt;run setup.choice(&quot;[[Pet him-&gt;LostPrisoner_NormalApproach_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2065" name="LostPrisoner_NormalApproach_2" tags="Overworld" position="600,25850" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
You continue to stroke his fur, and his arousal is evident. 
Desire coils tightly in his body.

He looks up at you, his eyes begging. &quot;Please,&quot; he whispers. 

&quot;I need to cum. If you help me get one load out, I&#39;ll tell you anything.&quot;

\&lt;&lt;run setup.choice(&quot;[[Jerk him off-&gt;LostPrisoner_NormalApproach_HelpHim]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Refuse-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2066" name="LostPrisoner_NormalApproach_HelpHim" tags="Overworld" position="725,25850" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.available_lostPrisoner_cameFrom = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.lostPrisonerRelaxed = true&gt;&gt;
His cock surges and throbs angrily before you even reach him. 
He is desperate for any touch. 

You reach out and run your palms across his broad chest. 

His muscles ripple beneath your touch, and he growls in pleasure. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_NormalApproach_HelpHim_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2067" name="LostPrisoner_NormalApproach_HelpHim_2" tags="Overworld" position="850,25850" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
You feel your arousal growing as you continue to explore his body, feeling the heat radiating from him.

His body is like a work of art, every muscle perfectly defined and glistening with Corruption.

&quot;Please... I need to cum.&quot;

You move lower, trailing your fingers over his abs and feel the tension in each muscle. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_NormalApproach_HelpHim_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2068" name="LostPrisoner_NormalApproach_HelpHim_3" tags="Overworld" position="975,25850" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
You take your time, savouring every inch of him before finally reaching his groin.

He is already hard, and you can feel the heat radiating from his cock. You cup your hands around him, stroking up and down his shaft.
Your mouth waters as you feel his thick, gooey precum seeping out of him. You spread it around with your fingers, coating his length in the viscous liquid.

&quot;Oh fuck!&quot;

His chains rattle against the wall as he pants. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_NormalApproach_HelpHim_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2069" name="LostPrisoner_NormalApproach_HelpHim_4" tags="Overworld" position="1100,25850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
Every every jerk since lightning bolts of pleasure all over his body. 

His muscles rumble and shiver lustfully as he fully gives in to your touch. 

You grip his cock tightly and stroke it with increasingly fast and frantic movements. His moans become louder and more passionate.

&quot;Please. Don&#39;t. Stop!&quot;

He is entirely at your mercy, moaning and panting with every touch to his monstrous werewolf cock.
His corrupted seed starts to ooze off his cock, and you feel the potent power it contains.

\&lt;&lt;run setup.choice(&quot;[[Keep jerking-&gt;LostPrisoner_KeepJerking]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Suck him off-&gt;LostPrisoner_SuckHimOff]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2070" name="LostPrisoner_KeepJerking" tags="Overworld" position="1225,25850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
&quot;Oh fuck!&quot;

He rattles back in surprise but then pants and whines.
You feel his infectious lust take over the air and can&#39;t help but grow hard yourself.

\&lt;&lt;run setup.choice(&quot;[[Keep Jerking-&gt;LostPrisoner_KeepJerking_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2071" name="LostPrisoner_KeepJerking_2" tags="Overworld" position="100,25975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
&quot;Oh, gods! I can feel it! I&#39;m so close!&quot;

His eyes and mouth burn like a rekindled forge.
His huge, hard cock pulses beneath your touch as he roars in pleasure.

\&lt;&lt;run setup.choice(&quot;[[Make him cum-&gt;LostPrisoner_KeepJerking_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2072" name="LostPrisoner_KeepJerking_3" tags="Overworld" position="225,25975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;, true)&gt;&gt;
&quot;Aaaaaarrrrrggggggghhhhhhh!!&quot;

Suddenly, his cum begins to gush forth, coating the room with the thick, gooey, black liquid. 
The werewolf&#39;s breathing grows more ragged as his orgasm intensifies, and his cum flows from his shaft in loud, powerful spurts.

\&lt;&lt;run setup.choice(&quot;[[Make him cum-&gt;LostPrisoner_KeepJerking_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2073" name="LostPrisoner_KeepJerking_4" tags="Overworld" position="350,25975" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;, true)&gt;&gt;
&quot;Hmmmm... That felt good.&quot; Says the werewolf with an approving purr.

∇: The werewolf is now more open toward you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2074" name="LostPrisoner_SuckHimOff" tags="Overworld" position="475,25975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
You give the werewolf a devilish grin and lick the oozing corrupted cum.

&quot;Oh fuck!&quot;

He rattles back in surprise but then pants and whines.

\&lt;&lt;run setup.choice(&quot;[[Keep sucking-&gt;LostPrisoner_SuckHimOff_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2075" name="LostPrisoner_SuckHimOff_2" tags="Overworld" position="600,25975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;)&gt;&gt;
You feel his infectious lust take over the air and can&#39;t help but grow hard yourself.

You take his cock into your mouth, and your eyes widen.
The forbidden lust of Corruption takes you over. You lick the tip, hungrily tasting his pre.

&quot;Oh, gods! I can feel it! I&#39;m so close!&quot;

\&lt;&lt;run setup.choice(&quot;[[Make him cum-&gt;LostPrisoner_SuckHimOff_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2076" name="LostPrisoner_SuckHimOff_3" tags="Overworld" position="725,25975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;, true)&gt;&gt;
His cum lurches forward as if answering your call.

&quot;Aaaaaarrrrrggggggghhhhhhh!!&quot;

He roars out in pleasure, his eyes and mouth burning like a rekindled forge.

You feel it run down your throat. Liquid fire. Hunger. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_SuckHimOff_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2077" name="LostPrisoner_SuckHimOff_4" tags="Overworld" position="850,25975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;ohFace&quot;, true)&gt;&gt;
You need more of it in you.

Your groin grows hot, and erect and pulses with a supernatural hardness.

You subconsciously bounce your pecs and flex your abs as they grow heavier and more muscular.
Your hands start to stroke them, and you feel their growing hardness.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_SuckHimOff_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2078" name="LostPrisoner_SuckHimOff_5" tags="Overworld" position="975,25975" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;, true)&gt;&gt;
The Lost gives you a monstrous but satisfied smile.

&quot;Hmmmm... Feels good, doesn&#39;t it?&quot; Says the werewolf with an approving purr.

∇: The werewolf is now more open toward you.
∇: You gain 6 corruption.
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 6)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2079" name="LostPrisoner_GotHere_Link" tags="Overworld" position="1100,25975" size="100,100">[[Ask him why he came here-&gt;LostPrisoner_GotHere]]</tw-passagedata><tw-passagedata pid="2080" name="LostPrisoner_GotHere" tags="Overworld" position="1225,25975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
He chuckles slightly and grins.

&quot;I normally wouldn&#39;t tell you, but he led me here. He&#39;ll get what&#39;s coming to him.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_GotHere_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2081" name="LostPrisoner_GotHere_2" tags="Overworld" position="100,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
His fists clench, and his muscles tense up.

&quot;A sorcerer, Apothus, sent me here.&quot;

You can almost feel the heat radiating from his body as his anger intensifies.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_GotHere_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2082" name="LostPrisoner_GotHere_3" tags="Overworld" position="225,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
&quot;That damn sorcerer tricked me, told me that this bastion would hide powerful artifacts that would make me even bigger.&quot;

He snarls, his teeth showing even more than before.

&quot;All I got was this village of fools who would rather stay in their hole than embrace power.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_FindApothus]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2083" name="LostPrisoner_FindApothus" tags="Overworld" position="350,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
His corrupted mind is no longer used to being this deep in thoughts.

Finally, he lifts his head up and speaks.

&quot;I first noticed his realm when exploring the eastern barrens.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_FindApothus_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2084" name="LostPrisoner_FindApothus_2" tags="Overworld" position="475,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&quot;It&#39;s all a ploy by Apothus. His magic hides a massive chasm leading to his corrupted realm.&quot;

He then growls in frustration.

&quot;Travel to the Eastern Barrens when the golden star shines its brightest. It weakens his illusion.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2085" name="LostPrisoner_Untie_Link" tags="Overworld" position="600,26100" size="100,100">[[Loosen his ties-&gt;LostPrisoner_Untie]]</tw-passagedata><tw-passagedata pid="2086" name="LostPrisoner_Untie" tags="Overworld" position="725,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.available_lostPrisoner_untie = false&gt;&gt;
The werewolf seems to have something to say.

His voice is low and quiet like he doesn&#39;t want to be eavesdropped on.

&quot;So uh... You know I never meant to attack this place, right? Apothus used me, led me to this place for whatever scheme he&#39;s playing.&quot; 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_Untie_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2087" name="LostPrisoner_Untie_2" tags="Overworld" position="850,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
He suddenly shifts his arms against his bindings and releases fake grunts of pain. 

&quot;And these bindings hurt so much. Ow ow ow... You guys are beyond cruel!&quot;

His acting is the worst you&#39;ve ever seen.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_Untie_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2088" name="LostPrisoner_Untie_3" tags="Overworld" position="975,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;normal&quot;)&gt;&gt;
&quot;Tell you what, if you loosen these ties, I&#39;ll escape in the middle of the night and never set foot in this place again. I&#39;ll go mad if I have to spend another day here.&quot;

If his performance shows anything, he is too bad of a liar to lie about this.

\&lt;&lt;run setup.choice(&quot;[[Untie Him-&gt;LostPrisoner_Untie_Untie]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;LostPrisoner_Untie_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2089" name="LostPrisoner_Untie_Untie" tags="Overworld" position="1100,26100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;happy&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.quest.lostPrisonerUntied = true&gt;&gt;
You reach behind the werewolf and quickly loosen his ties enough for him to set himself free without it being too noticeable.

&quot;You won&#39;t regret this.&quot;

He gives you a seductive growl.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2090" name="LostPrisoner_Untie_Leave" tags="Overworld" position="1225,26100" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
You step back, and he instantly lashes out, pulling hard on his bindings.

&quot;Have it your way! I&#39;m sure you&#39;re having a blast watching me rot in here!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_Untie_Leave_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2091" name="LostPrisoner_Untie_Leave_2" tags="Overworld" position="100,26225" size="100,100">\&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lost_Prisoner, &quot;angry&quot;)&gt;&gt;
His muscles throb and grow for an instant before deflating back.

&quot;Scums, all of you. I hope The Black Sun swallows you whole!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LostPrisoner_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2092" name="LostPrisoner_Intro" tags="Overworld" position="225,26225" size="100,100">\&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Player.lostPrisonerIntro)&gt;&gt;</tw-passagedata><tw-passagedata pid="2093" name="LostPrisoner_Intro_FirstTime" tags="Overworld" position="350,26225" size="100,100">&lt;&lt;set $CharacterSheet_Player.quest.available_lostPrisonerIntro_firstTime = false&gt;&gt;
You step into the large entrance hall of the Herald&#39;s palace. The walls are lined with faded paintings, and the floor is covered in a thick red carpet stretching before you. 
You take a moment to take it all in, and then you hear a voice from the shadows.

&quot;Welcome,&quot; says one of the guards, who notices your arrival and steps out from behind a large column. 

[[Continue-&gt;LostPrisoner_Intro_FirstTime_2]]</tw-passagedata><tw-passagedata pid="2094" name="LostPrisoner_Intro_FirstTime_2" tags="Overworld" position="475,26225" size="100,100">He&#39;s wearing a crisp uniform, and you can see the gleam of a sword at his hip. He smiles at you, eyes crinkling in the dim light. 

&quot;The Herald has asked me to show you something.&quot; He quietly leads you forward.

[[Continue-&gt;LostPrisoner_Intro_FirstTime_3]]</tw-passagedata><tw-passagedata pid="2095" name="LostPrisoner_Intro_FirstTime_3" tags="Overworld" position="600,26225" size="100,100">As you step inside a brightly lit jail, you take a deep breath and try to prepare yourself for what you&#39;re about to see. 
The air is heavy with the smell of sweat and fear. You pass the corridor through cells full of broken souls and hardened criminals. 

Your gaze finally settles on the last cell in the corner of the room. 

[[Continue-&gt;LostPrisoner_Intro_FirstTime_4]]</tw-passagedata><tw-passagedata pid="2096" name="LostPrisoner_Intro_FirstTime_4" tags="Overworld" position="725,26225" size="100,100">Inside, you spot a monstrously muscular werewolf chained to the far wall. Its fur is a matted, filthy mess, and its eyes are full of rage and despair.
Despite the chains, it looks as if it could break free at any moment. You can feel its glare burning into you, and you know this creature is dangerous. 
 
But you also know it is a prisoner and must be contained.

 [[Continue-&gt;LostPrisoner_MainMenu]]</tw-passagedata><tw-passagedata pid="2097" name="LostPrisoner_Intro_Idle" tags="Overworld" position="850,26225" size="100,100">The air is heavy with the smell of sweat and fear. You pass the corridor through cells full of broken souls and hardened criminals. 

Your gaze finally settles on the last cell in the corner of the room. 

[[Continue-&gt;LostPrisoner_MainMenu]]</tw-passagedata><tw-passagedata pid="2098" name="LostPrisoner_Intro_Escaped" tags="Overworld" position="975,26225" size="100,100">\&lt;&lt;set $CharacterSheet_Lost_Prisoner.info.known = setup.EncounterKnownState.KNOWN&gt;&gt;
The air is heavy with the smell of sweat and fear. You pass the corridor through cells full of broken souls and hardened criminals. 

Your gaze finally settles on the last cell in the corner of the room. 

The Lost werewolf has escaped from his prison.

[[Leave-&gt;Village]]</tw-passagedata><tw-passagedata pid="2099" name="LostPrisoner_MainMenu_Withdrawal" tags="Overworld" position="1100,26225" size="100,100">The hulking werewolf&#39;s muscles ripple with strength even as he is chained to the wall. 
He wears a heavy iron collar, and his hands and feet are bound with thick binding ropes.

He growls deeply at your every move.</tw-passagedata><tw-passagedata pid="2100" name="LostPrisoner_MainMenu_Untied" tags="Overworld" position="1225,26225" size="100,100">The hulking werewolf&#39;s muscles ripple with strength even as he is chained to the wall. 
He wears a heavy iron collar, and his hands and feet are bound with thick binding ropes.

His lips twitch in a smirk.</tw-passagedata><tw-passagedata pid="2101" name="LostPrisoner_MainMenu_Corrupted" tags="Overworld" position="100,26350" size="100,100">The hulking werewolf&#39;s muscles ripple with strength even as he is chained to the wall. 
He wears a heavy iron collar, and his hands and feet are bound with thick binding ropes.

His corrupted body calls to you. 

&lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;Grow. Fuck. Spread.&quot;&lt;/span&gt;</tw-passagedata><tw-passagedata pid="2102" name="LostPrisoner_MainMenu_Normal" tags="Overworld" position="225,26350" size="100,100">The hulking werewolf&#39;s muscles ripple with strength even as he is chained to the wall. 
He wears a heavy iron collar, and his hands and feet are bound with thick binding ropes.

You can feel the primal hunger emanating from him. 
He stares at you seductively, and you can feel the sexual energy pulsing from his body.

&quot;I&#39;ve been stuck here for days. Gods, my cock aches so much...&quot;

His eyes plead with you, and his voice is a deep rumble. &quot;Please,&quot; he begs.</tw-passagedata><tw-passagedata pid="2103" name="LostPrisoner_MainMenu_Relaxed" tags="Overworld" position="350,26350" size="100,100">The hulking werewolf bathes in the afterglow.

He seems open to discussing other matters.</tw-passagedata><tw-passagedata pid="2104" name="LukkaHouse" tags="Overworld" position="475,26350" size="100,100">&lt;&lt;include LukkaHouse_Intro&gt;&gt;</tw-passagedata><tw-passagedata pid="2105" name="LukkaHouse_MainMenu" tags="Overworld" position="600,26350" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;lukkaHouseMenu&quot;)&gt;&gt;

&lt;&lt;print setup.getNextNarativeEventPassageListText(setup.StorySheet_Player.lukkaHouseLinks, 3)&gt;&gt;\

\&lt;&lt;run setup.choice(&quot;[[Leave -&gt; Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2106" name="LukkaHouse_MainMenu_Normal" tags="Overworld" position="725,26350" size="100,100">Dust lies in all corners of Lukka&#39;s lab. The faint smell of Corruption is noticeable but not invasive. It must be coming from some of his countless experiments.</tw-passagedata><tw-passagedata pid="2107" name="LukkaHouse_MainMenu_Huge" tags="Overworld" position="850,26350" size="100,100">You stand in Lukka&#39;s backyard with him, as there are no possible ways for you to fit in his laboratory.</tw-passagedata><tw-passagedata pid="2108" name="LukkaHouse_CorruptionLore_Low_Link" tags="Overworld" position="975,26350" size="100,100">[[Ask about Corruption-&gt;LukkaHouse_CorruptionLore_Low]]
\</tw-passagedata><tw-passagedata pid="2109" name="LukkaHouse_CorruptionLore_Low" tags="Overworld" position="1100,26350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.quest.available_lukkaHouse_askCorruption = false&gt;&gt;
&quot;This goo is something you don&#39;t want to mess with. It&#39;s a dangerous, corrupt substance that causes rapid muscle growth.&quot;

Out of the corner of your eyes, you notice a small flask around his waist that suddenly churns as if it reacted to the topic at hand.

&quot;It&#39;s precarious, and any contact with it could have catastrophic results. It&#39;s best to stay as far away from it as possible.&quot;

[[Ask why he is carrying some on him-&gt;LukkaHouse_CorruptionLore_Carry]]
[[Continue-&gt;LukkaHouse_MainMenu]]</tw-passagedata><tw-passagedata pid="2110" name="LukkaHouse_CorruptionLore_Carry" tags="Overworld" position="1225,26350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;angry&quot;)&gt;&gt;
He seems shaken that you&#39;ve noticed. He quickly looks down and puts the flask on a nearby table.

&quot;Oh, come on... It&#39;s not what you think!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_CorruptionLore_Carry_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2111" name="LukkaHouse_CorruptionLore_Carry_2" tags="Overworld" position="100,26475" size="100,100">\&lt;&lt;set $CharacterSheet_Lukka.quest.coatOff = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
&quot;My right arm became paralyzed after a bad injury, and I needed something to help me use it again.&quot;

He tries to look you in the eyes but gives up halfway. He nervously scours out some lab equipment as he speaks.

&quot;At first, I was hesitant to try it out, but I had no other options. \
So I applied it to my arm and massaged it into the muscles for a few minutes each day. My arm is getting stronger, and I can move it better already. \
I only use enough to fix myself. You can trust me on this!&quot;

[[Reassure him-&gt;LukkaHouse_CorruptionLore_Carry_Reassure]]
[[Warn him about the risks-&gt;LukkaHouse_CorruptionLore_Carry_Warn]]</tw-passagedata><tw-passagedata pid="2112" name="LukkaHouse_CorruptionLore_Carry_Reassure" tags="Overworld" position="225,26475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lukka.quest.coatOff = false&gt;&gt;
He sighs as he finally starts to relax.

&quot;I know it&#39;s not the most conventional way to treat my paralyzed arm, but it&#39;s been surprisingly effective.&quot;

He finally gathers to courage to look at you once more.

&quot;We can&#39;t solve this Corruption problem without understanding how it works, and maybe we can turn it into something good.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2113" name="LukkaHouse_CorruptionLore_Carry_Warn" tags="Overworld" position="350,26475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lukka.quest.coatOff = false&gt;&gt;
&quot;I just wanted to be able to move it again, &lt;&lt;PlayerName&gt;&gt;. And the Herald already knows. He&#39;s got me on watch for a few months now...&quot;

You can tell how nervous this topic makes him. He keeps moving around the lab, cleaning whatever he can come across before changing the subject.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2114" name="LukkaHouse_CorruptionLore_High_Link" tags="Overworld" position="475,26475" size="100,100">[[Ask about Corruption-&gt;LukkaHouse_CorruptionLore_High]]
\</tw-passagedata><tw-passagedata pid="2115" name="LukkaHouse_CorruptionLore_High" tags="Overworld" position="600,26475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.quest.available_lukkaHouse_askCorruption = false&gt;&gt;
He nervously shuffles around. He has clearly noticed that you&#39;ve been using it yourself.

&quot;So, uh... You&#39;ve been in contact with this dangerous, corruptive goo? It&#39;s, uh, really nasty stuff, and it&#39;s been causing a lot of trouble lately.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_CorruptionLore_High_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2116" name="LukkaHouse_CorruptionLore_High_2" tags="Overworld" position="725,26475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
Out of the corner of your eyes, you notice a small flask around his waist that suddenly churns as if it reacted to the topic at hand.

&quot;It&#39;s hazardous, and it&#39;s been known to cause all sorts of mutations, from increased strength and size to even more bizarre changes.&quot;

[[Ask why he is carrying some on him-&gt;LukkaHouse_CorruptionLore_Carry]]
[[Continue-&gt;LukkaHouse_MainMenu]]</tw-passagedata><tw-passagedata pid="2117" name="LukkaHouse_LostLore_Link" tags="Overworld" position="850,26475" size="100,100">[[Ask about the Lost-&gt;LukkaHouse_LostLore]]
\</tw-passagedata><tw-passagedata pid="2118" name="LukkaHouse_LostLore" tags="Overworld" position="975,26475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;angry&quot;)&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.quest.available_lukkaHouse_askLost = false&gt;&gt;
You can almost feel the tension as Lukka clears his throat.

&quot;The Lost are terrifying creatures. They&#39;re incredibly powerful and spread Corruption to anything they come in contact with.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_LostLore_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2119" name="LukkaHouse_LostLore_2" tags="Overworld" position="1100,26475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
He pulls out a notebook in one fast motion and flicks through various references.

&quot;Their souls contain so much Corruption that their bodies began to produce it. \
They have become slaves to its influence. Do not treat them lightly.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2120" name="LukkaHouse_LookingForCure_Link" tags="Overworld" position="1225,26475" size="100,100">[[Ask what he is planning next-&gt;LukkaHouse_LookingForCure]]
\</tw-passagedata><tw-passagedata pid="2121" name="LukkaHouse_LookingForCure" tags="Overworld" position="100,26600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.LukkasBox);&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.lukkaQuest.askedForDemonEssence = true&gt;&gt;
He begins with an air of gentle curiosity and softness in his voice.

&quot;Actually, it&#39;s a good thing you&#39;re the one asking. I&#39;ve been going through a breakthrough with my current research.&quot;

His gaze lingers on you, and he holds a big round-bottom flask with some soil inside.

\&lt;&lt;run setup.choice(&quot;[[Take a closer look-&gt;LukkaHouse_LookingForCure_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2122" name="LukkaHouse_LookingForCure_2" tags="Overworld" position="225,26600" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Flask/flask_goo.jpg&quot;, undefined, undefined, true)&gt;&gt;

Upon closer inspection, you see a single gooey jet-black flower at the center, its roots pulsating softly.
The flower&#39;s petals are dark and glossy, almost like oil, and the blossom&#39;s center is a deep and mysterious black.

&quot;See this? This flower was exposed to Corruption just yesterday, and I&#39;ve been experimenting to see what could stop it from spreading Corruption around itself.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_LookingForCure_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2123" name="LukkaHouse_LookingForCure_3" tags="Overworld" position="350,26600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;

He then pulls out boxes of supplies and starts rummaging through them.

&quot;And one particular element has been reacting in a promising way. Ah, this isn&#39;t it. This isn&#39;t it either...&quot;

He sighs in frustration.

&quot;Where is it?&quot;

He suddenly stops and lets out a devilish grin before picking up a small red vial.

&quot;Aha! This is it - the shard of concentrated demonic Essence!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_LookingForCure_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2124" name="LukkaHouse_LookingForCure_4" tags="Overworld" position="475,26600" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Flask/flask_essence.jpg&quot;, undefined, undefined, true)&gt;&gt;
His enthusiasm is slightly worrying, but you soon see what he means.
He introduces the demonic Essence to the flask containing the corrupted flower, and it seems to react almost instantly.

Like oil and water, the black ooze slithers away from the red shard and leaves a small area of clean soil behind it.

&quot;See what I mean? This is the breakthrough we&#39;ve been looking for!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_LookingForCure_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2125" name="LukkaHouse_LookingForCure_5" tags="Overworld" position="600,26600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;

He smiles victoriously and instantly brings his focus back to you.

&quot;I&#39;m going to need more of that Essence to experiment. A few demons are roaming the Barrens. I&#39;m sure you can convince them to manifest some of that Essence for us to work with!&quot;

The way he brushes that part off is slightly worrying.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_LookingForCure_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2126" name="LukkaHouse_LookingForCure_6" tags="Overworld" position="725,26600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
You watch as Lukka pulls out a small cylindrical tank from his pocket.
Determination glints in his eyes as he hands it to you.

&quot;This should absorb some of the Essence in the air and keep it safe,&quot; he says.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_LookingForCure_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2127" name="LukkaHouse_LookingForCure_7" tags="Overworld" position="850,26600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
&quot;You&#39;ll need a few samples before it can solidify. Three should be enough.&quot;

His pace is dizzying, and his confidence somewhat worrying, but the potential of preventing Corruption from spreading is too valuable to ignore.

You pocket the small reservoir for later.

∇: You have acquired &quot;Lukka&#39;s Essence reservoir&quot;.
∇: A tiny sample of Essence will be sent to the reservoir for every battle won.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2128" name="LukkaHouse_LookingForCure_Progress_Link" tags="Overworld" position="975,26600" size="100,100">[[Show him the Essence reservoir-&gt;LukkaHouse_LookingForCure_Progress]]
\</tw-passagedata><tw-passagedata pid="2129" name="LukkaHouse_LookingForCure_Progress" tags="Overworld" position="1100,26600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;
The clear glass container is glowing with a luminous red mist, and you can feel a gentle energy emanating from it.

&quot;Oh! You managed to gather demonic Essence! Lemme see!&quot;

[[Give him the reservoir-&gt;LukkaHouse_LookingForCure_Progress_NotEnough]]</tw-passagedata><tw-passagedata pid="2130" name="LukkaHouse_LookingForCure_Progress_NotEnough" tags="Overworld" position="1225,26600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
Lukka carefully lifts the lid off the essence reservoir, letting out a small puff of red fog in the room.

He takes a closer look before quickly shutting the container tight.

&quot;That&#39;s the stuff... But it&#39;s not enough to solidify it yet.&quot;

[[Continue-&gt;LukkaHouse_MainMenu]]</tw-passagedata><tw-passagedata pid="2131" name="LukkaHouse_LookingForCure_Complete_Link" tags="Overworld" position="100,26725" size="100,100">[[Show him the Essence reservoir-&gt;LukkaHouse_LookingForCure_Complete]]
\</tw-passagedata><tw-passagedata pid="2132" name="LukkaHouse_LookingForCure_Complete" tags="Overworld" position="225,26725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;
Lukka carefully lifts the lid off the essence reservoir, letting out a small puff of red fog in the room.
His eyes sparkle with excitement.

&quot;Yes! That should be enough for me to solidify it into something useful!&quot;

He then quickly shuts the container tight and holds it to his chest like a priceless treasure.

∇: You no longer hold &quot;Lukka&#39;s Essence reservoir.&quot;

[[Continue-&gt;LukkaHouse_LookingForCure_Complete_2]]</tw-passagedata><tw-passagedata pid="2133" name="LukkaHouse_LookingForCure_Complete_2" tags="Overworld" position="350,26725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.lukkaQuest.complete = true&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.removeAbilityRuntimeData($CharacterSheet_Player, setup.Ability.LukkasBox);&gt;&gt;
&quot;Thank you for the hard work &lt;&lt;PlayerName&gt;&gt;. I&#39;ll use this Essence on something that can help you in your adventures!&quot;

He carefully places the reservoir on a nearby table and rushes to hug you tightly.

&quot;Actually, you can have the shard of demonic Essence I showed you previously since I can make some new ones with the reservoir.&quot;

[[Continue-&gt;LukkaHouse_LookingForCure_Complete_3]]</tw-passagedata><tw-passagedata pid="2134" name="LukkaHouse_LookingForCure_Complete_3" tags="Overworld" position="475,26725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
The kobold lets go of you and rush to a pile of boxes.
He sighs in frustration.

&quot;Now, where did I put it?&quot;

He nearly dives into the box of the pile and starts rummaging through it.

&quot;Aha! There it is! My shard of concentrated demonic Essence!&quot;

[[Continue-&gt;LukkaHouse_LookingForCure_Complete_4]]</tw-passagedata><tw-passagedata pid="2135" name="LukkaHouse_LookingForCure_Complete_4" tags="Overworld" position="600,26725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.DemonicEssenceShard);&gt;&gt;

He puts the jagged shard of Essence in your hand, and it pulses softly with a deep, red glow.
You can feel the demonic energy radiating from it.

&quot;It won&#39;t make you immune to Corruption, but if you come across Corruption of minimal concentration, it should slowly crawl away from you.&quot;

∇: You have gained a shard of demonic Essence.

[[Continue-&gt;LukkaHouse_MainMenu]]</tw-passagedata><tw-passagedata pid="2136" name="LukkaHouse_EchoEvolution_Start_Reminder_Link" tags="Overworld" position="725,26725" size="100,100">[[Mention your encounter with the meteor-&gt;LukkaHouse_EchoEvolution_Start_Reminder]]</tw-passagedata><tw-passagedata pid="2137" name="LukkaHouse_EchoEvolution_Start_Reminder" tags="Overworld" position="850,26725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;
&quot;Ah, that reminds me! Thank you again for that shard of demonic essence. Studying it has been quite the challenge, but its mysteries unravel as I delve deeper into it.&quot;

A spark of passion shines within his eyes as he adjusts the worn leather strap around his injured arm.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_Reminder_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2138" name="LukkaHouse_EchoEvolution_Start_Reminder_2" tags="Overworld" position="975,26725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
&quot;It&#39;s a formidable little thing, I&#39;ll grant it that!&quot; He carefully cradles a glass flask holding the shard.

&quot;Blessed with an astounding surge of primal might and raw Essence when harnessed correctly... never before have I beheld such potency.&quot;

Returning the flask to its rightful position amongst the chaos of tools and supplies on his working table, he lets his gaze return to you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2139" name="LukkaHouse_EchoEvolution_Start_Link" tags="Overworld" position="1100,26725" size="100,100">[[Mention your encounter with the meteor-&gt;LukkaHouse_EchoEvolution_Start_3]]</tw-passagedata><tw-passagedata pid="2140" name="LukkaHouse_EchoEvolution_Start_3" tags="Overworld" position="1225,26725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
A faint blush warms his scaly cheeks, and his gaze inevitably falls on your formidable silhouette.
His curious glances are something he&#39;s never been able to conceal.

&quot;So, you&#39;ve been on the move while I&#39;ve been holed up here. What marvels have you uncovered during your journey, &lt;&lt;PlayerName&gt;&gt;?&quot;

He inquires, attempting to maintain an air of casual indifference.

\&lt;&lt;run setup.choice(&quot;[[Tell him about the meteor-&gt;LukkaHouse_EchoEvolution_Start_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2141" name="LukkaHouse_EchoEvolution_Start_4" tags="Overworld" position="100,26850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
&quot;&#39;An encounter with a meteor?&quot; Lukka releases a subdued whistle.

The cogs of his mind whirl into motion, spinning like a mystic windmill caught in gale-force winds.

\&lt;&lt;run setup.choice(&quot;[[Tell him about the entity you merged with-&gt;LukkaHouse_EchoEvolution_Start_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2142" name="LukkaHouse_EchoEvolution_Start_5" tags="Overworld" position="225,26850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;angry&quot;)&gt;&gt;
&quot;Chosen by an entity that dwelt within it?&quot; Lukka stammers, curiosity swiftly usurping the surprise which had initially rooted his words to his throat.

His gaze is all over you, a spark of quiet awe lighting his features.

&quot;We must learn more about what happened to you, lest this being within you turns out to be something bad.&quot;
Lukka decrees, a current of resolve coursing through his words, betraying his typically timid temperament.

[[Let him know you&#39;re in control-&gt;LukkaHouse_EchoEvolution_Start_InControl]]
[[Tell him you&#39;re not sure-&gt;LukkaHouse_EchoEvolution_Start_Unknown]]</tw-passagedata><tw-passagedata pid="2143" name="LukkaHouse_EchoEvolution_Start_InControl" tags="Overworld" position="350,26850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
&quot;You’re fully in control?&quot; A sigh of relief slips out, laced with past tension easing at the edges.
But just as relief digs its roots, a sprout of curiosity flares out.

&quot;So, it&#39;s unlike the Corruption, then. I&#39;d like to look a bit closer... provided it doesn&#39;t discomfort you, of course.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2144" name="LukkaHouse_EchoEvolution_Start_Unknown" tags="Overworld" position="475,26850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
He directs a quick, pointed look towards a table, covered in a fine veil of dust but sturdy nevertheless.
It stands in readiness for his examination.

&quot;Lemme examine you... You have no objections, right? I assure you, I&#39;ll proceed with the utmost gentleness. Though I won&#39;t step back from being thorough. Don&#39;t want to risk overlooking anything.&quot;

The importance of the situation outweighs his insecurities. He squares his shoulders, braced for whatever lies ahead.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2145" name="LukkaHouse_EchoEvolution_Start_6" tags="Overworld" position="600,26850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Lukka approaches, his hands, while small in size, flex with the distinctive dexterity typical for a kobold.
His fingertips hover above your muscular form, hesitating briefly before making contact.

An undefinable, slightly awkward thrill echoes up his scale-clad hands.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2146" name="LukkaHouse_EchoEvolution_Start_7" tags="Overworld" position="725,26850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
&quot;By the gods &lt;&lt;PlayerName&gt;&gt;&quot; he breathes out, admiration tingeing his voice.
His intense gaze maps every rise and fall of rippling muscle.

His claws tenderly trace each contour, studying the intimidating strength and captivating size with unveiled fascination.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2147" name="LukkaHouse_EchoEvolution_Start_8" tags="Overworld" position="850,26850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
As Lukka explores, he strives to maintain a professional demeanour – this examination is, after all, as much about your welfare as it is a study.
Yet the way your muscles beneath his claws quivers with life, a shivery reaction rippling through your skin, proves dangerously entrancing.

Nervously, he averts his gaze from your eyes, tossing back his focus onto the anatomical marvel he studies.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2148" name="LukkaHouse_EchoEvolution_Start_9" tags="Overworld" position="975,26850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
He continues his thorough examination, his claws tracing every strand of muscle, each prominent bulge and faint crease appreciatively.
“Your body is...a work of art...” he murmurs, the words unfamiliar but undeniably true on his tongue.

With every guttural groan and spasm of well-honed muscles, the atmosphere shifts.
It is electric, charged with growing arousal.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2149" name="LukkaHouse_EchoEvolution_Start_10" tags="Overworld" position="1100,26850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
He senses his own heart hammering a tribal beat in his chest, shockingly startled by your rigid reactions, but increasingly compelled as well.

His clawed fingers drift dangerously towards your groin, an unexpected consequence of his ongoing examination.

The palpable reactions of your body to his touch, the lashing ardor within your eyes, stir something primal in Lukka.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2150" name="LukkaHouse_EchoEvolution_Start_11" tags="Overworld" position="1225,26850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
He tightens his hold on you, his claws tracing your every shape, releasing emotions hidden within his heart’s deepest corridors.

&quot;I can feel something inside you...&quot;

His clawed hand glides downwards to your cock, kindling sparks of electricity along the expanse of your skin as it travels there, clinching onto your growing lust.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2151" name="LukkaHouse_EchoEvolution_Start_12" tags="Overworld" position="100,26975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
He grasps your mighty shaft and starts jerking it as he softly moans.
He institutes a tempo, pulsing in tandem with the cadence of your heartbeat, attuning to the increasingly urgent moans that escape you.

He murmurs, empowered by your vocal affirmations. &quot;By the gods…&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2152" name="LukkaHouse_EchoEvolution_Start_13" tags="Overworld" position="225,26975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
As his rhythm becomes more relentless, increasingly demanding, the room becomes saturated with the rhythm of his excited breaths and suppressed moans.

His chest constricts with each breath you take, the pleasure displayed on your visage reverberating back onto him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2153" name="LukkaHouse_EchoEvolution_Start_14" tags="Overworld" position="350,26975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;shocked&quot;)&gt;&gt;
The growing intensity of your arousal, as it swells with your mounting pleasure, a pivotal realization seizes Lukka.

Your new power is intrinsically linked to your lust.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2154" name="LukkaHouse_EchoEvolution_Start_15" tags="Overworld" position="475,26975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Inhaling deeply, he lowers his gaze to your body, his eyes traveling upwards to meet your own.

You grin down at him, and it&#39;s the only cue he needs.

His lips surround your cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2155" name="LukkaHouse_EchoEvolution_Start_16" tags="Overworld" position="600,26975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Your taste overwhelm his senses.

He’s set on worshiping you, his determination fueled by each staggered breath, each reflexive muscle contraction.

His desire cause your energy to rip through the room, solidifying his theory - &lt;&lt;SymbioteName&gt;&gt;’s might, your arousal, they&#39;re one and the same.

You feel &lt;&lt;SymbioteName&gt;&gt; feeding your body, growing your muscles as it gorges on your lust.
All that unleashed might becomes intertwined with rolling waves of pleasure, and your moans turn into roars.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;LukkaHouse_EchoEvolution_Start_17]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2156" name="LukkaHouse_EchoEvolution_Start_17" tags="Overworld" position="725,26975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Your cock throbs against Lukka’s small body and you cum all over his scales.
He blinks and beams, overcome with the intensity of it.

Then, without missing a beat, he dives back into sucking your cock, capturing more of your load in his mouth, savouring its essence.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;LukkaHouse_EchoEvolution_Start_18]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2157" name="LukkaHouse_EchoEvolution_Start_18" tags="Overworld" position="850,26975" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
The sound of your pleasure entwines with the sudden wail of alarms echoing throughout the laboratory.
Instruments and detectors of Essence nearly breaking from the experience.

&quot;Goddamn…&quot; He manages to rasp, his grin lopsided, mouth still glistening with your cum. His eyes dart around the room, seeking assurance in the vibrant pulses of the sensors, the constant cries of equipments.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_19]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2158" name="LukkaHouse_EchoEvolution_Start_19" tags="Overworld" position="975,26975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
He can&#39;t help a triumphant chuckle, struggling for breath, reeling with ecstasy.

You stand proudly, your &lt;&lt;SymbioteRace&gt;&gt; form shining against the dim light of the laboratory.

The sight of your new form nearly makes Lukka cum on the spot.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Start_20]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2159" name="LukkaHouse_EchoEvolution_Start_20" tags="Overworld" position="1100,26975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Start_Available = false&gt;&gt;
The alarms around them simmer down, a welcomed silence that mirrors the aftermath of a powerful climax.
The familiar hush of advanced machinery echoes through the lab.

&quot;&lt;&lt;PlayerName&gt;&gt;,&quot; he begins, the echoes of sweet satisfaction still tangling with his senses. &quot;This power, your Essence… there’s a lot I need to figure out about it.&quot;

He lingers a moment longer, his mind still hazy from the experience as your body slowly goes back to normal.

&quot;Please, come see me again some time later. Give your little pal some time to decode all this.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2160" name="LukkaHouse_EchoEvolution_Update_Link" tags="Overworld" position="1225,26975" size="100,100">[[Discuss the Symbiote-&gt;LukkaHouse_EchoEvolution_Update]]</tw-passagedata><tw-passagedata pid="2161" name="LukkaHouse_EchoEvolution_Update" tags="Overworld" position="100,27100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
He nearly trips walking around the limited confines of his workspace, a sort of labyrinth of misplaced books and experiments.

&quot;So, the initial results of my studies suggest &lt;&lt;SymbioteName&gt;&gt; is not of this plane... and that it might hold incredible transformative powers.&quot;

He gazes at a vial full of your seed from your previous encounter.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2162" name="LukkaHouse_EchoEvolution_Update_1" tags="Overworld" position="225,27100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;sus&quot;)&gt;&gt;
&quot;And I&#39;ve got a feeling that we can combine the energy of &lt;&lt;SymbioteName&gt;&gt; and my alchemical rituals to unleash... something powerful.&quot;

The thrill of a looming breakthrough reverberates in his voice.
His typically restrained zeal slips loose, spurred on by the tantalizing prospects that this unique element presents.

&quot;Essence, especially that hailing from different planes, is a capricious beast. Tinker too much, and reality itself could warp to something unrecognizable.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2163" name="LukkaHouse_EchoEvolution_Update_2" tags="Overworld" position="350,27100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
He agitates a flask filled with your seed, the one from your previous encounter.
Its &lt;&lt;SymbioteColor&gt;&gt; contents flickering in the workshop&#39;s faint luminescence.

&quot;For this experiement to work, I&#39;m gonna need your body to be filled Essence, lots and lots of it.&quot;

&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Player.echoEvolutionEssenceCost)&gt;&gt;</tw-passagedata><tw-passagedata pid="2164" name="LukkaHouse_EchoEvolution_Update_EnoughEssence_Link" tags="Overworld" position="475,27100" size="100,100">[[Continue with the experiment (Accumulated 2000 Essence)-&gt;LukkaHouse_EchoEvolution_Update_3]]
[[Go back-&gt;LukkaHouse_MainMenu]]</tw-passagedata><tw-passagedata pid="2165" name="LukkaHouse_EchoEvolution_Update_NotEnoughEssence_Link" tags="Overworld" position="600,27100" size="100,100">&lt;span class=&#39;inactive&#39;&gt;[[Continue with the experiment (Need 2000 Essence)-&gt;Village]]&lt;/span&gt;
[[Go back-&gt;LukkaHouse_MainMenu]]</tw-passagedata><tw-passagedata pid="2166" name="LukkaHouse_EchoEvolution_Update_3" tags="Overworld" position="725,27100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
With calculated precision, he extends his arm and fixes a solid grip on your shoulder.

&quot;Your Essence... it pulses with an unprecedented energy... ancient, unfettered, potent. But surprisingly malleable.&quot;

His gaze lazily embarks down your body, under the dimly flickering light, its surface teeming with an effervescent glow.

&quot;Shall we begin then?&quot;

\&lt;&lt;run setup.choice(&quot;[[Begin the experiment-&gt;LukkaHouse_EchoEvolution_Update_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2167" name="LukkaHouse_EchoEvolution_Update_4" tags="Overworld" position="850,27100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
With your consenting nod, an eager smirk creeps across his hardened snout.

His gaze lazily embarks down your body, under the dimly flickering light, its surface teeming with an effervescent glow.
Your physique stands as a monument to raw, undiluted power that feeds his curiosity.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2168" name="LukkaHouse_EchoEvolution_Update_5" tags="Overworld" position="975,27100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
A stark clawed hand commences an exploration of your form, tracing the jutting outlines of your torso.
His gentled claw moves with measured precision, running over your musculature, dancing over the rhythmic contractions beneath skin.

&quot;You don&#39;t need to hold back. I can take it,&quot; he challenges, lips curling in a devilish smirk.
His whisper dances over your skin as he ventures deeper, grasping your shaft in his warm hands.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2169" name="LukkaHouse_EchoEvolution_Update_6" tags="Overworld" position="1100,27100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
With a steadfast grip, you direct Lukka’s head towards your cock.
A strangled sound of surprise dances past his lips, morphing into a husky growl of consent as he gives in to the irresistible pull.

He surrenders to the potent sensation of his power, toying with both his alchemical fascination and the primeval urge coiling deep within.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2170" name="LukkaHouse_EchoEvolution_Update_7" tags="Overworld" position="1225,27100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Led by your touch, Lukka parts his lips, his scaly, kobold muzzle brushing against your heated skin.
His clawed hands meander over your muscular form, absorbing every subtle twitch and contraction.

In the dim glow of his laboratory, Lukka begins to eagerly suck your monstrous cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2171" name="LukkaHouse_EchoEvolution_Update_8" tags="Overworld" position="100,27225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
The taste of him overwhelms his senses, fanning the flames of his lust.
With each thrust, every rhythmic sweep, all the way to the soft growl, Lukka’s cock already oozes with seed.

His injured arm throbs mildly under the exertion, but he perseveres.

With renewed purpose, Lukka indulges himself, surrendering to the endless pleasure he’s getting lost in.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2172" name="LukkaHouse_EchoEvolution_Update_9" tags="Overworld" position="225,27225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
As Lukka eagerly sucks you off, you feel the barrier between your normal form and the &lt;&lt;SymbioteRace&gt;&gt; crumble.

Your body morphs and shifts.
Your body grows as you growl in pleasure, and soon are not merely &lt;&lt;PlayerName&gt;&gt; the warrior anymore, but something more, something... astounding.

You transform, more muscular, and more intimidating sculpture carved out of shadow and sinew, adorned with alien strength.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2173" name="LukkaHouse_EchoEvolution_Update_10" tags="Overworld" position="350,27225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Lust takes over, all thought, all senses.
Cum oozes from your throbbing cock as the beast merge with you completely.

You grasp the back of Lukka’s head and roar as your cum showers onto him like a geyser, engulfing him in the your Essence.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2174" name="LukkaHouse_EchoEvolution_Update_11" tags="Overworld" position="475,27225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Lukka can feel the raw, potent energy within it, swirling, pulsating, begging to be explored.

Overwhelmed and yet fascinated, he watches as you complete your transformation into a &lt;&lt;SymbioteRace&gt;&gt;.
Every inch of your monstrous form stands out stark in the dim light of the laboratory.

It&#39;s a sight so imbued with power, so daunting and so... beautiful in its own primal right.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2175" name="LukkaHouse_EchoEvolution_Update_12" tags="Overworld" position="600,27225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
Still reeling from the intensity of your transformation, he scrambles to his supplies, one objective cemented in his mind.

In his hasty retrieval, his hand grasps his own shard of demonic essence. The seemingly trivial crystal, however, already pulses energetically with a strange glow.

&quot;This is it...&quot; He mumbles between moans.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2176" name="LukkaHouse_EchoEvolution_Update_13" tags="Overworld" position="725,27225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
&lt;&lt;set $Essence -= 500&gt;&gt;
The crystal ignites brightly, voraciously devouring the converging Essence that envelop it.
Its reddish hue flickering and transmuting into a bright, supernatural &lt;&lt;SymbioteColor&gt;&gt;, casting serpentine lines of light that tease along the secluded walls of his laboratory.

&quot;Hehehe... FINALLY!&quot;

Lukka presses the throbbing gemstone against his marred and wounded arm.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2177" name="LukkaHouse_EchoEvolution_Update_14" tags="Overworld" position="850,27225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;normal&quot;)&gt;&gt;
The hellish, dark light bears into his flesh like a blade carving through butter, drenching the limb in a radiant incandescence.
It exudes warmth, a soothing ache. It&#39;s as if his tattered flesh is being tenderly kneaded and mended under unseen otherworldy touch.

Little by little, the gashed skin of his arm appears to heal over.
Fresh, unmarked skin sweeps over the once jagged and scar-torn expanse of his arm, the raw sensitivity fading progressively.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2178" name="LukkaHouse_EchoEvolution_Update_15" tags="Overworld" position="975,27225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;shocked&quot;)&gt;&gt;
A breathless laugh escapes him, a wave of pride surges within him. His wound, a consistent agonizing nuisance, appears to be practically nonexistent.
Lukka observes the restoration of his own arm, but is soon pulled out of his trance as the shard springs to life once more.

The shard, pulsating with an equally potent glow, suddenly shoots towards your body.

&quot;Wait... This shouldn&#39;t be happening...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2179" name="LukkaHouse_EchoEvolution_Update_16" tags="Overworld" position="1100,27225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;shocked&quot;)&gt;&gt;
You can barely react before it digs between your pecs, its power spreading all over your body within seconds.

The atmosphere teems with a changing, electrifying energy.

Your muscles, already rippling with primal powe, start to bulge out even more, stretching the skin over them thin enough to make your veins even more visible.
You feel yourself growing taller, your frame broadening further.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_17]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2180" name="LukkaHouse_EchoEvolution_Update_17" tags="Overworld" position="1225,27225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;shocked&quot;)&gt;&gt;
&lt;&lt;set $Essence -= 1500&gt;&gt;
Your own Essence swirls around you, changing into a potent nectar of pure power.

Like sunlight through a magnifying glass, you feel your body warming up.

As you growl like a beast in heat, your biceps flex hard, growing bigger as thick veins flare out across your muscles.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_17_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2181" name="LukkaHouse_EchoEvolution_Update_17_1" tags="Overworld" position="100,27350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
You feel the power coursing through them, fueling your growth into something more, something god-like.

Lukka moans hard, worshipping your cock as it expands against his needy touch.
He&#39;s mesmerized, completely overwhelmed by your transformation.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_17_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2182" name="LukkaHouse_EchoEvolution_Update_17_2" tags="Overworld" position="225,27350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
It&#39;s palpable now, a current of Essence spinning around you both. Lukka cannot contain his astonishment, his eyes growing wider to witness the evolution of your symbiote.

Two large tendrils burst from your back, and immediately pleasure your cock. You feel them press against your balls, jerking your throbbing shaft.
Lukka cries out in pleasure as one of them gets a hold of his cock.

&quot;You&#39;re... You&#39;re evolving!&quot; He screams, cumming hard against the base of your growing cock.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_18]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2183" name="LukkaHouse_EchoEvolution_Update_18" tags="Overworld" position="350,27350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
And then... the extraordinary occurs.
You unleash a primordial roar as &lt;&lt;SymbioteName&gt;&gt; takes over. It&#39;s a sensation untamed... a might impossible to understand.

You cum, over and over as the shard of demonic Essence completely dissolves into your body.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_18_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2184" name="LukkaHouse_EchoEvolution_Update_18_1" tags="Overworld" position="475,27350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
The very stones of the chamber tremble in response to his feral outcry, a resonating clamor that sends a second thundering pulse of energy throughout the room.

Your symbiote&#39;s power exponentially grows, fueling your with might beyond anything you&#39;ve experienced as the stone tiles of the house begin to crack under your growing body.
Power and lust fill the room, swirling in a tempest as wild and untamed as a storm at sea.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_18_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2185" name="LukkaHouse_EchoEvolution_Update_18_2" tags="Overworld" position="600,27350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
And you keep cumming, showering Lukka in an endless torrent of thick, manly seed.

Lukka can&#39;t stop cumming himself, his soul overwhelmed by your infectious lust.
He bears witness to your raw display of power, a spectacle of pleasure and unearthly strength.

&quot;Oh gods... OH GODS! YESSSS!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_19]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2186" name="LukkaHouse_EchoEvolution_Update_19" tags="Overworld" position="725,27350" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;set $CharacterSheet_Lukka.quest.LukkaHouse_EchoEvolution_Update_Available = false&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_Evolution&quot;);&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.EchoForm)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
He observes as these waves of energy and desire crash against you, a relentless surge eroding the confines of his studies.

Your symbiote form is now stronger, much stronger.

∇: Your Symbiote transformation now grants 40% health, 30% Strength, 40% gain to all size stats and the &quot;Tendrils Grasp&quot; fight move.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_20]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2187" name="LukkaHouse_EchoEvolution_Update_20" tags="Overworld" position="850,27350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
As the tide slowly recedes, Lukka releases a breath he didn&#39;t even realize he was holding.
His eyes flit feverishly over the room, absorbing the chaotic disarray, the sight of your altered form.

He raises his hand, watching curiously as potent energy drips from his fingers.

&quot;By the gods... This is something else~&quot; His words fumble out, the edge blunted by sheer astonishment as he finds himself standing amidst the ruin of the laboratory, your seed seeping culminating in drops on the cold, stone floor.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_EchoEvolution_Update_21]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2188" name="LukkaHouse_EchoEvolution_Update_21" tags="Overworld" position="975,27350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;horny&quot;)&gt;&gt;
&quot;Good heavens, the sheer power...&quot; His voice dwindles to a murmur, his gaze riveted on you.

His chest expands with the sensation of something akin to reverence, the unrestrained power and raw potential before him tinging his blood with awe.
A potent thirst to unravel more about this process prickles at his claws.

His own arm flexes as he feels the newfound vigor within, and he leaves you with a grin.

“We’re gonna change the world, you and I...”

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2189" name="LukkaHouse_Intro" tags="Overworld" position="1100,27350" size="100,100">\&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Player.lukkaHouseIntro)&gt;&gt;</tw-passagedata><tw-passagedata pid="2190" name="LukkaHouse_Intro_FirstTime" tags="Overworld" position="1225,27350" size="100,100">&lt;&lt;set $CharacterSheet_Player.quest.available_lukkaHouseIntro_firstTime = false&gt;&gt;
You stand before an old house nestled against the desert sand. 
The sun beats down, its harsh rays emphasizing the building&#39;s ancient structure. 

You know, this laboratory of old crumbling brick. This is where Lukka has studied corruption for as long as you can remember.

Surely he would have jobs for you as the new explorer.

\&lt;&lt;run setup.choice(&quot;[[Enter the lab-&gt;LukkaHouse_Intro_Idle]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2191" name="LukkaHouse_Intro_Idle" tags="Overworld" position="100,27475" size="100,100">&lt;&lt;print setup.getFlavourBasedDescription($CharacterSheet_Player, &quot;lukkaHouse_Intro&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2192" name="LukkaHouse_Intro_HeightFlavour_small" tags="Overworld" position="225,27475" size="100,100">You walk into the old laboratory, feeling the waves of heat that radiate from the desert sand just outside the walls. 
The room is filled with a strange mix of dusty books and mysterious machines. 

You gradually feel the air grow heavier with the scent of old chemicals.

In the center of the room are a large wooden table that is covered with tools, jars of different coloured liquids, and odd-looking instruments. 
The walls are lined with shelves filled with glass vats containing mysterious liquids and items.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_Intro_HeightFlavour_small_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2193" name="LukkaHouse_Intro_HeightFlavour_small_2" tags="Overworld" position="350,27475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;
Suddenly, the green kobold scientist strides into the room, enthusiasm radiating from their face. 
His eyes shine with excitement, and he gestures widely with their arms. 

&quot;Welcome &lt;&lt;PlayerName&gt;&gt;! Good to see our new explorer humble me with their presence.&quot;

You can almost feel the energy radiating off of him as he approaches you with a warm smile.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2194" name="LukkaHouse_Intro_HeightFlavour_large" tags="Overworld" position="475,27475" size="100,100">You stand in front of the entrance of Lukka&#39;s laboratory, where the alchemist stands in front of the door.

It seems like he heard you coming. Not surprising, considering the booming thud you bring forth with every step.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_Intro_HeightFlavour_large_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2195" name="LukkaHouse_Intro_HeightFlavour_large_2" tags="Overworld" position="600,27475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Lukka, &quot;happy&quot;)&gt;&gt;
His eyes shine with excitement, and he gestures widely with their arms. 

&quot;Welcome!&quot;

You can almost feel the energy radiating off him as he approaches you with a warm smile.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;LukkaHouse_MainMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2196" name="Quest_MQ002_ApothusRealm_Entrance" tags="" position="725,27475" size="100,100">You step forward and immediately feel an overwhelming heaviness in the air. It&#39;s humid, musky, tainted with corruption.

A black, empty sky surrounds you; the all-encompassing presence of Nyx only amplifies its darkness.

Your skin burns under its unholy light like each ray is coated with acid. The black sun is overwhelming; it consumes most of the space above you.

Standing on a platform made of uneven rocks and soil, you notice that there is no ground behind you. The land simply ends into a sharp cliff that drops into nothingness.
It is floating high above the realm, like Nyx itself was sucking it up towards it. Purple runes swirl around the edges. The cursed symbols pulse with an aggressive radiance; they look barely stable.
Their power is undeniable; this is what stops this realm from falling.

The Black Sun&#39;s light seeps into your skin; your heart beats like a drum.
\&lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;
You bask yourself in its corrupting power. You cock throbs madly already. There better be something for you to fuck nearby.
\&lt;&lt;else&gt;&gt;
Its alluring power is undeniable, you try to control your lust, but your cock throbs madly with need. Your hunger for power intensifies.
You try to supress a moan.
\&lt;&lt;/if&gt;&gt;

∇: You gain the &quot;Embraced by Nyx&#39;s Light&quot; ability for as long as you stay in Apothus&#39;s realm.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.EmbracedByNyxsLight);&gt;&gt;
\&lt;&lt;run setup.MQ002_LeavingManor($CharacterSheet_Player)&gt;&gt;

\&lt;&lt;if $CharacterSheet_Imp.quest.knowsAboutNyx&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Approach the Structure-&gt;Quest_MQ002_ApothusRealm_ImpInvasion]]&quot;);&gt;&gt;
\&lt;&lt;elseif $CharacterSheet_Player.quest.apothusRealmFirstTime&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Explore this Realm-&gt;Quest_MQ002_ApothusRealm_ApproachStructure]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Approach the Structure-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2197" name="Quest_MQ002_ApothusRealm_Exit" tags="" position="850,27475" size="100,100">\&lt;&lt;run setup.MQ002_GiveNyxLightAbility()&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.removeAbilityRuntimeData($CharacterSheet_Player, setup.Ability.EmbracedByNyxsLight);&gt;&gt;
You leave Apothus&#39;s tainted realm behind through the invisible portal you came from.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2198" name="Quest_MQ002_ApothusRealm_ApproachStructure" tags="" position="975,27475" size="100,100">Massive ruins reveal themselves near the horizon. Deep distorted moans of the Lost begin to reach you as you approach.

\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
But they get buried under the booming sound of your footsteps.

\&lt;&lt;elseif setup.MQ002_Manor_IsGiganticInManor($CharacterSheet_Player)&gt;&gt;
The ground cracks under the weight of your immense body, sprawling like countless serpents across the old stone. Each step toward the ruins weakens it even further.
It&#39;s a miracle that the platform is still floating.

\&lt;&lt;/if&gt;&gt;
Taint seeps through the cracks in the stone bricks, warping their surface into a deep black hue.
The smell is dangerously potent; every breath fills your lungs with burning lust. Your cock grows harder every time you exhale.

Corruption flows along the floor and walls of the ruin like pulsating veins, inching around the center of the ruins like a black vortex.

At the center of the ruined site lies a massive egg-shaped cocoon, as black as the void of space surrounding you, yet its presence is undeniable. A bright aura of dark purple circles it, swirling around the monument, sucking the unholy light into itself.
Countless Lost are at its base, engaging in mad debauchery more intense than anything you&#39;ve ever seen.
Their muscular forms writhe and moan with raw sexual intensity as they eternally give in to their lust.

&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_2.jpg&quot;, undefined, true)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApproachStructure_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2199" name="Quest_MQ002_ApothusRealm_ApproachStructure_2" tags="" position="1100,27475" size="100,100">A deep monstrous roar rumbles throughout the ruins as thick black seed shoots from one of the Lost, more joining him seconds later.
Their passion is endless, forever pushed to the very limit of pleasure that flesh can provide. Time has lost all of its meaning here; there is only pure ecstasy.

Numerous root-like veins throb along the cocoon&#39;s base, absorbing more of the Lost corrupted essence into itself.
Veins, thicker than trees, thunderously pump across the platform.

The cocoon shakes violently in response.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApproachStructure_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2200" name="Quest_MQ002_ApothusRealm_ApproachStructure_2_2" tags="" position="1225,27475" size="100,100">A muffled moan resounds from within its black surface.

It is mighty, bestial, gigantic, bigger than any beast you&#39;ve encountered before.
The cocoon pulses with power as it drains more of the Lost&#39;s essence; the moan grows more piercing.
The black cocoon slowly expands, gaining more mass and spreading along more surface for Nyx&#39;s light to bless.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApproachStructure_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2201" name="Quest_MQ002_ApothusRealm_ApproachStructure_2_1" tags="" position="100,27600" size="100,100">A monstrous howl emanates from within the orb; it suddenly expands in all directions.
Shots of thick white seed shoot to its surface from whatever lies inside—the surrounding Lost all roar and cum in unison.

&quot;Wonderful, isn&#39;t it?&quot; Purrs an otherworldly voice. Its warmth is charming, but you know better than to let it draw you in.

\&lt;&lt;run setup.choice(&quot;[[Turn towards the voice-&gt;Quest_MQ002_ApothusRealm_ApproachStructure_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2202" name="Quest_MQ002_ApothusRealm_ApproachStructure_3" tags="" position="225,27600" size="100,100">\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
You look down, a tiny being seems to ask for your attention.
\&lt;&lt;else&gt;&gt;
You turn to face whoever is addressing you.
\&lt;&lt;/if&gt;&gt;

They seem to be a &lt;&lt;print setup.getLength(12 * 12)&gt;&gt; tall man wearing tattered rags that barely covers his waist. On his left pectoral is a glowing deep purple tattoo of a swirling vortex.

There is an alluring sweetness to his voice, yet the musky smell of corruption clings to him. He gazes at you with a lusty, hungry grin.

\&lt;&lt;if setup.MQ002_HasBrokenSeal()&gt;&gt;
&quot;So... you&#39;ve managed to free us from our little prison. That fool finally got what he deserved too.&quot;
\&lt;&lt;else&gt;&gt;
&quot;So... you entered our prison but kept the seal up? You&#39;re an interesting one.&quot; He laughs inauspiciously.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApproachStructure_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2203" name="Quest_MQ002_ApothusRealm_ApproachStructure_4" tags="" position="350,27600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;normal&quot;)&gt;&gt;

He sounds weirdly delighted- as though he is in complete control. The influence of corruption is evidently gnawing at him.

His breathing grows heavy, his eyes glow with an intense purple hue, loincloth stretching to contain his throbbing cock.
Yet he is schockingly clear-minded as though he has learned to live with his constant arousal.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApproachStructure_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2204" name="Quest_MQ002_ApothusRealm_ApproachStructure_5" tags="" position="475,27600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;normal&quot;)&gt;&gt;

&quot;I&#39;ve forgotten how long we have been sealed here, but no matter. There is no reason for us to go back to the Barrens now; the warm embrace of Nyx and the growth of our chosen one are all we need.&quot;

He grins at you, unsure if he either should give in or resist the urge to have his way with you.

&quot;You may call me Apothus.&quot;
&lt;&lt;include Quest_MQ002_ApothusRealm_ApothusMenu&gt;&gt;</tw-passagedata><tw-passagedata pid="2205" name="Quest_MQ002_ApothusRealm_ApothusMenu" tags="" position="600,27600" size="100,100">\&lt;&lt;if $CharacterSheet_Player.quest.apothusRealmFirstTime&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.apothusRealmFirstTime = false&gt;&gt;
\&lt;&lt;else&gt;&gt;
The Lost&#39;s corrupted cum flows along the ruins floor and walls. Their taint seeps through the stone ruins, warps it into a deep black.
Your &lt;&lt;LimbDesc &#39;cocks&#39; &#39;throbs~throb&#39;&gt;&gt; harder with every breath you take.

The blackness crawls on the stone&#39;s surface, inches onward around the ruins&#39; center, like an all-consuming vortex.

    \&lt;&lt;if $WorldState.apothusTransformed&gt;&gt;
Apothus stands at the center of the platform, roaring in pleasure, fucking his army of lust-driven worshippers.
    \&lt;&lt;else&gt;&gt;
At the center lies a massive egg-shaped cocoon, as dark as the void surrounding you, scale utterly breathtaking.
A profound aura of purple emanates from it, swirls around the monument, sucking the dark light into itself.
Countless Lost are at its base. Their muscular forms writhe and moan in raw sexual intensity as they eternally engage in forbidden debauchery.
    \&lt;&lt;/if&gt;&gt;
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if $WorldState.apothusTransformed&gt;&gt;
[[Challenge Apothus-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Apothus_2nd_Form]]
\&lt;&lt;else&gt;&gt;
[[Ask about him-&gt;Quest_MQ002_ApothusRealm_AskAboutHim]]
[[Ask about the Lost-&gt;Quest_MQ002_ApothusRealm_AskAboutTheLosts]]
[[Say you&#39;re here to save Cray-&gt;Quest_MQ002_ApothusRealm_HereToSaveCray]]
    \&lt;&lt;if $CharacterSheet_Player.quest.apothusRealmStatus == setup.ApothusRealmStatus.IDLE&gt;&gt;

[[Attempt to bring his cult down-&gt;Quest_MQ002_ApothusRealm_HereToKillThem]]
[[Usurp Apothus&#39;s cult-&gt;Quest_MQ002_ApothusRealm_ChallengeApothus]]
    \&lt;&lt;else&gt;&gt;

[[Feed the Chosen-&gt;Quest_MQ002_ApothusRealm_Feed_The_Chosen]]
    \&lt;&lt;/if&gt;&gt;

    \&lt;&lt;if $CharacterSheet_Player.quest.apothusRealmStatus != setup.ApothusRealmStatus.JOINED&gt;&gt;
[[Join him to unleash Nyx-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx]]
    \&lt;&lt;/if&gt;&gt;

\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Quest_MQ002_ApothusRealm_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2206" name="Quest_MQ002_ApothusRealm_AskAboutHim" tags="" position="725,27600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;normal&quot;)&gt;&gt;
A disarming smile clads his face.

&quot;I&#39;m glad to see you&#39;re not here to attack us blindly.&quot; He comes closer, his cock dripping with thick black corruption under his robes.

&quot;I stumbled upon this realm ages ago by wandering the barrens, I was a salvager like yourself, you know?&quot;

Corruption flows overtly through his black scleras.
\&lt;&lt;if !setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;
They made his attempt at being relatable completely hollow.
\&lt;&lt;/if&gt;&gt;

He sighed. &quot;This is such a long time ago it doesn&#39;t feel like I&#39;m talking about myself anymore...&quot; His eyes drifted to stare directly at the Black Sun.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_AskAboutHim_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2207" name="Quest_MQ002_ApothusRealm_AskAboutHim_2" tags="" position="850,27600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;mischievious&quot;)&gt;&gt;

&quot;Its warm light embraced me like I was its son. It whispered answers to my pleas and granted me the strength to face my foes,&quot; he keeps staring at it, his whole body shaking with arousal.

&quot;But we deserve better; we deserve to live free of fear, to be united under a common ideal,&quot; he lifts both of his arms wide like he was taking the sun into a warm embrace.

&quot;For the sun only gives... no one can deny it. I know you feel it too. The burning vigour that is growing within your loins.&quot;
\&lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;

He looks at you, feels the rapid beating of your heart and the throbbing of your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; cock.
\&lt;&lt;/if&gt;&gt;

&quot;So, why is it that you came all the way here, Salvager? Have you come to help us bring Nyx&#39;s blessing to the world?&quot;

\&lt;&lt;set $CharacterSheet_Apothus.quest.askedAboutHim = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2208" name="Quest_MQ002_ApothusRealm_AskAboutTheLosts" tags="" position="975,27600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;normal&quot;)&gt;&gt;

&quot;People fear corruption, and yet here we are all working together to create something bigger than ourselves.
Something that fulfills us, that ultimately makes us happy to be alive.&quot;

He turns to look at the neverending orgy, his lips curling into a warm smile.

&quot;People call them the Lost, but I just don&#39;t see it...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2209" name="Quest_MQ002_ApothusRealm_HereToSaveCray" tags="" position="1100,27600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;mischievious&quot;)&gt;&gt;
The dragonborn laughs, exposing his razor-sharp canines.

&quot;Oh yes... I knew somebody would come for him at some point. It has taken longer than I expected,&quot; his purple eyes gaze directly within yours like he is reading an open book.

&quot;Your friend is here... But there is no way to reach him for now,&quot; he turns to look at the ever-growing cocoon.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToSaveCray_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2210" name="Quest_MQ002_ApothusRealm_HereToSaveCray_2" tags="" position="1225,27600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;normal&quot;)&gt;&gt;

&quot;He&#39;s evolving. We all see him in our dreams, growing and growing until he reaches Nyx itself. Only he who can make direct contact with the Black Sun is worthy of its power,&quot; Apothus keeps looking at the cocoon, completely mesmerized.

&quot;He is the one, the god we need to guide us, to stop us from succumbing to madness,&quot; he turns to you suddenly.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2211" name="Quest_MQ002_ApothusRealm_HereToKillThem" tags="" position="100,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;mischievious&quot;)&gt;&gt;

He chuckles madly.

&quot;And then what? We&#39;ll just keep coming back, cycle after cycle after cycle. Nyx is eternal, and so is our dedication to it.&quot; A thick purple mist suddenly gathers around his hands.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToKillThem_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2212" name="Quest_MQ002_ApothusRealm_HereToKillThem_2" tags="" position="225,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;grumpy&quot;)&gt;&gt;

&quot;Even if I die, my spell to keep this realm afloat will prevail. It lives through my will, deep within my immortal soul.&quot;

His black eyes give you a piercing look.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToKillThem_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2213" name="Quest_MQ002_ApothusRealm_HereToKillThem_3" tags="" position="350,27725" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.apothusRealmStatus = setup.ApothusRealmStatus.FIGHTGOOD&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;angry&quot;)&gt;&gt;

&quot;You can try, just like your friend did, but you&#39;ll eventually fall to corruption...&quot;

He walked towards you, his hands pulsating with dark magic.

&quot;Time is on our side.&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Apothus]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2214" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx" tags="" position="475,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;licky&quot;)&gt;&gt;
The feeling of Nyx flowing through your skin is undeniable; it is more than arousing. It is glorious; You feel like you could fuck for days without stopping.
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0&gt;&gt;
You love the spawns writhing within you as well.
\&lt;&lt;/if&gt;&gt;

You approach the corrupted dragonborn; your hand clasps your throbbing cock. You could cum at any moment.

\&lt;&lt;run setup.choice(&quot;[[Kiss him-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2215" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_1" tags="" position="600,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
Purple magic clads his hands as he hovers towards your head.

\&lt;&lt;/if&gt;&gt;

You don&#39;t need to say another word. The two of you kiss, with countless Lost looking at you with envy.
Your tongues wrestle for dominance.

His saliva is more corrupted than anything you&#39;ve encountered.
The smell is acidic; you feel your tongue numbing as his poison flows inside you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_1_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2216" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_1_2" tags="" position="725,27725" size="100,100">\&lt;&lt;set $CharacterSheet_Apothus.quest.arousalProgress = setup.Apothus_Arousal.REVEALING&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;mischievious&quot;)&gt;&gt;

You growl as your hand goes down to his loincloth. It comes off in one pull.

He giggles sinisterly.
His hands cupping your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt; balls before turning around.

He presents his ass teasingly, eagerly waiting to be filled by your monster.

&quot;Take me... Oh god, I need your cock inside me...&quot;

\&lt;&lt;run setup.choice(&quot;[[Fuck Him-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2217" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_2" tags="" position="850,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;licky&quot;)&gt;&gt;
You grasp the back of his shoulders and push him down. He moans and laughs in response.

&quot;Cmon, take me, big guy... Show those Lost how a real monster does it,&quot; he says as his hands glow with a dark purple aura.

You push yourself in, once inch at a time.
Apothus screams lovingly as the first 6 inches of your monstrous tool fills him.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2218" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_2_1" tags="" position="975,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;mischievious&quot;)&gt;&gt;
His hands fill with an otherworldly magic, like Nyx itself is seeping its power directly onto him.
His insides stretch and push tightly around your cock.

You howl in pleasure; some Lost immediately rush to answer the call.
Their oily tongues worship your pecs and arms.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_2_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2219" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_2_2" tags="" position="1100,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;licky&quot;)&gt;&gt;
You feel their corruption seep into your skin. Your nipples thicken as some Lost suck them eagerly.

&quot;Join us $CharacterSheet_Player.info.name, let Nyx guide you for it is our only salvation in this cursed world. Our only way to experience the pleasures of corruption without losing our minds.&quot;

\&lt;&lt;run setup.choice(&quot;[[Fuck Him Harder-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2220" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_3" tags="" position="1225,27725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;licky&quot;)&gt;&gt;
His speech is cut short as you thrust the rest of your cock into him.
&quot;Ahhhhh... By the gods... Yessss...&quot; He moans as countless Lost rush to him as well.

A swarm of aroused musclebound beasts worship you.
Multiple tongues fight for the space to enter your asshole.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2221" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_3_1" tags="" position="100,27850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;licky&quot;)&gt;&gt;

Countless others worship every inch of your muscles and take turns to kiss you with the passion of newfound love.

Apothus lifts his hand to you; it now glows brighter than a flame. A bleeding wound sits on his open palm.

&quot;Mrrrffff... Ahhhh... Let us unleash The Black Sun upon the world!&quot;

\&lt;&lt;run setup.choice(&quot;[[Seal the Oath of Nyx-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2222" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_4" tags="" position="225,27850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;mischievious&quot;)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Apothus.quest.arousalProgress = setup.Apothus_Arousal.NAKED&gt;&gt;
You bite your hand, pressing it against his, sealing the promise.

A swirl of purple magic surrounds you both. Lost roar in arousal and cum at being inched away from the immense power of Nyx.
Dark magic coils around you both, it swirls into whirlpools that target your respective chests.

Apothus is affected first, vortex shaped tattoo absorbing the dark energy.
His voice cracks and strains under his own moans.

It builds upon the design, making it bigger and more detailed; it reaches up to his shoulder. You feel it touch you next. It imprints itself on your skin; you cum on the spot.
Every pore of your skin opens up, giving more room for Nyx&#39;s light to enter you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_4_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2223" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_4_2" tags="" position="350,27850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;mischievious&quot;)&gt;&gt;

Your &lt;&lt;LimbDesc &#39;cocks&#39; &#39;shoots~shoot&#39;&gt;&gt; gallons upon gallons of cum, the pleasure is all-consuming.
Every lick of the Lost, every inch of your  &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; entering Apothus becomes pleasurable enough to unleash additional orgasms on their own.

You feel magic push deeper into your flesh, spinning and spreading along your chest.
The Lost roar at the arrival of the new member of their cult, shots of corrupted cum starts covering everything in sight.

You roar as the Oath completes into a tattoo of a purple vortex covering your left pectoral.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_HereToUnleashNyx_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2224" name="Quest_MQ002_ApothusRealm_HereToUnleashNyx_5" tags="" position="475,27850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;normal&quot;)&gt;&gt;

The Lost collapse around you, exhausted by your initiation.

Apothus helps you to your feet.

&quot;With your help, I feel like we can have our chosen one reach Nyx in no time...&quot;
\&lt;&lt;set $CharacterSheet_Player.quest.apothusRealmStatus = setup.ApothusRealmStatus.JOINED&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.Oath_Nyx);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2225" name="Quest_MQ002_ApothusRealm_ChallengeApothus" tags="" position="600,27850" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.apothusRealmStatus = setup.ApothusRealmStatus.FIGHTEVIL&gt;&gt;
You feel Nyx&#39;s call; it is more intimate than a lover&#39;s whisper.

His Lost should be yours. Their corruption pulsates through your heart. They all look at you as their true master already.

You look at Cray in his growing cocoon. This impostor should never be in between you two.

You look at him, a black fire burning in your eyes. For once in countless days, the moans of the Lost grow silent.
They stare as you approach Apothus.

He immediately senses your intention.

A thick purple mist suddenly gathers around his hands.

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Apothus]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2226" name="Quest_MQ002_ApothusRealm_Feed_The_Chosen" tags="" position="725,27850" size="100,100">The Lost move aside as you approach the &lt;&lt;print setup.getNyxChosenCocoonSize()&gt;&gt; black cocoon. \
They shake with anticipation, drooling at the power within your flesh. Part of them yearns to take you, to overwhelm you in their Corruption, but the call of Nyx is too strong.

Your &lt;&lt;LimbDesc &#39;hands&#39; &#39;presses~press&#39;&gt;&gt; on the base; it pulses with the Essence of countless beings. The chosen&#39;s presence is undeniable. \
His mountainous muscles shudder within the cocoon&#39;s surface. He needs more; Only once he reaches the Black Sun above will he feel satisfied.

You dream of seeing him over the barrens; your old mentor now turned into a god; the whole world would bow in worship.

\&lt;&lt;if $WorldState.apothusChosen.essenceLevel == 0&gt;&gt;
    \&lt;&lt;if $Essence &gt;= setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)&gt;&gt;
&lt;&lt;print &quot;[[Feed him Essence (&quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;)-&gt;Feed_The_Chosen_Level1][$Essence -= &quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;]]&quot;&gt;&gt;
    \&lt;&lt;else&gt;&gt;
&lt;&lt;print &quot;&lt;span class = &#39;inactive&#39;&gt;[[Feed him Essence (&quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;)-&gt;Feed_The_Chosen_Level1]]&lt;/span&gt;&quot;&gt;&gt;
    \&lt;&lt;/if&gt;&gt;
\&lt;&lt;elseif $WorldState.apothusChosen.essenceLevel == 1&gt;&gt;
    \&lt;&lt;if $Essence &gt;= setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)&gt;&gt;
&lt;&lt;print &quot;[[Feed him More... (&quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;)-&gt;Feed_The_Chosen_Level2][$Essence -= &quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;]]&quot;&gt;&gt;
    \&lt;&lt;else&gt;&gt;
&lt;&lt;print &quot;&lt;span class = &#39;inactive&#39;&gt;[[Feed him More... (&quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;)-&gt;Feed_The_Chosen_Level2]]&lt;/span&gt;&quot;&gt;&gt;
    \&lt;&lt;/if&gt;&gt;
\&lt;&lt;elseif $WorldState.apothusChosen.essenceLevel == 2&gt;&gt;
    \&lt;&lt;if $Essence &gt;= setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)&gt;&gt;
&lt;&lt;print &quot;[[Complete the chosen&#39;s ascension (&quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;)-&gt;Feed_The_Chosen_Final][$Essence -= &quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;]]&quot;&gt;&gt;
    \&lt;&lt;else&gt;&gt;
&lt;&lt;print &quot;&lt;span class = &#39;inactive&#39;&gt;[[Complete the chosen&#39;s ascension (&quot;+setup.getNyxChosenFeedEssenceCost($CharacterSheet_Player)+&quot;)-&gt;Feed_The_Chosen_Final]]&lt;/span&gt;&quot;&gt;&gt;
    \&lt;&lt;/if&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2227" name="Feed_The_Chosen_Level1" tags="" position="850,27850" size="100,100">Essence flows from your &lt;&lt;LimbDesc &#39;arms&#39;&gt;&gt; and into the cocoon. \

The whole platform suddenly rumbles. The Lost surrounding you moan as you strengthen their god.
Anticipation fills you all, a sense that the world will forever change after the cocoon finally hatches.

It accepts your gift; Thick root-like tendrils emerge from the power rising from your hands. They writhe across the cracking soil, growing bigger than the Losts surrounding them.

A monstrous, lustful roar pushes through the confines of the cocoon. The Lost moan in response; their god is growing closer to the Black Sun.
\&lt;&lt;set $WorldState.apothusChosen.essenceLevel = 1&gt;&gt;

His prison grows up to &lt;&lt;print setup.getNyxChosenCocoonSize()&gt;&gt;.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2228" name="Feed_The_Chosen_Level2" tags="" position="975,27850" size="100,100">The black fleshy cocoon grows upwards, directly towards the light of Nyx. You step back as it pulses and expands to contain the Chosen&#39;s growing muscles and cock. \
His body is unbelievably massive, the epitome of power and virility. He flexes uncontrollably within the cocoon, sending ripples across its growing surface.

The Losts look at you in complete awe as you step towards the chosen one. They kneel, letting you walk freely towards the cocoon. \
Your  &lt;&lt;LimbDesc &#39;hands&#39; &#39;presses~press&#39;&gt;&gt; upon its surface once more, it pulls you in, drinking your Essence like dry soil. \
You feel Nyx&#39;s will through your own, to carve a vessel so it can walk the Barrens.

To have all eyes pulled onto its light.
\&lt;&lt;set $WorldState.apothusChosen.essenceLevel = 2&gt;&gt;

The Lost all roar and cum in unison at the sight of their god towering over the ruins.

The platform is barely holding on to the mountainous black cocoon. At &lt;&lt;print setup.getNyxChosenCocoonSize()&gt;&gt;, Nyx is almost within its reach.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ApothusMenu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2229" name="Feed_The_Chosen_Final" tags="" position="1100,27850" size="100,100">\&lt;&lt;set $WorldState.apothusChosen.essenceLevel = 3&gt;&gt;
Apothus looks at you with a smile of pure, utter bliss. One that only displays a fraction of the euphoria he feels at seeing a new god&#39;s birth.

His hands glow with a golden hue; the whole ruins shake in response.

You feed the cocoon with more Essence, enough to grow anyone into a titan of unbelievable strength.

Yes... To worship Nyx is to free the world of doubts and fear!

All shall bathe in its light!

Free from the fear of being broken by cursed beasts! All shall be perfect, blessed by the all-consuming embrace of a new god!

Apothus grins, his eyes shine with the unholy glow of Nyx&#39;s light. He joins your effort, his hand pressing on the base of the cocoon.

The surrounding Lost soon follow, giving away their Essence to their god. A muffled roar shakes the whole platform. The silhouette within bursts with sudden growth, stretching the cocoon as if an explosion triggered within.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2230" name="Feed_The_Chosen_Final_2" tags="" position="1225,27850" size="100,100">You gaze at the black sun, marvel at how the cocoon grows closer and closer to its surface. \
Its light deviates, condenses towards the monster below. The Chosen roars, piercing your soul with instincts of bestial lust. The half-formed god unleashes his first word.

&quot;More...&quot;

His voice slithers under your skin, filling you with new forbidden power.

The ground under your feet pulses to the god&#39;s heartbeat. His monstrous cock hardens, pushing against his chrysalis until it suddenly breaks free. \
The Black Sun flows into its new host. It shrinks until it becomes smaller than the platform you&#39;re standing on.

&quot;Moooooorrreeee&quot;

Like an order to the world around him, his word seeps into all it can reach.

The Lost roar, every one of them instantly brought to the edge of a mind-shattering orgasm. Their corrupted seed spews out until the whole platform is damp with a layer of thick cum. \
The Chosen&#39;s power reaches you as well, making your teeth clench. Your body shakes with an unholy need for more; more size, more pleasure, more power—a need to overcome any opposition, even the limits of mortality itself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2231" name="Feed_The_Chosen_Final_3" tags="" position="100,27975" size="100,100">Claws pierce out of the cocoon like a knife through butter; each of them glows with a powerful dark gleam as if the black sun courses behind their glass-like edge. \
Seeing them is mesmerizing; it&#39;s as if they pulsed with power, spreading the infectious light on all that dared gazed upon them. One look is enough to bring you to the edge.

You cum and roar as reality bends under the Chosen&#39;s light.

\&lt;&lt;run setup.choice(&quot;[[Absorb Nyx&#39;s Light-&gt;Feed_The_Chosen_Final_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2232" name="Feed_The_Chosen_Final_4" tags="" position="225,27975" size="100,100">\&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 35)&gt;&gt;\

Your body bursts with size and power, making you join the chorus of pleasure.

The cocoon crumbles.

The old body of the werewolf that protected the Golden Bastion is a shallow memory of the being he has become. His black glow of corruption pulses between each strands of his fur; massive veins cover his gigantic form. \
He pants, struggling to control the all-consuming power of the Black Sun. His glowing purple eyes gaze at his knotted cock. Every throb pushes it higher along his booming pecs. \
&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;height&quot;, 16896) &gt;= setup.Size.Comparators.BIGGER&gt;&gt;\
He grasps it with his paw and looks up to you.
&lt;&lt;else&gt;&gt;\
He grasps it with his paw and looks down on you.
&lt;&lt;/if&gt;&gt;\

&quot;MORE!&quot;

His whole form suddenly bursts in a bright purple light, one that seeps into your being.
Instantly, your muscles explode with impossible strength, more and more mass piles up on your frame.

The Lost scream and cum once more, rushing in to worship every inch of their god.

Apothus looks on, utterly consumed by adoration, yet his duty forces him back to reality, if only for an instant. \
His hands glow with the power of a ritual he prepared for this very moment, his final task as the prophet of Nyx.

A blinding teal light bursts out of him, one that engulfs even the newborn god.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2233" name="Feed_The_Chosen_Final_5" tags="" position="350,27975" size="100,100">The barrens form all around you as if the realm you were standing in was merely an illusion.

This feeling quickly dissipates as the roars of the Chosen sweep across the endless sands. The beast is right next to you, unleashed onto the world. \
He keeps growing, his form quickly towering over the horizon as countless Lost throw themselves at him.

Yet as his form rises over the dunes, you feel the tone of his monstrous voice change. It lowers, going from dominant roars to defiant gurgles.

It feels wrong...

His hands clasp his head as bright purple light pulses under his skin. He seems on the verge of madness like his body and mind are raging in an all out war. \
Yet the Lost are none the wiser. They worship every inch of him as if their life depends on it.

&quot;No... How could he go against Nyx&#39;s will?&quot; Apothus groans as he nervously approaches his chosen.

Suddenly, his eyes widden; before he has any chance to react, the Chosen&#39;s massive paw crashes into him. You look on as the prophet is launched hundreds of feet away.

There is chaos rising within his very being, clashing ambitions fighting for dominance. Massive clawed paws cut across the dune as he lashes out in increasing madness.

\&lt;&lt;run setup.choice(&quot;[[Try to help the Chosen-&gt;Feed_The_Chosen_Final_HelpHim]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2234" name="Feed_The_Chosen_Final_HelpHim" tags="" position="475,27975" size="100,100">There are voices within the Chosen that are clashing like two beasts fighting for survival.

You feel something deep within your core, something you&#39;ve experienced in the past already.

A feeling that you can align the chaos raging within him.

\&lt;&lt;run setup.choice(&quot;[[Get closer-&gt;Feed_The_Chosen_Final_HelpHim_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2235" name="Feed_The_Chosen_Final_HelpHim_2" tags="" position="600,27975" size="100,100">You step towards the Chosen.

His roars become increasingly vicious and conflicted; madness creeps onto him. The sheer power of his voice unleashes sandstorms around him, approaching him is becoming increasing difficult.

Yet as you get closer, the purpose of his roars seems more apparent. It sounds like he is yearning for more, that his need for greatness drove him to this point.

Suddenly, his tone changes. His deep screams warp into something different, a howl to call upon his brethren.

&quot;Spread... We must spread!&quot;

It feels like an answer to a cosmic plight, a promise to bring all to the path of eternal pleasure.

\&lt;&lt;run setup.choice(&quot;[[Reach out to him-&gt;Feed_The_Chosen_Final_HelpHim_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2236" name="Feed_The_Chosen_Final_HelpHim_3" tags="" position="725,27975" size="100,100">His roars suddenly stop. A heavy silence falls on the Barrens, one that speaks louder than the monstrous bellows from before.

You feel his passion, the same that you&#39;ve seen even when people knew him as Cray, the Salvager. Your shared need for power pulls you ever closer as if you are the only speakers of a wordless language.\
This yearning for more is what brought you both here in the first place. Your loins throb eagerly as an unspoken link builds between your souls, a shared hunger that all shall bow down to.

Thick &lt;&lt;SymbioteColor&gt;&gt; goo spreads to cover you both, pulls you closer than you ever could be.

Instantly, your arms bulge as Nyx itself flows within you. You shiver with lust, your eyes suddenly burst with a bright purple light. \
A beast lives within its core and crawls towards your soul. You feel the all-consuming urge to change reality itself into something else, to spread this dark light on every corner of this world.

Nyx clutches onto your soul as Cray pulls you into a deep kiss.

&lt;&lt;if setup.Size.compare($CharacterSheet_Player, &quot;height&quot;, 16896) &gt;= setup.Comparators.BIGGER&gt;&gt;\
Even the Black Sun struggles to cover you completely. Your &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt; body pulses with power as it desperately tries to reach every inch of your being.
&lt;&lt;else&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, 1495)&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, 528)&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, 16896)&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, 250)&gt;&gt;\
Your body instantly shoots upwards, growing and growing as the non-stop rush of power fills your being.

&quot;Grow..! GROW-!&quot; Cray roars as he pulls you ever closer.

You groan, booming with impossible strength as your cock instantly unloads ever-growing shots of thick seed upon the infected soil below.
&lt;&lt;/if&gt;&gt;\

&lt;&lt;SymbioteName&gt;&gt; resonates with the chaos raging within you both, but through your journey, a clear ambition forms.

\&lt;&lt;run setup.choice(&quot;[[Align with Cray and keep growing-&gt;Feed_The_Chosen_Final_OnlyGrowPath]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2237" name="Feed_The_Chosen_Final_OnlyGrowPath" tags="" position="850,27975" size="100,100">You both explode with size and power as &lt;&lt;SymbioteName&gt;&gt; spreads to him, making him feel the growth you have experienced during your journey here.

It speaks to Cray more than the strength of the black sun itself.

His lips lock with yours, and for the first time you feel like Cray is at peace, like he has finally found what he was seeking.

You are being pulled to him as he is to you.

\&lt;&lt;run setup.choice(&quot;[[Merge with Cray-&gt;Feed_The_Chosen_Final_OnlyGrowPath_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2238" name="Feed_The_Chosen_Final_OnlyGrowPath_2" tags="" position="975,27975" size="100,100">The Lost look on in adoration as your forms gradually merge into one.  &lt;&lt;LimbDesc &#39;arms&#39; &#39;lifts~lift&#39;&gt;&gt; up towards the sky in expectation. Your feet curl upon the warm sand, carving new dunes onto it with your sole. \
Finally, your mouth with a roar, one that shakes the foundation of the world itself. You emerge from the &lt;&lt;SymbioteColor&gt;&gt; goo. All bow to you in response.

You are more than you used to be, in every way possible. The world has no choice but to bend to your presence as permanent landmarks form under each of your steps. \
Such is the presence of a &lt;&lt;SymbioteRace&gt;&gt; who is now bigger than all that breathes.

Yet the need is still there; your  &lt;&lt;LimbDesc &#39;cocks&#39; &#39;throbs~throb&#39;&gt;&gt; eagerly with every beat of your heart.

You need more...

More so that you can become the epitome of strength.

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2239" name="Feed_The_Chosen_Final_OnlyGrowPath_3" tags="" position="1100,27975" size="100,100">&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;\
Cray&#39;s soul burns with impossible fervour along with yours.

Your wills are one, to become the one who cannot be denied.

Even Nyx has no choice but to bow to your will.

&quot;GRAAHHHHHH!&quot; Your voice booms, making the world shake in both terror and fascination. A cacophony of moans rises from the Lost.

You lick your lips, feeling them worshipping every inch of your god-like body. Their passion seeps within you, tingles with raw, unadulterated pleasure.

Your body expands as you revel in their worship; you soon grow to become a &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt; tall titan.

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2240" name="Feed_The_Chosen_Final_OnlyGrowPath_4" tags="" position="1225,27975" size="100,100">&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;\
A monstrous grin curls upon your face for countless tiny beings fall to their knees. One look upon you is enough to make most shiver. \
The rest are brought to the edge, overwhelmed by the sheer masculinity and power you exude. \

You change with every heartbeat, growing with every worship.

&quot;Hhhh... Hhhhrrrfff...&quot; Words can&#39;t pass through the pulsing pleasure of power filling your body. You flex for your people, making countless people cum at your display of strength. \
Soon your cock rises up to your pecs with unbridled need. Your hand grasps it and jerks it eagerly as you grow taller than any structure of this world.

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2241" name="Feed_The_Chosen_Final_OnlyGrowPath_5" tags="" position="100,28100" size="100,100">&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;\
The Lost, demons, beasts; none of them can get even close to matching your power, for you are a god, a force without equal and yet you need more.

A grin rises from you as you reach the tallest mountain you can see in only a few steps. All eyes lay on you, both in anticipation and fear. The world is unsure of your intention; no one can look away.

Your claws pierce the base of the mountain, and with a god-like roar, you start lifting it.

People&#39;s admiration, envy and lust rush within you. They already know that you are their god, but you show them nonetheless.

&quot;GRAHHHHHHH!&quot;

The base of the mountain shatters, and with a victorious roar, you lift it over your &lt;&lt;LimbDesc &#39;heads&#39;&gt;&gt;.

You are the strongest being of this world, there is no question about it, but the urge remains.

You need more...

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2242" name="Feed_The_Chosen_Final_OnlyGrowPath_6" tags="" position="225,28100" size="100,100">&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;\
One look below is enough to confirm that which you have wished for is now a reality. You are massive, more significant than all that came before you. \
With one strike of your fist, you could smite any foe, anyone that would dare stand in your way.

But to grow is its own reward; all must know you&#39;re the strongest so that nothing can even come close to challenge you.

Your body shakes once more in a miasma of pleasure and strength as mass piles up upon you once more.

&quot;GRURHHHHHH!&quot;

Your  &lt;&lt;LimbDesc &#39;cocks&#39; &#39;throbs~throb&#39;&gt;&gt; with hunger; the need to fuck grows maddening. Out of instincts, you drop the mountain you&#39;re holding and thrust into it. \
Your flesh is stronger than stone; the mountain can only crack and bend under your might.

&quot;FUUUCK!&quot;

With a monstrous roar, you pull your  &lt;&lt;LimbDesc &#39;heads&#39;&gt;&gt; back as wave upon waves of growth rushes over you.

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2243" name="Feed_The_Chosen_Final_OnlyGrowPath_7" tags="" position="350,28100" size="100,100">&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;\
Cum churns from your balls with boiling eagerness to fill the mountain&#39;s newly created cave.

&quot;GRAAHHHHHHHHH!&quot;

Shots upon shots of &lt;&lt;SymbioteColor&gt;&gt; seed bursts out of you with no signs of stopping. It floods the mountain, completely overwhelming it like a leaking dam. \
You scream as an explosion of growth rushes through you; your orgasm keeps going.

Your pecs engorge outward as you cum over and over.

&quot;FUCK... F-FUCK!!!&quot;

The sound of your deep moans travels across the world as your &lt;&lt;LimbDesc &#39;cocks&#39; &#39;doubles~double&#39;&gt;&gt; in size, \
completely obliterating the mountain and covering the world with your now impossibly massive  &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;.

You grow so much that you end up losing sight of your followers. Yet, their presence is undeniable. Their worship fuels your ascension; no one can deny the reality of the god growing over them.

You laugh in an outburst of pleasure and madness; you need more, always more!

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2244" name="Feed_The_Chosen_Final_OnlyGrowPath_8" tags="" position="475,28100" size="100,100">&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;cock&quot;, setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;balls&quot;, setup.getStatValue($CharacterSheet_Player, &quot;balls&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;height&quot;, setup.getStatValue($CharacterSheet_Player, &quot;height&quot;))&gt;&gt;\
&lt;&lt;run setup.applyGrowth($CharacterSheet_Player, &quot;muscles&quot;, setup.getStatValue($CharacterSheet_Player, &quot;muscles&quot;))&gt;&gt;\
Your thighs bulge into massive teardrops shaped muscles, eating away all space around your  &lt;&lt;LimbDesc &#39;legs&#39;&gt;&gt;.
Your upper body consumes your view. You cup and squeeze your &lt;&lt;LimbDesc &#39;pecs&#39;&gt;&gt;, revelling at the fact that it is now impossible for you to see what lies under them.

Soon, all are forced to witness your ascension as mountains become smaller than your toes.

You pant, eagerly jerking your nearly planet-sized  &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt;, feeling a monstrous wave of arousal coursing through you.

This is it...

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2245" name="Feed_The_Chosen_Final_OnlyGrowPath_9" tags="" position="600,28100" size="100,100">There&#39;s no going back now; you look down upon the world, not even able to see the people worshiping you. Not that you would want it any other way.

The growth, the power, the pleasure, it all feels so good.

This is all that matters.

You feel cum rush through your  &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; and roar in victory as the void of space fills with your presence. Orgasm courses through you once more; another cataclysmic surge of growth fuels your ascension.

&quot;MOOOOOOOORE!&quot;

Your body bulges out in the void of space; nothing can stop the growth of a god.

\&lt;&lt;run setup.choice(&quot;[[Grow-&gt;Feed_The_Chosen_Final_OnlyGrowPath_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2246" name="Feed_The_Chosen_Final_OnlyGrowPath_10" tags="" position="725,28100" size="100,100">The sweet song of pleasure fills every available space in your mind; you give yourself away to its embrace.

You do not know where you are, not sure where you&#39;re going.

Yet once your &lt;&lt;LimbDesc &#39;cocks&#39; &#39;springs~spring&#39;&gt;&gt; back to life; growth rushes over you once more.

With a world-shattering roar, pleasure takes over all thoughts you could have had.

\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfCray&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[The End-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2247" name="Quest_MQ002" tags="" position="850,28100" size="100,100">&lt;&lt;set $Quest_MQ002 = 
{
    id:&quot;MQ002&quot;,
    description: &quot;While exploring, I found a strange chasm. It reeks of Corruption.&quot;,
    villagePassage: &#39;[[Go to the chasm-&gt;Quest_MQ002_Entrance]]&#39;,
    onComplete: function()
    {
    }
}&gt;&gt;</tw-passagedata><tw-passagedata pid="2248" name="Quest_MQ002_Entrance_FirstTime" tags="" position="975,28100" size="100,100">The desert stretches out before you, an endless sea of sand and rock.
As always, the horizon is a blurry line, where sand and sky seem to merge together, except something in the distance catches your attention.

In a certain corner of the endless horizon, where dunes would normaly rise, there seems to be nothing instead.
It&#39;s not that there is nothing in the horizon, but that there is a total absence of anything.

\&lt;&lt;run setup.choice(&quot;[[Investigate further-&gt;Quest_MQ002_Entrance_FirstTime_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2249" name="Quest_MQ002_Entrance_FirstTime_2" tags="" position="1100,28100" size="100,100">You walk for what feels like hours, and the strangeness of what you saw becomes more and more apparent.

No sand, no rocks, no plants, no animals, not even the wind.

It&#39;s as if the very fabric of reality has been ripped away, leaving only an empty void in its place.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_FirstTime_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2250" name="Quest_MQ002_Entrance_FirstTime_3" tags="" position="1225,28100" size="100,100">\&lt;&lt;run $Quest_InProgress.push($Quest_MQ002)&gt;&gt;
In the distance, you see the jagged outline of a chasm, a deep cut in the earth that seems to go on forever.
A strange ominous purple glow seems to be coming down from it, and you cannot see where it possible ends.

&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/chasm.jpg&quot;, undefined, undefined, true)&gt;&gt;

You keep a note of its location for future expeditions.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;

&lt;&lt;script&gt;&gt;
var i;

for(i = 0; i &lt; State.variables.Explore_Destinations.length; i++)
{
    if(State.variables.Explore_Destinations[i] == setup.ExplorationData.findChasm.id)
    {
        State.variables.Explore_Destinations.splice(i, 1);
        break;
    }
}
&lt;&lt;/script&gt;&gt;</tw-passagedata><tw-passagedata pid="2251" name="Quest_MQ002_Entrance" tags="" position="100,28225" size="100,100">In the distance, you see the jagged outline of a chasm, a deep cut in the earth that seems to go on forever.
A strange, ominous purple glow seems to be coming down from it, and you cannot see where it possibly ends.

&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/chasm.jpg&quot;, undefined, undefined, true)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Venture down the chasm-&gt;Quest_MQ002_Entrance_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back to the Golden Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2252" name="Quest_MQ002_Entrance_2" tags="" position="225,28225" size="100,100">You walk down the steep ledge of the chasm.

A burning light at the bottom makes it hard to tell how deep it is, but you feel the cave expand with every step.
The cave walls become increasingly hot, and the air becomes thick with a metallic smell.

\&lt;&lt;run setup.choice(&quot;[[Keep going down-&gt;Quest_MQ002_Entrance_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2253" name="Quest_MQ002_Entrance_3" tags="" position="350,28225" size="100,100">You descend for what feels like hours.
The heat is intense, and a bright, blinding light at the top of the cave makes it challenging to grasp how deep it reaches.

Your eyes slowly adapt to the light, and you can finally grasp the scale of this underground realm.

\&lt;&lt;run setup.choice(&quot;[[Gather your surroundings-&gt;Quest_MQ002_Entrance_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2254" name="Quest_MQ002_Entrance_4" tags="" position="475,28225" size="100,100">This place is massive, and it seems to be much more expansive than you would have assumed.

&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/NyxRealm/nyx_realm.jpg&quot;, undefined, undefined, true)&gt;&gt;

The sight is otherworldly.

\&lt;&lt;run setup.choice(&quot;[[Venture deeper-&gt;Quest_MQ002_Entrance_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2255" name="Quest_MQ002_Entrance_5" tags="" position="600,28225" size="100,100">You travel down a river leading directly towards the black sun above.

The strange light makes your heart beat faster.
Your body warms up, pleasure surges out from every inch of skin it touches.

But something in the distance catches your attention, a tall gate of paved stones.

\&lt;&lt;run setup.choice(&quot;[[Travel along the river-&gt;Quest_MQ002_Entrance_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2256" name="Quest_MQ002_Entrance_6" tags="" position="725,28225" size="100,100">You find yourself becoming more and more aroused with each step, your cock hard with desire, your nipples hard and begging for attention.
Its intensity only increases the more you walk towards the gate.

Whatever lies beyond surely is the source of this lustful feeling rising within you.

\&lt;&lt;if !$CharacterSheet_MQ002_Guard.quest.beaten&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Approach the gate-&gt;Quest_MQ002_Entrance_Guard]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Approach the gate-&gt;Quest_MQ002_Entrance_NoGuard]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2257" name="Quest_MQ002_Entrance_Guard" tags="" position="850,28225" size="100,100">A massive armoured figure stands in front of the gate. 
The &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_MQ002_Guard, &quot;height&quot;))&gt;&gt; horned figure is kneeling and immobile, his heartbeat and breathing so still you could have mistaken him for a statue.

As you approach, his head rises up.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Guard_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2258" name="Quest_MQ002_Entrance_Guard_2" tags="" position="975,28225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

His gaze is burning with an otherworldly pink glow and his expression is inhumanly stern.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Guard_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2259" name="Quest_MQ002_Entrance_Guard_3" tags="" position="1100,28225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

Suddenly, his piercing eyes lock directly into yours.

&quot;Who do you seek?&quot; He bellows.

\&lt;&lt;run setup.choice(&quot;[[Answer his question-&gt;Quest_MQ002_Entrance_Guard_Prompt]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Run Away-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2260" name="Quest_MQ002_Entrance_Guard_Prompt" tags="" position="1225,28225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

Who do you seek?  &lt;&lt;textbox &quot;$WorldState.minoWords&quot; &quot;&quot;&gt;&gt;

\&lt;&lt;set $CharacterSheet_MQ002_Guard.quest.met = true&gt;&gt;

[[Continue-&gt;Quest_MQ002_Entrance_Answer]]</tw-passagedata><tw-passagedata pid="2261" name="Quest_MQ002_Entrance_Answer" tags="" position="100,28350" size="100,100">&lt;&lt;include setup.getMinoPromptPassage($WorldState.minoWords)&gt;&gt;</tw-passagedata><tw-passagedata pid="2262" name="Quest_MQ002_Entrance_Answer_Invalid" tags="" position="225,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

The minotaur pauses. It is hard to tell what he&#39;s thinking.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Answer_Invalid_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2263" name="Quest_MQ002_Entrance_Answer_Invalid_2" tags="" position="350,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

The minotaur plants his axe on the corrupted soil and steps towards you. 

He seems unfazed by your answer.

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_Guard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2264" name="Quest_MQ002_Entrance_Answer_Nyx" tags="" position="475,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

&quot;Nyx is not like the Corruption you&#39;ve come across. One is fuel, and one is fire itself. It infests the soul like a virus, spreading into every corner of your thoughts.&quot;

He plants his axe on the corrupted soil and steps towards you. 

&quot;Show me that you can bear it.&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_Guard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2265" name="Quest_MQ002_Entrance_Answer_Cray" tags="" position="600,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

&quot;Another poor lost taken under Apothus&#39;s wing.&quot;

He plants his axe on the corrupted soil and steps towards you. 

&quot;Your intentions are pure, but they are misguided. If you truly wish to find him, I must ensure your soul won&#39;t be torn apart by what&#39;s beyond this gate.&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_Guard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2266" name="Quest_MQ002_Entrance_Answer_Kanathar" tags="" position="725,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

&quot;This name... It rings of some distant power...&quot;

The minotaur pauses. It is hard to tell what he&#39;s thinking about your answer.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Answer_Kanathar_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2267" name="Quest_MQ002_Entrance_Answer_Kanathar_2" tags="" position="850,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

&quot;Your goals are unknown to me, but this name will guide you further than you can imagine.&quot;

He plants his axe on the corrupted soil and rises suddenly.

&quot;Regardless, I must ensure your soul won&#39;t be torn apart by what&#39;s beyond this gate.&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_Guard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2268" name="Quest_MQ002_Entrance_Answer_Tiadane" tags="" position="975,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;
His eyes widen.

He grasps his head, loses himself in thoughts.

&quot;This name...&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Answer_Tiadane_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2269" name="Quest_MQ002_Entrance_Answer_Tiadane_2" tags="" position="1100,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

&quot;My god has given it to me, and I&#39;ve never shared it with anyone.&quot;

His determined scowl melts into a look of confused consternation as he stares you down, trying to make sense of something only he seems to be aware of.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Answer_Tiadane_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2270" name="Quest_MQ002_Entrance_Answer_Tiadane_3" tags="" position="1225,28350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

Suddenly Something moves inside of you, something buried deep within your soul.

&quot;Master?&quot;

The single word rumbles out in the deep baritone of the Minotaur&#39;s voice. 
For a split second purple veins course across your sclera and fills your pupils with bright violet light that leaves the minotaur staring in wonder. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Answer_Tiadane_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2271" name="Quest_MQ002_Entrance_Answer_Tiadane_4" tags="" position="100,28475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

You remember the feeling of the minotaur&#39;s power expanding so far beyond what was before you. 
Despite that, as you look upon the minotaur now you feel no threat of any kind.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_Answer_Tiadane_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2272" name="Quest_MQ002_Entrance_Answer_Tiadane_5" tags="" position="225,28475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

As if responding to your thoughts, the minotaur finally lowers his guard. 
He bends down to one knee and bows his head before you, eyes firmly on the ground. 
In a deep, rumble that seemed to vibrate through the air itself, he delacres.

&quot;Master, your power awaits you.&quot;

Δ: Tiadane joins your party.

\&lt;&lt;set $CharacterSheet_MQ002_Guard.quest.beaten = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_MQ002_Guard.info.name = &quot;Tiadane&quot;&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_SafePassage&quot;);&gt;&gt;
\&lt;&lt;run setup.tiadaneJoinsPlayer()&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Entrance_PlayerWins_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2273" name="Quest_MQ002_Entrance_Answer_Apothus" tags="" position="350,28475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

The minotaur pauses.

&quot;So many souls have been taken under his wings. I hope you know what you&#39;re getting into.&quot;

He plants his axe on the corrupted soil and rises suddenly.

&quot;I am not one of his pawns, I must only ensure that your soul won&#39;t be torn apart by what&#39;s beyond this gate.&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_Guard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2274" name="Quest_MQ002_Entrance_Answer_Sombreve" tags="" position="475,28475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;angry&quot;)&gt;&gt;

This name... You should not know it.

\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_Guard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2275" name="Quest_MQ002_Entrance_NoGuard" tags="" position="600,28475" size="100,100">The entrance is freed from the minotaur&#39;s protection, nothing is stopping you from crossing the gate.

\&lt;&lt;run setup.choice(&quot;[[Open the Gate-&gt;Quest_MQ002_MoveInsideGate]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Village]]&quot;);&gt;&gt;

&lt;&lt;run setup.MQ002_LeavingManor($CharacterSheet_Player)&gt;&gt;</tw-passagedata><tw-passagedata pid="2276" name="Imp_ServantPath_NyxHint" tags="" position="725,28475" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.available_encounterPassages_nyxHint = false&gt;&gt;
Soon after you leave the Golden Bastion, you notice a winged figure flying overhead.

Immediately, you recognize Kanathar, your master, flying above and coming your way.
Your mouth waters, your cock hardens.

With one sweep of his demonic wings, he lands in front of you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_ServantPath_NyxHint_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2277" name="Imp_ServantPath_NyxHint_2" tags="" position="850,28475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

Your master looks at you with visible curiosity; he grins before licking his lips.

&quot;Seems like you&#39;ve been busy, pet. I can tell that your expeditions have led you to some interesting places.&quot;

He comes close, his voice being no louder than a whisper.

&quot;Do you have something you&#39;d like to share to your master?&quot;

\&lt;&lt;run setup.choice(&quot;[[Talk about your experience in Nyx&#39;s Realm-&gt;Imp_ServantPath_NyxHint_2_Share]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Say you have nothing particular to talk about-&gt;Imp_ServantPath_NyxHint_2_Hide]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2278" name="Imp_ServantPath_NyxHint_2_Share" tags="" position="975,28475" size="100,100">\&lt;&lt;set $CharacterSheet_Imp.quest.knowsAboutNyx = true&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_DamnatoryKnowledge&quot;);&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

You share what you&#39;ve learned about the realm of Nyx, beyond the guard that you&#39;ve defeated at the gate. 
His expression lights up when you mention the black star that burns everything with its unholy light. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Imp_ServantPath_NyxHint_2_Share_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2279" name="Imp_ServantPath_NyxHint_2_Share_2" tags="" position="1100,28475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
The mention of how its sheer presence has made you aroused beyond what anything the Barrens could offer greatly intrigues him.

&quot;Hehehe, I&#39;ll have to seek out this realm myself. It sounds like something very special. But for now, I have to show you how much I&#39;ve grown~&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="2280" name="Imp_ServantPath_NyxHint_2_Hide" tags="" position="1225,28475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

&quot;Whatever suits you, runt. But for now, I have to show you how much I&#39;ve grown~&quot;

&lt;&lt;print setup.getFightStartPassages($CharacterSheet_Imp)&gt;&gt;</tw-passagedata><tw-passagedata pid="2281" name="Quest_MQ002_ApothusRealm_ImpInvasion" tags="" position="100,28600" size="100,100">The realm of Nyx is barren and dry, containing no sounds of life beyond the constant moans and wet sounds of corruption hitting raw flesh.

After only a few steps, you freeze. Huge thumping sounds shake the ground all around you in a way that seems oddly familiar.

Something big is coming.

\&lt;&lt;run setup.choice(&quot;[[Turn Around-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2282" name="Quest_MQ002_ApothusRealm_ImpInvasion_2" tags="" position="225,28600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

You see the demon whose sheer presence makes your whole body shiver with lust. Kanathar has followed your trails and has made his way here.

&quot;Hehehe, this looks even more decrepit than I imagined.&quot;

He raises his arms, taking in Nyx&#39;s light with his whole body. His monstrous cock rises in response; it thumps and throbs in excitement as cum oozes down along the demon&#39;s shaft.

&quot;Hmmmmm... Yes. This is something else, and you did well by leading me here, runt.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2283" name="Quest_MQ002_ApothusRealm_ImpInvasion_3" tags="" position="350,28600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

He takes a deep breath and lets his colossal chest expand to take more of the black sun&#39;s light. 
He could feel his body stretch to contain the sheer size, this new raw power that shakes him to his core. 
You could see him shiver with pleasure as he moans under his muffled breath.

&quot;I feel it in me, this power... It&#39;s like it&#39;s calling me by my name.&quot;

His wings flex and stretch; his knees bend slightly as his gaze remains stuck on Nyx.

&quot;I&#39;ve yearned for its power ever since I had my first look, and now it&#39;s so close... It&#39;s like I could reach it myself.&quot;

\&lt;&lt;run setup.choice(&quot;[[Ask what he plans to do-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2284" name="Quest_MQ002_ApothusRealm_ImpInvasion_4" tags="" position="475,28600" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_2.jpg&quot;, undefined, true)&gt;&gt;

You ask your master what he plans to do next. Nyx is as close as it&#39;s ever been, but surely there would be others seeking its powers.

He looks upon the horizon and leads your gaze towards the massive round structure that pierces the sky of this cursed realm.

It is a massive egg-shaped cocoon, as black as the void of space surrounding you, yet its presence is undeniable. A bright aura of dark purple circles it, swirling around the monument, sucking the unholy light into itself. 

Countless Losts are at its base, engaging in mad debauchery more intense than anything you&#39;ve ever seen. 
Their muscular forms writhe and moan with raw sexual intensity as they eternally give in to their lust.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2285" name="Quest_MQ002_ApothusRealm_ImpInvasion_5" tags="" position="600,28600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;

Your master can help but release a devilish laugh.

&quot;Look at these fools, trying to reach a sun by slowly growing a cocoon until it reaches up to it.&quot;

His monstrous hands clench into fists; he bends his knees forward slightly.

&quot;I bet they all wish they could just fly there, right, pet?&quot;

The sight of your master flexing his back and flapping his wings is a sight even more entrancing than the Black Sun itself.
His wings are tiny compared to the rest of his body, but the power behind them is undeniable.
One flap pushes forth gusts of wind, enough to send a burst of dirt all around him.

&quot;Watch me. I&#39;m going to take what&#39;s mine.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2286" name="Quest_MQ002_ApothusRealm_ImpInvasion_6" tags="" position="725,28600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;cumming&quot;)&gt;&gt;

His whole body sweats with visible strain, but every flap of his wings pushes him higher than the previous one.
You can feel how much more powerful he has grown, how much stronger you&#39;ve made him.

&quot;Mrrrfff... And when I do, you&#39;ll be the first to have a taste.&quot;

Nothing could stop him now.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2287" name="Quest_MQ002_ApothusRealm_ImpInvasion_7" tags="" position="850,28600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;

&quot;Grahhhh!&quot;

He bursts out in-flight, his body ascending more than 100ft in less than a second.
Strength rushes through him; thick veins bulge out, his cock is fully hard.
Every flap of his wings pushes him further as if the sun was pulling him closer.

&quot;MINE! IT&#39;S ALL MINE!&quot;

He roars, his voice taking the attention of all who stand in this cursed realm.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2288" name="Quest_MQ002_ApothusRealm_ImpInvasion_8" tags="" position="975,28600" size="100,100">You suddenly hear a voice coming from where the cocoon stands. It is agitated, fearful even, and it screams out in despair.

&quot;What? Who is this?&quot;

You turn to see a muscular warlock of some sort. His hands are glowing in a bright purple hue, and you can tell that he&#39;s preparing some spell. Whoever he is, he must be stopped, for your master&#39;s sake.

\&lt;&lt;run setup.choice(&quot;[[Charge at him-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2289" name="Quest_MQ002_ApothusRealm_ImpInvasion_9" tags="" position="1100,28600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;angry&quot;)&gt;&gt;

You charge towards him, putting all your strength into your shoulders and striking him with a tackle.

He is too distracted by his spell to see you coming; only when you&#39;re less than a few feet away from him does he exclaim.

&quot;No! Not now!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2290" name="Quest_MQ002_ApothusRealm_ImpInvasion_10" tags="" position="1225,28600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Imp, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Imp, 200)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.fight.strength += 130&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.fight.hp += 500&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.fight.stamina += 400&gt;&gt;
\&lt;&lt;set $CharacterSheet_Imp.quest.ascended = true&gt;&gt;
As you strike down the warlock, you hear a monstrous roar burst out as the sky explodes in bright purple light.

&quot;ALL MINE!&quot;

The sky darkens as deep, thundering laugh booms from above. The sun finally condenses towards the imp, seeping into his body.

Δ: Kanathar&#39;s Corruption has increased by 200.
∇: Kanathar&#39;s strength has increased by 130.
∇: Kanathar&#39;s health has increased by 500.
∇: Kanathar&#39;s prowess has increased by 400.

Δ: Kanathar&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;height&quot;, 1500))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Imp, &quot;muscles&quot;, 100)&gt;&gt;
Δ: Kanathar&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Imp)&gt;&gt;(+$growth).
Δ: Kanathar&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;cock&quot;, 500))&gt;&gt; longer.
Δ: Kanathar&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;balls&quot;, 200))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2291" name="Quest_MQ002_ApothusRealm_ImpInvasion_11" tags="" position="100,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

An evil demonic laugh bellows out of his as he feels the burning spirit of Nyx filling his muscles. 
His chest fills up, growing, pumping with raw strength until his chin hits his pecs. 

It burns more than anything he has ever experienced, but it feels impossibly good.

&quot;Grrrrrrrahhhh... Look at me &lt;&lt;PlayerName&gt;&gt;. I&#39;m turning into a god!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2292" name="Quest_MQ002_ApothusRealm_ImpInvasion_12" tags="" position="225,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

The warlock beside you can&#39;t help but look in confused wonder. 
His plans are ruined, but seeing Kanathar growing and absorbing the Black Sun seems to excite him all the same.

Your master suddenly groans. His whole body shakes as a burning purple aura covers his entire body. 
He yells in a mix of pain and pleasure, and it&#39;s not long until the bliss completely takes over.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2293" name="Quest_MQ002_ApothusRealm_ImpInvasion_13" tags="" position="350,28725" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_Apothus, &quot;licky&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;

With one quick motion, the warlock drops to his knees. He ultimately gives it, one reaching his cock and another pinching his nipple.

&quot;Haaaa... Take it, Kanathar. Take what&#39;s yours.&quot;

Neither you nor the imp has seen this corrupted man before. Yet Kanathar&#39;s name now thumps in his mind, a word now constantly growing in power.

It&#39;s not long until you also drop to your knees, all to worship your growing god.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2294" name="Quest_MQ002_ApothusRealm_ImpInvasion_14" tags="" position="475,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;

&quot;GRAAHHHHHH!&quot;

Your master roars, his wings suddenly spreading out beside him, growing wider to more than double the width of his body. 
They are bigger than buildings at this point and powerful enough to lift the &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_Imp, &quot;height&quot;))&gt;&gt; demon with ease. His whole frame grows impossibly fast; each burst of size makes you and the warlock ready to cum at his command.

&quot;Fuck... FUCK YES! LOOK AT YOUR GROWING GOD!&quot;

Massive spikes bulge out of his shoulder and chest as what remains of the Black Sun rests above the demon&#39;s head like a gigantic crown. 
His whole body radiates with Nyx&#39;s light, and it is driving everyone within this realm to the edge. 
The lustful roars of countless Lost rise from far away ruin, joining Kanathar&#39;s chorus of assertive pleasure.

&quot;Hehehehe, HAHAHAHA!&quot;

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Imp, 400)&gt;&gt;
Δ: Kanathar&#39;s Corruption has increased by 400.

Δ: Kanathar&#39;s body grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;height&quot;, 6000))&gt;&gt; taller.
\&lt;&lt;set $growth = setup.applyGrowth($CharacterSheet_Imp, &quot;muscles&quot;, 200)&gt;&gt;
Δ: Kanathar&#39;s muscles grow to become &lt;&lt;print setup.getMusclesDescriptor($CharacterSheet_Imp)&gt;&gt;(+$growth).
Δ: Kanathar&#39;s cock grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;cock&quot;, 2000))&gt;&gt; longer.
Δ: Kanathar&#39;s balls grows &lt;&lt;print setup.getLength(setup.applyGrowth($CharacterSheet_Imp, &quot;balls&quot;, 800))&gt;&gt; wider.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2295" name="Quest_MQ002_ApothusRealm_ImpInvasion_15" tags="" position="600,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 5)&gt;&gt;

The imp roars, bringing the Lost to orgasm only by grasping his cock and glancing at their general direction. He could taste their lust, revel in their now endless worship, and it only makes him more powerful.

Yet his attention remains on you, his pet who has led him here.

&quot;Get ready, my little pet; you&#39;re about to feel the power of your new GOD!&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight!-&gt;FightLogic][$Encounter_Target = $CharacterSheet_Imp]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2296" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss" tags="" position="725,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;

As he stands over your exhausted body, his enormous cock dribbles a constant stream of pre that pools in an increasingly large puddle underneath you. 
Before you could collapse face-first into it, powerful, reddish-purple fingers grab your throat and effortlessly hoist you into the air.

Even as they grip your throat, you could feel his fingers expanding and swelling larger with each passing second. 
Held there, dangling with your feet above the ground, you find yourself face-to-face with the wickedly grinning monster of an imp. 
 
No, not a monster.

A god.

Your god.

&quot;Looks like I win this time, runt.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2297" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_2" tags="" position="850,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;

It is like admitting that to yourself unleashed something bigger than you could ever dream of becoming. 
You watch his expression change from gleeful to one of utter, orgasmic bliss. 
The power of Nyx has held itself back and given you a final chance not to save the world, not to stop this overgrown demon, but to take it for yourself. 

And as it turns out, that power well and truly belonged to Kanathar.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2298" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_3" tags="" position="975,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;

Power ripples through the imp both physically and metaphysically. 
In an instant, you feel his fingers around your neck grow to be thicker than his forearm had been only moments ago. 

As his body grows in sync with the corrupting power merging with him, you could feel that otherworldly attraction, that overwhelming sense of superiority and presence that was Nyx itself spread throughout its new master. 

&quot;You&#39;re mine...&quot;

Any sense of restraint you have shatters within a second of looking into those endless chasms that are his eyes. 

\&lt;&lt;run setup.choice(&quot;[[Submit-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2299" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_4" tags="" position="1100,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 1)&gt;&gt;

He drops you to the ground, and you are immediately on your hands and knees, kissing his feet. 
His foot grows along with the rest of his monstrous self, enough to push you away from it. 
You continue to cling onto and shower that tiny bit of your new, growing god with affection and adoration.

Overhead the Kanathar grins and raises both arms. 
He flexes in the most monstrous double bicep pose in all of existence. 

\&lt;&lt;run setup.choice(&quot;[[Cum for your god-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2300" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_5" tags="" position="1225,28725" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

His pectorals bulge outwards to such massive proportions that the demon&#39;s chin perpetually rests within the top of his pectoral cleft. 
His thighs swell beyond what his waistline had once been in width. 
He could crush mountains into diamonds between them with ease. 

His cock has grown to an absurd size; it stretches out before him like an endless mountain range of masculinity. 
Simply by laying on the ground and growing, the titanic phallus tears an increasingly deep chasm into the earth as it shoves itself forward to take up more and more space. 
And yet, even as your master expands beyond all reasonable scale, he still was not done.

\&lt;&lt;run setup.choice(&quot;[[Cum for your god-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2301" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_6" tags="" position="100,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

The demon&#39;s attention turns towards The Losts that have gathered around him. 
If it hadn&#39;t been for their otherworldly connection to Corruption, they would have been beneath the growing demon&#39;s notice. 
A wicked grin spread across the ascendant imp&#39;s face as an idea rises within his mind. 

Instead of taking them in and adding their infinitesimally minuscule mass to himself, he chooses to change the Corruption within them instead.

He doesn&#39;t so much suppress as he does alter their overwhelming urges and cravings. 
The beasts feel some sense of sanity build within their passionate, obsessed, sex-crazed minds. Only enough to give guidance to those otherwise base instincts. 
Specifically, to direct them to their god. As the impossibly powerful imp grows beyond the strength of the greatest demon lords, he determines that an army of beasts is not necessary to him. 

Nothing could challenge his power, and he needs no assistance to prove that fact. 

No, the demon neither wants nor needs an army of monsters; he wants an army of worshipers.

\&lt;&lt;run setup.choice(&quot;[[Cum for your god-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2302" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_7" tags="" position="225,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

All the while, all you can do is watch and worship as the imp redefines the world around you. 
You drag your tongue across the ever-growing wall of flesh that is one of his toes in worship—the overwhelming compulsion to aggrandize him. 

As the formerly little demon swells into the darkening sky and expands across the mutating landscape, there&#39;s still a tiny part of you would dare resist.

\&lt;&lt;run setup.choice(&quot;[[Surrender completely-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2303" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_8" tags="" position="350,28850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

Years pass. 

No one knows exactly how many. Time had long since lost its meaning. 

There is only one thing that matters, and that&#39;s the Lord&#39;s pleasure.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2304" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_9" tags="" position="475,28850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

Sitting atop the largest mountain in the world, Kanathar, the demon god, surveys his surroundings. 
Even being the largest natural structure in the world, painstakingly carved by millions of his loyal follower&#39;s hands, the demon&#39;s landscape of a throne struggles to contain his impossible bulk. 
His enormous hips and thighs make the stonework creak and groan ominously every time he shifts his incalculable weight. 
The back of the mountain echoes with the cracking sound of fracturing stone every time he leans back against it. 

The entire structure is far inferior to a proper throne for him. 
But Kanathar has taken great pleasure in watching the world&#39;s population work themselves to the bone to carve such a thing for him, simply because he desires it.

And you are there to watch it all.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2305" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_10" tags="" position="600,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

Even now, as you stand on the landscape that was the top of your god&#39;s dick, stretching dozens of miles into the distance, you still marvel at his enormity. 
You are the biggest, the strongest of the new Lost, and you have earned that title and your place as his favourite plaything. 

Just the thought of knowing that you have gained your god&#39;s attention is almost enough to bring you to orgasm all by itself. 
The very idea of one of his enormous, infinitely deep eyes turning their attention to you for even a second is bliss beyond anything your own body could ever hope to produce on its own.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2306" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_11" tags="" position="725,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 2)&gt;&gt;

Somewhere deep in the recesses of your mind. You know that you once had impure thoughts about your god. 

Hilarious, nonsensical fantasies that you could have challenged him for his rightful place above everyone else. 
The very idea that someone as small as you could ever contest him is almost ridiculous.

For his part, the imp-turned-God takes great pleasure in his reordering of the world. 

He has rewritten The Lost into what he now calls &quot;The Seen&quot;. 

A world soon overrun by a new Corruption of ever-growing power, one who spreads power and pleasure to all who worship him. 
Their most basic, primal instinct is now to do whatever would bring their god the most pleasure. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2307" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_12" tags="" position="850,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;

&quot;Faster&quot; Kanathar thunders.

His voice now is as much supernatural compulsion to the minds of everyone within miles as it was audible sound. 
The thousands of mutated werewolves, minotaurs and humans sprawling out across his dick obey immediately. 
Hands and feet ranging from the size of dinner plates to the size of houses rub and grind against the imp god&#39;s monstrous erection. 

Tongues big enough to cover mountains desperately lick at whatever tiny fraction of a percent of his dick&#39;s surface area they could reach. 
Titans that could have destroyed cities or countries, or even entire worlds on their own, bow down on their hands and knees. 

They all devote their entire existence simply to getting him off.

It is wonderful.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2308" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_13" tags="" position="975,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;

The demon god&#39;s own pleasure radiates out from him in waves of psychic force. 
Every time one of his minuscule minions hit a sweet spot on his cock, an orgasm surges through every single creature within miles. 
Every time he growls out his lust like a roll of thunder, his subjects spasm uncontrollably from the overwhelming psychic stimulation. 

Kanathar&#39;s existence is now a show of dominance, and his pleasure is a worldwide event. But for once, this wasn&#39;t him simply enjoying his new godhood. 

This time his pleasure had a purpose.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2309" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_14" tags="" position="1100,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;

As the masses push him closer and closer towards release, the imp god gathers up all of the passion and drive radiating from himself and all those down below. 
He has taken over this planet, this entire reality, but even that is not enough for him. 

He wants more people to sing his praises, to bathe him in their worship and adoration. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2310" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_15" tags="" position="1225,28850" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 3)&gt;&gt;

As he nears his release, the demon god speaks a single word. In that word, he forces every last ounce of divine power he had gathered from himself and all of his followers. 
That single word echoes and ripples through the laws of reality itself. 
The word is to be as fundamental as gravity or inertia. 
Its meaning becomes intuitive across the collective unconscious, and all sentient beings who hear the word understand its meaning. 

It is a name. 

The name of someone great and powerful. Of someone that deserves the adoration and worship of all those around him.

&lt;h2&gt;Kanathar&lt;/h2&gt;

\&lt;&lt;run setup.choice(&quot;[[Scream his name-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2311" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_16" tags="" position="100,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;

He turns his attention back towards you. Towards the greatest, the strongest, of his little pet worshipers. 

The one who had come so close to taking all of this from him. 
The one evolved into the perfect servant, who has been given size and strength beyond anything the old gods could have imagined. 

Part of the demon god is curious about what things would have been like if you had defeated him. 
But as he stares down at you, watching you throw yourself at whatever tiny fraction of his endlessly cumming cock you could reach, he knows that he likes this outcome the best. 
And with his name now bearing power beyond the shackles of reality, he knows that he&#39;ll never be a puny weakling again.

&quot;Grrrahhhhh... get ready to take my load, &lt;&lt;PlayerName&gt;&gt;.&quot; your god growls at you, grinning as the sound of his voice sends you into a spasmatic orgasm. &quot;Cum for your god, cum for Kanathar!&quot;

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Loss_17]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2312" name="Quest_MQ002_ApothusRealm_ImpInvasion_Loss_17" tags="" position="225,28975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Imp&quot;], 4)&gt;&gt;

\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfKanathar&quot;);&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_3_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_3.jpg&quot;, undefined, true)&gt;&gt;

&lt;h2&gt;“GRAAAAAAAAAAAAAAAAAAAAHHHHH!!!”&lt;/h2&gt;

\&lt;&lt;run setup.choice(&quot;[[The End-&gt;Ending][setup.stopRealizationPackages([&#39;CharacterSheet_Imp&#39;]);]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2313" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win" tags="" position="350,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;

Even as the imp lays defeated at your feet, his strength continues to grow.
Every couple of seconds, his body pulsates and swells larger.

Entire lakes worth of cum spurts weakly from his monstrous cock where it lays splayed out across the ground beside him.
Yet for all his enormity and endlessly-increasing strength, you are the one that stands victorious.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2314" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_2" tags="" position="475,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;

His wounds visibly knit together with every pulsation of new size and strength. Even if you could defeat him as he is now, you aren&#39;t sure if he even is mortal anymore.
Soon he would recover and outgrow you and anything else that would dare challenge him.

Your master is now unstoppable.

No matter how often you beat him in combat, he will always come back stronger.
Except, something about him seems different since you landed the last blow. His eyes seem to glow in an otherworldly purple, a light that burns you to your core.

You feel the Black Sun reaching into your mind with a thundering voice.

&quot;&lt;&lt;PlayerName&gt;&gt;! Give yourself to me!&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2315" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_3" tags="" position="600,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;
You grasp your head with your &lt;&lt;LimbDesc &quot;hands&quot;&gt;&gt;; its presence makes it hard to think.

Within a blink, you&#39;re now directly in front of your master, whose face is now inches away from you.

\&lt;&lt;run setup.choice(&quot;[[Step Back-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_StepBack]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Reach out to Kanathar-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_ReachOut]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2316" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_StepBack" tags="" position="725,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;

There is no way to tell what would happen to you if you took that inherently corrupting power into yourself.
Even standing near the imp, you could feel its siren call beckoning you, enticing you to sample just a taste.
A taste that you know would only be the beginning.

The only other option was to try to flee. You have no idea how you would do that, but you have come this far after all.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_StepBack_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2317" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_StepBack_2" tags="" position="850,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;

You have barely taken one step away before powerful fingers wrap around your ankle in a vice-like grip.
Even as you turn to look, you could feel the fingers thickening and enlarging as they hold on to you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2318" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_ReachOut" tags="" position="975,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_1.jpg&quot;, undefined, true)&gt;&gt;

You turn your attention back towards him, determination set in your mind.
It is like you could feel the power coursing through the imp calling out to you. It screams at you to take it for yourself.

It wants to be used, and it needs to be yours! The imp had proven the inferior host. It desires, deserves and demands only the most powerful lay claim.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_ReachOut_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2319" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_3_ReachOut_2" tags="" position="1100,28975" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2_lowres.jpg&quot;,&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/voidlesky_dawn_of_corruption_9_2.jpg&quot;, undefined, true)&gt;&gt;

When you reach for the imp, his arms jerk and grab your wrist.
Even as he holds your arm in his vice-like grip, you could feel his fingers still growing and encompassing more and more of your arm with each passing second.
The demon locks eyes with you; a determined and wicked grin spreads across his face. As he does, his body begins to melt into a goo-like substance and flow into you.

The power of both Nyx and Kanathar flows into you and invades your body, mind, and very soul.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2320" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_4" tags="" position="1225,28975" size="100,100">Kanathar reaches out eagerly within you.

His mind and spirit coil against yours in a powerful, intimate embrace.

Even after all this, even after ascending to godhood, he still sees you as his powerful, unstoppable lover.

\&lt;&lt;run setup.choice(&quot;[[Embrace Kanathar-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2321" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_5" tags="" position="100,29100" size="100,100">Everything he is, every thought, emotion and aspect of his existence tightly wraps around you.

And as you merge, Nyx flows into you like a tidal wave in acceptance of your triumph.

\&lt;&lt;run setup.choice(&quot;[[Ascend-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2322" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_6" tags="" position="225,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Your muscles bulge and grow with such abruptness that each one creates a thunderclap as they double in size, then double again in a fraction of a second.
Within moments, your body had grown so impossibly muscular you no longer could even move.

Your titanic traps, delts, and pectorals bloat to such impossibly muscular proportions that they engulf your head.
Your arms thicken with so much muscle that they rise outwards, muscle groups all fighting against each other for even the tiniest extra inch of space.

It is a scale of power and strength that could have smashed mountains into dust had you been able to move. Thankfully, the rest of you catches up.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2323" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_7" tags="" position="350,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Your body begins to grow larger as well as thicker, eventually increasing in height even faster than your muscles do.
While still impossibly ripped, your proportions soon even out enough that you could walk and move your arms once again. You are growing impossibly fast; thousands of feet add to your already impossible size every second.

It feels like anything that wasn&#39;t within arms reach would be, if you but wait for a few heartbeats.
Your feet bulldoze their way across the landscape down below, tidal waves of flesh crushing everything in their path.
Your cock stretches out in front of you as it tears an increasingly deep canyon in the ground by its sheer weight alone.

Literal floods of sexual fluids leak from your tip and drown anything under you.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2324" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_8" tags="" position="475,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Suddenly, more than just your size begins to change.
Your body takes on a jagged appearance.

Spikes of bone erupt from your elbows and along your chin. Enormous, curved demonic horns rip from the back of your head while bony protrusions grow from your forehead into a shape reminiscent of a crown.
Moments after growing, the ivory bones turn dark as a blackish ichor spreads across it and then appears to ignite.
It bursts in wicked black flames that are both liquid and fire;

A demonic crown that beckons all who see it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2325" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_9" tags="" position="600,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
All the Lost and every other insignificant creature still trapped within this realm cum at the sight of your growing mass.
Letting themselves be bulldozed by whatever limb is closest, only to be absorbed and added to your already endlessly growing body.

You feel Kanathar&#39;s demonic instincts influencing your thoughts and personality, and they feed your ego to monstrous proportions.

The seemingly-infinite power of Nyx only exacerbates the situation until even the most humble part of yourself urge you to roar your godhood to all who can hear it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2326" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_10" tags="" position="725,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your hands, each big enough now to palm mountains, reach out and grab at the very fabric of the realm around you.
With only a thought, you brace yourself against the fabric of the spell that brought you here.

The whole world shakes around you as your very existence takes over the limits of this realm.

\&lt;&lt;run setup.choice(&quot;[[Shatter the bounds of this realm-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2327" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_11" tags="" position="850,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Like shattering glass, the space around you fractures and breaks apart into a thousand pieces; the entire realm shutters from earth to sky.
Your feet hit the ground first as you land on the sands of the Barrens, and the impact sends earthquakes shaking across the countryside.

Soon after, the impossible enormity of your cock slams to the ground and shakes the continent itself.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2328" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_12" tags="" position="975,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
As your booming demonic laughter thunders across the landscape like a series of sonic booms, your cock continues to spurt lakes worth of cum as casually as someone might produce a single droplet of pre.
Any touched by even a single drop of your juices find themselves turned and corrupted within seconds.

But this Corruption is not the one you once knew.

It is yours to shape and control.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_ApothusRealm_ImpInvasion_Win_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2329" name="Quest_MQ002_ApothusRealm_ImpInvasion_Win_13" tags="" position="1100,29100" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You have become something greater; the world has a new god.
There is no longer anything, neither rival nor champion, that could challenge you anymore.

And more importantly, there is no longer anything that could stop you from becoming what you want to be, need to be. What you are destined to become.

A demon who is finally his own master.

\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfDemonicAscent&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[The End-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2330" name="Quest_MQ002_Manor_MainHall" tags="NyxCastle" position="0,200" size="100,100">You stand in the main hall of the strange castle, intricate gold-clad markings course along the cobblestone floor.
They cover the whole room, with them gathering towards a structure in the center of it.

It&#39;s a grand golden monolith. Black markings swirl along its surface like water in a river.
&lt;&lt;print &quot;You notice &quot; + ($WorldState.cultManor.westWing_ClearedRooms.length &gt; 3 ? &quot;all&quot; : $WorldState.cultManor.westWing_ClearedRooms.length) + &quot; of them are glowing with a bright purple light.&quot;&gt;&gt;

The minotaur you&#39;ve previously fought rests kneeling besides it.
\&lt;&lt;if $CharacterSheet_MQ002_Guard.quest.lustIncrease == true&gt;&gt;
He looks much more aroused than before.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;set $MQ002_Manor_Destinations = setup.getManorDestinations()&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Explore the West Wing-&gt;MQ002_Manor_WestWing_Entrance]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Examine the Monolith-&gt;Quest_MQ002_Manor_MainHall_ExamineMonolith]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Talk to the minotaur-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave the castle-&gt;Quest_MQ002_Entrance_NoGuard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2331" name="Quest_MQ002_Manor_MainHall_ExamineMonolith" tags="" position="100,29225" size="100,100">\&lt;&lt;if $WorldState.cultManor.monolithBroken&gt;&gt;
You approach the grand monolith and look closely.

It is completely clean of the black ink-like substance that once crawled upon its golden surface. 

\&lt;&lt;else&gt;&gt;
You approach the grand monolith and look closely.
A black ink-like substance moves along the golden surface.
It is a dark, foreboding thing.

As you get closer, it crawls and merges until it forms readable letters.

\&lt;span class = &quot;monolith&quot;&gt;
\&lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;
    \&lt;&lt;if $WorldState.cultManor.mainHall.isBroken&gt;&gt;
//&quot;As destructive as you&#39;ve been, we still welcome you to our halls.&quot;//
    \&lt;&lt;/if&gt;&gt;
//&quot;Break the seal of our realm. We can grant you what you truly seek.&quot;//
\&lt;&lt;else&gt;&gt;
    \&lt;&lt;if $WorldState.cultManor.mainHall.isBroken&gt;&gt;
//&quot;Your senseless destruction of our halls will be accounted for. We will show no mercy.&quot;//
    \&lt;&lt;else&gt;&gt;
//&quot;There is nothing for you here. Leave now or your soul will rot in these halls for all eternity.&quot;//
    \&lt;&lt;/if&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;/span&gt;

\&lt;&lt;if $WorldState.cultManor.westWing_ClearedRooms.length &gt;= 3&gt;&gt;
It is covered in a strange oil that forms three grand sigils.
Their glow is pulsating with unbriddled power. You can feel reality crumbling all around it.

\&lt;&lt;run setup.choice(&quot;[[Enter Apothus&#39;s Realm-&gt;Quest_MQ002_ApothusRealm_Entrance]]&quot;);&gt;&gt;

\&lt;&lt;else&gt;&gt;
It is covered in a strange oil that forms three grand sigils.
&lt;&lt;print &quot;You notice &quot; + $WorldState.cultManor.westWing_ClearedRooms.length + &quot; of them are glowing with a bright purple light.&quot;&gt;&gt;

\&lt;&lt;/if&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2332" name="Feed_The_Chosen_Final_Minotaur" tags="" position="225,29225" size="100,100">There are voices within Apothus that are clashing like two beasts fighting for survival.

You feel something deep within your core, something you&#39;ve experienced in the past already.
A feeling that you can align the chaos raging within him.

But this feeling resonates with a bond you&#39;ve forged before coming here, a loyal servant whose devotion remains unjustified.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_Minotaur_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2333" name="Feed_The_Chosen_Final_Minotaur_2" tags="" position="350,29225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;

He is here, looking up at you from the entrance of this realm.
Your feelings for him flare within your soul, and the black sun takes notice.

You reach out for it, with your body and soul.

The minotaur has seen the god hidden without the deepest parts of yourself, and the black sun reacts the same way.
Its otherworldly glow travels through the chosen and shoots out towards you like a hurling ball of fire.

\&lt;&lt;run setup.choice(&quot;[[Take Nyx for yourself-&gt;Feed_The_Chosen_Final_Minotaur_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2334" name="Feed_The_Chosen_Final_Minotaur_3" tags="" position="475,29225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

You roar, feeling the burning corruptive flame rushing through you.
Your lust is exponentially rising, your body throbs and pulses with an untammed, animalistic urge to &lt;span class=&quot;glitch nyx&quot; data-text=&quot;GROW CORRUPT&quot;&gt;fuck and spread&lt;/span&gt;.

But as the minotaur stares at you in absolute devotion, you feel in control.
Your eyes lock on the minotaur, your loyal guide. His cock is raging hard and his knees shake with excitement.
He eagerly waits for your commands.

\&lt;&lt;run setup.choice(&quot;[[Make him yours-&gt;Feed_The_Chosen_Final_Minotaur_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2335" name="Feed_The_Chosen_Final_Minotaur_4" tags="" position="600,29225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;span class=&quot;glitch nyx&quot; data-text=&quot;SERVE&quot;&gt;&quot;Suck.&quot;&lt;/span&gt;

The word thunders out in a voice that both is and is not your own. The single word is not a request, not even a command, but a fact.

Powerful lips wrap around your tool with an almost greedy fervour. 
The hot, wet cavern of the minotaur&#39;s mouth caresses every inch of your heavy shaft as it pushes deeper and deeper into his maw. 
His powerful bovine tongue drags across the underside of your shaft as it slides towards his throat. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_Minotaur_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2336" name="Feed_The_Chosen_Final_Minotaur_5" tags="" position="725,29225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Deeper and deeper your shaft slides. 
Yet even when his mouth is large enough to swallow you several times over, he struggles to take you all in. 
You could feel your girth stretching his lips and jaw to their absolute limit irrespective of actual size. 
The tip of your massive cock pushes agains his throat and forces itself through. 

\&lt;&lt;run setup.choice(&quot;[[Face fuck him-&gt;Feed_The_Chosen_Final_Minotaur_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2337" name="Feed_The_Chosen_Final_Minotaur_6" tags="" position="850,29225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You grab at his horns and thrust against his face, forcing every last inch of your impossibly filling cock into his mouth. 
His snout bumps against your groin, and you feel his hot breath blow across the sensitive skin as he struggles to breathe. 
Slowly, but with increasing speed, you begin to buck over and over into his mouth as if he were nothing more than a sex toy for you to use to your heart&#39;s content. 
To any other creature, those wicked horns are dangerous weapons, but to you, they are handlebars to use while giving him a good throat fucking. 

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;Feed_The_Chosen_Final_Minotaur_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2338" name="Feed_The_Chosen_Final_Minotaur_7" tags="" position="975,29225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You finally cum, and he doesn&#39;t even try to pull away. He pushes his face harder against your crotch. 

Slow, powerful breaths create intense suction around your immense shaft as if he were trying to inhale the flesh. 
You could hear the bobbing and gulping of his throat as he struggles to swallow down every spurt of cum. 

Pulse after pulse of your orgasm surges into him, each one visibly distending his belly several inches larger. 
But it wasn&#39;t just cum inflating the minotaur with each throb of your cock. For with your seed brings strength, power. 

With it comes the blessings of a corrupted god.

\&lt;&lt;run setup.choice(&quot;[[Unleash your blessings-&gt;Feed_The_Chosen_Final_Minotaur_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2339" name="Feed_The_Chosen_Final_Minotaur_8" tags="" position="1100,29225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
His body bulges obscenely with newfound power. 
Dark purple veins spider-web out from his engorged but rapidly shrinking gut, and in an instant, his muscles more than double in size. 

He falls down with a resounding crash as his legs shove themselves apart by the explosion of newfound meat forcing its way into his thigh muscles. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_Minotaur_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2340" name="Feed_The_Chosen_Final_Minotaur_9" tags="" position="1225,29225" size="100,100">His whole body writhes on the ground before you as he rolls over onto his front, thickening and swelling in disproportionate spurts that barely could barely even out before starting up again. 
But it isn&#39;t just his muscles that grow.

His body stretches out across the landscape at a frightening speed. 
Dozens, then hundreds of feet of newfound height pile on top of his increasing musculature every passing second. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_Minotaur_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2341" name="Feed_The_Chosen_Final_Minotaur_10" tags="" position="100,29350" size="100,100">Soon trees and nearby hills bulldoze out of the way of his impossibly growing bulk. 
His fists slam into the ground with enough force to crack deep open canyons in the landscape as he struggles to keep his body under control. 

His hips raise and, without thinking about it, thrust his titanic shaft.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_Minotaur_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2342" name="Feed_The_Chosen_Final_Minotaur_11" tags="" position="225,29350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Like spearing deep into the planet&#39;s rocky flesh, his dick pounds its way into the landscape hard enough to shake the ground for miles. 
A flood of pre explodes with enough volume to overflow the edges of the instantly-filled chasm. 

His hips rise then slam down again as his cock surges abruptly larger even in proportion to the rest of his enormity. 
But the third impact comes so much harder than the previous two. It isn&#39;t that the minotaur puts extra force into it; instead, you are the one thrusting. 

An irresistible weight settles on the growing titan as you lay down atop him and thrust your way deep into his ass.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_Minotaur_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2343" name="Feed_The_Chosen_Final_Minotaur_12" tags="" position="350,29350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
The thunderous groan escapes the minotaur&#39;s lips.
Arms as long as mountain ranges and fingers big enough to crush cities claw at the earth—the behemothian monster whimpers out incoherent, desperate moans.
The moans are muffled, then cut off as you grip the back of his head and shove the fledgling god&#39;s face into the dirt as you fuck him from behind. 

To be so massive, so unstoppably powerful, and still put in his place makes the minotaur nearly cum on the spot. 
Even now, as the beast grows beyond what any mortal could comprehend, beyond what any average mortal would consider a god unto themselves, the minotaur still knows his place beneath you. 

As your warrior. As your weapon. As your fucktoy. 

\&lt;&lt;run setup.choice(&quot;[[Breed him once more-&gt;Feed_The_Chosen_Final_Minotaur_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2344" name="Feed_The_Chosen_Final_Minotaur_13" tags="" position="475,29350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
\&lt;&lt;run setup.completeAchievement(&quot;Achievement_MemoriesOfTheMinotaur&quot;);&gt;&gt;
No matter how large he gets or how powerful he becomes, you are still superior. 
Every thrust into the titan&#39;s backside is unstoppable. Every push back against you only succeeds in bringing you more pleasure. 
Every grunt, growl, and groan declares superiority and dominance. A reminder that no matter how powerful he becomes, he would still be yours.

With a final thrust, you pin the minotaur to the land below. He, in turn, thrust deeper into the earth until the planet itself began to split apart. 
With a thunderous roar that shakes the gods themselves, you cum a second time. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Feed_The_Chosen_Final_Minotaur_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2345" name="Feed_The_Chosen_Final_Minotaur_14" tags="" position="600,29350" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;

Combined, the force of your collective orgasms shatters reality itself. You utter one more command to your minion before bursting out of this mortal realm.

\&lt;&lt;run setup.choice(&quot;[[Awaken, Tiadane-&gt;Ending]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2346" name="Quest_MQ002_Manor_MainHall_TalkMinotaur" tags="" position="725,29350" size="100,100">\&lt;&lt;run setup.updateMinoLust()&gt;&gt;
&lt;&lt;include setup.getMinoTalkMenuPassage()&gt;&gt;</tw-passagedata><tw-passagedata pid="2347" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Lust1" tags="" position="850,29350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

The minotaur is kneeling in a corner of the entrance.

He seems focused on keeping his own lust in check.

[[Ask what kind of monsters live here-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskMonsters_Lust1]]
[[Ask about this castle-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskCastle_Lust1]]
[[Ask why he is here-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskWhyHere_Lust1]]
[[Ask how he is feeling-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskFeeling_Lust1]]

\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2348" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskWhyHere_Lust1" tags="" position="975,29350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

&quot;Such is the will of Nyx. My master has tasked me to serve it for as long as I can remember.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2349" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskMonsters_Lust1" tags="" position="1100,29350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

&quot;I don&#39;t know much about them either.&quot;

He takes long steady breaths, as if to stop himself from thinking too much about this place.

&quot;All I know is, the things that hide in this castle are born of Nyx&#39;s never ending hunger for pleasure and power.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2350" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskCastle_Lust1" tags="" position="1225,29350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;

&quot;Right now it&#39;s a castle, but I&#39;ve seen it as a manor and a palace. Its size seems to constantly shift too.&quot;

He looks around with a hint of curiosity in his eyes.

&quot;Its ruler uses Nyx to shape reality around us. Their thoughts are ripples that Nyx strengthens into waves.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2351" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskFeeling_Lust1" tags="" position="100,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

&quot;Nyx&#39;s presence weighs heavily on my mind, but it is my duty to be here for the one who can take its power.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2352" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Lust2" tags="" position="225,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

The minotaur is breathing heavily in a corner of the entrance.

His cock is constantly hard, and he has taken his armor off completely.

[[Ask how he is feeling-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskFeeling_Lust2]]
[[Ask about the spawns of Nyx-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskMonsters_Lust2]]

\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2353" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskMonsters_Lust2" tags="" position="350,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;

&quot;They carry so much corruption and lust... Who knows how they feel?&quot;

He gropes his own cock and moans. Seems like he&#39;s lost in his own thoughts for now.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2354" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskFeeling_Lust2" tags="" position="475,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;blushing&quot;)&gt;&gt;

&quot;It&#39;s so warm here, and the light feels so good against my skin.&quot;

His cock throbs harder with every beat of his heart.

&quot;But I have a duty to fulfill, my lust has to wait.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2355" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Lust3" tags="" position="600,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;

His gaze is desperate, his breathing is fast and constantly interupted by long moans.

A potent aura of corruption is pulsing from his muscular naked body.

[[Ask how he is feeling-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskFeeling_Lust3]]
[[Ask about the spawns of Nyx-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_AskMonsters_Lust3]]

\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2356" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskMonsters_Lust3" tags="" position="725,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;

I&#39;ve had one come here just before. The way it crawled on my cock, pushed itself inside me.

He grasps his cock with both hands starts licking it. His tongue seems longer than you remember.

&quot;I&#39;ve never felt anything this &lt;span class=&quot;glitch nyx&quot; data-text=&quot;MOOOOOOOORE&quot;&gt;pleasurable~&lt;/span&gt;&quot;

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_1]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Stay back-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2357" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_AskFeeling_Lust3" tags="" position="850,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;

&quot;Gods... I could cum at any moment, paint this whole place with my seed. Everything here feels so good.&quot;

He grasps his balls and shivers.

&quot;Especially those slithering spawns. I took a few of them in me, god it felt amazing. I feel them pleasure my balls, pumping bigger.&quot;

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_1]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Stay back-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2358" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_1" tags="" position="975,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;

The corruptive light burns your skin, makes your cocks pulse with thunderous blasts of pleasure that spreads all over your body.
His eyes gaze at you with need as he flexes his pecs and drools.

&quot;I need this more than you can imagine.&quot; his eyes close and he pinches his nipples with both hands.

\&lt;&lt;run setup.choice(&quot;[[Grope his balls-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2359" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_2" tags="" position="1100,29475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;

You can feels the spawns of Nyx pleasuring his balls from within, pumping them bigger than ever.
His cock throbs like an angry beast.

&quot;Fuck me...&quot;

He reaches over and kiss you. His tongue reaches out deep into your mouth and desperately coils against yours.
\&lt;&lt;run setup.choice(&quot;[[Return the kiss-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2360" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_3" tags="" position="1225,29475" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You kiss back, join him in his infectious lust. He gives out a long, deep moan in response.

&quot;Please, take me.&quot;

He turns around and bends over. The minotaur truly is a sight to behold. The hulking, massive beast moaning and begging you to breed him.

\&lt;&lt;run setup.choice(&quot;[[Fuck him-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2361" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_4" tags="" position="100,29600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
He roars with pleasure as you thrust deep into him. His eyes glow bright enough to light up the whole room.
Screams of lust make the walls shake as your eyes begin to glow with Nyx&#39;s corrupted light. You feel it infest your thoughts, to make those worthy into lustful beasts of endless lust and power.

You grunts with pleasure, letting more of Nyx within your soul.
Stomping your feet downward, you crack the stone floor as you thrust deep into the minotaur&#39;s ass.

&quot;Gaahhhh!!! Gods... YES!&quot;

\&lt;&lt;run setup.choice(&quot;[[Fuck him harder-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2362" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_5" tags="" position="225,29600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
He flexes his whole body for you, pressuring his glutes around your cock before thrusting himself deeper on your cock.

&quot;Take me, cum in me. TAKE IT ALL!&quot;

You growl with pleasure as the ground bellow crumbles and breaks.

\&lt;&lt;run setup.choice(&quot;[[Cum inside him-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2363" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_6" tags="" position="350,29600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
With a thrust that would have broken lesser men, you force your pulsing cock balls deep and unleash the flood gates into him.

&quot;Please, take the black sun for yourself! BECOME A GOD AND MAKE ME YOUR LOYAL SERVANT!&quot;

Load after load of potent seed spurts inside him and oozes out, you press him closer to take it all, but it quickly pools under him from the sheer excess seeping out of his ass.
Your balls throb, they ache from the sheer amount they just unloaded, but the sheer lust built up within you makes them bulge and bloat with seed once more.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2364" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_7" tags="" position="475,29600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;cumming&quot;)&gt;&gt;

You pull out and grin at the mess you&#39;ve made. The monstrous minotaur pants and moans, his subsmissive instincts finally free for the both of you to enjoy.

\&lt;&lt;if $CharacterSheet_MQ002_Guard.quest.nyxPromise == false&gt;&gt;
\&lt;&lt;set $CharacterSheet_MQ002_Guard.quest.nyxPromise = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_Promise]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2365" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_Promise" tags="" position="600,29600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;
You glance up at the windowed ceiling and reminisce on the words of the minotaur.

This power could be &lt;span class=&quot;glitch nyx&quot; data-text=&quot;ALL YOURS&quot;&gt;yours...&lt;/span&gt;

\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 18)&gt;&gt;
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.PromiseOfServitude);&gt;&gt;
Δ: You gain 18 Corruption.
Δ: You gain the &quot;Promise of Servitude&quot; ability.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2366" name="Quest_MQ002_Manor_MainHall_TalkMinotaur_PromisedMenu" tags="" position="725,29600" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;happy&quot;)&gt;&gt;

&quot;This place has never been so active before. Your presence is awakenening the black sun.&quot;

His hands drift towards his balls as they throb and bulge. His cock hardens and he adjusts his legs to make room for its sheer bulk.

&quot;There&#39;s a fire within you, and I can&#39;t get enough of it. Take me once more. Please... I need this!&quot;

\&lt;&lt;run setup.choice(&quot;[[Approach him-&gt;Quest_MQ002_Manor_MainHall_TalkMinotaur_Sex_1]]&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2367" name="Quest_MQ002_MoveInsideGate" tags="" position="850,29600" size="100,100">\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
From your height, you can see what lies beyond the gate. A vast empty field with no end in sight.
\&lt;&lt;else&gt;&gt;
You stare &lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;in fascination&lt;&lt;else&gt;&gt;with apparent unease&lt;&lt;/if&gt;&gt; as the black light warps and darken the soft light of the torches besides the gate. 
Every blade of grass that touches the invading glow shakes and grows slightly in size. 
Soon they are blacker than the night surrounding you. They flail violently in all directions.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;
Your heart beats like a drum upon seeing the corruption you&#39;ve just witnessed. 
Who knows what it will do to you once you step through the gate?
\&lt;&lt;else&gt;&gt;
It feels like you are gazing at something from another world. One in which you do not belong...
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Fully Open the Gate-&gt;Quest_MQ002_MoveInsideGate_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Close it and Go Back-&gt;Quest_MQ002_Entrance_NoGuard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2368" name="Quest_MQ002_MoveInsideGate_2" tags="" position="975,29600" size="100,100">The old gate hard grinds along the corrupted soil. 

Deep, cold fog seeps out and cuts your breath short.

The strange light inevitably covers you as you push the gate fully open.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_MoveInsideGate_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2369" name="Quest_MQ002_MoveInsideGate_3" tags="" position="1100,29600" size="100,100">You stand beyond the gate and feel the infectious lust of the black sun all over your body.

\&lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;
Your corrupted body openly welcomes it... 
Lust rushes inside you as you open yourself to its dark temptation.
\&lt;&lt;else&gt;&gt;
Warm tingles softly pierce your exposed limbs. 
Even with the deep fog dimming it, you feel its influence seeping inside you.
Lustful images slowly appear in your thoughts.
\&lt;&lt;/if&gt;&gt;

The a strange warmth brushes over your skin. 
Moans resound in your mind as your cock throbs with need. 

It is calling to you...

∇: You gain the &quot;Touched by Nyx&#39;s Light&quot; ability for as long as you stay in this realm.
\&lt;&lt;run setup.MQ002_GiveNyxLightAbility()&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.knowsAboutNyx = true&gt;&gt;

\&lt;&lt;if $MQ002_LookedUpwards == undefined&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Look Upwards-&gt;Quest_MQ002_MoveInsideGate_LookUpwards]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if $MQ002_LookedAround == undefined&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Look Around You-&gt;Quest_MQ002_MoveInsideGate_LookAround]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go to the castle-&gt;Quest_MQ002_MoveInsideGate_3_GoToManor]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2370" name="Quest_MQ002_MoveInsideGate_LookUpwards" tags="" position="1225,29600" size="100,100">You look upwards...

You get a glance at what lies above, beyond the deep fog. 
A black star burns brightly, reaching everything with its unholy light. 
This glimpse is enough to make you grunt in pain, you instinctively close your eyes and look away. 

Yet the fierceness of the black sun keeps burning inside your pupils. Like it has imprinted itself in your mind.

∇: You gain 7 points of Corruption.
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 7)&gt;&gt;
\&lt;&lt;set $MQ002_LookedUpwards = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_MoveInsideGate_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2371" name="Quest_MQ002_MoveInsideGate_LookAround" tags="" position="100,29725" size="100,100">As your eyes burn from the strange corruptive light, you see the structure standing beyond the gate. 

\&lt;&lt;set $MQ002_LookedAround = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_MoveInsideGate_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2372" name="Quest_MQ002_MoveInsideGate_3_GoToManor" tags="" position="225,29725" size="100,100">From under the gaze of the black star, you push forward to the large edifice.

As you approach, it becomes clear that the structure is a large castle.
What is even more striking than its formidable stature is its condition. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_Entrance_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2373" name="Quest_MQ002_Manor_Entrance_2" tags="" position="350,29725" size="100,100">\&lt;&lt;if $CharacterSheet_MQ002_Guard.quest.movedToCastle == false&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_Guard, &quot;normal&quot;)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
It looks like the structure was built recently, with otherworldly jet black stones more fabulous than any material you&#39;ve seen in the Barrens.
Golden glyphs and markings curl up and rise along the contour of its silhouette.

\&lt;&lt;if setup.MQ002_Manor_HasBrokenPartOfManor()&gt;&gt;
Yet the previously imposing structure now shows damage beyond repair.

\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if $WorldState.cultManor.mainHall.isBroken&gt;&gt;
You walk along an unusually clean cobblestone path to reach the destroyed entrance of the castle. 
\&lt;&lt;else&gt;&gt;
You walk along an unusually clean cobblestone path to reach the castle&#39;s entrance. 
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;if $CharacterSheet_MQ002_Guard.quest.movedToCastle == false&gt;&gt;
\&lt;&lt;set $CharacterSheet_MQ002_Guard.quest.movedToCastle = true&gt;&gt;

The minotaur silently takes the lead and enters the castle.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
&lt;&lt;include Quest_MQ002_Manor_Entrance_Massive&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;include Quest_MQ002_Manor_Entrance_Normal&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2374" name="Quest_MQ002_Manor_Entrance_Normal" tags="" position="475,29725" size="100,100">\&lt;&lt;run setup.choice(&quot;[[Enter the castle-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back to the Gate-&gt;Quest_MQ002_Entrance_NoGuard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2375" name="Quest_MQ002_Manor_Entrance_Massive" tags="" position="600,29725" size="100,100">\&lt;&lt;if $WorldState.cultManor.mainHall.isBroken&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Enter the castle-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
The door is too small for you to get in.
There&#39;s really only one way to get inside with your current size.

\&lt;&lt;run setup.choice(&quot;[[Barge In-&gt;Quest_MQ002_Manor_Entrance_Massive_BargeIn]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back to the Gate-&gt;Quest_MQ002_Entrance_NoGuard]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2376" name="Quest_MQ002_Manor_Entrance_Massive_BargeIn" tags="" position="725,29725" size="100,100">\&lt;&lt;if setup.getStatValue($CharacterSheet_Player, &quot;corruption&quot;) &lt; 50&gt;&gt;
You pull the door off its frame with relative ease, but trying to get by causing as little damage as possible is not so easy.
\&lt;&lt;else&gt;&gt;
You grin and rip the door off its frame like it&#39;s nothing. Seeing how small the castle is to you makes your cock throb... 
\&lt;&lt;/if&gt;&gt;

The whole face of the structure cracks and groans as you lift the roof off like it&#39;s a dollhouse. 
The foundation of black stones and wood shatters under your might.

\&lt;&lt;run setup.choice(&quot;[[Enter the castle-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2377" name="MQ002_Manor_WestWing_Entrance" tags="" position="850,29725" size="100,100">The door to the room is plain and unassuming. As you reach for the handle, you feel the castle shift and change. 
Wood grain warps and swirls, and the metal handle turns to liquid. 

The door opens of its own accord, revealing a shifting, changing landscape beyond. The floor undulates and the walls move like ripples in water. 

What lies beyond is in a state of flux, and it&#39;s impossible to tell what will happen next.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2378" name="MQ002_Manor_WestWing_Ending" tags="" position="975,29725" size="100,100">As the door opens, the room seems to grow larger and the walls move further apart. 
The ceiling becomes higher and darker, and the floor turns to cold stone. 

The air is thick with tension and evil, but it is familiar as well. 

You recognize the main hall of the castle taking shape before your eyes.

\&lt;&lt;run setup.choice(&quot;[[Go Back-&gt;Quest_MQ002_Manor_MainHall]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2379" name="Quest_MQ002_Manor_WestWing_Path" tags="" position="1100,29725" size="100,100">\&lt;&lt;set $CharacterSheet_MQ002_NyxParasite.info.height = setup.getStatValue($CharacterSheet_Player, &quot;cock&quot;) * 3&gt;&gt;
\&lt;&lt;if setup.MQ002_Manor_RandomEncounter()&gt;&gt;\
&lt;&lt;include Quest_MQ002_Manor_WestWing_Path_SeeParasite&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;if $WorldState.cultManor.westWingHallway.isBroken&gt;&gt;
Your destruction is apparent, the previously glamourous hall is now completely destroyed by your gigantic form.

\&lt;&lt;run setup.choice(&quot;[[Move to the Next Wing-&gt;$MQ002_Manor_Destination]]&quot;);&gt;&gt;
\&lt;&lt;elseif setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
Your gigantic form cannot be contained by the hallway leading to the next wing.
With every step, stones and wood flies out in a destructive display of sheer size and power. 
\&lt;&lt;set $WorldState.cultManor.westWingHallway.isBroken = true&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Barge in-&gt;$MQ002_Manor_Destination]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
The hallway is eerily quiet. 
Your footsteps echo along the large corridor until you reach a single door at the end.

\&lt;&lt;run setup.choice(&quot;[[Open the door-&gt;$MQ002_Manor_Destination]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2380" name="Quest_MQ002_Manor_WestWing" tags="" position="1225,29725" size="100,100">The stand of the west wing&#39;s living room is impressive. You assume it could host more than two dozen guests.

Yet some things strike you as odd. The room is empty of any sign of being lived-in.
Other than the slow waving of curtains in front of half-open windows, it seems frozen in time.

After some examination, the only thing of interest here is a door leading further west.

\&lt;&lt;run setup.choice(&quot;[[Enter the Room-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;
\&lt;&lt;set $MQ002_Manor_Destination = &quot;Quest_MQ002_Manor_MainHall&quot;&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go Back to the Main Hall-&gt;Quest_MQ002_Manor_WestWing_Path]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2381" name="WestWing_DrenthRoom" tags="" position="100,29850" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_MQ002_DragonMonk.encounterPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="2382" name="Quest_MQ002_Manor_DragonRoom_Enter" tags="" position="225,29850" size="100,100">You carefully enter the next room, and instantly recognize the place where you encountered the aggressive Dragonborn.

\&lt;&lt;if $CharacterSheet_MQ002_DragonMonk.quest.infected == true || $CharacterSheet_MQ002_DragonMonk.quest.beaten == true&gt;&gt;
It is strangely quiet.
\&lt;&lt;else&gt;&gt;
He notices you coming in.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2383" name="Quest_MQ002_Manor_DragonRoom" tags="" position="350,29850" size="100,100">\&lt;&lt;if $CharacterSheet_MQ002_DragonMonk.quest.infected == true&gt;&gt;
The master bedroom is empty but the smell of Drenth&#39;s cum still lingers in the air...

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Quest_MQ002_Manor_DragonRoom_Leave]]&quot;);&gt;&gt;
\&lt;&lt;elseif $CharacterSheet_MQ002_DragonMonk.quest.beaten == true&gt;&gt;
The master bedroom is empty...

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Quest_MQ002_Manor_DragonRoom_Leave]]&quot;);&gt;&gt;
\&lt;&lt;elseif $CharacterSheet_MQ002_DragonMonk.quest.threatened == true&gt;&gt;
\&lt;&lt;include Quest_MQ002_Manor_DragonRoom_Threatened&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;include Quest_MQ002_Manor_DragonRoom_Safe&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2384" name="Quest_MQ002_Manor_DragonRoom_Threatened" tags="" position="475,29850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;include Quest_MQ002_Manor_DragonRoom_ParasiteHint&gt;&gt;

&quot;Why won&#39;t you just leave this cursed place behind?&quot;

He jumps back and raises his arms into an attack stance.

&quot;Leave me be or fight...&quot;

\&lt;&lt;run setup.choice(&quot;[[Fight him-&gt;Quest_MQ002_Manor_DragonRoom_Fight]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Quest_MQ002_Manor_DragonRoom_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2385" name="Quest_MQ002_Manor_DragonRoom_ParasiteHint" tags="" position="600,29850" size="100,100">\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0&gt;&gt;
The dragonborn hunches over slightly.
He seems in pain, but there doesn&#39;t seem to be any visible wounds on his body.
\&lt;&lt;else&gt;&gt;
The dragonborn hunches over slightly.
He seems in pain, a pain you recognize all too well.

You can see his veins pulsating, his expression of pain mixed with arousal, the subtle bulge throbbing along his tunic.
It feels like spawns of Nyx are within his body as well. Your own spawns press on your balls and prostate excitedly.
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2386" name="Quest_MQ002_Manor_DragonRoom_Safe" tags="" position="725,29850" size="100,100">\&lt;&lt;if setup.MQ002_HasIntactOath()&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;include Quest_MQ002_Manor_DragonRoom_ParasiteHint&gt;&gt;

\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0 &amp;&amp; $CharacterSheet_MQ002_DragonMonk.quest.askedWhoAreYou&gt;&gt;
&lt;span class=&quot;glitch&quot; data-text=&quot;Spread your spawns...&quot;&gt;[[Spread your spawns...-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim]]&lt;/span&gt;
\&lt;&lt;else&gt;&gt;
[[Ask about him-&gt;Quest_MQ002_Manor_DragonRoom_WhoAreYou]]
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0 &amp;&amp; $CharacterSheet_MQ002_DragonMonk.quest.askedWhyAreYouHere&gt;&gt;
&lt;span class=&quot;glitch&quot; data-text=&quot;Fill him with spawns...&quot;&gt;[[Fill him with spawns...-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim]]&lt;/span&gt;
\&lt;&lt;elseif $CharacterSheet_MQ002_DragonMonk.quest.askedWhoAreYou&gt;&gt;
[[Ask why he is here-&gt;Quest_MQ002_Manor_DragonRoom_WhyAreYouHere]]
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0 &amp;&amp; $CharacterSheet_MQ002_DragonMonk.quest.askedLookingForSomeone&gt;&gt;
&lt;span class=&quot;glitch&quot; data-text=&quot;Let your spawns take him over...&quot;&gt;[[Let your spawns take him over...-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim]]&lt;/span&gt;
\&lt;&lt;elseif $CharacterSheet_MQ002_DragonMonk.quest.askedWhyAreYouHere &amp;&amp; !$CharacterSheet_MQ002_DragonMonk.quest.askedLookingForSomeone&gt;&gt;
[[Tell him that you&#39;re looking for someone-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone]]
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &gt; 0&gt;&gt;
[[Infest Him Further...-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim]]
\&lt;&lt;/if&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;Quest_MQ002_Manor_DragonRoom_Fight]]&quot;);&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Quest_MQ002_Manor_DragonRoom_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2387" name="Quest_MQ002_Manor_DragonRoom_Reassure" tags="" position="850,29850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;
\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
\You tell him that you&#39;re not here to fight, but your massive body is intimidating nevertheless.

\&lt;&lt;else&gt;&gt;
\You tell him that you&#39;re not here to fight, but he seems troubled nevertheless.

\&lt;&lt;/if&gt;&gt;
&quot;G-Gugh... What do you want from me?&quot; He mutters under heavy breaths as he presses his hand on his forehead.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_Safe]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2388" name="Quest_MQ002_Manor_DragonRoom_WhyAreYouHere" tags="" position="975,29850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

The back of the dragonborn slides down the base of the bedframe until he hits the floor with an audible thud.

&quot;It&#39;s a long story...&quot; He says, his lower body gets engulfed by the layer of fog covering the floor.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_WhyAreYouHere_2_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2389" name="Quest_MQ002_Manor_DragonRoom_WhyAreYouHere_2_1" tags="" position="1100,29850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;

&quot;I was sent here to get rid of the master of this realm, a vile monster of a dragonborn named Apothus.&quot;

Just saying the name seems to disgust him, like there is poison in the word itself.

&quot;I came here and confronted him for his crimes against our values, hoping he could be reasoned with.
But his greed for power blinded him, ever since he came here and gazed upon the Black Sun, he was lost to the our tribe.&quot; He sighs, those memories look heavy on his soul.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_WhyAreYouHere_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2390" name="Quest_MQ002_Manor_DragonRoom_WhyAreYouHere_2" tags="" position="1225,29850" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;

&quot;And so we fought. I&#39;d beat him without mercy, and wait for him to show his pathetic self to the gate of Nyx&#39;s once more.
He&#39;d show up within a few days, always more corrupted, more muscular and more monstrous.&quot; His previously proud tone suddenly drops.

&quot;It reached a point where I couldn&#39;t stop him. He went back to Nyx and gave himself to its corruption.
He... Changed. Became an abomination, one who spawned horrors and beasts to spread depravity across the Barrens.&quot; His voice grows quieter.

&quot;I had to put a stop to this, so for days, I tried to fight my way in.&quot;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_WhyAreYouHere_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2391" name="Quest_MQ002_Manor_DragonRoom_WhyAreYouHere_3" tags="" position="100,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;

&quot;But one day, rumours of an important ritual managed to reach me; this was my chance to strike.
I managed to sneak in, and as I thought, these cursed halls were empty. Every member of this horrible cult was in Apothus&#39;s personal realm.
And so... I made a ritual of my own, one to seal off their only exit.&quot; He grinned through the pain in triumph.

&quot;Only I can ever free these monsters from their prison now... As long as I keep my oath, they can&#39;t escape.&quot;

\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.askedWhyAreYouHere = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2392" name="Quest_MQ002_Manor_DragonRoom_WhoAreYou" tags="" position="225,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

He begins to calm down a little.

&quot;The name&#39;s Drenth, Drenth of Kaldir&quot; He pauses.

&quot;Look, I don&#39;t know why you&#39;re here, but... There&#39;s evil sealed within these halls. And even with its power contained, it still sends monsters here, hoping they&#39;ll corrupt us into abominations like them.&quot;

He sighs deeply, dispersing the fog somewhat.

&quot;Maybe it would be best for you to leave.&quot;

\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.askedWhoAreYou = true&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2393" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone" tags="" position="350,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

&quot;And who could this person be? We&#39;re the only beings with an ounce of sanity remaining here...&quot;

You describe him Cray&#39;s appearance down to the most minute detail, down to the scars laid across his sturdy build.
Everyone in the Golden Bastion knows stories about him, of how hundreds of expeditions have turned him into the mountain of a man he is today.
Of how even the most dangerous beasts would flee upon seeing the bright blue eyes behind his full iron helmet.

Drenth stayed silent, just for long enough to make it worrying.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2394" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_2" tags="" position="475,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

&quot;This ritual I mentioned... Your friend was there.&quot;

Your eyes widen.

&quot;And from what I heard of what this ritual was meant to be, he was a centrepiece in it.&quot; He pauses slightly.

&quot;This cult looked for a warrior who could become a host to Nyx, the Black Sun itself.
And from what I saw, it did not look like he was here against his will either...&quot;

Drenth cuts himself short.

&quot;Look, no matter what happened to him, you can assume he&#39;s gone. Keeping all of them sealed here is the only way to keep the world safe...&quot;

[[Let him know that you need to save him-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_SaveHim]]
[[Give up-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_GiveUp]]</tw-passagedata><tw-passagedata pid="2395" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_SaveHim" tags="" position="600,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;

You firmly believe that Cray can still be saved, but Drenth does not look convinced.

&quot;Absolutely not.&quot;

Drenth shakes his head, a hint of anger rises within him.

&quot;I did not spend this long protecting this seal only to break it. This is a risk I just can&#39;t take, do you even know how dangerous these monsters are?&quot;

[[Tell him that you can take them on-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_SaveHim_2]]
[[Agree with him-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_GiveUp]]</tw-passagedata><tw-passagedata pid="2396" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_SaveHim_2" tags="" position="725,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

Drenth glances at you, examining your body. He tries to hide how impressed he is...

&quot;Even if you did, some of them could escape&quot;

His tone weakens.

&quot;Why would we ever take that risk?&quot; He says as his voice lowers, pleading you to not do this.

[[Tell him to reactivate your seal once you enter their realm-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_SaveHim_3]]
[[Stop pressing-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_GiveUp]]</tw-passagedata><tw-passagedata pid="2397" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_SaveHim_3" tags="" position="850,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;

&quot;You&#39;re insane... This would mean sealing you with them forever...&quot; He sighs.
A long silence seeps in as the dragonborn ponders. He seems to be looking at his arm.

&quot;I hate myself for offering you this, but I don&#39;t think you can be reasoned with.&quot;

Drenth unsheathes a dagger and brings it to his hand.

&quot;Among our tribe, an oath is more powerful than any kind of magic. By promising to protect our virtues, you could pass the blockade.&quot;

He looks at you, the strength of his beliefs burning bright in his eyes.

[[Make an oath with Drenth-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath]]
[[Refuse his proposal-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_RefuseOath]]</tw-passagedata><tw-passagedata pid="2398" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath" tags="" position="975,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

&quot;For as long as you strive to fight Nyx&#39;s corruption, you shall be allowed through my seals.&quot;

He slashes his own hand, blood quickly gushing from the open wound.

&quot;For as long as your cause is virtuous, I will respect it.&quot;

You present your hand to him and flinches as the dagger enters your flesh.
He then presses his scaled hand on yours, his cold blood quickly pools with your own.

&quot;Through the chain of our oath, we will remain strong, free from temptation.&quot;

[[Hold his hand tightly-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath_2]]</tw-passagedata><tw-passagedata pid="2399" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath_2" tags="" position="1100,29975" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

You feel a burning sensation rise from your palm.

&quot;Don&#39;t let go...&quot; Drenth says firmly.

It feels like keeping your hand over fire, you clench your teeth as the pain suddenly moves.
Like molten lava coursing through a trench, the pain spreads up to your wrist.

[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath_3]]</tw-passagedata><tw-passagedata pid="2400" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath_3" tags="" position="1225,29975" size="100,100">You can hear your flesh sizzling as black marks slowly form around your hands.

They swirl, burning every inch of skin they come upon, and spread outwards toward your arm.
You breathe faster, the pain is becoming too hard to bear as the marks circle up towards your bicep.
Then they slow down; they revolve around your arm, slow enough for you to discern what they represent.

They form into series of black chains that coil around your bicep.

[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath_4]]</tw-passagedata><tw-passagedata pid="2401" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_MakeOath_4" tags="" position="100,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

You look up to Drenth to see the same tattoo locking on his arm as well, only his chain is just the newest among countless others.
He simply nods as he lets go of your hand. The burning sensation slowly fades, but you feel an unnatural tightness around the limb.

&quot;The entrance to Apothus&#39;s realm is the golden monolith at the entrance of this cursed manor. Just know that our oath is sacred, breaking it is not an option.&quot;

He then lets his hand drop to his side. This whole ordeal seems to have taken a toll on him.
\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.askedLookingForSomeone = true&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.oaths.drenth = setup.Oath.ACTIVE&gt;&gt;

\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.Oath_Containment);&gt;&gt;

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_DrenthRoom&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2402" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_RefuseOath" tags="" position="225,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

&quot;I must say, I was hoping you&#39;d refuse. Please leave me be now, this is the only way to make sure their evil doesn&#39;t spread.&quot;

He gives you an empathic look before hunching back in pain again.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2403" name="Quest_MQ002_Manor_DragonRoom_ImLookingForSomeone_GiveUp" tags="" position="350,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

&quot;I know it&#39;s hard, but this is the only way to make sure their evil doesn&#39;t spread.&quot;

He gives you an empathic look before hunching back in pain again.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2404" name="Quest_MQ002_Manor_DragonRoom_InfestHim" tags="" position="475,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;almostCumming&quot;)&gt;&gt;

Something within you throbs with need. It&#39;s your spawns, they aggressively shake and swirl within your balls.

Gallons of aphrodisiac course within you as they respond to the sweet smell of virtuousness.

You moan as you feel your cock and balls expand.
They pulsate so hard it looks like they are flexing, your breath quickens as your heart beats faster and faster.

The dragonborn looks on with despair until he suddenly doubles over.

\&lt;&lt;run setup.choice(&quot;[[Feel his spawns Awaken-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2405" name="Quest_MQ002_Manor_DragonRoom_InfestHim_2" tags="" position="600,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;almostCumming&quot;)&gt;&gt;

&quot;Ghhhh... No... Not now!&quot; He yells as his cups his own bulge frantically.

But soon even he can&#39;t resist the potent nectar of his own spawns.
He moans, quietly at first, until he unbuttons his tunic in a panic.

&quot;U-uhh... HHHhh... Fo-forgive me, gods... GAHHHhhh!&quot;

\&lt;&lt;run setup.choice(&quot;[[Gaze at his Growing Cock-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2406" name="Quest_MQ002_Manor_DragonRoom_InfestHim_3" tags="" position="725,30100" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.naked = true&gt;&gt;
&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;almostCumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
He fails to remove his pants in time before his cock bursts out of them.

Your mouth waters at the sight of the &lt;&lt;charLimbDesc $CharacterSheet_MQ002_DragonMonk &#39;cocks&#39;&gt;&gt;.
It&#39;s already glistening with pre, it looks... Perfect.

You come closer as your balls expand even more...
The dragonborn looks at you in a mix of confusion and arousal, he tries to speak, but only moans come out of his mouth.

\&lt;&lt;run setup.choice(&quot;[[Ease him into it-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2407" name="Quest_MQ002_Manor_DragonRoom_InfestHim_4" tags="" position="850,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;almostCumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
A long deep moan escapes him as you utter these words.
He gives himself away to your &lt;&lt;LimbDesc &#39;pecs&#39;&gt;&gt; and &lt;&lt;LimbDesc &#39;abdominals&#39;&gt;&gt;.

You caress the back of his head and then kiss him deeply.

Your &lt;&lt;LimbDesc &#39;tongues&#39; &#39;thrusts~thrust&#39;&gt;&gt; deep into his throat, his lust is intoxicating.
Just like yours, his &lt;&lt;charLimbDesc $CharacterSheet_MQ002_DragonMonk &#39;cocks&#39; &#39;throbs~throb&#39;&gt;&gt; aggressively.
Through the pulses you feel along your fingers, you know now that not only blood travels through those veins.

The dragonborn stares at your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; he marvels at the size and girth.

&quot;Please... I... I...&quot; He mutters.

\&lt;&lt;run setup.choice(&quot;[[Rub your cock on him-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2408" name="Quest_MQ002_Manor_DragonRoom_InfestHim_5" tags="" position="975,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;cumming&quot;)&gt;&gt;
You rub your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; on his abs, his moans extend, grow more profound.

You present your &lt;&lt;LimbDesc &#39;cocks&#39;&gt;&gt; to him.
\&lt;&lt;set _oneCock = setup.DESC.getLimbDesc($CharacterSheet_Player, &#39;cocks&#39;, {num:1})&gt;&gt;

He draws his head to the tip of &lt;&lt;print _oneCock&gt;&gt;, his whole body shaking in utter need. He kisses it softly, just enough to have a taste.
A small amount of pre touches his tongue, he can feel them, their essence in your seed.

He wants more...

\&lt;&lt;run setup.choice(&quot;[[Give him more...-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2409" name="Quest_MQ002_Manor_DragonRoom_InfestHim_6" tags="" position="1100,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
His tongue drenches your glans, he tastes every inch before taking it all in. You feel him pushing down your slit, reaching down toward his prize.

He cups your &lt;&lt;LimbDesc &quot;balls&quot;&gt;&gt;, feeling the spawns inside, caressing them.

&quot;HHNNnnnn...&quot;

You feel them respond, they course through your balls and slither up towards your &lt;&lt;LimbDesc &quot;cocks&quot;&gt;&gt;
The feeling is more than orgasmic. You feel complete, like spreading the spawns is your reason for existing.

&quot;T-Take me...&quot;

The dragonborn fully gives in.
He can feel them bulging along your shaft, he sucks like his life depends on it, his tongue reaching deep within your cock.

\&lt;&lt;run setup.choice(&quot;[[Let the spawns out-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2410" name="Quest_MQ002_Manor_DragonRoom_InfestHim_7" tags="" position="1225,30100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;cumming&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
\&lt;&lt;set _ballDesc = setup.DESC.getLimbDesc($CharacterSheet_Player, &#39;balls&#39;, {cust_adj: &quot;churning&quot;,verb:[&#39;throbs&#39;,&#39;throb&#39;], adj_limit:0})&gt;&gt;
\
You feel them rising up, inch by inch as your &lt;&lt;LimbDesc &quot;teeths&quot;&gt;&gt; clench. The pressure keeps building, his tongue reaches deeper.
He gazes at you, with a deranged arousal burning in his eyes. His slurping moans grow louder and louder as he feels small spawns moving along your veins.

And finally, you feel it coming. You pull his head in, as deep as his body allows it, and you roar.

You roar as an all-embracing orgasm breaks out. Your &lt;&lt;print _ballDesc&gt;&gt; as liters of cum pumps out of you.
The dragonborn unleashes a muffled roar himself as his load shoots up your &lt;&lt;LimbDesc &#39;abdominals&#39;&gt;&gt; and pools under your &lt;&lt;LimbDesc &#39;pecs&#39;&gt;&gt;.
Your head thrashes back, only for another load to shoot out, making you roar even more passionately.

And then you feel it. Something monstrous moving along your shaft, your urethra widens more and more...
The dragonborn grins. He caresses the base, pressures it to keep moving. Every inch it travels shocks you with inhuman pleasure.
Your roars turn into ecstatic moans.

You moan and moan as it keeps slithering up to your slit. The dragonborn pulls back and grins madly.
A large spawn shaped like a &lt;&lt;PlayerRace&gt;&gt;&#39;s cock stretches your slit to its limit. It seems to have evolved with the time it passed inside you.

&quot;Fuck... Yessssss...&quot; The dragon moans.

\&lt;&lt;run setup.choice(&quot;[[Infest him Further...-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2411" name="Quest_MQ002_Manor_DragonRoom_InfestHim_8" tags="" position="100,30225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;unique&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
His mind is already made up, he opens his mouth and rolls out his tongue, licking his lips sensually.
You scream in pleasure as your spawn pulls itself out of you.

It slithers like a snake towards the dragon&#39;s open mouth and immerses itself in.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_8_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2412" name="Quest_MQ002_Manor_DragonRoom_InfestHim_8_1" tags="" position="225,30225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_MQ002_DragonMonk.info.pictureCorrupt)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
His eyes roll in the back of his head as pleasure overwhelms him, he cums once again.

Thick white creamy seed full of his own spawns bursts onto your &lt;&lt;LimbDesc &quot;pecs&quot;&gt;&gt; as the monster fully enters him.

&quot;Ahhhhhh... This feels amazing...&quot; He moans as he attempts to catch his breath.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_8_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2413" name="Quest_MQ002_Manor_DragonRoom_InfestHim_8_2" tags="" position="350,30225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_MQ002_DragonMonk.info.pictureCorrupt)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
&quot;Hmmm... Haaahahahaaha... YESSSS...&quot; The dragonborn laughs madly as his right arm suddenly starts glowing.
A fiery light fills the room as he tears off his tunic to ribbons.

Your eyes widen as you see the source of this burning light.
Numerous tattoos, all of them resembling chains, burn the dragonborn&#39;s skin. Like they are made of molten lava.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_8_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2414" name="Quest_MQ002_Manor_DragonRoom_InfestHim_8_3" tags="" position="475,30225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_MQ002_DragonMonk.info.pictureCorrupt)&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
&quot;Feels so good to give in...&quot; He exclaims as his tattoos break, all at the same time. Each link of every chain burst into fragments of ink under his skin.

&quot;To finally be free.&quot;

He peers at you, deep into your eyes, no longer is he tired or in pain. He looks ready to bring the world its knees.

&quot;I feel so alive... And it&#39;s all thanks to you.&quot;

\&lt;&lt;run setup.breakOath(&quot;drenth&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Kiss him wildly-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2415" name="Quest_MQ002_Manor_DragonRoom_InfestHim_10" tags="" position="600,30225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_MQ002_DragonMonk.info.pictureCorrupt)&gt;&gt;
You both pull each other into a deep, messy kiss. Your &lt;&lt;LimbDesc &quot;tongues&quot; &#39;wrestles~wrestle&#39;&gt;&gt; his own as you cup each others balls lovingly.

He then pushes back and snickers.

&quot;With all my oaths broken,&quot; He trails his broken tattoos with his fingers. &quot;The evils of this place really have nothing to stop them anymore...&quot;
He looks affected by this, but at the same time. It also feels like these aren&#39;t his concerns anymore.

He cups his balls once more while fixating your own.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom_InfestHim_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2416" name="Quest_MQ002_Manor_DragonRoom_InfestHim_11" tags="" position="725,30225" size="100,100">&lt;&lt;print setup.displayEncounterImage($CharacterSheet_MQ002_DragonMonk.info.pictureCorrupt)&gt;&gt;
&quot;The monolith at the entrance, this is where the leader of this cult lies.&quot; A grin slowly rises across his mouth.

&quot;You look strong enough to take them on. Please, get rid of their leader for me, for all the time he made me waste in this rotten hell.&quot;

He stands up, giving you one last look before heading to the door.

&quot;I&#39;ll be seeing you around, the Barrens is a small place after all...&quot;

As his smile grows, two tongues roll down. They are thicker and longer than ever before.

&quot;And now that I&#39;m free, I have endless of pleasure ahead of me.&quot;
\&lt;&lt;run setup.changeLimbsNumber($CharacterSheet_MQ002_DragonMonk,&quot;tongues&quot;, 2, setup.mod.ATLEAST)&gt;&gt;
\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.infected = true&gt;&gt;
\
\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_DrenthRoom&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_DragonRoom]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2417" name="Quest_MQ002_Manor_DragonRoom_Fight" tags="" position="850,30225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;
&quot;I should have known you were just another monster.&quot;

He jumps back and raises his arms into an attack stance.

&quot;This is your last warning, leave me be or fight...&quot;

\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.threatened = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_DragonMonk]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;Quest_MQ002_Manor_DragonRoom_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2418" name="Quest_MQ002_Manor_DragonRoom_Leave" tags="" position="975,30225" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;

The massive door at the end of the bedroom shakes and pulses as you approach, as if what lies beyond shifts and warps to better suit your current self.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="2419" name="WestWing_DrenthRoom_FirstTime" tags="" position="1100,30225" size="100,100">\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.available_encounterPassages_firstTime = false&gt;&gt;\
&lt;&lt;include WestWing_DrenthRoom_BreakRoof&gt;&gt;
The copper-colored floor is swarmed by fog.
The only things not engulfed in it are the grand bed at the center of the room and a person beside its base.

Sitting flat with his head looking down. The bright blue scales of his arms shine through the fog of the room.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_DrenthRoom_FirstTime_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2420" name="WestWing_DrenthRoom_FirstTime_2" tags="" position="1225,30225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;angry&quot;)&gt;&gt;

He suddenly lifts his head up, as if he had just awoken from a nightmare.
His slitted, draconic eyes meet with yours, and he pulls back slightly.

&quot;Who are you?&quot; He says with a cracking voice as he stands on his clawed, scaly feet.

He looks very nervous, but his movement is graceful and precise. His long grey tunic lands upon the thick layer of fog.
Based on his clothing and posture, he looks like a monk of some kind.

\&lt;&lt;run setup.choice(&quot;[[Attempt to Reassure Him-&gt;Quest_MQ002_Manor_DragonRoom_Reassure]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;Quest_MQ002_Manor_DragonRoom_Fight]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2421" name="WestWing_DrenthRoom_FirstTime_Came" tags="" position="100,30350" size="100,100">\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.available_encounterPassages_firstTime = false&gt;&gt;\
&lt;&lt;include WestWing_DrenthRoom_BreakRoof&gt;&gt;
Hanging on the far wall is a massive, detailed painting of a panther-shaped Lost. 
The detail of their musculature is exceptionally elaborate, making their muscles appear to bulge and strain against the skin and fur containing them as if the image itself were a living thing. 

Drool drips from their chin as their bright yellow-painted eyes hungrily stare out into the empty room as if waiting for someone willing to satiate their lust.

The smell of freshly spilled seed hits you as you step in.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_DrenthRoom_FirstTime_Came_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2422" name="WestWing_DrenthRoom_FirstTime_Came_2" tags="" position="225,30350" size="100,100">The copper-colored floor is swarmed by fog.
The only things not engulfed in it are the grand bed at the center of the room and a person beside its base.

Sitting flat with his head looking down. The bright blue scales of his arms shine through the fog of the room.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_DrenthRoom_FirstTime_Came_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2423" name="WestWing_DrenthRoom_FirstTime_Came_3" tags="" position="350,30350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;blushing&quot;)&gt;&gt;

He suddenly lifts his head up, as if he had just awoken from a nightmare. 
His slitted, draconic eyes meet with yours, and he freezes.

&quot;I... uh.&quot; He says with a cracking voice as he stands on his clawed, scaly feet.

He looks slightly nervous, but his movement is graceful and precise. His long grey tunic lands upon the thick layer of fog.
Based on his clothing and posture, he looks like a monk of some kind.

You feel like you recognize his voice.

\&lt;&lt;run setup.choice(&quot;[[Attempt to Reassure Him-&gt;Quest_MQ002_Manor_DragonRoom_Reassure]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;Quest_MQ002_Manor_DragonRoom_Fight]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2424" name="WestWing_DrenthRoom_FirstTime_Infected" tags="" position="475,30350" size="100,100">\&lt;&lt;set $CharacterSheet_MQ002_DragonMonk.quest.available_encounterPassages_firstTime = false&gt;&gt;\
&lt;&lt;include WestWing_DrenthRoom_BreakRoof&gt;&gt;
Hanging on the far wall is a massive, detailed painting of a panther-shaped Lost. 
The detail of their musculature is exceptionally elaborate, making their muscles appear to bulge and strain against the skin and fur containing them as if the image itself were a living thing. 

Drool drips from their chin as their bright yellow-painted eyes hungrily stare out into the empty room as if waiting for someone willing to satiate their lust.

You are basked in the smell of freshly released spawns of Nyx.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_DrenthRoom_FirstTime_Infected_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2425" name="WestWing_DrenthRoom_FirstTime_Infected_2" tags="" position="600,30350" size="100,100">The copper-colored floor is swarmed by fog.
The only things not engulfed in it are the grand bed at the center of the room and a person beside its base.

Sitting flat with his head looking down. The bright blue scales of his arms shine through the fog of the room.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_DrenthRoom_FirstTime_Infected_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2426" name="WestWing_DrenthRoom_FirstTime_Infected_3" tags="" position="725,30350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_DragonMonk, &quot;cumming&quot;)&gt;&gt;
He suddenly lifts his head up, as if he had just woken. 
His slitted, draconic eyes meet with yours, and he freezes.

&quot;Hmmmm...&quot; He says with a deep, monstrous voice as he stands on his clawed, scaly feet.

&quot;You should keep your distance, I feel like I could turn at any moment.&quot;

He looks slightly nervous, but his movement is graceful and precise. His long grey tunic lands upon the thick layer of fog.
Based on his clothing and posture, he looks like a monk of some kind.

You feel the spawns within him, they urge you to corrupt him once more.

\&lt;&lt;run setup.choice(&quot;[[Attempt to Reassure Him-&gt;Quest_MQ002_Manor_DragonRoom_Reassure]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Fight Him-&gt;Quest_MQ002_Manor_DragonRoom_Fight]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2427" name="WestWing_DrenthRoom_BreakRoof" tags="" position="850,30350" size="100,100">\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
The structure crumbles, and the thunderous sound of wood shattering under your massive body roll across the castle once again.
You tear off parts of the roof and see what lies within.
\&lt;&lt;set $WorldState.cultManor.dragonRoom.isBroken = true&gt;&gt;

\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2428" name="WestWing_NyxSpawnFight" tags="" position="975,30350" size="100,100">\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
As you walk along the broken hallway, you hear the familiar sound of a portal opening, the same as the one you&#39;ve heard countless times after being reborn.
Staring down, you see the strange dark light condense further down the hall.
Something heavy pushes through to it, causing the whole structure to shake until it breaks open. 
\&lt;&lt;else&gt;&gt;
As you walk along the hallway, something catches your attention.
A thick liquid is dripping from the ceiling.
You look upwards and see a black spot grows and spread; it seems like the whole thing is about to cave in from whatever is up there.
After you quickly step back, it happens. Dust flies everywhere as something falls in front of you.
You can see it slithering behind the dust.
\&lt;&lt;/if&gt;&gt;

A featureless, black snake-like body prods through. A large eye stares directly at you from where his head would have been. 
It is surrounded by what looks like black dripping leaves, each of them gilstening with the otherworldly glow of Nyx&#39;s light. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Quest_MQ002_Manor_WestWing_Path_SeeParasite_2]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2429" name="Quest_MQ002_Manor_WestWing_Path_SeeParasite_2" tags="" position="1100,30350" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;

Finally, it crawls until its &lt;&lt;print setup.getLength(setup.getStatValue($CharacterSheet_MQ002_NyxParasite, &quot;height&quot;))&gt;&gt; long body is fully exposed, its attention is completely focused on you...

\&lt;&lt;run setup.choice(&quot;[[Defend Yourself-&gt;FightLogic][$Encounter_Target = $CharacterSheet_MQ002_NyxParasite]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2430" name="WestWing_GloryHole" tags="" position="1225,30350" size="100,100">At first glance, it would seem to be an empty room that had yet to be used. 

However, closer inspection reveals a small latch opposite the entrance connected to a barely visible circular seam in the wall itself.

\&lt;&lt;run setup.choice(&quot;[[Pull the latch-&gt;WestWing_GloryHole_2]]&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_GloryHole_Leave]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2431" name="WestWing_GloryHole_2" tags="" position="100,30475" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_MQ002_DragonMonk.gloryHoleStartPassage)&gt;&gt;</tw-passagedata><tw-passagedata pid="2432" name="WestWing_GloryHole_Absent" tags="" position="225,30475" size="100,100">The latch makes a barely audible click as its well-oiled mechanism pushes against something inside the wall. 
An instant later, a large circular section of the wall pops out towards you, revealing an opening into the adjacent room. 

But there is no one on the other side.

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_GloryHole_Leave]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2433" name="WestWing_GloryHole_Present" tags="" position="350,30475" size="100,100">The latch makes a barely audible click as its well-oiled mechanism pushes against something inside the wall. 
An instant later, a large circular section of the wall pops out towards you, revealing an opening into the adjacent room. 

You can barely make out the sounds of someone, or something, moving around and muttering to themselves.

\&lt;&lt;if $CharacterSheet_MQ002_DragonMonk.quest.met == true&gt;&gt;
The voice is familiar; you have definitely heard it before.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Listen carefully-&gt;WestWing_GloryHole_3]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2434" name="WestWing_GloryHole_3" tags="" position="475,30475" size="100,100">The sound of footsteps can be faintly heard from the other side. A soft groan slips out.

&quot;Come on big guy, show me what you got&quot;

\&lt;&lt;run setup.choice(&quot;[[Do it-&gt;WestWing_GloryHole_4]]&quot;)&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_GloryHole_Leave]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2435" name="WestWing_GloryHole_4" tags="" position="600,30475" size="100,100">The urge is too overwhelming to resist. 

\&lt;&lt;if setup.MQ002_Manor_IsGiganticInManor($CharacterSheet_Player)&gt;&gt;
Despite the hole being designed for something much larger than the average person you still are forced to get down on your knees to line yourself up with it. 
\&lt;&lt;elseif setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
It&#39;s no effort to line yourself up with the hole despite its higher-than-normal height. 
\&lt;&lt;else&gt;&gt;
You must stand up on your tiptoes to reach the hole.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;if setup.MQ002_Manor_IsCockGiganticInManor($CharacterSheet_Player)&gt;&gt;
With a loud grunt, you shove your giant cock through the wall. The hole simply can&#39;t take it, and so the wall explodes in a shower of dust and debris. 
\&lt;&lt;elseif setup.MQ002_Manor_IsCockMassiveInManor($CharacterSheet_Player)&gt;&gt;
A smug grin spreads across your lips unbidden when you stuff your massive fuck stick through the hole and feel the edges pressing in around the girth of your shaft.
\&lt;&lt;else&gt;&gt;
The hole is pretty spacious, again almost certainly to accommodate the typical proportions of the intended users, but you can&#39;t help but be a bit proud of how much your dick fills it.
\&lt;&lt;/if&gt;&gt;

You can only imagine the look on their face as they see your cock. 
You hear the muffled sound of a single voice, assumedly the person on the other side of the wall talking to themselves, but you can&#39;t make out their words.

Eventually, that too goes quiet, and you&#39;re left there waiting.

\&lt;&lt;run setup.choice(&quot;[[Keep waiting-&gt;WestWing_GloryHole_5]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2436" name="WestWing_GloryHole_5" tags="" position="725,30475" size="100,100">A second later, an unexpected gentle tickle of fingers brushing along the side of your shaft causes your cock to jerk and throb powerfully in reaction. 
The light touch becomes a firm grip as thick, powerful fingers grip around the middle of your shaft to restrict its ability to jerk about wildly of its own accord. 

Then, just as quickly, the hands release you and pull away as if they had been electrocuted as more incoherent, muffled words spill out from the person on the other side of the wall. 
You don&#39;t need to hear what they&#39;re saying to understand the hesitation in their actions. 

\&lt;&lt;run setup.choice(&quot;[[Tease him-&gt;WestWing_GloryHole_6]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2437" name="WestWing_GloryHole_6" tags="" position="850,30475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Your hips roll forward to grind against the wall and force your waistline flush with the glory hole to press every last bit of your cock through the hole.

Thankfully their hesitation doesn&#39;t last much longer. You feel their strong fingers grip your dick once more. 
\&lt;&lt;if setup.MQ002_Manor_IsCockMassiveInManor($CharacterSheet_Player)&gt;&gt;
Or at least what small part of your large endowment they can get their hands around.
\&lt;&lt;/if&gt;&gt;
The grip is more assertive this time, possessive in a way if how their fingers squeeze into the iron-hard rod of your cock is any indication. 

It&#39;s almost like they&#39;re afraid of you pulling away now that they&#39;ve decided to hold you in place.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_7]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2438" name="WestWing_GloryHole_7" tags="" position="975,30475" size="100,100">Hot breath washes over the head of your leaking cock, sending a shiver down your spine as their hot breath contrasts the cool moisture of your pre. 
You can imagine their mouth hovering directly in front of your dick, jaw hanging open, tongue dangling from one edge of their lips as they take in your scent. 

If you weren&#39;t already flush with the wall, you would push further through the hole to thrust into their waiting mouth. 

\&lt;&lt;run setup.choice(&quot;[[Tease him-&gt;WestWing_GloryHole_8]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2439" name="WestWing_GloryHole_8" tags="" position="1100,30475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Soft, wet lips press against the tip of your cock in a kiss. 
It is the gentle, tentative kiss of someone testing the waters to see if there would be any objection to their show of affection. 

When the only response they get is another pulse of your dick and a fresh spurt of pre dribbling down your underchannel, they take that as approval. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_9]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2440" name="WestWing_GloryHole_9" tags="" position="1225,30475" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The next kiss is more energetic. 
Their lips press down firmly against the side of your cockhead and create a seal just long enough to suckle on the heated flesh. 

They repeat the same action on the opposite side as if wanting to maintain symmetry to their increasingly fervent worship of your erection.
By this point you can feel their lips and the front of their face is soaked in your pre. 

They leave a trail of kisses down the length of your shaft until they reach the base. 
Once there, your mystery partner slides their tongue out along the girth of your cock, letting out a tiny groan of lust and hunger. 

\&lt;&lt;run setup.choice(&quot;[[Keep going-&gt;WestWing_GloryHole_10]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2441" name="WestWing_GloryHole_10" tags="" position="100,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Once reaching the head, their powerful semi-prehensile tongue stroke its way across your tip.

Again their hot breath washes over your cock, making you shiver as the hot breath contrasts the layer of saliva along your dick. 
Your mystery worshipper finally moves in to take you in their mouth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2442" name="WestWing_GloryHole_11" tags="" position="225,30600" size="100,100">\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
\&lt;&lt;if setup.MQ002_Manor_IsCockGiganticInManor($CharacterSheet_Player)&gt;&gt;
&lt;&lt;include WestWing_GloryHole_11_Gigantic&gt;&gt;
\&lt;&lt;elseif setup.MQ002_Manor_IsCockMassiveInManor($CharacterSheet_Player)&gt;&gt;
&lt;&lt;include WestWing_GloryHole_11_Massive&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;&lt;include WestWing_GloryHole_11_Normal&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2443" name="WestWing_GloryHole_11_Normal" tags="" position="350,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Their mouth slips easily over your cock. 

Their plump lips seal themselves around the middle of your shaft as their tongue dance along your tip and tease your slit. 
Your hips buck, and the wall vibrates from the impact. 

It only seems to amuse them as they slowly draw their lips back until only your cockhead is in their lips. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Normal_2]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2444" name="WestWing_GloryHole_11_Normal_2" tags="" position="475,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
The pressure in their mouth changes, and a strong suction begins tugging and pulling at the sensitive nerve clusters around your cockhead. 
They spend almost a full minute suckling at your tip, gently coaxing out bead after bead of your pre and eagerly lapping it up to swallow it. 

Inch after inch of your shaft pushes itself through their lips as they slide their way along your length.
You could feel their tongue sliding along your under channel, they bury you deeper and deeper until you feel your tip brush the fleshy ring that was the entrance to their throat.

Just as their lips reach the base of your cock, a soft, muffled groan comes from your anonymous cocksucker. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Normal_3]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2445" name="WestWing_GloryHole_11_Normal_3" tags="" position="600,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Their mouth vibrates blissfully around your shaft for an instant. They pull back a few inches to press down and bury themselves in their mouth. 
Over and over, they repeat the movement, keeping a firm seal around your cock and sucking away at it all the while.

They could feel your heartbeat throbbing through the thick veins lining your length, feel your arousal building towards your peak. 

Rather than drag things out longer by slowing down, they speed up their ministrations, bobbing their head faster and faster along your cock. 

It doesn&#39;t take much more of that before they finally push you over the edge.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Cum]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2446" name="WestWing_GloryHole_11_Normal_Cum" tags="" position="725,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Spurt after spurt of your thick white cum splatters the insides of their mouth as they hold their lips shut tight around your length. 
You feel their tongue and the entrance to their throat shift and spasm every second or so as they dutifully swallow down each spurt of your load. 

Only once your twitching and spasming have died down, and they are sure you have run dry, do they slowly pull themselves off of your dick, spending a few moments to lick it clean of any lingering mess. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_12]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2447" name="WestWing_GloryHole_11_Massive" tags="" position="850,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
They force their mouth wide to fit the head of your cock, but it is futile. 
Their mouth is too small, and your dick is simply too big. 

There is no way they&#39;d be able to fit the entire thing in their mouth. 

That doesn&#39;t stop them from trying, though, as they remove their hands from your cock base to brace against the wall and push themselves further down your dick one inch at a time.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Massive_2]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2448" name="WestWing_GloryHole_11_Massive_2" tags="" position="975,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
You can feel the insides of their mouth pulsating and spasming as they struggle not to gag. Your tip bumps up against the entrance to their throat.

They are forced to swallow every few seconds as their mouth fills up with too much of your pre. 
With how tightly your shaft is filling out their lips, their mouth is practically sealed. 

Swallowing is the only way they can handle it. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Massive_3]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2449" name="WestWing_GloryHole_11_Massive_3" tags="" position="1100,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
With a final, almost desperate grunt, they push themselves forward one last time, and you feel the thick crown of your cockhead squeeze through their throat. 
That is the most they are able to manage. It doesn&#39;t stop them from working with what they can, though. 

Their lips pull back and let a few inches of your huge shaft out, only to forcibly push themselves back down on it again. 
Each subsequent thrust of themselves onto your cock comes a little bit easier for them. 

Their dedication and fervour more than makeup for their inability to take more of you. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Massive_4]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2450" name="WestWing_GloryHole_11_Massive_4" tags="" position="1225,30600" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
That doesn&#39;t stop them from doing their best to suck and squeeze their lips around as much of your dick as they can to force you closer toward your peak.

Feeling the anonymous cock sucker using themselves like a living fleshlight is enough to rapidly bring you to orgasm. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Cum]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2451" name="WestWing_GloryHole_11_Massive_Cum" tags="" position="100,30725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Thick, heavy ropes of cum blast from your tip, each one slaming against the back of their throat hard enough to make your partner grunt and gag. 
They are buried too deep on your cock to back out now. 
All they can do is swallow the best they can, the shifting pressure around your dick. 

It isn&#39;t hard to imagine the look on their face then it becomes clear you have more than just a few tablespoons of cum to give them. 

But no matter how much they grunt and protest, they do their best to swallow it all.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_12]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2452" name="WestWing_GloryHole_11_Gigantic" tags="" position="225,30725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
There is no possible way your monster of a cock could possibly fit in his mouth. 
That doesn&#39;t stop him from trying, though. 

You can feel his jaws spread wide and push against the head of your cock in a desperate attempt to force it in. 

No matter how much he pushes, how much he forces it, even unhinging his jaw wouldn&#39;t be enough to fit even your cockhead in his mouth.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Gigantic_2]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2453" name="WestWing_GloryHole_11_Gigantic_2" tags="" position="350,30725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Rather than keep trying and failing to get you in his mouth, he relegates to making out with your slit. 
His lips squeeze and suckle at the soft flesh around the opening while his tongue probes the sensitive folds that lead into your dick. 

Your body shudders and bucks each time his tongue pushes a fraction of an inch inside, only to retreat out again. 
Each time your body smacks against the wall hard enough to shake it. 

All the while, his hands reach out to squeeze and stroke along your monstrous shaft. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Gigantic_3]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2454" name="WestWing_GloryHole_11_Gigantic_3" tags="" position="475,30725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
His fingers brush along the nearly pencil-thick veins sticking out against your flesh, causing shudders along your body. 
It is taking all your willpower not to thrust against the wall hard enough to break it down.

Even if he could only please a fraction of your cock&#39;s overall mass, he does so expertly enough you are soon nearing orgasm. 

You growl lustfully and deeply. The walls shake as you near the edge. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Cum]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2455" name="WestWing_GloryHole_11_Gigantic_Cum" tags="" position="600,30725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
That is the only warning he gets before you finally come. 

Even considering the size of your cock he has been unprepared for the sheer force of your ejaculation. 
The first shoots straight into his mouth as he still makes out with your slit. 

His head is knocked away, he audibly cough and gags but keeps his grip on your shaft. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_11_Gigantic_5]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2456" name="WestWing_GloryHole_11_Gigantic_5" tags="" position="725,30725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You can feel his lips push back against your cockhead as if he is trying to create a seal and drink it all down. But it is just too much for him. 

When your orgasm finally dies, you don&#39;t have to see them to know they must be absolutely soaked in your load. 

Enough, so he is probably dripping globs of the thick, musky liquid on the floor all over him. 
Though considering your volume, the floor is drenched.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_12]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2457" name="WestWing_GloryHole_12" tags="" position="850,30725" size="100,100">\&lt;&lt;run setup.stopSoundActions();&gt;&gt;
\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;

Finally satisfied, you lean against the wall for a few moments as your cock softens before finally pulling free from the hole. Still basking in the afterglow, you leave without looking through the hole. 

Letting your imagination fill in the gaps is more than enough reward for you.
&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_GloryHole&quot;)&gt;&gt;

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="2458" name="WestWing_GloryHole_11_Cum" tags="" position="975,30725" size="100,100">\&lt;&lt;set State.variables.CharacterSheet_MQ002_DragonMonk.quest.came_GloryRoom = true&gt;&gt;
&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_MQ002_DragonMonk.gloryHoleCumPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="2459" name="WestWing_GloryHole_Leave" tags="" position="1100,30725" size="100,100">You head for the exit, leaving behind what could only be another cursed contraption orcastrated by the evils of this place.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="2460" name="WestWing_GloryHole_Infect" tags="" position="1225,30725" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your load rises along your shaft, orgasm rushes over you. 
But as your pleasure peaks, you feel something call deeply within your soul. 

A corrupted presence that is now so familiar. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_Infect_2]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2461" name="WestWing_GloryHole_Infect_2" tags="" position="100,30850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You feel spawns of Nyx beyond the hole, within the one that begs for your tainted seed. 
It seems your cock sucker has indulged in forbidden pleasures themselves.

&quot;Fuck... Do it... &lt;span class=&quot;glitch nyx&quot; data-text=&quot;CORRUPT GROW FUCK&quot;&gt;&quot;Infest me!&quot;&lt;/span&gt;&quot;

Their mouth take your cock all the way, and it pushes you over the edge.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;WestWing_GloryHole_Infect_3]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2462" name="WestWing_GloryHole_Infect_3" tags="" position="225,30850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
Thick bumps rise from your balls and along your shaft, making you roar in pleasure. 
Jet black seed gushes out. It stretches your urethra as spawns push their way out to dig deep into the hungry throat beyond.

You hear him jerk off as he desperately tries to take you all in.

The sensation of his tight throat is too much. You growl in pleasure, feeling the pleasure of your climax coursing through your veins.

You thrust for a final time, going as deep as you can. Your balls pump one more spawn down their throat, leading them further down a path of endless pleasure. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_Infect_4]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2463" name="WestWing_GloryHole_Infect_4" tags="" position="350,30850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;

The flow of spawn runs dry, your balls start to ache as the chorus of the black sun booms into your mind, making you feel endlessly validated.

&quot;Grow... Fuck... Spread...&quot;

 Endless lust courses through their veins as the sweet sound of his mind shattering orgasm seep through the glory hole.

You grasp your balls, feel them getting full as new spawns emerge.

The chorus of Nyx booms again, this time more intense and passionate than before. 
The spawns surge with energy as they become attuned with your corrupted soul.

&quot;Grow... Fuck... Spread...&quot;

\&lt;&lt;set State.variables.CharacterSheet_MQ002_DragonMonk.quest.infected_GloryRoom = true&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GloryHole_12]]&quot;)&gt;&gt;</tw-passagedata><tw-passagedata pid="2464" name="WestWing_GymRoom" tags="" position="475,30850" size="100,100">You step into the next room and immediately notice the smell of freshly polished steel.
This room is vast and filled with what training equipment you&#39;ve used at home.

Benches, power racks, cages, and dumbbells all seem to be brand new, something that&#39;s exceedingly rare to come across in the ruined world above.

It has been a while since you last trained, and this place seems empty of dangers.

\&lt;&lt;run setup.choice(&quot;[[Approach one of the benches-&gt;WestWing_GymRoom_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_GymRoom_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2465" name="WestWing_GymRoom_2" tags="" position="600,30850" size="100,100">As you approach a bench, your eyes lock on the Olympic bar. Anticipation builds as you reach for it and feel the smooth coldness of metal in your hands.

You set some weights and start to lift, feeling the satisfying burn in your muscles as you work hard.

It&#39;s as if your muscles are begging to be used, and they respond eagerly to the challenge.
As you heft the barbell, you cannot help but feel a thrill of anticipation for what&#39;s coming next.

\&lt;&lt;run setup.choice(&quot;[[Lift-&gt;WestWing_GymRoom_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2466" name="WestWing_GymRoom_3" tags="" position="725,30850" size="100,100">You lift the weights above your head, pressing them together until your arms are straight.
Your pecs bulge with the effort, and the satisfying clang of the metal echoes in the room.

As you push the weight up, your eyes notice something different about the scene around you.

\&lt;&lt;run setup.choice(&quot;[[Quickly look around-&gt;WestWing_GymRoom_3_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2467" name="WestWing_GymRoom_3_1" tags="" position="850,30850" size="100,100">Massive, monstrously muscular figures seem to be working out around you, lifting and groaning with effort as if they&#39;ve been there all along.
Their muscles strain and flex as they lift weights and move from one exercise to the next.

As you watch them, you start to feel a stirring in your own body.
Heat builds in your core and spreads through your limbs. Your heart starts to race, and your breathing quickens.
You can feel your nipples harden and your bulge pulses between your legs.

You would love to look at them more, but your own lift takes you back to the matter at hand.

\&lt;&lt;run setup.choice(&quot;[[Keep lifting-&gt;WestWing_GymRoom_4]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2468" name="WestWing_GymRoom_4" tags="" position="975,30850" size="100,100">Erotic moans of effort echo across the gym, providing a soundtrack to the atmosphere of hard work and determination.
The grunts and groans become more fervent as you lift, signalling the immense strain on your body.

Despite the obvious pain, there is a particular pleasure in overcoming challenges.

Each moan is a sign of strength, will, and power; a reminder that overcoming obstacles is what you do.

\&lt;&lt;run setup.choice(&quot;[[Lift-&gt;WestWing_GymRoom_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2469" name="WestWing_GymRoom_5" tags="" position="1100,30850" size="100,100">You feel eyes on you as you slide up and down, pushing against the weights.

As you finish your last repetition, you can finally grasp the true scale of the scene around you.
Dozens of Lost, all with massive glistening muscles, dominate the gym.

Your heart is pounding, your muscles are burning, and you can feel the sweat pouring down your body. The intense flow of working out is infectious, and soon you&#39;re back lifting for your next set.

\&lt;&lt;run setup.choice(&quot;[[Lift-&gt;WestWing_GymRoom_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2470" name="WestWing_GymRoom_6" tags="" position="1225,30850" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
The Lost look at your performance and some get aroused by how you effortlessly lift these weights.
They adore your strength and can&#39;t get enough of your muscular body.

You notice the intense heat emanating from your body as you catch your breath. You feel the sweat dripping down your skin.
Your heart is pounding, and you can feel the adrenaline coursing through your veins.

You feel alive, and the Lost take notice.

\&lt;&lt;run setup.choice(&quot;[[Lift-&gt;WestWing_GymRoom_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2471" name="WestWing_GymRoom_7" tags="" position="100,30975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You&#39;re so focused that you don&#39;t even hear the steps coming toward you until you feel someone&#39;s presence.

A Lost looms over you with an intense look in their eyes. He admires your strength and determination.

\&lt;&lt;run setup.choice(&quot;[[Lift-&gt;WestWing_GymRoom_7_1]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2472" name="WestWing_GymRoom_7_1" tags="" position="225,30975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
His hands roam your sweaty body. The intensity of his touch ignites a fire within you, and you lose yourself in the burning arousal of the lift.

Your workout is turning into something more, and your body responds eagerly to the Lost&#39;s touch.
He trails his hands and tongue all over you, worshipping you with every touch.
Tribute to your strength is being paid.

You are his god.

\&lt;&lt;run setup.choice(&quot;[[Finish your set-&gt;WestWing_GymRoom_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2473" name="WestWing_GymRoom_8" tags="" position="350,30975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
\&lt;&lt;run setup.playSoundActionParams([&quot;action_Suck&quot;], true)&gt;&gt;
The last bench press rep is always the hardest, but the worship of the Lost fills you with energy.

You strain to push the weight up as your muscles burn with effort.
More Lost join in worshiping you. Tongues and fingers invade every inch of your bulging body as you growl like a beast.

A wave of pleasure washes over you, starting at your core and radiating through your limbs.
It builds until you&#39;re gasping for air and trembling all over.

The weight on your chest feels suddenly heavier, but you don&#39;t care. You push hard as pleasure courses through you, making your toes curl and your back arch.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;WestWing_GymRoom_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2474" name="WestWing_GymRoom_9" tags="" position="475,30975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You close your eyes and push the bar to the top, moaning uncontrollably as the orgasm builds and peaks.

The Lost reach orgasm with you, and the sound of moaning, growling beasts fills the room.

&quot;GRAHHHHHHH~&quot; Countless Lost cry out in sheer ecstasy.

The weights fall from your hands as you clench your fists, digging your nails into the flesh of some nearby Lost as you cum over and over and over.

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;WestWing_GymRoom_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2475" name="WestWing_GymRoom_10" tags="" position="600,30975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
You cum, and they all follow suit, cumming and roaring in a monstrous chorus of lust and pleasure.
All are consumed by the sheer display of power you went through, brought to the edge by your never-ending growth.

The gym floods with seed as everyone reaches orgasm. It quickly starts pooling on the floor, and the walls drip with it. The smell of sex and sweat grows overpowering, and the air thickens with lust.

Cum is everywhere, coating everything in sight. It&#39;s on the weights, the machines, and even the ceiling.
Soon it&#39;s impossible to tell where one person&#39;s cum ends, and another begins.

It&#39;s a beautiful sight, and everyone is revelling in it.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_GymRoom_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2476" name="WestWing_GymRoom_11" tags="" position="725,30975" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
\&lt;&lt;run setup.stopSoundActions()&gt;&gt;
You are drenched in sweat, and your heart races, but you slowly return to yourself.

You take a deep breath and look around, noticing how the Lost have all disappeared.

Only the wet stains of sweat, Corruption and cum remain.
You are left with an otherworldly feeling of growth that pulses within your muscles.

You are bigger than before.

∇: You gain the &quot;Nyx Induced Workout&quot; Ability.
\&lt;&lt;run setup.AbiHndlr.addAbility($CharacterSheet_Player, setup.Ability.NyxInducedWorkout)&gt;&gt;

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_GymRoom&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_GymRoom_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2477" name="WestWing_GymRoom_Leave" tags="" position="850,30975" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
You approach the gym exit and feel the castle walls shift.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="2478" name="WestWing_MirrorRoom" tags="" position="0,250" size="100,100">The room around you is eerily non-descript. 

It&#39;s as if your mind can&#39;t retain the memory of what you&#39;re seeing. 
The only thing that seems to stand out is a massive mirror that spans one entire side of the room. 

\&lt;&lt;if setup.MQ002_Manor_IsMassiveInManor($CharacterSheet_Player)&gt;&gt;
It&#39;s enormous even compared to you.
\&lt;&lt;else&gt;&gt;
It&#39;s absolutely massive.
\&lt;&lt;/if&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Inspect the mirror-&gt;WestWing_MirrorRoom_2]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2479" name="WestWing_MirrorRoom_2" tags="" position="1100,30975" size="100,100">You find yourself unnaturally drawn towards the mirror. 
Curiosity gets the better of you and you move over to inspect it. 

You only see yourself in the reflection; not even the vague idea of what the room looks like. 

The next thing you notice is that the reflection of yourself looks slightly off.

\&lt;&lt;if setup.MQ002_Manor_IsCorruptedInManor($CharacterSheet_Player)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Doppleganger.quest.corruptionState = setup.Doppleganger_CorruptionState.PURE&gt;&gt;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;set $CharacterSheet_Doppleganger.quest.corruptionState = setup.Doppleganger_CorruptionState.CORRUPTED&gt;&gt;
\&lt;&lt;/if&gt;&gt;
\
\&lt;&lt;run setup.setDopplegangerStats()&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Keep looking-&gt;WestWing_MirrorRoom_3]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_MirrorRoom_Exit]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2480" name="WestWing_MirrorRoom_3" tags="" position="1225,30975" size="100,100">&lt;&lt;include setup.getNextNarativeEventPassage(setup.StorySheet_Doppleganger.encounterPassages)&gt;&gt;</tw-passagedata><tw-passagedata pid="2481" name="WestWing_MirrorRoom_Exit" tags="" position="100,31100" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;, &quot;CharacterSheet_Doppleganger&quot;])&gt;&gt;

You open the door and hear the mirror crack behind you.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="2482" name="WestWing_NyxSpawnPit" tags="" position="225,31100" size="100,100">You arrive at a room of damp stones. The metallic smell of Corruption fills your nose. 
You can feel the moisture in the air clinging to your skin. 

It&#39;s thick and cloying, making it difficult to breathe.

A large, deep pit lies before you. You can feel a presence within its depths.

\&lt;&lt;run setup.choice(&quot;[[Approach the pit-&gt;WestWing_NyxSpawnPit_2]]&quot;);&gt;&gt;
\&lt;&lt;if $CharacterSheet_Player.quest.nyxParasiteInfections &lt;= 0&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Enter the next room-&gt;WestWing_NyxSpawnPit_Leave]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
&lt;span class=&quot;glitch nyx fucked&quot; data-text=&quot;DO NOT̷͓̱͎̘̞̣͎̗̙̦̲͔͒͛͑̋̔̊̀͑̔͒͆̚̚͜͝͠͝͝ͅ&quot;&gt;[[Enter the next room-&gt;WestWing_NyxSpawnPit_Leave]]&lt;/span&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2483" name="WestWing_NyxSpawnPit_2" tags="" position="350,31100" size="100,100">The smell of Corruption is enticing, but one glance at what&#39;s within is enough to make you shiver.

You can see the darkness lurking, but there&#39;s also a hint of something else. Something thrilling and exciting.

It is filled with long, snake-like creatures that stand on their tail. Their unblinking eye gaze at you in evident need. 

You can see more than 20 of them in there, their tail wagging as if they&#39;re ready to pounce.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_NyxSpawnPit_3]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2484" name="WestWing_NyxSpawnPit_3" tags="" position="475,31100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;blue&quot;)&gt;&gt;
An otherworldly glow coming from these spawns of Nyx dances off the surfaces of the room and invites you to reach into the pit.

Corrupted thoughts rush through your mind, tempting you with dark desires. 
You can&#39;t help but wonder what these spawns would do to you if you were to give in to lust and temptation. 

\&lt;&lt;run setup.choice(&quot;[[Give in to those thoughts-&gt;WestWing_NyxSpawnPit_4]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Enter the next room-&gt;WestWing_NyxSpawnPit_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2485" name="WestWing_NyxSpawnPit_4" tags="" position="600,31100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;blue&quot;)&gt;&gt;
Your heart races as you imagine giving in to those impulses, giving yourself over to pleasure.

Who knows what kind of power these things hold within them?

The monsters feel your corrupted thoughts and excitedly await the right moment to strike.

\&lt;&lt;run setup.choice(&quot;[[Invite them in-&gt;WestWing_NyxSpawnPit_5]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2486" name="WestWing_NyxSpawnPit_5" tags="" position="725,31100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;
With increasingly heavy breaths, you drop to your knees and reach down with your arm. 
They all slither towards you eagerly. Some even try to leap to reach your arm but barely miss.

A spawn steps over the others; its Corruption bathes you in its musky aroma. 
You shiver as its warm, slimy skin touches yours.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_NyxSpawnPit_6]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2487" name="WestWing_NyxSpawnPit_6" tags="" position="850,31100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;purple&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
Another spawn follows close behind, and its body crawls on your arm. 

You can feel its Corruption seeping into your skin, and you can&#39;t help but moan.
It makes your cock hard and throbbing with lust.

\&lt;&lt;run setup.choice(&quot;[[Let them infest you-&gt;WestWing_NyxSpawnPit_7]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2488" name="WestWing_NyxSpawnPit_7" tags="" position="975,31100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;pink&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You beg for them to come closer, to infest you to your core.

One of the spawn drops from your arm and slithers down your body. 
It pauses at your waist, then crawls up your leg, leaving a trail of pleasurable pulses in its wake. 
When it reaches your thigh, your whole body shudders with anticipation.

\&lt;&lt;run setup.choice(&quot;[[Let into your cock-&gt;WestWing_NyxSpawnPit_8]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2489" name="WestWing_NyxSpawnPit_8" tags="" position="1100,31100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;pink&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
The spawns start to crawl along your shaft, sending shivers down your spine. 
It winds its way around your cock, tightly gripping it. 

You can feel it throbbing, pulsing with a hunger for your cum. 

It eagerly pushes itself into your cock slit in a sudden dive.

You arch your back as pleasure rushes through you, every nerve alive and crackling with electricity.

\&lt;&lt;run setup.choice(&quot;[[Moan-&gt;WestWing_NyxSpawnPit_9]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2490" name="WestWing_NyxSpawnPit_9" tags="" position="1225,31100" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 2)&gt;&gt;
Moans fill the room as lust strikes you over and over. 
You grasp your shaft, desperately guiding it. Your cock thickens as the spawn pushes itself deeper. 

You rock your hips, moving faster and faster as the pleasure builds to impossible highs.

\&lt;&lt;run setup.choice(&quot;[[Scream for more-&gt;WestWing_NyxSpawnPit_10]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2491" name="WestWing_NyxSpawnPit_10" tags="" position="100,31225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Its slender body writhes inside of you, igniting a fire in your belly that consumes you whole. 

You feel more aroused than ever before. Every movement sends pleasure shuddering through your body. 
You can feel it thrumming through you, a deep vibration that ignites every nerve. 

Desire races through you and consumes you in its lust.

Your head pulls back, and you let out a long moan that makes the spawns all the more excited.

\&lt;&lt;run setup.choice(&quot;[[Jump in the pit-&gt;WestWing_NyxSpawnPit_11]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2492" name="WestWing_NyxSpawnPit_11" tags="" position="225,31225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Your skin prickles as you turn to glance at the deep pit. You take a step forward, your heart pounding in anticipation.

You take a deep breath and leap into the abyss.

\&lt;&lt;run setup.choice(&quot;[[Give in-&gt;WestWing_NyxSpawnPit_12]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2493" name="WestWing_NyxSpawnPit_12" tags="" position="350,31225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
The creatures that once were foreign to your skin are now invading it by the hundreds. 
With every twist and turn, the spawns strike you with an endless onslaught of pleasure.

Excitement pulses through you as hundreds of them push themselves eagerly into your cock and ass.

On and on they go, creating an ever-growing sense of ecstasy until you&#39;re trembling and panting with anticipation.

\&lt;&lt;run setup.choice(&quot;[[Give in-&gt;WestWing_NyxSpawnPit_13]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2494" name="WestWing_NyxSpawnPit_13" tags="" position="475,31225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Their undulating bodies fill you up, stroking your most sensitive spots as they squirm inside of you. You can feel every inch of them, and the sensation is amazing.

You want more spawns inside you. 

You ache for them. 

You need them. 

Their presence fills you with a longing that can never be quenched. 

\&lt;&lt;run setup.choice(&quot;[[Become their host-&gt;WestWing_NyxSpawnPit_14]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2495" name="WestWing_NyxSpawnPit_14" tags="" position="600,31225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You yearn for the feel of their wriggling bodies inside you, the pleasure burrowing deep into your flesh. 

You desire nothing more than to be a host for their dark desires.

They move and writhe inside you, bringing you to new heights of pleasure. 

\&lt;&lt;run setup.choice(&quot;[[Give in-&gt;WestWing_NyxSpawnPit_15]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2496" name="WestWing_NyxSpawnPit_15" tags="" position="725,31225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You surrender to them, letting them take control of your body and bring you to endless ecstasy.

Your body screams for release, but the spawns inside your cock won&#39;t let you cum. 
They keep building and building until you&#39;re ready to explode. 

You can feel them squirming inside you, making your dick ache and throb. Every twitch and spasm is torture as you edge closer and closer to an explosive release that never seems to come.

\&lt;&lt;run setup.choice(&quot;[[Jerk off desperately-&gt;WestWing_NyxSpawnPit_16]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2497" name="WestWing_NyxSpawnPit_16" tags="" position="850,31225" size="100,100">&lt;&lt;print setup.setAndDisplayBodyVisual($CharacterSheet_MQ002_NyxParasite, &quot;red&quot;)&gt;&gt;
\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You are one with them; an unbreakable bond.

Instincts and images of you spreading these spawns to others flood your mind.

You must spread.

You must fuck.

You must grow.

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_NyxSpawnPit_17]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2498" name="WestWing_NyxSpawnPit_17" tags="" position="975,31225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
Desire grows deep within you, a primal urge that must be sated. Your need builds with each passing moment until you can think of nothing but giving in to the overwhelming lust.

You touch yourself, and it feels so good that you can&#39;t help but moan in pleasure. 
Each stroke ignites a new fire in your loins, and you can feel yourself getting closer and closer to the edge. 

Your balls churn and move as the spawns invade your balls, their movement hitting you with a constant surge of pleasure.

\&lt;&lt;run setup.choice(&quot;[[Give in-&gt;WestWing_NyxSpawnPit_18]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2499" name="WestWing_NyxSpawnPit_18" tags="" position="1100,31225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 3)&gt;&gt;
You&#39;re inching closer to ecstasy, but a part of you is resisting, struggling to maintain control.

But then, as you feel yourself about to reach the point of no return, you surrender. 

\&lt;&lt;run setup.choice(&quot;[[Cum-&gt;WestWing_NyxSpawnPit_19]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2500" name="WestWing_NyxSpawnPit_19" tags="" position="1225,31225" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 4)&gt;&gt;
These spawns are a part of you now and will serve you for as long as you live.

You can feel them moving through your veins, throbbing and pulsing as they travel through your body.
Cum drips down your thighs and coats them in the same aphrodisiac tainted oil that coats your spawns.

You let go and allow yourself to be consumed by the waves of pleasure crashing over you. 

The ecstasy is too much to bear. You cum and cum for minutes, harder than you ever have before.

Orgasm sweeps over you in waves, crashing against you like a storm. 

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;WestWing_NyxSpawnPit_20]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2501" name="WestWing_NyxSpawnPit_20" tags="" position="100,31350" size="100,100">\&lt;&lt;run setup.playRealizationPackage([&quot;CharacterSheet_Player&quot;], 1)&gt;&gt;
You&#39;re so exhausted that you can barely move. 
You lay there, panting and sweaty, feeling the aftershocks of pleasure ripple through your body. 

As you gradually return to reality, you realize that you&#39;re absolutely drenched in your cum. 
It&#39;s everywhere - on your chest, your stomach, your thighs. 

You feel the essence of your spawns within it, a corrupted power that makes your body absorbs hungrily.

\&lt;&lt;run setup.choice(&quot;[[Climb out of the pit-&gt;WestWing_NyxSpawnPit_21]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2502" name="WestWing_NyxSpawnPit_21" tags="" position="225,31350" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;
\&lt;&lt;run setup.applyCorruption($CharacterSheet_Player, 8)&gt;&gt;
You climb out of the pit, your face stuck in a lust-induced grin.
Thoughts of taking more of those spawns invade your thoughts and never go away.

You need more...

∇: You gain the &quot;Nyx Spawn Infection&quot; Ability.
∇: You gain 8 corruption.
\&lt;&lt;run setup.MQ002_AddNyxParasiteInfection()&gt;&gt;

\&lt;&lt;print setup.clearWestWingRoom(&quot;WestWing_NyxSpawnPit&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Leave-&gt;WestWing_NyxSpawnPit_Leave]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2503" name="WestWing_NyxSpawnPit_Leave" tags="" position="350,31350" size="100,100">\&lt;&lt;run setup.stopRealizationPackages([&quot;CharacterSheet_Player&quot;])&gt;&gt;

You reach the exit of this accursed room and feel the castle warp into something different.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="2504" name="WestWing_SoundingRoom" tags="" position="475,31350" size="100,100">Sounding rod on an altar. Becomes alive when you use it.

&lt;&lt;print setup.getNextManorDestination()&gt;&gt;</tw-passagedata><tw-passagedata pid="2505" name="Explore_EastFirstTime" tags="" position="600,31350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateEast_eastFirstTime = false&gt;&gt;
\&lt;&lt;if $Level &gt; 5&gt;&gt;
A guard stops you as you try to cross through the eastern gate.
Though his stance relaxes once he recognizes you.

&quot;ha, &lt;&lt;print $CharacterSheet_Player.info.name&gt;&gt;... You&#39;re probably the only one who should be allowed here at this point.&quot;

He sighs.

&quot;This is where the Lost lie, beasts whose sole goal is to grow and break others into monsters like themselves. Be careful out there.&quot;

\&lt;&lt;run setup.choice(&quot;[[Cross the gate-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;else&gt;&gt;
A guard stops you as you try to cross through the eastern gate.

&quot;Woah there, are you sure you wanna go that way?&quot; He looks you over doubtfully.

&quot;This is where the Lost lie, monsters whose sole goal is to grow and spread their vile corruption.&quot;

\&lt;&lt;run setup.choice(&quot;[[Cross the gate anyway-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back-&gt;Village]]&quot;);&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2506" name="Explore_EastGrownParasites" tags="" position="725,31350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownParasites = false&gt;&gt;
Your heart throbs as you reach the eastern gate.

The spawns within ache to be freed, to spread their otherworldly lust to the beasts of the Barrens.

Finally, you&#39;re almost free to revel in your lust like the monster that you are. Some guards look at you with hidden interest, the arousal that taints the air seeping into them like a demonic spirit.

The need to corrupt everything is becoming nearly impossible to hide.

\&lt;&lt;run setup.choice(&quot;[[Explore the Barrens-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2507" name="Explore_EastGrownDemonic" tags="" position="850,31350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownDemonic = false&gt;&gt;
The guards of the eastern gate eye you carefully as their hands hold on to their weapons tightly. They have seen countless demons before, have fought them alongside the Lost for as long as they remember.

Your demonic features are disturbing to them, but deep inside, they know that they are entirely powerless to stop you anyway.

\&lt;&lt;run setup.choice(&quot;[[Explore the Barrens-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2508" name="Explore_EastGrownMacro" tags="" position="975,31350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.available_exploration_villageGateEast_eastGrownMacro = false&gt;&gt;
You walk to the eastern gate, where guards look up to you in awe. They used to open the gate for you, but there is no point in that anymore.

With one step, you walk over the gate, its height proving useless to your gigantic body. The guards hold on to the walls, bracing themselves as your thunderous stomp pass towards the eastern Barrens.

\&lt;&lt;run setup.choice(&quot;[[Explore the Barrens-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2509" name="Explore_EastGrownLordOfLust" tags="" position="1100,31350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownLordOfLust = false&gt;&gt;
You reach the eastern gate only to notice that it is empty of any guards.

None of them dares to look at you in the eyes; no one wants to act as if they had any authority over you.

Nothing stands in the way of a Lord of Lust.

\&lt;&lt;run setup.choice(&quot;[[Explore the Barrens-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2510" name="Explore_EastGrownMegaMacro" tags="" position="1225,31350" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateEast_eastGrownMegaMacro = false&gt;&gt;
Upon arriving at the Eastern Gate its hard to imagine this puny fortification could keep out much of anything. \
The Eastern Barrens are supposed to be where the more dangerous corrupted creatures make their home; a few that are even powerful enough to be worth your attention despite your monstrous size.

As you step over the wall like it were nothing more than a piece of debris in your path you fail to lift your foot high enough and one of your toes grazes the top of the wall. You barely feel any resistance but a shower of stone and debris explodes outwards like the fortification had been hit from the inside by a catapult.

A glance down reveals the wall isn&#39;t compromised. It still stands tall and strong enough to keep out invaders, though now it has a big chunk missing out of part of an upper battlement.

It&#39;s becoming hard to process collateral damage when the world around you is so fragile.

\&lt;&lt;run setup.choice(&quot;[[Explore the Barrens-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.EAST)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2511" name="Explore_NorthFirstTime" tags="" position="100,31475" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateNorth_northFirstTime = false&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
A guard waits for you at the entrance of the eastern gate. His expression is hard to read, a sorrow paved by the routine of a harsh existence.

&quot;I&#39;ve been informed that you&#39;re the new Salvager.&quot; He looks you over.

Suddenly he turns to push the sizeable battered gate. It creaks out, leaving a small enough gap for you to squeeze through.

&quot;Be careful out there; we need you in one piece.&quot; He mumbles out.

&quot;Both in body and mind.&quot;

\&lt;&lt;run setup.choice(&quot;[[Cross the gate-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.NORTH)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Go back-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2512" name="Explore_NorthMeteorFall" tags="" position="225,31475" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateNorth_northMeteorFall = false&gt;&gt;
\&lt;&lt;run $Quest_InProgress.push($Quest_MQ001_01)&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;

As you cross the gate to the northern Barrens, you feel the ground shaking beneath your feet.

It feels like the world braces itself..

[[Continue-&gt;Explore_NorthMeteorFall_2]]</tw-passagedata><tw-passagedata pid="2513" name="Explore_NorthMeteorFall_2" tags="" position="350,31475" size="100,100">You look up and see the sky lighting up with sparks of light as a blazing ball of fire streaks across the sky, trailing smoke and sparks.

In a mixture and awe from the nearby guards, the meteor travels down to the horizon, and crashes a few miles away.
The impact shakes the ground again and sending a plume of dirt and dust up into the air.

[[Brace yourself-&gt;Explore_NorthMeteorFall_3]]</tw-passagedata><tw-passagedata pid="2514" name="Explore_NorthMeteorFall_3" tags="" position="475,31475" size="100,100">You hear a loud thud and a roar of flames as the meteor engulfs your vision in a bright orange glow.
The heat of the fire can be felt from where you stand, and the smell of smoke and burning soil fills the air.

∇: You can now explore the crash site.

\&lt;&lt;run setup.choice(&quot;[[Keep exploring-&gt;$Explore_Destination]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Return to the Bastion-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2515" name="Explore_NorthGrownMuscular" tags="" position="600,31475" size="100,100">\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateNorth_northGrownMuscular = false&gt;&gt;
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
As usual, a guard waits for you at the entrance of the eastern gate. The gate creaks out as he pushes it open slightly, yet it&#39;s nowhere near enough to fit your muscular frame.

You walk to the gate and throw it open further than five men ever could. The loud creaking of the damaged gate pulls all eyes towards you; you stomp towards the northern Barrens.

A voice rises from the guard by the entrance.

&quot;Thank the gods he&#39;s on our side.&quot;

\&lt;&lt;run setup.choice(&quot;[[Cross the gate-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.NORTH)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2516" name="Explore_NorthVisibleCorruption" tags="" position="725,31475" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateNorth_northVisibleCorruption = false&gt;&gt;
A guard waits for you at the entrance of the eastern gate. You recognize him; he is the same guard who opened the gate for you the first time you stepped out onto the Barrens.

His expression has not changed, his rugged face showing years of fighting to keep the Golden Bastion safe. His eyes squint as he notices the Corruption flowing through your eyes and veins.

He opens the door for you without a word, takes an extra step back to let you through.

\&lt;&lt;run setup.choice(&quot;[[Cross the gate-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.NORTH)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2517" name="Explore_NorthGrownHeight" tags="" position="850,31475" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateNorth_northGrownHeight = false&gt;&gt;
You reach the northern gate and suddenly stop upon realizing something.

You stand taller than the entrance of the Golden Bastion.

The guards below grunt with effort as they open the gate as far as it could go before looking up to you, unsure of what happens next.

You crouch and squeeze yourself through, carefully managing to keep the walls of the city safe, but this is as big as you can be before this gate becomes too small for you.

\&lt;&lt;run setup.choice(&quot;[[Cross the gate-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.NORTH)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2518" name="Explore_NorthGrownHeightMassive" tags="" position="975,31475" size="100,100">&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Scenes/Barrens/northernbarrens.jpg&quot;, undefined, undefined, true)&gt;&gt;
\&lt;&lt;set $CharacterSheet_Player.quest.available_exploration_villageGateNorth_northGrownHeightMassive = false&gt;&gt;
Once towering over you like an impenetrable barrier, the northern gate now seems little more than a minor inconvenience.

After taking a moment to admire the powerful defensive structure you raise one foot and simply step over it like it were little more than a fallen log in your path.

You&#39;ve already grown far beyond anyone&#39;s imagination; even your own.

\&lt;&lt;run setup.choice(&quot;[[Cross the gate-&gt;$Explore_Destination][$Encounter_Target = setup.getRandomEncounter(setup.LOCATIONS.NORTH)]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2519" name="_behemoth_race_sheet" tags="" position="1100,31475" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;BEHEMOTH&quot;, {
		id: 3,
		name: &quot;Behemoth&quot;,
		namePlural: &quot;Behemoths&quot;,
		adjective: &quot;behemothian&quot;,
		description: &quot;Typically large, imposing, and showing their musculature well, the Behemoth evokes impressions of a mixture between a mammoth, feline, and boar wrapped into one.&quot;,
        anatomy: {
			heads: {
				raceTexture: [&quot;maned&quot;, &quot;fierce&quot;, &quot;canine-like&quot;, &quot;feral&quot;]
			},
			eyes: {
				defaultNumber: 2,
				raceTexture: [&quot;predatory&quot;, &quot;piercing&quot;]
			},
			jaws: {
				defaultNumber: 1,
				raceTexture: [&quot;imposing&quot;, &quot;fanged&quot;]
			},
			teeths: {
				defaultNumber: 1,
				raceTexture: [&quot;sharp&quot;]
			},
			hands: {
				defaultNumber: 2,
				raceTexture: [&quot;clawed&quot;, &quot;padded&quot;]
			},
			horns: {
				defaultNumber: 2,
				raceTexture: [&quot;forward-facing&quot;]
			},
			tongues: {
				defaultNumber: 1,
				raceTexture: [&quot;barbed&quot;]
			},
			arms: {
				defaultNumber: 2
			},
			pecs: {
				defaultNumber: 2,
				raceTexture: [&quot;barrelled&quot;]
			},
			abdominals: {
				defaultNumber: 8
			},
			cocks: {
				defaultNumber: 2,
				raceTexture: [&quot;barbed&quot;, &quot;knotted&quot;]
			},
			balls: {
				defaultNumber: 4,
				raceTexture: [&quot;churning&quot;]
			},
			legs: {
				defaultNumber: 2,
				raceTexture: [&quot;digitigrade&quot;]
			},
			tails: {
				defaultNumber: 1,
				raceTexture: [&quot;webbing-tipped&quot;, &quot;spined&quot;]
			},
		},
		racialBonus: [
			{type: &quot;musclesMods&quot;, mod: setup.mod.ADD, value: 5},
			{type: &quot;strengthMods&quot;, mod: setup.mod.ADD, value: 10},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2520" name="_dragonborn_race_sheet" tags="" position="1225,31475" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;DRAGONBORN&quot;, {
		id: 5,
		name: &quot;Dragonborn&quot;,
		namePlural: &quot;Dragonborn&quot;,
		adjective: &quot;draconian&quot;,
		description: &quot;According to their traditional religion, they are descendants of ancient winged creatures that used to claim dominion over this land, though this has not been proven.&quot;,
		anatomy: {
			heads: {
				raceTexture: [&quot;draconic&quot;]
			},
			eyes: {
				raceTexture: [&quot;draconic&quot;, &quot;slitted&quot;]
			},
			jaws: {
				raceTexture: [&quot;serpentine&quot;, &quot;draconic&quot;]
			},
			teeths: {
				raceTexture: [&quot;sharp&quot;]
			},
			hands: {
				raceTexture: [&quot;clawed&quot;, &quot;scaled&quot;]
			},
			horns: {
				defaultNumber: 2,
				raceTexture: [&quot;backward-bending&quot;]
			},
			wings: {
				defaultNumber: 2,
				raceTexture: [&quot;webbed&quot;]
			},
			tongues: {
				raceTexture: [&quot;forked&quot;, &quot;prehensile&quot;]
			},
			arms: {
				raceTexture: [&quot;scaled&quot;]
			},
			pecs: {
				defaultNumber: 2,
				raceTexture: [&quot;scaled&quot;]
			},
			abdominals: {
				raceTexture: [&quot;scaled&quot;]
			},
			cocks: {
				defaultNumber: 1,
				raceTexture: [&quot;tapered&quot;, &quot;oily&quot;]
			},
			balls: {
				raceTexture: [&quot;scaly&quot;]
			},
			tails: {
				defaultNumber: 1,
				raceTexture: [&quot;whip-like&quot;, &quot;draconic&quot;, &quot;serpentine&quot;]
			},
		},
		racialBonus: [
			{type: &quot;maxHPMods&quot;, mod: setup.mod.ADD, value: 20},
			{type: &quot;growthMods&quot;, mod: setup.mod.ADD, value: 0.1},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2521" name="_feline_race_sheet" tags="" position="100,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;FELINE&quot;, {
		id: 6,
		name: &quot;Feline&quot;,
		namePlural: &quot;Felinids&quot;,
        adjective: &quot;feline&quot;,
		description: &quot;Perhaps the most diverse race in the world, those of feline ancestory range in sub-races from the strong and imposing Leonine to the gentle and curious catfolk.&quot;,
        anatomy: {
			heads: {
                raceTexture: [&quot;furry&quot;, &quot;muzzled&quot;, &quot;perk&quot;]
            },
            ears: {
                raceTexture: [&quot;triangular&quot;, &quot;flicking&quot;]
            },
            eyes: {
                raceTexture: [&quot;predatory&quot;, &quot;slitted&quot;]
            },
            jaws: {
                raceTexture: [&quot;furry&quot;, &quot;whiskered&quot;]
            },
            teeths: {
                raceTexture: [&quot;sharp&quot;, &quot;feral&quot;, &quot;needle-like&quot;]
            },
            hands: {
                raceTexture: [&quot;clawed&quot;, &quot;padded&quot;]
            },
            arms: {
                raceTexture: [&quot;furry&quot;, &quot;feline&quot;]
            },
            pecs: {
                raceTexture: [&quot;furry&quot;, &quot;feline&quot;]
            },
            abdominals: {
                raceTexture: [&quot;furry&quot;, &quot;feline&quot;]
            },
            cocks: {
                raceTexture: [&quot;barbed&quot;, &quot;tapering&quot;]
            },
            balls: {
                raceTexture: [&quot;furry&quot;]
            },
            legs: {
                raceTexture: [&quot;furry&quot;, &quot;feline&quot;]
            },
            tails: {
                defaultNumber: 1,
                raceTexture: [&quot;fluffy&quot;, &quot;long&quot;]
            },
		},
        racialBonus: [
            {type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 10},
			{type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.05},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2522" name="_halforc_race_sheet" tags="" position="225,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;HALFORC&quot;, {
		id: 4,
		name: &quot;Half-Orc&quot;,
		namePlural: &quot;Half-Orcs&quot;,
		adjective: &quot;orcish&quot;,
		description: &quot;Tusked, muscular and generaly darker skinned humanoids. They are imposing and powerful. Despite their name in the common tongue, they are a full race in of their own right.&quot;,
		anatomy: {
			heads: {
				raceTexture: [&quot;tusked&quot;, &quot;fierce&quot;]
			},
			eyes: {
				raceTexture: [&quot;determined&quot;, &quot;imposing&quot;]
			},
			jaws: {
				raceTexture: [&quot;tusked&quot;, &quot;strong&quot;]
			},
			teeths: {
				raceTexture: [&quot;sharp&quot;]
			},
			pecs: {
				raceTexture: [&quot;imposing&quot;]
			},
			balls: {
				raceTexture: [&quot;churning&quot;]
			},
		},
		racialBonus: [
			{type: &quot;maxHPMods&quot;, mod: setup.mod.ADD, value: 10},
			{type: &quot;strengthMods&quot;, mod: setup.mod.ADD, value: 5},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2523" name="_human_race_sheet" tags="" position="350,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;DEFAULT&quot;, {
		id: 0,
		name: &quot;Human&quot;,
		namePlural: &quot;Humans&quot;,
		adjective: &quot;humanoid&quot;,
		description: &quot;A common species, making up a bulk of nearly all population centers. Highly social and adaptable.&quot;,
		racialBonus: [
			{type: &quot;xpMultiplierMods&quot;, mod: setup.mod.ADD, value: 0.05},
			{type: &quot;essenceMultiplierMods&quot;, mod: setup.mod.ADD, value: 0.05},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2524" name="_minotaur_race_sheet" tags="" position="475,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;MINOTAUR&quot;, {
		id: 2,
		name: &quot;Minotaur&quot;,
		namePlural: &quot;Minotaurs&quot;,
        adjective: &quot;minotauren&quot;,
		description: &quot;Bipedal, hooved bovines. Their torsos and arms are remarkably light on fur, but make up for it with their shaggy backs and legs.&quot;,
        anatomy: {
            heads: {
                raceTexture: [&quot;bovine&quot;, &quot;bull shaped&quot;]
            },
            eyes: {
                raceTexture: [&quot;determined&quot;]
            },
            jaws: {
                raceTexture: [&quot;furry&quot;],
            },
            hands: {
                raceTexture: [&quot;human shaped&quot;]
            },
            horns: {
                defaultNumber: 2,
                raceTexture: [&quot;forward-facing&quot;]
            },
            tongues: {
                raceTexture: [&quot;flat tipped&quot;]
            },
            arms: {
                raceTexture: [&quot;furry&quot;, &quot;thick&quot;, &quot;bovine&quot;]
            },
            pecs: {
                raceTexture: [&quot;furry&quot;, &quot;thick&quot;, &quot;bovine&quot;]
            },
            abdominals: {
                raceTexture: [&quot;furry&quot;, &quot;thick&quot;, &quot;bovine&quot;]
            },
            cocks: {
                raceTexture: [&quot;flaring&quot;, &quot;flat-tipped&quot;, &quot;mottled&quot;]
            },
            balls: {
                raceTexture: [&quot;furry&quot;]
            },
            legs: {
                raceTexture: [&quot;hoofed&quot;]
            },
            tails: {
                defaultNumber: 1,
                raceTexture: [&quot;tuft-bearing&quot;]
            },
        },
        racialBonus: [
            {type: &quot;heightMods&quot;, mod: setup.mod.ADD, value: 10},
            {type: &quot;ballsMods&quot;, mod: setup.mod.ADD, value: 10},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2525" name="_wolf_race_sheet" tags="" position="600,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;WOLF&quot;, {
		id: 1,
		name: &quot;Werewolf&quot;,
		namePlural: &quot;Werewolves&quot;,
        adjective: &quot;wolven&quot;,
		description: &quot;Appears to be a combination of both human and wolf, though they trace their lineage to neither. Despite common legends, does not shift forms in the light of the moon.&quot;,
        anatomy: {
            heads: {
                raceTexture: [&quot;furry&quot;, &quot;wolfish&quot;, &quot;muzzled&quot;]
            },
            eyes: {
                raceTexture: [&quot;predatory&quot;, &quot;wolfish&quot;, &quot;lupine&quot;]
            },
            jaws: {
                raceTexture: [&quot;furry&quot;, &quot;wolven&quot;, &quot;wolfish&quot;, &quot;lupine&quot;, &quot;canid&quot;]
            },
            teeths: {
                raceTexture: [&quot;sharp&quot;]
            },
            hands: {
                raceTexture: [&quot;clawed&quot;, &quot;padded&quot;]
            },
            arms: {
                raceTexture: [&quot;furry&quot;, &quot;wolven&quot;, &quot;wolfish&quot;, &quot;lupine&quot;, &quot;canid&quot;]
            },
            pecs: {
                raceTexture: [&quot;furry&quot;, &quot;wolven&quot;, &quot;wolfish&quot;, &quot;lupine&quot;, &quot;canid&quot;]
            },
            abdominals: {
                raceTexture: [&quot;furry&quot;, &quot;wolven&quot;, &quot;wolfish&quot;, &quot;lupine&quot;, &quot;canid&quot;]
            },
            cocks: {
                raceTexture: [&quot;knotted&quot;, &quot;rocket-shaped&quot;, &quot;wolven&quot;, &quot;lupine&quot;]
            },
            balls: {
                raceTexture: [&quot;furry&quot;]
            },
            legs: {
                raceTexture: [&quot;furry&quot;, &quot;wolven&quot;, &quot;wolfish&quot;, &quot;lupine&quot;, &quot;canid&quot;]
            },
            tails: {
                defaultNumber: 1,
                raceTexture: [&quot;fluffy&quot;, &quot;long&quot;]
            },
        },
        racialBonus: [
            {type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 5},
            {type: &quot;critDamageMods&quot;, mod: setup.mod.ADD, value: 0.05},
        ]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2526" name="_custom_race_sheet" tags="" position="725,31600" size="100,100">&lt;&lt;run State.variables.CustomRace = {
        id: 999,
        name: &quot;&quot;,
        namePlural: &quot;&quot;,
        description: &quot;&quot;,
        anatomy: {},
        racialBonus: [],
    };
    for (const [key, limb] of Object.entries(setup.Anatomy.LIMB_REF))
    {
        State.variables.CustomRace.anatomy[key] = {
            defaultNumber: 0,
            raceTexture: [],
        }
    };
&gt;&gt;</tw-passagedata><tw-passagedata pid="2527" name="_hybrid_race_sheet" tags="" position="850,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;HYBRID&quot;, {
		id: 990,
		name: &quot;Hybrid&quot;,
        namePlural: &quot;Hybrids&quot;,
        description: &quot;A mix of multiple races.&quot;,
        anatomy: {},
        racialBonus: [
            {type: &quot;maxHPMods&quot;, mod: setup.mod.ADD, value: 2},
            {type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 1},
            {type: &quot;strengthMods&quot;, mod: setup.mod.ADD, value: 2},
            {type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.01},
            {type: &quot;critDamageMods&quot;, mod: setup.mod.ADD, value: 0.01},
            {type: &quot;heightMods&quot;, mod: setup.mod.ADD, value: 1},
            {type: &quot;musclesMods&quot;, mod: setup.mod.ADD, value: 1},
            {type: &quot;growthMods&quot;, mod: setup.mod.ADD, value: 0.01},
            {type: &quot;xpMultiplierMods&quot;, mod: setup.mod.ADD, value: 0.01},
            {type: &quot;essenceMultiplierMods&quot;, mod: setup.mod.ADD, value: 0.01},
        ]
    })
&gt;&gt;</tw-passagedata><tw-passagedata pid="2528" name="_abomination_race_sheet" tags="" position="975,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;ABOMINATION&quot;, {
		id: 105,
		name: &quot;Abomination&quot;,
		namePlural: &quot;Abominations&quot;,
		adjective: &quot;abominationoid&quot;,
		description: &quot;A Roiling mass composed of pure corruption. It appears able to shape its glistening, organless body into a hollow mimicry of other shapes.&quot;,
		racialBonus: [
			{type: &quot;corruptionPerDayMods&quot;, mod: setup.mod.ADD, value: 4},
			{type: &quot;corruptionMods&quot;, mod: setup.mod.ADD, value: 100},
			{type: &quot;growthMods&quot;, mod: setup.mod.ADD, value: 0.25},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2529" name="_incubus_race_sheet" tags="" position="1100,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;INCUBUS&quot;, {
		id: 101,
		name: &quot;Demon&quot;,
		namePlural: &quot;Demons&quot;,
		adjective: &quot;demonic&quot;,
		anatomy: {
			heads: {
				raceTexture: [&quot;demonic&quot;]
			},
			eyes: {
				raceTexture: [&quot;demonic&quot;, &quot;slitted&quot;]
			},
			jaws: {
				raceTexture: [&quot;sharp&quot;, &quot;demonic&quot;]
			},
			teeths: {
				raceTexture: [&quot;sharp&quot;]
			},
			hands: {
				raceTexture: [&quot;clawed&quot;, &quot;scaled&quot;]
			},
			horns: {
				defaultNumber: 2,
				raceTexture: [&quot;straight&quot;]
			},
			tongues: {
				raceTexture: [&quot;flexible&quot;, &quot;forked&quot;]
			},
			arms: {
				raceTexture: [&quot;scaled&quot;]
			},
			pecs: {
				raceTexture: [&quot;scaled&quot;]
			},
			abdominals: {
				raceTexture: [&quot;scaled&quot;]
			},
			cocks: {
				raceTexture: [&quot;slick&quot;, &quot;oily&quot;]
			},
			balls: {
				raceTexture: [&quot;churning&quot;]
			},
			legs: {
				raceTexture: [&quot;scaled&quot;]
			},
			tails: {
				defaultNumber: 1,
				raceTexture: [&quot;forked&quot;, &quot;demonic&quot;]
			}
		},
		racialBonus: [
			{type: &quot;arousalGainMods&quot;, mod: setup.mod.ADD, value: 5},
			{type: &quot;minArousalMods&quot;, mod: setup.mod.ADD, value: 5},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2530" name="_lord_of_lust_race_sheet" tags="" position="1225,31600" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;LORD_OF_LUST&quot;, {
		id: 102,
		name: &quot;Lord of Lust&quot;,
		namePlural: &quot;Lords of Lust&quot;,
		adjective: &quot;demonic&quot;,
		anatomy: {
			heads: {
				raceTexture: [&quot;demonic&quot;]
			},
			eyes: {
				raceTexture: [&quot;demonic&quot;, &quot;slitted&quot;]
			},
			jaws: {
				raceTexture: [&quot;sharp&quot;, &quot;demonic&quot;, &quot;devilish&quot;]
			},
			teeths: {
				raceTexture: [&quot;razor sharp&quot;, &quot;monstrous&quot;]
			},
			hands: {
				raceTexture: [&quot;clawed&quot;, &quot;scaled&quot;]
			},
			horns: {
				defaultNumber: 4,
				raceTexture: [&quot;straight&quot;, &quot;demonic&quot;]
			},
			tongues: {
				raceTexture: [&quot;flexible&quot;, &quot;forked&quot;]
			},
			arms: {
				raceTexture: [&quot;scaled&quot;]
			},
			pecs: {
				raceTexture: [&quot;scaled&quot;]
			},
			abdominals: {
				raceTexture: [&quot;scaled&quot;]
			},
			cocks: {
				raceTexture: [&quot;slick&quot;, &quot;oily&quot;]
			},
			balls: {
				raceTexture: [&quot;churning&quot;]
			},
			legs: {
				raceTexture: [&quot;scaled&quot;]
			},
			tails: {
				defaultNumber: 1,
				raceTexture: [&quot;forked&quot;, &quot;demonic&quot;]
			}
		},
		racialBonus: [
			{type: &quot;arousalGainMods&quot;, mod: setup.mod.ADD, value: 10},
			{type: &quot;minArousalMods&quot;, mod: setup.mod.ADD, value: 10},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2531" name="_naga_race_sheet" tags="" position="100,31725" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;NAGA&quot;, {
		id: 103,
		name: &quot;Naga&quot;,
		namePlural: &quot;Naga&quot;,
		adjective: &quot;serpentine&quot;,
		anatomy: {
			heads: {
				raceTexture: [&quot;serpentine&quot;]
			},
			eyes: {
				raceTexture: [&quot;slitted&quot;]
			},
			jaws: {
				raceTexture: [&quot;serpentine&quot;]
			},
			teeths: {
				raceTexture: [&quot;sharp&quot;]
			},
			hands: {
				raceTexture: [&quot;clawed&quot;, &quot;scaled&quot;]
			},
			tongues: {
				raceTexture: [&quot;forked&quot;]
			},
			arms: {
				raceTexture: [&quot;scaled&quot;]
			},
			pecs: {
				raceTexture: [&quot;scaled&quot;]
			},
			abdominals: {
				raceTexture: [&quot;scaled&quot;]
			},
			cocks: {
				defaultNumber: 2,
				raceTexture: [&quot;tapered&quot;, &quot;oily&quot;]
			},
			balls: {
				defaultNumber: 4,
				raceTexture: [&quot;scaly&quot;]
			},
			tails: {
				defaultNumber: 1,
				raceTexture: [&quot;sprawling&quot;, &quot;serpentine&quot;]
			},
			legs: {
				defaultNumber: 0,
			}
		},
		racialBonus: [
			{type: &quot;maxStaminaMods&quot;, mod: setup.mod.ADD, value: 5},
			{type: &quot;critChanceMods&quot;, mod: setup.mod.ADD, value: 0.05},
			{type: &quot;critDamageMods&quot;, mod: setup.mod.ADD, value: 0.05},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2532" name="_symbiote_race_sheet" tags="" position="225,31725" size="100,100">&lt;&lt;run setup.addRaceToPool(&quot;SYMBIOTE&quot;, {
		id: 104,
		name: &quot;Symbiote&quot;,
		namePlural: &quot;Symbiotes&quot;,
		adjective: &quot;gooey&quot;,
		anatomy: {
			heads: {
				raceTexture: [&quot;sinister&quot;]
			},
			eyes: {
				raceTexture: [&quot;glowing&quot;]
			},
			jaws: {
				raceTexture: [&quot;wide&quot;]
			},
			teeths: {
				raceTexture: [&quot;sharp&quot;]
			},
			hands: {
				raceTexture: [&quot;clawed&quot;],
				defaultNumber: 0,
			},
			tongues: {
				raceTexture: [&quot;prehensile&quot;, &quot;slimy&quot;]
			},
			cocks: {
				raceTexture: [&quot;goo-dripping&quot;],
				defaultNumber: 0,
			},
			ears: {
				defaultNumber: 0,
			},
			horns: {
				defaultNumber: 0,
			},
			wings: {
				defaultNumber: 0,
			},
			arms: {
				defaultNumber: 0,
			},
			pecs: {
				defaultNumber: 0,
			},
			abdominals:
			{
				defaultNumber: 0,
			},
			balls: {
				defaultNumber: 0,
			},
			legs: {
				defaultNumber: 0,
			},
			tails: {
				defaultNumber: 0,
			},
		},
		racialBonus: [
			{type: &quot;growthMods&quot;, mod: setup.mod.ADD, value: 0.25},
			{type: &quot;xpMultiplierMods&quot;, mod: setup.mod.ADD, value: 0.1},
			{type: &quot;essenceMultiplierMods&quot;, mod: setup.mod.ADD, value: 0.05},
		]
	})
&gt;&gt;</tw-passagedata><tw-passagedata pid="2533" name="Sheets_Races" tags="" position="350,31725" size="100,100">/* Dependant on Sheets_Anatomy */

&lt;&lt;set setup.RacePool = {
    /* Setup CUSTOM (999) to operate like all other races */
    get CUSTOM() {
		return State.variables.CustomRace;
	},
    get 999() {
        return State.variables.CustomRace;
    },
    Ordered: [],
};&gt;&gt;

/* Note: the order they are shown here is the order they will be presented to user */

/* Base Races */
&lt;&lt;include &quot;_human_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_halforc_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_wolf_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_feline_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_minotaur_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_dragonborn_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_behemoth_race_sheet&quot;&gt;&gt;

/* NPCS/Unlockable */
&lt;&lt;include &quot;_incubus_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_lord_of_lust_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_naga_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_symbiote_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_abomination_race_sheet&quot;&gt;&gt;

/* Custom */
&lt;&lt;include &quot;_hybrid_race_sheet&quot;&gt;&gt;
&lt;&lt;include &quot;_custom_race_sheet&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="2534" name="ChoicesWindowSettings" tags="" position="475,31725" size="100,100">Choices are shown:
&lt;label&gt;&lt;&lt;radiobutton &#39;$ChoicesWindow&#39; true autocheck&gt;&gt;Outside the main window&lt;/label&gt;
&lt;label&gt;&lt;&lt;radiobutton &#39;$ChoicesWindow&#39; false autocheck&gt;&gt;Inside the main window&lt;/label&gt;</tw-passagedata><tw-passagedata pid="2535" name="Combat_Guide" tags="" position="600,31725" size="100,100">This version comes with a new combat system so here is a small guide to explain how it works.

A list of randomized moves are given to you every turn.
You can chain a move if its Link Value (the number in the top right corner) is adjacent to that of the following move.

So a move with a value of 3 can only combo with moves that have a value of 2 or 4! 

Here&#39;s a little visual guide: 
&lt;&lt;print setup.displayEncounterImage(&quot;https://sombreve.github.io/Dawn-of-Corruption-Site/Images/combo_guide.png&quot;)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Continue-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2536" name="Credits" tags="" position="725,31725" size="100,100">&lt;p style=&quot;text-align:center&quot;&gt;

&lt;h2&gt;Directed by&lt;/h2&gt;
Sombreve 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/sombreve.png][http://www.furaffinity.net/user/sombreve/]]

&lt;h2&gt;Art by&lt;/h2&gt;
Winty 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/wintech3112.gif][http://www.furaffinity.net/user/wintech3112/]]

Deriaz 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/deriaz.jpg][https://www.furaffinity.net/user/deriaz]]

Zhenelov 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/lerchief2007.gif][https://www.furaffinity.net/user/lerchief2007/]]

Rethxus 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/rethxus.gif][http://www.furaffinity.net/user/rethxus/]]

&lt;h2&gt;Programming by&lt;/h2&gt;
Sombreve 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/sombreve.png][http://www.furaffinity.net/user/sombreve/]]

Myst 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/mechanodragon.gif][http://www.furaffinity.net/user/mechanodragon/]]

&lt;h2&gt;Voice Acting/Sounds by&lt;/h2&gt;
AudioElk 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/deckardholiday.gif][https://www.furaffinity.net/user/deckardholiday]]

Mithane 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/mithane.gif][https://www.furaffinity.net/user/mithane]]

Dandicoot 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/dandicoot.gif][https://www.furaffinity.net/user/dandicoot]]

GiganticBeast 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/giganticbeast.jpg][https://twitter.com/Gigantic_Beast]]

&lt;h2&gt;Music by&lt;/h2&gt;
Ardolf
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/ardolf.jpg][https://twitter.com/ardolf_official]]

&lt;h2&gt;Written by&lt;/h2&gt;
Sombreve 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/sombreve.png][http://www.furaffinity.net/user/sombreve/]]

Jagaz
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/jagaz.gif][http://www.furaffinity.net/user/jagaz/]]

Delta-Tango
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/delta-tango.gif][https://www.furaffinity.net/user/Delta-Tango]]

Ninjasy2667 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/ninjasy2667.gif][https://www.furaffinity.net/user/ninjasy2667]]

Draco of Zeradaith
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/draco.png][http://www.furaffinity.net/user/dracoofzeradaith/]]

Dragonien 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/dragonien.gif][https://www.furaffinity.net/user/dragonien/]]

&lt;h2&gt;UI By&lt;/h2&gt;
Sombreve 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/sombreve.png][http://www.furaffinity.net/user/sombreve/]]

Musclemage
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/musclemage.jpg][https://twitter.com/the_musclemage]]

Ghost
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/ghostboy.gif][https://www.furaffinity.net/user/ghostboy]]

Furyalpha123
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/Furyalpha123.jpg][https://www.furaffinity.net/user/Furyalpha123]]

&lt;h2&gt;Localization By&lt;/h2&gt;
Project Red (Simplified Chinese)

&lt;h2&gt;Marketing Assets By&lt;/h2&gt;
Winty 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/wintech3112.gif][http://www.furaffinity.net/user/wintech3112/]]

Psychedelic Hydra
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/hydra.jpg][https://www.furaffinity.net/user/lsdscreen/]]

&lt;h2&gt;Testing By&lt;/h2&gt;
Vertigo
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/vertigolapse.gif][https://www.furaffinity.net/user/vertigolapse]]

Whiteleo
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/whiteleo.gif][https://www.furaffinity.net/user/whiteleo]]

Shadowlost25
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/shadowlost25.gif][https://www.furaffinity.net/user/shadowlost25]]

Legdim
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/legdim.png][https://www.furaffinity.net/user/legdim/]]

bassman97 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[img[https://sombreve.github.io/Dawn-of-Corruption-Site/Images/bassman97.gif][https://www.furaffinity.net/user/bassman97]]

Tomi
Garryn
AizelTheUncultured
MikeLovesPecs
&lt;/p&gt;</tw-passagedata><tw-passagedata pid="2537" name="CreditsInGame" tags="" position="850,31725" size="100,100">&lt;&lt;include Credits&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Return-&gt;GameplaySettings]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2538" name="CreditsMainMenu" tags="" position="975,31725" size="100,100">&lt;&lt;include Credits&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Main Menu-&gt;Main Menu]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2539" name="Ending" tags="" position="1100,31725" size="100,100">&lt;&lt;include Ending_Text&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;run setup.triggerCompleteGame()&gt;&gt;
&lt;&lt;/silently&gt;&gt;
&lt;&lt;include Ending_Reset&gt;&gt;</tw-passagedata><tw-passagedata pid="2540" name="Ending_NotComplete" tags="" position="1225,31725" size="100,100">&lt;&lt;include Ending_Text&gt;&gt;
&lt;&lt;include Ending_Reset&gt;&gt;</tw-passagedata><tw-passagedata pid="2541" name="Ending_Text" tags="" position="100,31850" size="100,100">This world has reached the end of its story, cracked under the weight of its own ambitions.

Yet the seed of corruption lives on; In other lands yet untouched by your will to become something more.

[[Be Reborn-&gt;Name Setup][$Intro_Passage = &quot;intro_wake_up&quot;]]</tw-passagedata><tw-passagedata pid="2542" name="Ending_Reset" tags="" position="225,31850" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $CycleBackup = $Cycle +1&gt;&gt;
&lt;&lt;set $NameBackup = $CharacterSheet_Player.info.name&gt;&gt;

&lt;&lt;run setup.backupEndingAbilities()&gt;&gt;
&lt;&lt;run setup.backupAchievements()&gt;&gt;

&lt;&lt;run setup.triggerEndingsPostWorldCallbacks()&gt;&gt;

&lt;&lt;set $Cycle = $CycleBackup&gt;&gt;
&lt;&lt;set $CharacterSheet_Player.info.name = $NameBackup&gt;&gt;

&lt;&lt;silently&gt;&gt;
&lt;&lt;run SimpleAudio.lists.clear()&gt;&gt;
&lt;&lt;run SimpleAudio.tracks.clear()&gt;&gt;
&lt;&lt;include StoryReInit&gt;&gt;
&lt;&lt;/silently&gt;&gt;
&lt;&lt;run setup.loadBackedUpAchievements()&gt;&gt;
&lt;&lt;unset $CycleBackup&gt;&gt;
&lt;&lt;unset $NameBackup&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="2543" name="Reload_Unsupported" tags="" position="350,31850" size="100,100">&lt;&lt;set $ExpBackup = $Exp&gt;&gt;
&lt;&lt;set $EssenceBackup = $Essence&gt;&gt;

\&lt;&lt;run setup.stopSoundActions()&gt;&gt;
\&lt;&lt;run setup.stopAllRealizationPackages()&gt;&gt;

&lt;&lt;include Ending_NotComplete&gt;&gt;

&lt;&lt;set $Exp = $ExpBackup&gt;&gt;
&lt;&lt;set $Essence = $EssenceBackup&gt;&gt;

&lt;&lt;unset $ExpBackup&gt;&gt;
&lt;&lt;unset $EssenceBackup&gt;&gt;</tw-passagedata><tw-passagedata pid="2544" name="Exit_Popup" tags="" position="475,31850" size="100,100">Are you sure you want to quit?

All unsaved progress will be lost.

&lt;div class=&quot;ExitPopupButtons&quot;&gt;
\&lt;&lt;button &quot;Cancel&quot;&gt;&gt;
\&lt;&lt;run Dialog.close();&gt;&gt;
\&lt;&lt;/button&gt;&gt;
\&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
\&lt;&lt;button &quot;Exit&quot;&gt;&gt;
\&lt;&lt;run window.close();&gt;&gt;
\&lt;&lt;/button&gt;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="2545" name="GameplaySettings" tags="Overworld" position="600,31850" size="100,100">&lt;h2&gt;Will you choose how the world is seen and felt?&lt;/h2&gt;

&lt;&lt;include MeasurementSystem&gt;&gt;

&lt;&lt;include ChoicesWindowSettings&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Credits-&gt;CreditsInGame]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Return-&gt;Village]]&quot;);&gt;&gt;</tw-passagedata><tw-passagedata pid="2546" name="Level Up" tags="Overworld" position="725,31850" size="100,100">&lt;&lt;nobr&gt;&gt;
&lt;&lt;unset $AbilityOptions&gt;&gt;

&lt;&lt;set $LevelUpParams = 
{
    hp: {name: &quot;Health&quot;, value: $CharacterSheet_Player.fight.hp},
	stamina: {name: &quot;Stamina&quot;, value: $CharacterSheet_Player.fight.stamina},
	strength: {name: &quot;Strength&quot;, value: $CharacterSheet_Player.fight.strength},
	arousalGain: {name: &quot;Arousal Gain per turn&quot;, value: $CharacterSheet_Player.fight.arousalGain},
	limitBreaks: {name: &quot;Size Limit Break&quot;, value: $CharacterSheet_Player.info.limitBreaks.points},
}&gt;&gt;

&lt;&lt;set setup.LevelUpStatGainTable = 
[
	{
		hp: 20,
		limitBreaks: 8,
	},
	{
		strength: 5,
		stamina: 4,
	},
	{
		hp: 20,
		limitBreaks: 8,
	},
	{
		stamina: 4,
		strength: 5,
	},
	{
		hp: 20,
		limitBreaks: 8,
	},
	{
		strength: 5,
		stamina: 4,
	},
]&gt;&gt;
&lt;&lt;/nobr&gt;&gt;
&lt;h1&gt;With experience, power builds within you.&lt;/h1&gt;

&lt;&lt;print setup.displayStatsUp($CharacterSheet_Player, $LevelUpParams)&gt;&gt;
You can acquire a new ability. Click on it to select it.
&lt;&lt;print setup.displayAbilitiesUp($CharacterSheet_Player)&gt;&gt;

\&lt;&lt;run setup.choice(&quot;[[Apply-&gt;Village][setup.levelUp($CharacterSheet_Player, $LevelUpParams)]]&quot;);&gt;&gt;
\&lt;&lt;run setup.choice(&quot;[[Cancel-&gt;Village]]&quot;);&gt;&gt;

&lt;&lt;run console.log(&quot;setup.UnlockableAbilityList&quot;)&gt;&gt;
&lt;&lt;run console.log(setup.UnlockableAbilityList)&gt;&gt;</tw-passagedata><tw-passagedata pid="2547" name="StoryBanner" tags="" position="850,31850" size="100,100"></tw-passagedata><tw-passagedata pid="2548" name="Main Menu" tags="Name" position="19,1463" size="100,100">&lt;div class=&quot;MainMenu&quot;&gt;\
Warning, this game is nsfw 18+ only.
It features male gay characters and fetishes such as:
Muscle Growth, Macro, Hyper, Goo, Transformation, Corruption

If you like the game and wanna see the next versions in advance, check out
Patreon: https://www.patreon.com/sombreve
Gumroad: https://gumroad.com/sombreve

[[Credits-&gt;CreditsMainMenu]]

&lt;h1&gt;[[Begin-&gt;Name Setup][$Intro_Passage = &quot;intro_start&quot;]]&lt;/h1&gt;
\&lt;&lt;if $Debug&gt;&gt;
&lt;h2&gt;[[Debug: Skip Intro after Name-&gt;Name Setup][$Intro_Passage = &quot;intro_skip&quot;]]&lt;/h2&gt;
\&lt;&lt;/if&gt;&gt;

&lt;/div&gt;</tw-passagedata><tw-passagedata pid="2549" name="MeasurementSystem" tags="" position="1100,31850" size="100,100">There is only one way to measure the size and scale of magnificent beasts.
&lt;label&gt;&lt;&lt;radiobutton &#39;$Measurement&#39; setup.Units.IMPERIAL autocheck&gt;&gt;Imperial&lt;/label&gt;
&lt;label&gt;&lt;&lt;radiobutton &#39;$Measurement&#39; setup.Units.METRIC autocheck&gt;&gt;Metric&lt;/label&gt;</tw-passagedata><tw-passagedata pid="2550" name="PassageFooter" tags="" position="1225,31850" size="100,100">\&lt;&lt;if $ChoicesWindow == false&gt;&gt;
/* Creates a Choice window in the passage to be populated in the PassageDone section*/
&lt;&lt;print setup.addDOMHook(&quot;internalChoiceWindow&quot;, setup.createInternalChoiceWindow)&gt;&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2551" name="PassageDone" tags="" position="100,31975" size="100,100">/* Populate all the DOM Hooks we have made. */
\&lt;&lt;run setup.populateDOMHooks();&gt;&gt;</tw-passagedata><tw-passagedata pid="2552" name="PassageHeader" tags="" position="225,31975" size="100,100">&lt;&lt;run document.getElementById(&quot;story&quot;).scroll(0,0);&gt;&gt;
&lt;&lt;print setup.printActiveSound()&gt;&gt;</tw-passagedata><tw-passagedata pid="2553" name="RestartScreen" tags="" position="350,31975" size="100,100">Your soul is one of a kind, and the gods have taken notice.

Will you cross the gate between memories? All character and story progress will be lost.

Reaching into a new cycle will be noticed by otherworldly onlookers. As such, your achievements will grant special abilities upon starting a new playthrough.

&lt;div class=&quot;ExitPopupButtons&quot;&gt;
\&lt;&lt;button &quot;Cancel&quot;&gt;&gt;
\&lt;&lt;run Dialog.close();&gt;&gt;
\&lt;&lt;/button&gt;&gt;
\&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
\&lt;&lt;button &quot;Begin a new journey&quot;&gt;&gt;
\&lt;&lt;run Dialog.close();&gt;&gt;
\&lt;&lt;set $Intro_Passage = &quot;intro_wake_up&quot;&gt;&gt;
\&lt;&lt;goto [[Ending_NotComplete]]&gt;&gt;
\&lt;&lt;/button&gt;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="2554" name="Purgatory" tags="" position="475,31975" size="100,100"></tw-passagedata><tw-passagedata pid="2555" name="UpgradeSave" tags="" position="600,31975" size="100,100">This save file is not compatible with the current version, but you can still restart a new life with your accumulated Essence, Achievements and Exp.

&lt;div class=&quot;ExitPopupButtons&quot;&gt;
\&lt;&lt;button &quot;Begin a new journey&quot;&gt;&gt;
\&lt;&lt;run Dialog.close();&gt;&gt;
\&lt;&lt;set $Intro_Passage = &quot;intro_wake_up&quot;&gt;&gt;
\&lt;&lt;goto [[Reload_Unsupported]]&gt;&gt;
\&lt;&lt;/button&gt;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="2556" name="StoryCaption" tags="" position="21,1308" size="100,100">\&lt;&lt;if $CorruptSidebar&gt;&gt;
\&lt;&lt;print setup.displayCorruptSidebar(State.variables.CharacterSheet_Player)&gt;&gt;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getResetIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.restart()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;else&gt;&gt;
\&lt;&lt;print setup.displayInfoStats(State.variables.CharacterSheet_Player)&gt;&gt;
\&lt;&lt;print setup.displayFightStats(State.variables.CharacterSheet_Player)&gt;&gt;
\&lt;div class=&#39;SidebarIcons&#39;&gt;
\&lt;&lt;link [img[setup.getAchievementIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.achievements()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getSaveIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.saves()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt; &amp;nbsp;
\&lt;&lt;link [img[setup.getResetIcon($CharacterSheet_Player)]]&gt;&gt;&lt;&lt;script&gt;&gt;setup.restart()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt;
\&lt;img src=&#39;https://sombreve.github.io/Dawn-of-Corruption-Site/UI/VoidUI/text_logo/text_logo_color_bg_small.png&#39;&gt;
\&lt;/div&gt;
\&lt;div class=&quot;sidebar-footer&quot;&gt;
\   &lt;div class=&quot;volume-control-container&quot;&gt;
\       &lt;span class=&quot;volumeLabel&quot;&gt;
\       &lt;&lt;link Volume&gt;&gt; &lt;&lt;script&gt;&gt;setup.volumeMenu()&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt;
\       &lt;/span&gt;
\       &lt;&lt;volume&gt;&gt;
\   &lt;/div&gt;
\
\&lt;&lt;if $SpecialBuild&gt;&gt;
\   &lt;div class=&quot;VersionNumber&quot;&gt;&lt;&lt;print &quot;v&quot; + $VersionStr + &quot; s&quot;&gt;&gt;&lt;/div&gt;
\&lt;&lt;else&gt;&gt;
\   &lt;div class=&quot;VersionNumber&quot;&gt;v$VersionStr&lt;/div&gt;
\&lt;&lt;/if&gt;&gt;
\&lt;/div&gt;
\&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2557" name="LanguageSelection" tags="" position="850,31975" size="100,100">Language Selection
WARNING: THIS IS EXTREME WIP
There&#39;s almost certainly something broken if you switch off English.
(But there&#39;s a bit of fun in that so that&#39;s why we&#39;re letting you do it.)
&lt;&lt;set _langSelect = settings.lang_label&gt;&gt;
\&lt;&lt;listbox &quot;_langSelect&quot; autoselect&gt;&gt;
\&lt;&lt;optionsfrom setup.i18n.labels()&gt;&gt;
\&lt;&lt;/listbox&gt;&gt;
\&lt;&lt;done&gt;&gt;
\&lt;&lt;script&gt;&gt;
$(&#39;#listbox--langselect&#39;).on(&#39;change&#39;, function (event){
    settings.lang_label = State.temporary.langSelect;
    setup.i18n.initLanguage();
    setup.i18n.changeLanguage();
});
&lt;&lt;/script&gt;&gt;
&lt;&lt;/done&gt;&gt;
&lt;&lt;include exampleText&gt;&gt;</tw-passagedata><tw-passagedata pid="2558" name="exampleText" tags="" position="975,31975" size="100,100">Language Example:
&quot;Now Ya&#39;ll listen here...&quot;</tw-passagedata><tw-passagedata pid="2559" name="exampleText_fr" tags="" position="1100,31975" size="100,100">Exemple de langue:
&quot;~Omellete Du Fromage~&quot;</tw-passagedata><tw-passagedata pid="2560" name="exampleText_es" tags="" position="1225,31975" size="100,100">Ejemplo de idioma:
No hablo español</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),Object.freeze({space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;return depth<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?acc.push.apply(acc,_toConsumableArray(flat.call(cur,depth-1))):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _nativeMathRandom=Math.random,_regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(array){if("object"!==_typeof(array)||null===array||!Object.prototype.hasOwnProperty.call(array,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var length=array.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments,1));return array[index]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=_toConsumableArray(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return this[index]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){var value=Number(num);return Number.isNaN(value)?NaN:value.clamp(min,max)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return 1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var min=Number(arguments[0]),max=Number(arguments[1]);if(min>max){var _ref2=[max,min];min=_ref2[0],max=_ref2[1]}return Math.min(Math.max(this,min),max)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){function padString(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?_toConsumableArray(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return padString(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","(".concat(this.toString(),")")]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",_toConsumableArray(this)]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",_toConsumableArray(this)]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if("string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[code,data]]}}),Object.defineProperty(JSON,"_real_stringify",{value:JSON.stringify}),Object.defineProperty(JSON,"stringify",{configurable:!0,writable:!0,value:function(_value,replacer,space){return JSON._real_stringify(_value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}return void 0===value&&(value=["(revive:eval)","undefined"]),value}),space)}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,(function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(ex){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(ex){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var match,re=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),names=[];null!==(match=re.exec(this));)match[1]?names.push(match[1]):match[2]&&names.push(match[2]);return names}})}();var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze({userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi})),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=_toConsumableArray(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze({audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent})),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){var _this=this;if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){jQuery(element).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){var _this2=this;if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){jQuery(document).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this2).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.changeEvent,handlerFn):$(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.errorEvent,handlerFn):$(element).off(vendor.errorEvent)}}}}))}(),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function clone(orig){return"object"!==_typeof(orig)||null===orig?orig:orig instanceof String?String(orig):orig instanceof Number?Number(orig):orig instanceof Boolean?Boolean(orig):"function"==typeof orig.clone?orig.clone(!0):orig.nodeType&&"function"==typeof orig.cloneNode?orig.cloneNode(!0):(orig instanceof Array?copy=new Array(orig.length):orig instanceof Date?copy=new Date(orig.getTime()):orig instanceof Map?(copy=new Map,orig.forEach((function(val,key){return copy.set(key,clone(val))}))):orig instanceof RegExp?copy=new RegExp(orig):orig instanceof Set?(copy=new Set,orig.forEach((function(val){return copy.add(clone(val))}))):copy=Object.create(Object.getPrototypeOf(orig)),Object.keys(orig).forEach((function(name){return copy[name]=clone(orig[name])})),copy);var copy}},convertBreaks:{value:function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),output.appendChild(para),para=document.createElement("p");continue}if(!para.hasChildNodes()){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":para.hasChildNodes()&&(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}para.hasChildNodes()&&output.appendChild(para),source.appendChild(output)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(ex){return null}}},setDisplayTitle:{value:function(title){if("string"!=typeof title)throw new TypeError("story display title must be a string (received: ".concat(Util.getType(title),")"));var render=document.createDocumentFragment();new Wikifier(render,title);var text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text;var storyTitle=document.getElementById("story-title");null!==storyTitle&&jQuery(storyTitle).empty().append(render)}},setPageElement:{value:function(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=Array.isArray(titles)?titles:[titles];jQuery(el).empty();for(var i=0,iend=ids.length;i<iend;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}},throwError:{value:function(place,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(place),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}},stringFrom:{value:function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}return value instanceof Node?value.textContent:"function"==typeof value.toString?value.toString():Object.prototype.toString.call(value);case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,stringFrom=_ref3.stringFrom;!function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function oneClickFnWrapper(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",0),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?oneClickFnWrapper(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true")}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled")}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))}});var Util=function(){var toString,utilGetType="[object Object]"===(toString=Object.prototype.toString).call(new Map)?function(O){if(null===O)return"null";if(O instanceof Map)return"Map";if(O instanceof Set)return"Set";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType}:function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType};function utilToEnum(obj){var pEnum=Object.create(null);if(obj instanceof Array)obj.forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Set)Array.from(obj).forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Map)obj.forEach((function(val,key){return pEnum[String(key)]=val}));else{if("object"!==_typeof(obj)||null===obj||Object.getPrototypeOf(obj)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,obj)}return Object.freeze(pEnum)}function utilToStringTag(obj){return Object.prototype.toString.call(obj).slice(8,-1)}var _illegalSlugCharsRe=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,_isInvalidSlugRe=/^-*$/;var _illegalFilenameCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g;var _markupCharsRe=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,_hasMarkupCharsRe=new RegExp(_markupCharsRe.source),_markupCharsMap=utilToEnum({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"});var _htmlCharsRe=/[&<>"'`]/g,_hasHtmlCharsRe=new RegExp(_htmlCharsRe.source),_htmlCharsMap=utilToEnum({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function utilEscape(str){if(null==str)return"";var val=String(str);return val&&_hasHtmlCharsRe.test(val)?val.replace(_htmlCharsRe,(function(ch){return _htmlCharsMap[ch]})):val}var _escapedHtmlRe=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,_hasEscapedHtmlRe=new RegExp(_escapedHtmlRe.source,"i"),_escapedHtmlMap=utilToEnum({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});function utilUnescape(str){if(null==str)return"";var val=String(str);return val&&_hasEscapedHtmlRe.test(val)?val.replace(_escapedHtmlRe,(function(entity){return _escapedHtmlMap[entity.toLowerCase()]})):val}var _nowSource=Has.performance?performance:Date;var _cssTimeRe=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;var utilScrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),utilHasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches};return Object.freeze(Object.defineProperties({},{getType:{value:utilGetType},isBoolean:{value:function(obj){return"boolean"==typeof obj||"string"==typeof obj&&("true"===obj||"false"===obj)}},isIterable:{value:function(obj){return null!=obj&&"function"==typeof obj[Symbol.iterator]}},isNumeric:{value:function(obj){var num;switch(_typeof(obj)){case"number":num=obj;break;case"string":num=Number(obj);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}},sameValueZero:{value:function(a,b){return a===b||a!=a&&b!=b}},toEnum:{value:utilToEnum},toStringTag:{value:utilToStringTag},slugify:{value:function(str){var base=String(str).trim(),_legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return _isInvalidSlugRe.test(_legacy)?base.replace(_illegalSlugCharsRe,"").replace(/[_\s\u2013\u2014-]+/g,"-"):_legacy}},sanitizeFilename:{value:function(str){return String(str).trim().replace(_illegalFilenameCharsRE,"")}},escapeMarkup:{value:function(str){if(null==str)return"";var val=String(str);return val&&_hasMarkupCharsRe.test(val)?val.replace(_markupCharsRe,(function(ch){return _markupCharsMap[ch]})):val}},escape:{value:utilEscape},unescape:{value:utilUnescape},charAndPosAt:{value:function(text,position){var str=String(text),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}},now:{value:function(){return _nowSource.now()}},fromCssTime:{value:function(cssTime){var match=_cssTimeRe.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}},toCssTime:{value:function(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=utilToStringTag(msec)}throw new Error("invalid milliseconds: ".concat(what))}return"".concat(msec,"ms")}},fromCssProperty:{value:function(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}},parseUrl:{value:function(url){var el=document.createElement("a"),queryObj=Object.create(null);el.href=url,el.search&&el.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];queryObj[key]=value}));var pathname=el.host&&"/"!==el.pathname[0]?"/".concat(el.pathname):el.pathname;return{href:el.href,protocol:el.protocol,host:el.host,hostname:el.hostname,port:el.port,path:"".concat(pathname).concat(el.search),pathname:pathname,query:el.search,search:el.search,queries:queryObj,searches:queryObj,hash:el.hash}}},newExceptionFrom:{value:function(original,exceptionType,override){if("object"!==_typeof(original)||null===original)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var ex=new exceptionType(original.message);void 0!==original.name&&(ex.name=original.name),void 0!==original.code&&(ex.code=original.code),void 0!==original.columnNumber&&(ex.columnNumber=original.columnNumber),void 0!==original.description&&(ex.description=original.description),void 0!==original.fileName&&(ex.fileName=original.fileName),void 0!==original.lineNumber&&(ex.lineNumber=original.lineNumber),void 0!==original.number&&(ex.number=original.number),void 0!==original.stack&&(ex.stack=original.stack);var overrideType=_typeof(override);if("undefined"!==overrideType)if("object"===overrideType&&null!==override)Object.assign(ex,override);else{if("string"!==overrideType)throw new Error("Util.newExceptionFrom override parameter must be an object or string");ex.message=override}return ex}},scrubEventKey:{value:utilScrubEventKey},hasMediaQuery:{value:utilHasMediaQuery},random:{value:Math.random},entityEncode:{value:utilEscape},entityDecode:{value:utilUnescape},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(_adapters=[],_initialized=null,Object.freeze(Object.defineProperties({},{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("no valid storage adapters found")}}}))),_adapters,_initialized,_ok,_WebStorageAdapter;SimpleStore.adapters.push((_ok=!1,_WebStorageAdapter=function(){function _WebStorageAdapter(storageId,persistent){_classCallCheck(this,_WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_WebStorageAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&this._engine.hasOwnProperty(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:_WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,_WebStorageAdapter._serialize(value))}catch(ex){if(/quota.?(?:exceeded|reached)/i.test(ex.name+ex.message))throw Util.newExceptionFrom(ex,Error,"".concat(this.name," quota exceeded"));throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key||(this._engine.removeItem(this._prefix+key),0))}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromUTF16(str))}}]),_WebStorageAdapter}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function hasWebStorage(storeId){try{var store=window[storeId],tid="_sc_".concat(String(Date.now()));store.setItem(tid,tid);var result=store.getItem(tid)===tid;return store.removeItem(tid),result}catch(ex){}return!1}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _WebStorageAdapter(storageId,persistent)}}})))),SimpleStore.adapters.push(function(){var _MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,_CookieAdapter=function(){function _CookieAdapter(storageId,persistent){_classCallCheck(this,_CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_CookieAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(this._prefixRe.test(key))""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==_CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=_CookieAdapter._getCookie(this._prefix+key);return null===value?null:_CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,_CookieAdapter._serialize(value),this.persistent?"Tue, 19 Jan 2038 03:14:07 GMT":undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromBase64(str))}}]),_CookieAdapter}();return Object.freeze(Object.defineProperties({},{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));_CookieAdapter._setCookie(tid,_CookieAdapter._serialize(tid),undefined),_ok=_CookieAdapter._deserialize(_CookieAdapter._getCookie(tid))===tid,_CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""===document.cookie)return;for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);""!==value&&function(){var persist=!sessionTestRe.test(key);_CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),_CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}()}}}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _CookieAdapter(storageId,persistent)}}}))}());var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?DebugView.disable():DebugView.enable()}}]),DebugView}(),NodeTyper=function(){var NodeTyper=function(){function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(Util.getType(config),")"));if(!(config.hasOwnProperty("targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}return _createClass(NodeTyper,[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _Util$charAndPosAt=Util.charAndPosAt(this.nodeValue,0),char=_Util$charAndPosAt.char,start=_Util$charAndPosAt.start,end=_Util$charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}]),NodeTyper}();return NodeTyper}(),PRNGWrapper=function(){function PRNGWrapper(seed,useEntropy){_classCallCheck(this,PRNGWrapper),Object.defineProperties(this,new Math.seedrandom(seed,useEntropy,(function(prng,seed){return{_prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}})))}return _createClass(PRNGWrapper,null,[{key:"marshal",value:function(prng){if(!prng||!prng.hasOwnProperty("seed")||!prng.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:prng.seed,pull:prng.pull}}},{key:"unmarshal",value:function(prngObj){if(!prngObj||!prngObj.hasOwnProperty("seed")||!prngObj.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var prng=new PRNGWrapper(prngObj.seed,!1),i=prngObj.pull;i>0;--i)prng.random();return prng}}]),PRNGWrapper}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}return _createClass(StyleWrapper,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),StyleWrapper}()),_imageMarkupRe,_hasImageMarkupRe,Diff=(Op=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Op},diff:{value:function diff(orig,dest){for(var aOpRef,objToString=Object.prototype.toString,origIsArray=orig instanceof Array,keys=[].concat(Object.keys(orig),Object.keys(dest)).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),diffed={},keyIsAOpRef=function(key){return key===aOpRef},i=0,klen=keys.length;i<klen;++i){var key=keys[i],origP=orig[key],destP=dest[key];if(orig.hasOwnProperty(key))if(dest.hasOwnProperty(key)){if(origP===destP)continue;if(_typeof(origP)===_typeof(destP))if("function"==typeof origP)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,destP]);else if("object"!==_typeof(origP)||null===origP)diffed[key]=[Op.Copy,destP];else{var origPType=objToString.call(origP);if(origPType===objToString.call(destP))if(origP instanceof Date)Number(origP)!==Number(destP)&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Map)diffed[key]=[Op.Copy,clone(destP)];else if(origP instanceof RegExp)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Set)diffed[key]=[Op.Copy,clone(destP)];else if("[object Object]"!==origPType)diffed[key]=[Op.Copy,clone(destP)];else{var recurse=diff(origP,destP);null!==recurse&&(diffed[key]=recurse)}else diffed[key]=[Op.Copy,clone(destP)]}else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}else if(origIsArray&&Util.isNumeric(key)){var nKey=Number(key);if(!aOpRef){aOpRef="";do{aOpRef+="~"}while(keys.some(keyIsAOpRef));diffed[aOpRef]=[Op.SpliceArray,nKey,nKey]}nKey<diffed[aOpRef][1]&&(diffed[aOpRef][1]=nKey),nKey>diffed[aOpRef][2]&&(diffed[aOpRef][2]=nKey)}else diffed[key]=Op.Delete;else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}return Object.keys(diffed).length>0?diffed:null}},patch:{value:function patch(orig,diffed){for(var keys=Object.keys(diffed||{}),patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],diffedP=diffed[key];if(diffedP===Op.Delete)delete patched[key];else if(diffedP instanceof Array)switch(diffedP[0]){case Op.SpliceArray:patched.splice(diffedP[1],diffedP[2]-diffedP[1]+1);break;case Op.Copy:patched[key]=clone(diffedP[1]);break;case Op.CopyDate:patched[key]=new Date(diffedP[1])}else patched[key]=patch(patched[key],diffedP)}return patched}}}))),Op,L10n=(_patternRe=/\{\w+\}/g,_hasPatternRe=new RegExp(_patternRe.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach((function(id){try{var value;switch(id){case"identity":value=strings.identity;break;case"aborting":value=strings.aborting;break;case"cancel":value=strings.cancel;break;case"close":value=strings.close;break;case"ok":value=strings.ok;break;case"errorTitle":value=strings.errors.title;break;case"errorNonexistentPassage":value=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":value=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":value=strings.errors.saveIdMismatch;break;case"warningDegraded":value=strings.warnings.degraded;break;case"debugViewTitle":value=strings.debugView.title;break;case"debugViewToggle":value=strings.debugView.toggle;break;case"uiBarToggle":value=strings.uiBar.toggle;break;case"uiBarBackward":value=strings.uiBar.backward;break;case"uiBarForward":value=strings.uiBar.forward;break;case"uiBarJumpto":value=strings.uiBar.jumpto;break;case"jumptoTitle":value=strings.jumpto.title;break;case"jumptoTurn":value=strings.jumpto.turn;break;case"jumptoUnavailable":value=strings.jumpto.unavailable;break;case"savesTitle":value=strings.saves.title;break;case"savesDisallowed":value=strings.saves.disallowed;break;case"savesIncapable":value=strings.saves.incapable;break;case"savesLabelAuto":value=strings.saves.labelAuto;break;case"savesLabelDelete":value=strings.saves.labelDelete;break;case"savesLabelExport":value=strings.saves.labelExport;break;case"savesLabelImport":value=strings.saves.labelImport;break;case"savesLabelLoad":value=strings.saves.labelLoad;break;case"savesLabelClear":value=strings.saves.labelClear;break;case"savesLabelSave":value=strings.saves.labelSave;break;case"savesLabelSlot":value=strings.saves.labelSlot;break;case"savesUnavailable":value=strings.saves.unavailable;break;case"savesUnknownDate":value=strings.saves.unknownDate;break;case"settingsTitle":value=strings.settings.title;break;case"settingsOff":value=strings.settings.off;break;case"settingsOn":value=strings.settings.on;break;case"settingsReset":value=strings.settings.reset;break;case"restartTitle":value=strings.restart.title;break;case"restartPrompt":value=strings.restart.prompt;break;case"shareTitle":value=strings.share.title;break;case"alertTitle":break;case"autoloadTitle":value=strings.autoload.title;break;case"autoloadCancel":value=strings.autoload.cancel;break;case"autoloadOk":value=strings.autoload.ok;break;case"autoloadPrompt":value=strings.autoload.prompt;break;case"macroBackText":value=strings.macros.back.text;break;case"macroReturnText":value=strings.macros.return.text}value&&(l10nStrings[id]=value.replace(/%\w+%/g,(function(pat){return"{".concat(pat.slice(1,-1),"}")})))}catch(ex){}}))}},get:{value:function(ids,overrides){if(!ids)return"";var selectedId,id=((Array.isArray(ids)?ids:[ids]).some((function(id){return!!l10nStrings.hasOwnProperty(id)&&(selectedId=id,!0)})),selectedId);if(!id)return"";for(var processed=l10nStrings[id],iteration=0;_hasPatternRe.test(processed);){if(++iteration>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");_patternRe.lastIndex=0,processed=processed.replace(_patternRe,(function(pat){var subId=pat.slice(1,-1);return overrides&&overrides.hasOwnProperty(subId)?overrides[subId]:l10nStrings.hasOwnProperty(subId)?l10nStrings[subId]:void 0}))}return processed}}}))),_patternRe,_hasPatternRe,strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveDiskLoadFailed:"failed to load save file from disk",errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",alertTitle:"Alert",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=(_debug=!1,_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosIfAssignmentError=!0,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesId="untitled-story",_savesSlots=8,_savesTryDiskOnMobile=!0,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,_errHistoryModeDeprecated="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",Object.freeze({get debug(){return _debug},set debug(value){_debug=Boolean(value)},get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)},get mode(){throw new Error(_errHistoryModeDeprecated)},set mode(_){throw new Error(_errHistoryModeDeprecated)},get tracking(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")},set tracking(_){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}}),macros:Object.freeze({get ifAssignmentError(){return _macrosIfAssignmentError},set ifAssignmentError(value){_macrosIfAssignmentError=Boolean(value)},get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_navigationOverride=value}}),passages:Object.freeze({get descriptions(){return _passagesDescriptions},set descriptions(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"Object"!==valueType&&"function"!==valueType)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(valueType,")"))}_passagesDescriptions=value},get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=Util.getType(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value}}),saves:Object.freeze({get autoload(){return _savesAutoload},set autoload(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"string"!==valueType&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){return _savesAutosave},set autosave(value){if(null!=value){var valueType=Util.getType(value);if("string"===valueType)return void(_savesAutosave=[value]);if("boolean"!==valueType&&("Array"!==valueType||!value.every((function(item){return"string"==typeof item})))&&"function"!==valueType)throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}_savesAutosave=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(Util.getType(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_savesIsAllowed=value},get slots(){return _savesSlots},set slots(value){if(!Number.isSafeInteger(value)||value<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: ".concat(Util.getType(value),")"));_savesSlots=value},get tryDiskOnMobile(){return _savesTryDiskOnMobile},set tryDiskOnMobile(value){_savesTryDiskOnMobile=Boolean(value)},get version(){return _savesVersion},set version(value){_savesVersion=value},get onLoad(){throw new Error("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead")},set onLoad(value){console.warn("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead"),Save.onLoad.add(value)},get onSave(){throw new Error("Config.saves.onSave has been deprecated, use the Save.onSave API instead")},set onSave(value){console.warn("Config.saves.onSave has been deprecated, use the Save.onSave API instead"),Save.onSave.add(value)}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=Util.getType(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesDescriptions,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesAutoload,_savesAutosave,_savesIsAllowed,_savesVersion,_debug,_addVisitedLinkClass,_cleanupWikifierOutput,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosIfAssignmentError,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesId,_savesSlots,_savesTryDiskOnMobile,_uiStowBarInitially,_uiUpdateStoryElements,_errHistoryModeDeprecated,SimpleAudio=function(){var _hasPromise,_gestureEventNames=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(Util.parseUrl(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!src.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!src.hasOwnProperty("format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this3=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this3._error=!1})).on("error.AudioTrack",(function(){return _this3._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this3._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this3.audio)switch(mesg){case"loadwithscreen":if(_this3.hasSource()){var lockId=LoadScreen.lock();_this3.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this3.load();break;case"mute":_this3._updateAudioMute();break;case"rate":_this3._updateAudioRate();break;case"stop":_this3.stop();break;case"volume":_this3._updateAudioVolume();break;case"unload":_this3.unload()}else unsubscribe(_this3)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){jQuery(this.audio).triggerHandler(eventName)}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this4=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this4.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this5=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this5.isPlaying()?resolve():(jQuery(_this5.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this5).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this5.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this6=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioTrack_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),_this6.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this7=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this7._trigger(":fading"),_this7._faderId=setInterval((function(){_this7.isPlaying()?(_this7.volume(Math.clamp(_this7.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this7.volume()&&_this7.pause(),_this7.volume()===to&&(_this7.fadeStop(),_this7._trigger(":faded"))):_this7.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop){return null==_loop?this.audio.loop:(this.audio.loop=!!_loop,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this8=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this8.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}]),AudioTrack}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioList,[{key:"_create",value:function(trackList){var _this9=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!trackObj.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=trackObj.hasOwnProperty("own")&&trackObj.own,rate=trackObj.hasOwnProperty("rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=trackObj.hasOwnProperty("volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this9._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this10=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioList_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioList_playWhenAllowed"),_this10.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop2){return null==_loop2?this._loop:(this._loop=!!_loop2,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this11=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIdx=this.queue.findIndex((function(trackObj){return trackObj===_this11.current}));if(-1!==firstIdx)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIdx+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),AudioList}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop3){if(null==_loop3)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop3),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}]),AudioRunner}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parentheticals');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(":"!==parent.id[0])throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(":"!==id[0]||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!desc.hasOwnProperty("id")&&!desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(desc.hasOwnProperty("id")&&desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(desc.hasOwnProperty("id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(desc.hasOwnProperty("sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(desc.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(desc.hasOwnProperty("own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(desc.hasOwnProperty("volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;default:ids=":"===id[0]?_groups.get(id):[id]}if(idObj.hasOwnProperty("not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_tempVariables={};function stateMarshal(noDelta){var stateObj={index:_activeIndex};return noDelta?stateObj.history=clone(_history):stateObj.delta=historyDeltaEncode(_history),_expired.length>0&&(stateObj.expired=_toConsumableArray(_expired)),null!==_prng&&(stateObj.seed=_prng.seed),stateObj}function stateUnmarshal(stateObj,noDelta){if(null==stateObj)throw new Error("state object is null or undefined");if(!stateObj.hasOwnProperty(noDelta?"history":"delta")||0===stateObj[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!stateObj.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==_prng&&!stateObj.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&stateObj.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(stateObj.history):historyDeltaDecode(stateObj.delta),_activeIndex=stateObj.index,_expired=stateObj.hasOwnProperty("expired")?_toConsumableArray(stateObj.expired):[],stateObj.hasOwnProperty("seed")&&(_prng.seed=stateObj.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=PRNGWrapper.unmarshal({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),jQuery.event.trigger(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngInit(seed,useEntropy){var scriptSection;if(!historyIsEmpty())throw scriptSection="the Story JavaScript",new Error("State.prng.init must be called during initialization, within either ".concat(scriptSection," or the StoryInit special passage"));_prng=new PRNGWrapper(seed,useEntropy),_active.pull=_prng.pull}function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");store&&store.hasOwnProperty(key)&&(1===Object.keys(store).length?storage.delete("metadata"):(delete store[key],storage.set("metadata",store)))}return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:new PRNGWrapper(_prng.seed,!1)}},restore:{value:function(){if(session.has("state")){var stateObj=session.get("state");return null!=stateObj&&(stateUnmarshal(stateObj),!0)}return!1}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(stateObj){return stateUnmarshal(stateObj,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:prngInit},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return _prng?_prng.pull:NaN}},seed:{get:function(){return _prng?_prng.seed:null}}}))},random:{value:function(){return _prng?_prng.random():Math.random()}},clearTemporary:{value:function(){TempVariables=_tempVariables={}}},temporary:{get:function(){return _tempVariables}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = evalTwineScript$Data$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete("metadata")}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get("metadata");return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)}},keys:{value:function(){var store=storage.get("metadata");return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get("metadata")||{};store[key]=value,storage.set("metadata",store)}}},size:{get:function(){var store=storage.get("metadata");return store?Object.keys(store).length:0}}}))},initPRNG:{value:prngInit},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(targets,selector,handler,one,namespace){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var fn,opts;if("function"==typeof selector?(fn=selector,opts={namespace:one,one:!!handler}):(fn=handler,opts={namespace:namespace,one:!!one,selector:selector}),"function"!=typeof fn)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(targets).ariaClick(opts,fn)}function insertElement(place,type,id,classNames,text,title){var $el=jQuery(document.createElement(type));return id&&$el.attr("id",id),classNames&&$el.addClass(classNames),title&&$el.attr("title",title),text&&$el.text(text),place&&$el.appendTo(place),$el[0]}function insertText(place,text){jQuery(place).append(document.createTextNode(text))}function removeChildren(node){jQuery(node).empty()}function removeElement(node){jQuery(node).remove()}function fade(el,options){var current,intervalId,direction="in"===options.fade?1:-1,proxy=el.cloneNode(!0);function setOpacity(el,opacity){el.style.zoom=1,el.style.filter="alpha(opacity=".concat(Math.floor(100*opacity),")"),el.style.opacity=opacity}el.parentNode.replaceChild(proxy,el),"in"===options.fade?(current=0,proxy.style.visibility="visible"):current=1,setOpacity(proxy,current),intervalId=window.setInterval((function(){current+=.05*direction,setOpacity(proxy,Math.easeInOut(current)),(1===direction&&current>=1||-1===direction&&current<=0)&&(el.style.visibility="in"===options.fade?"visible":"hidden",proxy.parentNode.replaceChild(el,proxy),proxy=null,window.clearInterval(intervalId),options.onComplete&&options.onComplete())}),25)}function scrollWindowTo(el,incrementBy){var increment=null!=incrementBy?Number(incrementBy):.1;Number.isNaN(increment)||!Number.isFinite(increment)||increment<0?increment=.1:increment>1&&(increment=1);var intervalId,start=window.scrollY?window.scrollY:document.body.scrollTop,end=function(el){var posTop=function(el){var curtop=0;for(;el.offsetParent;)curtop+=el.offsetTop,el=el.offsetParent;return curtop}(el),posBottom=posTop+el.offsetHeight,winTop=window.scrollY?window.scrollY:document.body.scrollTop,winHeight=window.innerHeight?window.innerHeight:document.body.clientHeight,winBottom=winTop+winHeight;return posTop>=winTop&&posBottom>winBottom&&el.offsetHeight<winHeight?posTop-(winHeight-el.offsetHeight)+20:posTop}(el),distance=Math.abs(start-end),direction=start>end?-1:1,progress=0;intervalId=window.setInterval((function(){progress+=increment,window.scroll(0,start+direction*(distance*Math.easeInOut(progress))),progress>=1&&window.clearInterval(intervalId)}),25)}function toStringOrDefault(value){return stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0,iend=needles.length;i<iend;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0,iend=needles.length;i<iend&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new Error("random min parameter must be an integer");if(!Number.isInteger(max))throw new Error("random max parameter must be an integer");if(min>max){var _ref6=[max,min];min=_ref6[0],max=_ref6[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new Error("randomFloat max parameter must be a number");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(Util.getType(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0,iend=passages.length;i<iend;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0,iend=needles.length;i<iend&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0,iend=played.length;i<iend;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref8=function(){function slugifyUrl(url){return Util.parseUrl(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(url,'".')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(url)),type:"text/javascript",src:url})}))}function addStyle(url){return new Promise((function(resolve,reject){jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'".')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){var tokenTable=Util.toEnum({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),parseRe=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),notSpaceRe=/\S/,varTest=new RegExp("^".concat(Patterns.variable)),withColonTestRe=/^\s*:/,withNotTestRe=/^\s+not\b/;function parse(rawCodeString){if(0!==parseRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var match,code=rawCodeString;null!==(match=parseRe.exec(code));)if(match[1]){var rawTemplate=match[1],parsedTemplate=parseTemplate(rawTemplate);parsedTemplate!==rawTemplate&&(code=code.splice(match.index,rawTemplate.length,parsedTemplate),parseRe.lastIndex+=parsedTemplate.length-rawTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;if(varTest.test(token))token=token[0];else if("is"===token){var start=parseRe.lastIndex,ahead=code.slice(start);withNotTestRe.test(ahead)&&(code=code.splice(start,ahead.search(notSpaceRe)),token="isnot")}else{var _ahead=code.slice(parseRe.lastIndex);if(withColonTestRe.test(_ahead))continue}tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),parseRe.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRe=/\$\{/g,templateGroupParseRe=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function parseTemplate(rawTemplateLiteral){if(0!==templateGroupStartRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start of template literal");for(var startMatch,template=rawTemplateLiteral;null!==(startMatch=templateGroupStartRe.exec(template));){var startIdx=startMatch.index+2,endIdx=startIdx,depth=1,endMatch=void 0;for(templateGroupParseRe.lastIndex=startIdx;null!==(endMatch=templateGroupParseRe.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIdx=endMatch.index;break}if(endIdx>startIdx){var parseIndex=parseRe.lastIndex,rawGroup=template.slice(startIdx,endIdx);parseRe.lastIndex=0;var parsedGroup=parse(rawGroup);parseRe.lastIndex=parseIndex,template=template.splice(startIdx,rawGroup.length,parsedGroup),templateGroupStartRe.lastIndex+=parsedGroup.length-rawGroup.length}}return template}return parse}();function evalJavaScript(code,output,data){return function(code,output,evalJavaScript$Data$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,evalTwineScript$Data$){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output,data)}return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){var Lexer=function(){function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(Lexer,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}]),Lexer}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var _optionsStack,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==destination?this.output=document.createDocumentFragment():destination.jquery?this.output=destination[0]:this.output=destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}},{key:"isExternalLink",value:function(link){return!Story.has(link)&&(new RegExp("^".concat(Patterns.url),"gim").test(link)||/[/.?#]/.test(link))}}]),Wikifier}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.freeze(Object.defineProperties({},{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(idx){return _optionsStack[idx]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(Util.getType(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!parser.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!parser.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!parser.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(parser.hasOwnProperty("profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&_profiles.hasOwnProperty(profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!_profiles.hasOwnProperty(profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[Util.fromCssProperty(match[1])]=match[2].trim();else if(match[3])css.styles[Util.fromCssProperty(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){var macroParser=null;function getMacroContextShadowView(){for(var macro=macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser');return macroParser}(),view=new Set,context=macro.context;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return _toConsumableArray(view)}return function(code){var shadowStore={};return getMacroContextShadowView().forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}}()},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return throwError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return throwError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,throwError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return throwError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return throwError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.parse(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(markup.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=markup.hasOwnProperty("text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.title)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),markup.hasOwnProperty("align")&&(arg.align=markup.align),markup.hasOwnProperty("text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):link,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",markup.hasOwnProperty("link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,el=(Config.debug?debugView:w).output;if(markup.hasOwnProperty("link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.title),source=passage.text.trim())}el.src=source,markup.hasOwnProperty("text")&&(el.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return throwError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this12=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1;do{cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}!function(){++w.nextMatch;for(var css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1,$cell=void 0;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this12.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}()}++col}}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this13=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this13.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this13.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref10){var name=_ref10.name,value=_ref10.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return throwError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")&&(this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)),terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.freeze(Object.defineProperties({},{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return _macros.hasOwnProperty(name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return _tags.hasOwnProperty(name)}return Object.freeze(Object.defineProperties({},{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:macros.hasOwnProperty(name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(MacroContext,[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return _toConsumableArray(this._shadows)}},{key:"shadowView",get:function(){var view=new Set;return this.contextSelectAll((function(ctx){return ctx._shadows})).forEach((function(ctx){return ctx._shadows.forEach((function(name){return view.add(name)}))})),_toConsumableArray(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextHas",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return!0;return!1}},{key:"contextSelect",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return context;return null}},{key:"contextSelectAll",value:function(filter){for(var result=[],context=this;null!==(context=context.parent);)filter(context)&&result.push(context);return result}},{key:"addShadow",value:function(){var _this14=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this14._shadows.add(name)}))}},{key:"createShadowWrapper",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore={},this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return throwError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}]),MacroContext}();return MacroContext}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,jsVarRe:new RegExp("State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var match,jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var store=State[match[1]],name=match[2];store.hasOwnProperty(name)&&delete store[name]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}for(var match,remember=storage.get("remember")||{},jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];remember[name]=State.variables[name]}if(!storage.set("remember",remember))return this.error("unknown error, cannot remember: ".concat(this.args.raw));Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var remember=storage.get("remember");remember&&Object.keys(remember).forEach((function(name){return State.variables[name]=remember[name]}))}}),Macro.add("forget",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var match,remember=storage.get("remember"),jsVarRe=this.self.jsVarRe,needStore=!1;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];State.variables.hasOwnProperty(name)&&delete State.variables[name],remember&&remember.hasOwnProperty(name)&&(needStore=!0,delete remember[name])}if(needStore)if(0===Object.keys(remember).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",remember))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var output=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("include",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.domId," macro-").concat(this.name)).attr("data-passage",passage.title).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?Util.escape(result):result)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=Util.fromCssTime(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=Util.fromCssTime(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId;TempState.macroTypeQueue.push({id:selfId,handler:function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents);var passage=State.passage,turn=State.turns;if(!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){Util.scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?jQuery.event.trigger(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),$wrapper.trigger(":typingstop"),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};$wrapper.trigger(":typingstart"),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],elseifWsRe:/^\s*if\b/i,ifAssignRe:/[^!=&^|<>*/%+-]=[^=>]/,handler:function(){var i;try{var len=this.payload.length,elseifWsRe=this.self.elseifWsRe,ifAssignRe=this.self.ifAssignRe;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return elseifWsRe.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#"+i+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""));if(Config.macros.ifAssignmentError&&ifAssignRe.test(this.payload[i].args.full))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#"+i+")":"",": ").concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("for",{skipArgs:!0,tags:null,hasRangeRe:new RegExp("^\\S".concat(Patterns.anyChar,"*?\\s+range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.hasRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat("object"===_typeof(ex)?ex.message:ex))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat("object"===_typeof(ex)?ex.message:ex))}}}catch(ex){return this.error("bad conditional expression: ".concat("object"===_typeof(ex)?ex.message:ex))}finally{TempState.break=null}},handleForRange:function(payload,indexVar,valueVar,rangeExp){var rangeList,first=!0;try{rangeList=this.self.toRangeList(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var i=0;i<rangeList.length;++i)if(indexVar.name&&(State[indexVar.type][indexVar.name]=rangeList[i][0]),State[valueVar.type][valueVar.name]=rangeList[i][1],new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(ex){return this.error("object"===_typeof(ex)?ex.message:ex)}finally{TempState.break=null}},toRangeList:function(rangeExp){var value,list,evalJavaScript=Scripting.evalJavaScript;try{value=evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(value)){case"string":list=[];for(var i=0;i<value.length;){var obj=Util.charAndPosAt(value,i);list.push([i,obj.char]),i=1+obj.end}break;case"object":if(Array.isArray(value))list=value.map((function(val,i){return[i,val]}));else if(value instanceof Set)list=_toConsumableArray(value).map((function(val,i){return[i,val]}));else if(value instanceof Map)list=_toConsumableArray(value.entries());else{if("Object"!==Util.toStringTag(value))throw new Error("unsupported range expression type: ".concat(Util.toStringTag(value)));list=Object.keys(value).map((function(key){return[key,value[key]]}))}break;default:throw new Error("unsupported range expression type: ".concat(_typeof(value)))}return list}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this15=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else $link.wikiWithOptions({profile:"core"},this.args[0]),passage=this.args.length>1?this.args[1]:undefined;null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this15.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this16=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var options=[],tagCount={option:0,optionsfrom:0},selectedIdx=-1,_i5=1;_i5<len;++_i5){var payload=this.payload[_i5];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return this.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"));var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==selectedIdx)return this.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(selectedIdx+1," & #").concat(tagCount.option,")"));selectedIdx=options.length-1}}else{var _ret=function(){if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this16.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result=void 0;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this16.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}if("object"!==_typeof(result)||null===result)return{v:_this16.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=Util.toStringTag(result);if("Object"!==oType)return{v:_this16.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}();if("object"===_typeof(_ret))return _ret.v}}if(-1===selectedIdx)if(config.autoselect){var sameValueZero=Util.sameValueZero,curValue=State.getVar(varName),curValueIdx=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));selectedIdx=-1===curValueIdx?0:curValueIdx}else selectedIdx=0;if("cycle"===this.name){var lastIdx=options.length-1;if(config.once&&selectedIdx===lastIdx)jQuery(this.output).wikiWithOptions({profile:"core"},options[selectedIdx].label);else{var cycleIdx=selectedIdx;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},options[selectedIdx].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.createShadowWrapper((function(){var $this=$(this);cycleIdx=(cycleIdx+1)%options.length,State.setVar(varName,options[cycleIdx].value),$this.empty().wikiWithOptions({profile:"core"},options[cycleIdx].label),config.once&&cycleIdx===lastIdx&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(selectedIdx).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[selectedIdx].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this17=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper((function(){if("linkreplace"===_this17.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this17.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this17.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this17.name,"-in"))}),Engine.minDomActionDelay)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=Util.slugify(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.createShadowWrapper((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),checkValue=this.args[1],el=document.createElement("input");switch(TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=Util.slugify(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),this.args[i].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[i].passage),this.args[i].hasOwnProperty("title")&&$image.attr("title",this.args[i].title),this.args[i].hasOwnProperty("align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var passage,text,$image,$link,momentIndex=-1;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(passage=this.args[0].link)):(1===this.args[0].count||(text=this.args[0].text),passage=this.args[0].link):1===this.args.length&&(text=this.args[0])),null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),$image&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append($image||document.createTextNode(text||L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this18=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this18.name,"-in"))}),Engine.minDomActionDelay)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){var _this19=this;if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim(),oldFmtRe=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(id,this.args.slice(1).map((function(source){if(oldFmtRe.test(source)){if(Config.debug)return _this19.error('track ID "'.concat(id,'": format specifier migration required, "format:formatId;" → "formatId|"'));source=source.replace(oldFmtRe,"$1|")}return source})))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var playlist=Macro.get("playlist");if(null!==playlist.from&&"createplaylist"!==playlist.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"copy":case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="createplaylist"),Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{from:null,handler:function(){var list,args,action,from=this.self.from;if(null===from)return this.error("no playlists have been created");if("createplaylist"===from){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));list=SimpleAudio.lists.get(id),args=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");list=SimpleAudio.lists.get("setplaylist"),args=this.args.slice(0)}for(var fadeTo,loop,mute,shuffle,volume,fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var playlist=Macro.get("playlist");if(null!==playlist.from&&"setplaylist"!==playlist.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.createShadowWrapper((function(){return $.wiki(contents)})),Engine.minDomActionDelay)}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.minDomActionDelay):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this20=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this20.payload[0].contents);var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.minDomActionDelay)})),delay)},registerInterval:function(callback,delay){var _this21=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this21)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content);var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.minDomActionDelay)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName)){if(!Macro.get(widgetName).isWidget)return this.error('cannot clobber existing macro "'.concat(widgetName,'"'));Macro.delete(widgetName)}try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};State.temporary.hasOwnProperty("args")&&(shadowStore._args=State.temporary.args),State.temporary.args=_toConsumableArray(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,this.addShadow("_args"),isNonVoid&&(State.temporary.hasOwnProperty("contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),State.variables.hasOwnProperty("args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{shadowStore.hasOwnProperty("_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(shadowStore.hasOwnProperty("_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),shadowStore.hasOwnProperty("$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}})}();var Dialog=function(){var _$overlay=null,_$dialog=null,_$dialogTitle=null,_$dialogBody=null,_lastActive=null,_scrollbarWidth=0,_dialogObserver=null;function dialogClose(ev){return _$dialogBody.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),_dialogObserver?(_dialogObserver.disconnect(),_dialogObserver=null):_$dialogBody.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),_$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),_$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),_$dialogTitle.empty(),_$dialogBody.empty().removeClass(),null!==_lastActive&&(jQuery(_lastActive).focus(),_lastActive=null),ev&&ev.data&&"function"==typeof ev.data.closeFn&&ev.data.closeFn(ev),_$dialogBody.trigger(":dialogclose"),_$dialogBody.trigger(":dialogclosed"),Dialog}function dialogIsOpen(classNames){return _$dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return _$dialogBody.hasClass(cn)})))}function dialogOpen(options,closeFn){_$dialogBody.trigger(":dialogopening");var top=jQuery.extend({top:50},options).top;return dialogIsOpen()||(_lastActive=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),_$overlay.addClass("open"),null!==_$dialogBody[0].querySelector("img")&&_$dialogBody.imagesLoaded().always((function(){return _resizeHandler({data:{top:top}})})),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),_$dialog.css(_calcPosition(top)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),Has.mutationObserver?(_dialogObserver=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){_resizeHandler({data:{top:top}});break}}))).observe(_$dialogBody[0],{childList:!0,subtree:!0}):_$dialogBody.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),jQuery(document).one("click.dialog-close",".ui-close",{closeFn:closeFn},(function(ev){dialogClose(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||jQuery(this).trigger("click")})),_$dialogBody.trigger(":dialogopen"),_$dialogBody.trigger(":dialogopened"),Dialog}function _calcPosition(topPos){var top=null!=topPos?topPos:50,$parent=jQuery(window),dialogPos={left:"",right:"",top:"",bottom:""};_$dialog.css(dialogPos);var horzSpace=$parent.width()-_$dialog.outerWidth(!0)-1,vertSpace=$parent.height()-_$dialog.outerHeight(!0)-1;return horzSpace<=32+_scrollbarWidth&&(vertSpace-=_scrollbarWidth),vertSpace<=32+_scrollbarWidth&&(horzSpace-=_scrollbarWidth),dialogPos.left=dialogPos.right=horzSpace<=32?16:horzSpace/2>>0,dialogPos.top=vertSpace<=32?dialogPos.bottom=16:vertSpace/2>top?top:dialogPos.bottom=vertSpace/2>>0,Object.keys(dialogPos).forEach((function(key){""!==dialogPos[key]&&(dialogPos[key]+="px")})),dialogPos}function _resizeHandler(ev){var top=ev&&ev.data&&void 0!==ev.data.top?ev.data.top:50;"block"===_$dialog.css("display")&&(_$dialog.css({display:"none"}),_$dialog.css(jQuery.extend({display:""},_calcPosition(top))))}return Object.freeze(Object.defineProperties({},{append:{value:function(){var _$dialogBody2;return(_$dialogBody2=_$dialogBody).append.apply(_$dialogBody2,arguments),Dialog}},body:{value:function(){return _$dialogBody.get(0)}},close:{value:dialogClose},init:{value:function(){if(!document.getElementById("ui-dialog")){_scrollbarWidth=function(){var scrollbarWidth;try{var inner=document.createElement("p"),outer=document.createElement("div");inner.style.width="100%",inner.style.height="200px",outer.style.position="absolute",outer.style.left="0px",outer.style.top="0px",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),scrollbarWidth=w1-w2}catch(ex){}return scrollbarWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("close"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');_$overlay=jQuery($elems.find("#ui-overlay").get(0)),_$dialog=jQuery($elems.find("#ui-dialog").get(0)),_$dialogTitle=jQuery($elems.find("#ui-dialog-title").get(0)),_$dialogBody=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:dialogIsOpen},open:{value:dialogOpen},resize:{value:function(data){return _resizeHandler("object"===_typeof(data)?{data:data}:undefined)}},setup:{value:function(title,classNames){return _$dialogBody.empty().removeClass(),null!=classNames&&_$dialogBody.addClass(classNames),_$dialogTitle.empty().append((null!=title?String(title):"")||" "),_$dialogBody.get(0)}},wiki:{value:function(){var _$dialogBody3;return(_$dialogBody3=_$dialogBody).wiki.apply(_$dialogBody3,arguments),Dialog}},addClickHandler:{value:function(targets,options,startFn,doneFn,closeFn){return jQuery(targets).ariaClick((function(ev){ev.preventDefault(),"function"==typeof startFn&&startFn(ev),dialogOpen(options,closeFn),"function"==typeof doneFn&&doneFn(ev)}))}}}))}(),Engine=function(){var States=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),_initDebugViews=[],_state=States.Idle,_lastPlay=null,_outlinePatch=null,_updating=null;function engineGo(offset){var succeded=State.go(offset);return succeded&&engineShow(),succeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({type:":passageinit",passage:passage}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.title),document.body.className&&(document.body.className=""),_lastPlay=Util.now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.domId,"data-passage":passage.title,"data-tags":dataTags}).addClass("passage ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({type:":passagestart",content:passageEl,passage:passage}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:passageEl,passage:passage}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?_toConsumableArray(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(40,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).addClass("passage-in").appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),40),Story.has("StoryDisplayTitle")?null===_updating&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&passage.title!==Config.passages.start&&(document.title="".concat(passage.title," | ").concat(Story.title)),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({type:":passagedisplay",content:passageEl,passage:passage}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),null!==_updating?_updating.forEach((function(pair){jQuery(pair.element).empty(),new Wikifier(pair.element,Story.get(pair.passage).processText().trim())})):Config.ui.updateStoryElements&&UIBar.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));switch(jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":passage.tags.some((function(tag){return Config.saves.autosave.includes(tag)}))&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:passageEl,passage:passage}),_state=States.Idle,_lastPlay=Util.now(),passageEl}function _hideOutlines(){_outlinePatch.set("*:focus{outline:none;}")}return Object.freeze(Object.defineProperties({},{States:{value:States},minDomActionDelay:{value:40},init:{value:function(){var _lastOutlineEvent;jQuery("#init-no-js,#init-lacking").remove(),function(){var $elems=jQuery(document.createDocumentFragment()),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$elems.append(markup);var $passages=$elems.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end(),$elems.find("[data-init-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(el).empty().wiki(Story.get(passage).processText().trim())}));var updating=[];$elems.find("[data-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&updating.push({passage:passage,element:el})})),updating.length>0&&(_updating=updating),Config.ui.updateStoryElements=!1}else $elems.append('<div id="story" role="main"><div id="passages" aria-live="polite"></div></div>');$elems.insertBefore("body>script#script-sugarcube")}(),_outlinePatch=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),_hideOutlines(),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",(function(ev){ev.type!==_lastOutlineEvent&&(_lastOutlineEvent=ev.type,"keydown"===ev.type?_outlinePatch.clear():_hideOutlines())}))}},start:{value:function(){if(Story.getAllInit().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.title," [init-tagged]"),"".concat(passage.title," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.title," [init-tagged]"),"object"===_typeof(ex)?ex.message:ex)}})),Story.has("StoryInit"))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit","object"===_typeof(ex)?ex.message:ex)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(jQuery(document.documentElement).focus(),State.restore())engineShow();else{var loadStart=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(loadStart=!Save.autosave.load())}loadStart&&enginePlay(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(idx){var succeded=State.goTo(idx);return succeded&&engineShow(),succeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}}}))}(),Passage=(_tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function Passage(title,el){var _this22=this;_classCallCheck(this,Passage),Object.defineProperties(this,{title:{value:Util.unescape(title)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-".concat(Util.slugify(this.title))},classes:{value:Object.freeze(0===this.tags.length?[]:_this22.tags.filter((function(tag){return!_tagsToSkip.test(tag)})).map((function(tag){return Util.slugify(tag)})))}})}return _createClass(Passage,[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=Util.escapeMarkup(this.title),mesg="".concat(L10n.get("errorTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return this.element.textContent.replace(/\r/g,"")}},{key:"description",value:function(){var descriptions=Config.passages.descriptions;switch(_typeof(descriptions)){case"boolean":if(descriptions)return this.title;break;case"object":if(descriptions.hasOwnProperty(this.title))return descriptions[this.title];break;case"function":var result=descriptions.call(this);if(result)return result}return null===this._excerpt&&(this._excerpt=Passage.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),this._excerpt=Passage.getExcerptFromNode(frag),frag}}],[{key:"getExcerptFromNode",value:function(node,count){if(!node.hasChildNodes())return"";var excerpt=node.textContent.trim();if(""!==excerpt){var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})"));excerpt=excerpt.replace(/\s+/g," ").match(excerptRe)}return excerpt?"".concat(excerpt[1],"…"):"…"}},{key:"getExcerptFromText",value:function(text,count){if(""===text)return"";var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})")),excerpt=text.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(excerptRe);return excerpt?"".concat(excerpt[1],"…"):"…"}}]),Passage}()),_tagsToSkip,Save=function(){var Type=Util.toEnum({Autosave:"autosave",Disk:"disk",Serialize:"serialize",Slot:"slot"}),_slotsUBound=-1,_onLoadHandlers=new Set,_onSaveHandlers=new Set;function savesObjGet(){var saves=storage.get("saves");return null===saves?{autosave:null,slots:_appendSlots([],Config.saves.slots)}:saves}function savesObjClear(){return storage.delete("saves"),!0}function autosaveOk(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function slotsOk(){return"cookie"!==storage.name&&-1!==_slotsUBound}function slotsCount(){if(!slotsOk())return 0;for(var saves=savesObjGet(),count=0,i=0,iend=saves.slots.length;i<iend;++i)null!==saves.slots[i]&&++count;return count}function _appendSlots(array,num){for(var i=0;i<num;++i)array.push(null);return array}function _savesObjIsEmpty(saves){for(var slots=saves.slots,isSlotsEmpty=!0,i=0,iend=slots.length;i<iend;++i)if(null!==slots[i]){isSlotsEmpty=!1;break}return null===saves.autosave&&isSlotsEmpty}function _savesObjSave(saves){return _savesObjIsEmpty(saves)?(storage.delete("saves"),!0):storage.set("saves",saves)}function _savesObjUpdate(saveObj){if(null==saveObj||"object"!==_typeof(saveObj))return!1;var updated=!1;return saveObj.hasOwnProperty("state")&&saveObj.state.hasOwnProperty("delta")&&saveObj.state.hasOwnProperty("index")||(saveObj.hasOwnProperty("data")?(delete saveObj.mode,saveObj.state={delta:State.deltaEncode(saveObj.data)},delete saveObj.data):saveObj.state.hasOwnProperty("delta")?saveObj.state.hasOwnProperty("index")||delete saveObj.state.mode:(delete saveObj.state.mode,saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history),saveObj.state.index=saveObj.state.delta.length-1,updated=!0),saveObj.state.hasOwnProperty("rseed")&&(saveObj.state.seed=saveObj.state.rseed,delete saveObj.state.rseed,saveObj.state.delta.forEach((function(_,i,delta){delta[i].hasOwnProperty("rcount")&&(delta[i].pull=delta[i].rcount,delete delta[i].rcount)})),updated=!0),(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired||saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired&&delete saveObj.state.expired,(saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.expired=[],saveObj.state.hasOwnProperty("unique")&&(saveObj.state.expired.push(saveObj.state.unique),delete saveObj.state.unique),saveObj.state.hasOwnProperty("last")&&(saveObj.state.expired.push(saveObj.state.last),delete saveObj.state.last)),updated=!0),updated}function _marshal(supplemental,details){if(null!=supplemental&&"object"!==_typeof(supplemental))throw new Error("supplemental parameter must be an object");var saveObj=Object.assign({},supplemental,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(saveObj.version=Config.saves.version),_onSaveHandlers.forEach((function(fn){return fn(saveObj,details)})),saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history,saveObj}function _unmarshal(saveObj){try{if(_savesObjUpdate(saveObj),!saveObj||!saveObj.hasOwnProperty("id")||!saveObj.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(saveObj.state.history=State.deltaDecode(saveObj.state.delta),delete saveObj.state.delta,_onLoadHandlers.forEach((function(fn){return fn(saveObj)})),saveObj.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(saveObj.state),Engine.show()}catch(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("aborting"),".")),!1}return!0}return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return savesObjClear(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var saves=savesObjGet(),updated=!1;Array.isArray(saves)&&(saves={autosave:null,slots:saves},updated=!0),Config.saves.slots!==saves.slots.length&&(Config.saves.slots<saves.slots.length?(saves.slots.reverse(),saves.slots=saves.slots.filter((function(val){return!(null===val&&this.count>0)||(--this.count,!1)}),{count:saves.slots.length-Config.saves.slots}),saves.slots.reverse()):Config.saves.slots>saves.slots.length&&_appendSlots(saves.slots,Config.saves.slots-saves.slots.length),updated=!0),_savesObjUpdate(saves.autosave)&&(updated=!0);for(var i=0;i<saves.slots.length;++i)_savesObjUpdate(saves.slots[i])&&(updated=!0);return _savesObjIsEmpty(saves)&&(storage.delete("saves"),updated=!1),updated&&_savesObjSave(saves),_slotsUBound=saves.slots.length-1,!0}},get:{value:savesObjGet},clear:{value:savesObjClear},ok:{value:function(){return autosaveOk()||slotsOk()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:autosaveOk},has:{value:function(){return null!==savesObjGet().autosave}},get:{value:function(){return savesObjGet().autosave}},load:{value:function(){var saves=savesObjGet();return null!==saves.autosave&&_unmarshal(saves.autosave)}},save:{value:function(title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var saves=savesObjGet(),supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.autosave=_marshal(supplemental,{type:Type.Autosave}),_savesObjSave(saves)}},delete:{value:function(){var saves=savesObjGet();return saves.autosave=null,_savesObjSave(saves)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:slotsOk},length:{get:function(){return _slotsUBound+1}},isEmpty:{value:function(){return 0===slotsCount()}},count:{value:slotsCount},has:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])}},get:{value:function(slot){if(slot<0||slot>_slotsUBound)return null;var saves=savesObjGet();return slot>=saves.slots.length?null:saves.slots[slot]}},load:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])&&_unmarshal(saves.slots[slot])}},save:{value:function(slot,title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),!1;if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();if(slot>=saves.slots.length)return!1;var supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.slots[slot]=_marshal(supplemental,{type:Type.Slot}),_savesObjSave(saves)}},delete:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length)&&(saves.slots[slot]=null,_savesObjSave(saves))}}}))},export:{value:function(filename,metadata){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var str,now,MM,DD,hh,mm,ss,baseName=null==filename?Story.domId:(str=filename,Util.sanitizeFilename(str).replace(/[_\s\u2013\u2014-]+/g,"-")),saveName="".concat(baseName,"-").concat((now=new Date,MM=now.getMonth()+1,DD=now.getDate(),hh=now.getHours(),mm=now.getMinutes(),ss=now.getSeconds(),MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(now.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)),".save"),supplemental=null==metadata?{}:{metadata:metadata},saveObj=LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Disk})));saveAs(new Blob([saveObj],{type:"text/plain;charset=UTF-8"}),saveName)}else Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(event){var file=event.target.files[0],reader=new FileReader;jQuery(reader).one("loadend",(function(){if(reader.error){var ex=reader.error;UI.alert("".concat(L10n.get("errorSaveDiskLoadFailed").toUpperFirst()," (").concat(ex.name,": ").concat(ex.message,").</p><p>").concat(L10n.get("aborting"),"."))}else{var saveObj;try{saveObj=JSON.parse(/\.json$/i.test(file.name)||/^\{/.test(reader.result)?reader.result:LZString.decompressFromBase64(reader.result))}catch(ex){}_unmarshal(saveObj)}})),reader.readAsText(file)}},serialize:{value:function(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),null;var supplemental=null==metadata?{}:{metadata:metadata};return LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Serialize})))}},deserialize:{value:function(base64Str){var saveObj;try{saveObj=JSON.parse(LZString.decompressFromBase64(base64Str))}catch(ex){}return _unmarshal(saveObj)?saveObj.metadata:null}},onLoad:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));_onLoadHandlers.add(handler)}},clear:{value:function(){_onLoadHandlers.clear()}},delete:{value:function(handler){return _onLoadHandlers.delete(handler)}},size:{get:function(){return _onLoadHandlers.size}}}))},onSave:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));_onSaveHandlers.add(handler)}},clear:{value:function(){_onSaveHandlers.clear()}},delete:{value:function(handler){return _onSaveHandlers.delete(handler)}},size:{get:function(){return _onSaveHandlers.size}}}))}}))}(),Setting=function(){var Types=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),_definitions=[];function settingsCreate(){return Object.create(null)}function settingsSave(){var savedSettings=settingsCreate();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function settingsLoad(){var defaultSettings=settingsCreate(),loadedSettings=storage.get("settings")||settingsCreate();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),window.SugarCube.settings=settings=Object.assign(defaultSettings,loadedSettings)}function settingsClear(){return window.SugarCube.settings=settings=settingsCreate(),storage.delete("settings"),!0}function definitionsAdd(type,name,def){if(arguments.length<3){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),arguments.length<3&&errors.push("definition"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(definitionsHas(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name,label:"string"==typeof def.label?def.label.trim():""};if("string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.Toggle:definition.default=!!def.default;break;case Types.List:if(!def.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!def.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!def.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!def.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var stepValidate=function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min},fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(stepValidate(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function definitionsHas(name){return _definitions.some((function(definition){return definition.name===name}))}function definitionsGet(name){return _definitions.find((function(definition){return definition.name===name}))}return Object.freeze(Object.defineProperties({},{Types:{value:Types},init:{value:function(){if(storage.has("options")){var old=storage.get("options");null!==old&&(window.SugarCube.settings=settings=Object.assign(settingsCreate(),old)),settingsSave(),storage.delete("options")}settingsLoad(),_definitions.forEach((function(def){if(def.hasOwnProperty("onInit")){var thisArg={name:def.name,value:settings[def.name],default:def.default};def.hasOwnProperty("list")&&(thisArg.list=def.list),def.onInit.call(thisArg)}}))}},create:{value:settingsCreate},save:{value:settingsSave},load:{value:settingsLoad},clear:{value:settingsClear},reset:{value:function(name){if(0===arguments.length)settingsClear(),settingsLoad();else{if(null==name||!definitionsHas(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=definitionsGet(name);def.type!==Types.Header&&(settings[name]=def.default)}return settingsSave()}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},add:{value:definitionsAdd},addHeader:{value:function(name,desc){definitionsAdd(Types.Header,name,{desc:desc})}},addToggle:{value:function(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];definitionsAdd.apply(void 0,[Types.Toggle].concat(args))}},addList:{value:function(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];definitionsAdd.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];definitionsAdd.apply(void 0,[Types.Range].concat(args))}},isEmpty:{value:function(){return 0===_definitions.length}},has:{value:definitionsHas},get:{value:definitionsGet},delete:{value:function definitionsDelete(name){definitionsHas(name)&&delete settings[name];for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1),definitionsDelete(name);break}}}}))}(),Story=function(){var _passages={},_inits=[],_scripts=[],_styles=[],_widgets=[],_title="",_ifId="",_domId="";function _storySetTitle(rawTitle){if(null==rawTitle)throw new Error("story title must not be null or undefined");var title=Util.unescape(String(rawTitle)).trim();if(""===title)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=_title=title,""===(_domId=Util.slugify(_title)))if(""!==_ifId)_domId=_ifId;else for(var i=0,len=_title.length;i<len;++i){var _Util$charAndPosAt2=Util.charAndPosAt(_title,i),char=_Util$charAndPosAt2.char,start=_Util$charAndPosAt2.start,end=_Util$charAndPosAt2.end;_domId+=char.codePointAt(0).toString(16),i+=end-start}}return Object.freeze(Object.defineProperties({},{load:{value:function(){var validationCodeTags=["init","widget"],validationNoCodeTagPassages=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];function validateStartingPassage(passage){if(passage.tags.includesAny(validationCodeTags))throw new Error('starting passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(passage.tags.filter((function(tag){return validationCodeTags.includes(tag)})).sort().join('", "'),'"'))}function validateSpecialPassages(passage){if(validationNoCodeTagPassages.includes(passage.title)){for(var _len19=arguments.length,tags=new Array(_len19>1?_len19-1:0),_key19=1;_key19<_len19;_key19++)tags[_key19-1]=arguments[_key19];throw new Error('special passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(tags.sort().join('", "'),'"'))}var codeTags=[].concat(validationCodeTags),foundTags=[];if(passage.tags.forEach((function(tag){codeTags.includes(tag)&&foundTags.push.apply(foundTags,_toConsumableArray(codeTags.delete(tag)))})),foundTags.length>1)throw new Error('passage "'.concat(passage.title,'" contains multiple special tags; invalid: "').concat(foundTags.sort().join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.title,validateStartingPassage(passage),_passages[passage.title]=passage):passage.tags.includes("init")?(validateSpecialPassages(passage,"init"),_inits.push(passage)):passage.tags.includes("widget")?(validateSpecialPassages(passage,"widget"),_widgets.push(passage)):_passages[passage.title]=passage})),_ifId=$storydata.attr("ifid"),_storySetTitle("Dawn of Corruption"),Config.saves.id=Story.domId}},init:{value:function(){var storyStyle;storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(_styles.map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var i=0;i<_scripts.length;++i)try{Scripting.evalJavaScript(_scripts[i].text)}catch(ex){console.error(ex),Alert.error(_scripts[i].title,"object"===_typeof(ex)?ex.message:ex)}for(var _i8=0;_i8<_widgets.length;++_i8)try{Wikifier.wikifyEval(_widgets[_i8].processText())}catch(ex){console.error(ex),Alert.error(_widgets[_i8].title,"object"===_typeof(ex)?ex.message:ex)}}},title:{get:function(){return _title}},domId:{get:function(){return _domId}},ifId:{get:function(){return _ifId}},add:{value:function(passage){if(!(passage instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var title=passage.title;return!_passages.hasOwnProperty(title)&&(_passages[title]=passage,!0)}},has:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":return _passages.hasOwnProperty(String(title));case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has title parameter cannot be ".concat(type))}},get:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":var id=String(title);return _passages.hasOwnProperty(id)?_passages[id]:new Passage(id||"(unknown)");case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get title parameter cannot be ".concat(type))}},getAllInit:{value:function(){return Object.freeze(Array.from(_inits))}},getAllRegular:{value:function(){return Object.freeze(Object.assign({},_passages))}},getAllScript:{value:function(){return Object.freeze(Array.from(_scripts))}},getAllStylesheet:{value:function(){return Object.freeze(Array.from(_styles))}},getAllWidget:{value:function(){return Object.freeze(Array.from(_widgets))}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return Util.sameValueZero(m,value)}))&&results.push(passage):Util.sameValueZero(passage[key],value)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof predicate)throw new TypeError("Story.lookupWith predicate parameter must be a function");var results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];predicate(passage)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}}}))}(),UI=function(){function uiAssembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug,cleanState=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim());var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.cleanupWikifierOutput=cleanState,Config.debug=debugState}return list}function uiOpenAlert(message){jQuery(Dialog.setup(L10n.get("alertTitle"),"alert")).append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertOk","ok"]),"</button></li>")+"</ul>");for(var _len20=arguments.length,args=new Array(_len20>1?_len20-1:0),_key20=1;_key20<_len20;_key20++)args[_key20-1]=arguments[_key20];Dialog.open.apply(Dialog,args)}function uiBuildAutoload(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>".concat(L10n.get("autoloadPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadOk","ok"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadCancel","cancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){isAutoloadOk&&Save.autosave.load()||Engine.play(Config.passages.start)}))})),!0}function uiBuildJumpto(){var list=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(idx){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(idx)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("jumptoTurn")," ").concat(expired+i+1,": ").concat(passage.description()))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoUnavailable"),"</em></a></li>"))}function uiBuildRestart(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>".concat(L10n.get("restartPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartOk","ok"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartCancel","cancel"]),"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function uiBuildSaves(){var savesAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed();function createActionItem(bId,bClass,bText,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId)).html(bText);return bClass&&$btn.addClass(bClass),bAction?$btn.ariaClick(bAction):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var $dialogBody=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),savesOk=Save.ok(),fileOk=Has.fileAPI&&(Config.saves.tryDiskOnMobile||!Browser.isMobile.any());if(savesOk&&$dialogBody.append(function(){function createButton(bId,bClass,bText,bSlot,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId,"-").concat(bSlot)).addClass(bId).html(bText);return bClass&&$btn.addClass(bClass),bAction?"auto"===bSlot?$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelAuto"))},(function(){return bAction()})):$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelSlot")," ").concat(bSlot+1)},(function(){return bAction(bSlot)})):$btn.ariaDisabled(!0),$btn}var saves=Save.get(),$tbody=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var $tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo($tdSlot),saves.autosave?($tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),"auto",(function(){jQuery(document).one(":dialogclosed",(function(){return Save.autosave.load()}))}))),jQuery(document.createElement("div")).text(saves.autosave.title).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.autosave.date?"".concat(new Date(saves.autosave.date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo($tdDesc),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto",(function(){Save.autosave.delete(),uiBuildSaves()})))):($tdLoad.append(createButton("load",null,L10n.get("savesLabelLoad"),"auto")),$tdDesc.addClass("empty").text("•  •  •"),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}for(var i=0,iend=saves.slots.length;i<iend;++i){var _$tdSlot=jQuery(document.createElement("td")),_$tdLoad=jQuery(document.createElement("td")),_$tdDesc=jQuery(document.createElement("td")),_$tdDele=jQuery(document.createElement("td"));_$tdSlot.append(document.createTextNode(i+1)),saves.slots[i]?(_$tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),i,(function(slot){jQuery(document).one(":dialogclosed",(function(){return Save.slots.load(slot)}))}))),jQuery(document.createElement("div")).text(saves.slots[i].title).appendTo(_$tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.slots[i].date?"".concat(new Date(saves.slots[i].date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo(_$tdDesc),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i,(function(slot){Save.slots.delete(slot),uiBuildSaves()})))):(_$tdLoad.append(createButton("save","ui-close",L10n.get("savesLabelSave"),i,savesAllowed?Save.slots.save:null)),_$tdDesc.addClass("empty").text("•  •  •"),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i))),jQuery(document.createElement("tr")).append(_$tdSlot).append(_$tdLoad).append(_$tdDesc).append(_$tdDele).appendTo($tbody)}return jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}()),savesOk||fileOk){var $btnBar=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody);return fileOk&&($btnBar.append(createActionItem("export","ui-close",L10n.get("savesLabelExport"),savesAllowed?function(){return Save.export()}:null)),$btnBar.append(createActionItem("import",null,L10n.get("savesLabelImport"),(function(){return $dialogBody.find("#saves-import-file").trigger("click")}))),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",(function(ev){jQuery(document).one(":dialogclosed",(function(){return Save.import(ev)})),Dialog.close()})).appendTo($dialogBody)),savesOk&&$btnBar.append(createActionItem("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),uiBuildSaves()}:null)),!0}return uiOpenAlert(L10n.get("savesIncapable")),!1}function uiBuildSettings(){var $dialogBody=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach((function(control){if(control.type===Setting.Types.Header){var _name=control.name,_id=Util.slugify(_name),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id)).wiki(_name),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id)).wiki(control.desc).appendTo($header))}var $control,name=control.name,id=Util.slugify(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wiki(control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wiki(control.label),null==settings[name]&&(settings[name]=control.default),control.type){case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),settings[name]?$control.addClass("enabled").text(L10n.get("settingsOn")):$control.text(L10n.get("settingsOff")),$control.ariaClick((function(){settings[name]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[name]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[name]=!0),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default})}));break;case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(settings[name])).attr("tabindex",0).on("change",(function(){settings[name]=control.list[Number(this.value)],Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,list:control.list})}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:settings[name],tabindex:0}).on("change input",(function(){settings[name]=Number(this.value),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,min:control.min,max:control.max,step:control.step})})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$control.trigger("change"))}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsOk","ok"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function uiBuildShare(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(uiAssembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:uiAssembleLinkList},alert:{value:uiOpenAlert},jumpto:{value:function(){uiBuildJumpto(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){uiBuildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){uiBuildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){uiBuildSettings(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){uiBuildShare(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:uiBuildAutoload},buildJumpto:{value:uiBuildJumpto},buildRestart:{value:uiBuildRestart},buildSaves:{value:uiBuildSaves},buildSettings:{value:uiBuildSettings},buildShare:{value:uiBuildShare},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:uiBuildAutoload},buildDialogJumpto:{value:uiBuildJumpto},buildDialogRestart:{value:uiBuildRestart},buildDialogSaves:{value:uiBuildSaves},buildDialogSettings:{value:uiBuildSettings},buildDialogShare:{value:uiBuildShare},buildLinkListFromPassage:{value:uiAssembleLinkList}}))}(),UIBar=function(){var _$uiBar=null;function uiBarStow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay));return this}function uiBarUpdate(){if(Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),_$uiBar){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var menuStory=document.getElementById("menu-story");if(null!==menuStory&&(jQuery(menuStory).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",menuStory)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}}return Object.freeze(Object.defineProperties({},{destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarToggle"),backwardLabel=L10n.get("uiBarBackward"),jumptoLabel=L10n.get("uiBarJumpto"),forwardLabel=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),this}},start:{value:function(){_$uiBar&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&uiBarStow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},(function(){return Engine.backward()})),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||uiBarUpdate(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:uiBarStow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay)),this}},update:{value:uiBarUpdate},setStoryElements:{value:uiBarUpdate}}))}(),DebugBar=function(){var _variableRe=new RegExp("^".concat(Patterns.variable,"$")),_numericKeyRe=/^\d+$/,_watchList=[],_$debugBar=null,_$watchBody=null,_$watchList=null,_$turnSelect=null,_stowed=!0;function debugBarStow(){_$debugBar.css("right","-".concat(_$debugBar.outerWidth(),"px")),_stowed=!0,_updateSession()}function debugBarUnstow(){_$debugBar.css("right",0),_stowed=!1,_updateSession()}function debugBarToggle(){_stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){_variableRe.test(varName)&&(_watchList.pushUnique(varName),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return _watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return _watchList.pushUnique("_".concat(name))})),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchClear(){for(var i=_watchList.length-1;i>=0;--i)_watchList.pop();_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDelete(varName){_watchList.delete(varName),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDisable(){_debugBarWatchDisableNoUpdate(),_updateSession()}function debugBarWatchEnable(){_debugBarWatchEnableNoUpdate(),_updateSession()}function debugBarWatchIsEnabled(){return!_$watchBody.attr("hidden")}function debugBarWatchToggle(){_$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function _debugBarWatchDisableNoUpdate(){_$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function _debugBarWatchEnableNoUpdate(){_$watchBody.removeAttr("aria-hidden hidden")}function _clearSession(){session.delete("debugState")}function _hasSession(){return session.has("debugState")}function _updateSession(){session.set("debugState",{stowed:_stowed,watchList:_watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function _updateWatchBody(){if(0!==_watchList.length){for(var delLabel=L10n.get("debugBarDeleteWatch"),$table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),_loop4=function(i,len){var varName=_watchList[i],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary,$row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));$delBtn.addClass("watch-delete").attr("data-name",varName).ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(_toWatchString(store[varKey])),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row.appendTo($tbody)},i=0,len=_watchList.length;i<len;++i)_loop4(i);$table.append($tbody),_$watchBody.empty().append($table)}else _$watchBody.empty().append("<div>".concat(L10n.get("debugBarNoWatches"),"</div>"))}function _updateWatchList(){var svn=Object.keys(State.variables),tvn=Object.keys(State.temporary);if(0!==svn.length||0!==tvn.length){var names=[].concat(_toConsumableArray(svn.map((function(name){return"$".concat(name)}))),_toConsumableArray(tvn.map((function(name){return"_".concat(name)})))).sort(),options=document.createDocumentFragment();names.delete(_watchList);for(var i=0,len=names.length;i<len;++i)jQuery(document.createElement("option")).val(names[i]).appendTo(options);_$watchList.empty().append(options)}else _$watchList.empty()}function _updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(Util.escape(State.history[i].title))).appendTo(options);_$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function _toWatchString(value){if(null===value)return"null";switch(_typeof(value)){case"number":if(Number.isNaN(value))return"NaN";if(!Number.isFinite(value))return"Infinity";case"boolean":case"symbol":case"undefined":return String(value);case"string":return JSON.stringify(value);case"function":return"Function"}var objType=Util.toStringTag(value);if("Date"===objType)return"Date {".concat(value.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(value.toString());var result=[];if(value instanceof Array||value instanceof Set){for(var list=value instanceof Array?value:Array.from(value),i=0,len=list.length;i<len;++i)result.push(list.hasOwnProperty(i)?_toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!_numericKeyRe.test(key)})).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return value instanceof Map?(value.forEach((function(val,key){return result.push("".concat(_toWatchString(key)," → ").concat(_toWatchString(val)))})),"".concat(objType,"(").concat(value.size,") {").concat(result.join(", "),"}")):(Object.keys(value).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(value[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.freeze(Object.defineProperties({},{init:{value:function(){var barToggleLabel=L10n.get("debugBarToggle"),watchAddLabel=L10n.get("debugBarAddWatch"),watchAllLabel=L10n.get("debugBarWatchAll"),watchNoneLabel=L10n.get("debugBarWatchNone"),watchToggleLabel=L10n.get("debugBarWatchToggle"),viewsToggleLabel=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>".concat(L10n.get("debugBarNoWatches"),"</div>>")+"</div><div>"+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarLabelWatch"),"</button>")+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarLabelAdd"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-none" tabindex="0" title="'.concat(watchNoneLabel,'" aria-label="').concat(watchNoneLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarLabelViews"),"</button>")+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("debugBarLabelTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div>'+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),_$debugBar=jQuery("#debug-bar"),_$watchBody=jQuery(_$debugBar.find("#debug-bar-watch").get(0)),_$watchList=jQuery(_$debugBar.find("#debug-bar-watch-list").get(0)),_$turnSelect=jQuery(_$debugBar.find("#debug-bar-turn-select").get(0));var $barToggle=jQuery(_$debugBar.find("#debug-bar-toggle").get(0)),$watchToggle=jQuery(_$debugBar.find("#debug-bar-watch-toggle").get(0)),$watchInput=jQuery(_$debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery(_$debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery(_$debugBar.find("#debug-bar-watch-all").get(0)),$watchNone=jQuery(_$debugBar.find("#debug-bar-watch-none").get(0)),$viewsToggle=jQuery(_$debugBar.find("#debug-bar-views-toggle").get(0));$barToggle.ariaClick(debugBarToggle),$watchToggle.ariaClick(debugBarWatchToggle),$watchInput.on(":addwatch",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$watchInput.trigger(":addwatch"))})),$watchAdd.ariaClick((function(){return $watchInput.trigger(":addwatch")})),$watchAll.ariaClick(debugBarWatchAddAll),$watchNone.ariaClick(debugBarWatchClear),_$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$viewsToggle.ariaClick((function(){DebugView.toggle(),_updateSession()})),jQuery(document).on(":historyupdate.debug-bar",_updateTurnSelect).on(":passageend.debug-bar",(function(){_updateWatchBody(),_updateWatchList()})).on(":enginerestart.debug-bar",_clearSession),_hasSession()||DebugView.enable()}},isStowed:{value:function(){return _stowed}},start:{value:function(){(function(){if(!_hasSession())return!1;var debugState=session.get("debugState");_stowed=debugState.stowed,_watchList.push.apply(_watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?_debugBarWatchEnableNoUpdate():_debugBarWatchDisableNoUpdate();debugState.viewsEnabled?DebugView.enable():DebugView.disable()})(),_stowed?debugBarStow():debugBarUnstow(),_updateTurnSelect(),_updateWatchBody(),_updateWatchList()}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.minDomActionDelay,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:36,patch:1,prerelease:null,build:9717,date:new Date("2021-12-22T05:37:33.467Z"),extensions:{},toString:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)},short:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.title," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")},long:function(){return"".concat(this.title," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery((function(){try{var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var $window=$(window),vprCheckId=setInterval((function(){$window.width()&&(clearInterval(vprCheckId),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.minDomActionDelay))}),Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
